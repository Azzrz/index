"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1462],{83205:function(e,t,r){r(83079);var s=r(12119);t.Z=(0,s.$)("9fd10e6a93a9327f131b754414158ac9af54eb92")},75714:function(e,t,r){r(83079);var s=r(12119);t.Z=(0,s.$)("395c874a6c04a61a2ab7c4e3f2b4c6e65cf1a342")},96247:function(e,t,r){r(83079);var s=r(12119);t.Z=(0,s.$)("8dd7ee76a901d6e1e20ad71ebe5e2db1c9a0046a")},32841:function(e,t,r){r(83079);var s=r(12119);t.Z=(0,s.$)("e71f9071ee8234801194bd07516b87d487d708bf")},89182:function(e,t,r){r.d(t,{default:function(){return o},W:function(){return a}});var s=r(57437),l=r(2265);r(83079);var n=(0,r(12119).$)("806086efa9cf43973fd2875a9463d4318e204612");let i=(0,l.createContext)({generations:[],loading:!1,error:null,loadMore:()=>{},hasNext:!1,favoriteFeaturedVideo:async()=>{},addFolderNameToFeaturedVideo:async()=>{},removeFolderNameFromFeaturedVideo:async()=>{}});function a(){return(0,l.useContext)(i)}var o=function(e){let{children:t,initialGenerations:r,hasNext:a}=e,[o,d]=(0,l.useState)(r),[c,u]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[x,m]=(0,l.useState)(a),f=async()=>{u(!0),p(null);try{let e=await n({after:o[o.length-1].id,perPage:12});e.success?(d(t=>[...t,...e.data.results]),m(e.data.hasNext)):p(e.error||"Something went wrong.")}catch(e){p("Can't load generations, please try again.")}u(!1)},v=async e=>{let{videoId:t,favorite:r}=e;d(e=>e.map(e=>e.id!==t?e:{...e,favorited:r}))},g=async e=>{let{videoId:t,folderName:r}=e;d(e=>e.map(e=>{var s;return e.id!==t?e:{...e,folders:null===(s=e.folders)||void 0===s?void 0:s.filter(e=>e!==r)}}))},j=async e=>{let{videoId:t,folderName:r}=e;d(e=>e.map(e=>e.id!==t?e:{...e,folders:[...e.folders||[],r]}))};return(0,s.jsx)(i.Provider,{value:{generations:o,loading:c,error:h,loadMore:f,hasNext:x,favoriteFeaturedVideo:v,addFolderNameToFeaturedVideo:j,removeFolderNameFromFeaturedVideo:g},children:t})}},42759:function(e,t,r){r.d(t,{default:function(){return u},J:function(){return h}});var s=r(57437),l=r(2265);r(83079);var n=(0,r(12119).$)("ef29f45b012d9c140322c8e7b6cc61540b2913d7"),i=r(47525),a=r(71332),o=r(78437),d=r(31462);let c=(0,l.createContext)({removeFromFolderGenerations:()=>{},addToFolderGenerations:()=>{},folderGenerations:[],hasNext:!1,loading:!1,loadMore:()=>{},error:null,favoriteVideoInFolder:()=>{}});function u(e){let{children:t,initialGenerations:r,hasNext:u,...h}=e,[p,x]=(0,l.useState)(u),[m,f]=(0,l.useState)(r),[v,g]=(0,l.useState)(!1),[j,w]=(0,l.useState)(null),{currentFolderName:C}=(0,i.j)(),{modalVideo:b,setModalVideo:y}=(0,d.t)(),k=(0,l.useCallback)((e,t)=>{f(r=>r.map(r=>{var s;return r.id===e?{...r,folders:t?[...r.folders||[],a.Bu]:null===(s=r.folders)||void 0===s?void 0:s.filter(e=>e!==a.Bu),favorited:t}:r}))},[]);(0,l.useEffect)(()=>{f(r)},[r]);let N=(0,l.useCallback)(async()=>{g(!0),w(null);let e=await n({...h,after:m[m.length-1].id});e.success?(f(t=>[...t,...e.data.results]),x(e.data.hasNext)):w(e.error||"Something went wrong."),g(!1)},[m]),Z=(0,l.useCallback)(async(e,t)=>{t===C?f(m.filter(t=>t.id!==e)):f(r=>r.map(r=>{var s;return r.id===e?{...r,folders:null===(s=r.folders)||void 0===s?void 0:s.filter(e=>t!==e)}:r}))},[m,C]),L=(0,l.useCallback)(async(e,t)=>{t!==C&&f(r=>r.map(r=>r.id===e?{...r,folders:[...r.folders||[],t]}:r))},[m,C]);return(0,s.jsxs)(c.Provider,{value:{removeFromFolderGenerations:Z,addToFolderGenerations:L,folderGenerations:m,hasNext:p,loading:v,loadMore:N,error:j,favoriteVideoInFolder:k},children:[t,(0,s.jsx)(o.Z,{isOpen:!!b,close:()=>y(null),videoId:null==b?void 0:b.videoId,generationId:null==b?void 0:b.generationId,video:null==b?void 0:b.video,showInFolder:!0})]})}let h=()=>(0,l.useContext)(c)},47525:function(e,t,r){r.d(t,{default:function(){return j},j:function(){return w}});var s=r(57437),l=r(2265),n=r(99376);r(83079);var i=r(12119),a=(0,i.$)("adf46c534ded157ba58132bafee719d875e9986d"),o=(0,i.$)("3c3da36d4d696e58e0cdcbfac9002aa878e374aa"),d=(0,i.$)("3e67ba23033b6c3079d8a06cd74f1645639dc92e"),c=r(51123),u=r(9763),h=r(53014),p=r(15222);let x=e=>{let{isVisible:t,onClose:r,onCreate:n,error:i}=e,[a,o]=(0,l.useState)(""),[d,x]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{t||o("")},[t]),t)?(0,s.jsx)("div",{className:"fixed inset-0 bg-dark-modal backdrop-blur flex justify-center items-center z-[1001]",onKeyDown:async e=>{"Escape"===e.key?r():"Enter"===e.key&&(x(!0),await n(a),x(!1))},tabIndex:-1,autoFocus:!0,children:(0,s.jsxs)("div",{className:"relative bg-dark-pop-up p-6 rounded-lg shadow-lg z-[1001] w-11/12 md:w-8/12 lg:w-5/12 xl:w-3/12 flex flex-col gap-5",children:[(0,s.jsx)("button",{className:"absolute top-4 right-4 opacity-60 hover:opacity-100 transition-opacity",onClick:r,children:(0,s.jsx)(h.Z,{})}),(0,s.jsx)("h1",{className:"text-xl font-telka-extended font-[1000] text-accent-primary",children:"FOLDER NAME"}),(0,s.jsx)(u.Z,{autoFocus:!0,className:"bg-dark-elements text-[1rem] lg:text-regular",value:a,onChange:e=>{o(e.target.value)},placeholder:"Type folder name"}),a.length>40&&(0,s.jsx)("p",{className:"text-s text-danger-primary -mt-3",children:"Folder name must be less than 40 characters"}),(0,s.jsx)(c.Z,{onClick:async()=>{x(!0),await n(a),x(!1)},disabled:0===a.length||a.length>40,loading:d,children:"Create folder"}),i&&(0,s.jsxs)("p",{className:"flex gap-2.5 text-m-mobile md:tex-m p-2.5 bg-danger-primary bg-opacity-30 rounded-md",children:[(0,s.jsx)(p.Z,{}),i]})]})}):null},m=e=>{let{isVisible:t,onClose:r,onRename:n,currentFolderName:i,error:a}=e,[o,d]=(0,l.useState)(""),[x,m]=(0,l.useState)(!1);return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-dark-modal backdrop-blur flex justify-center items-center z-[1001]",onKeyDown:async e=>{"Escape"===e.key?(d(""),r()):"Enter"===e.key&&(m(!0),await n(o,d),m(!1))},tabIndex:-1,autoFocus:!0,children:(0,s.jsxs)("div",{className:"relative bg-dark-pop-up p-6 rounded-lg shadow-lg z-[1001] w-11/12 md:w-8/12 lg:w-5/12 xl:w-3/12 flex flex-col gap-5",children:[(0,s.jsx)(h.Z,{onClick:()=>{d(""),r()},className:"absolute top-4 right-4 stroke-light-secondary hover:cursor-pointer"}),(0,s.jsx)("h1",{className:"text-xl font-telka-extended font-[1000] text-accent-primary",children:"RENAME"}),(0,s.jsx)(u.Z,{autoFocus:!0,className:"bg-dark-elements text-[1rem] lg:text-regular",value:o,onChange:e=>{d(e.target.value)},placeholder:i}),o.length>40&&(0,s.jsx)("p",{className:"text-s text-danger-primary -mt-3",children:"Folder name must be less than 40 characters"}),(0,s.jsx)(c.Z,{onClick:async()=>{m(!0),await n(o,d),m(!1)},disabled:0===o.length||o.length>40,loading:x,children:"Rename folder"}),a&&(0,s.jsxs)("p",{className:"flex gap-2.5 text-m-mobile md:tex-m p-2.5 bg-danger-primary bg-opacity-30 rounded-md",children:[(0,s.jsx)(p.Z,{}),a]})]})}):null},f=e=>{let{isVisible:t,onClose:r,onDelete:n,folderName:i,error:a}=e,[o,d]=(0,l.useState)(!1);return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-dark-modal backdrop-blur flex justify-center items-center z-[1001]",onKeyDown:e=>{"Escape"===e.key&&r()},tabIndex:-1,autoFocus:!0,children:(0,s.jsxs)("div",{className:"relative bg-dark-pop-up p-6 rounded-lg shadow-lg z-[1001] w-11/12 md:w-8/12 lg:w-5/12 xl:w-3/12 flex flex-col gap-5",children:[(0,s.jsx)(h.Z,{onClick:()=>r(),className:"absolute top-4 right-4 stroke-light-secondary hover:cursor-pointer"}),(0,s.jsx)("h1",{className:"text-xl font-telka-extended font-[1000] text-accent-primary",children:"DELETE FOLDER?"}),(0,s.jsxs)("p",{children:["Are you sure you want to delete '",i,"'? The videos will remain in your library, but you won't be able to restore the folder."]}),(0,s.jsxs)("div",{className:"flex flex-row w-full gap-2",children:[(0,s.jsx)(c.Z,{className:"flex-1",onClick:r,secondary:!0,children:"Cancel"}),(0,s.jsx)(c.Z,{className:"flex-1",onClick:async()=>{d(!0),await n(),d(!1)},danger:!0,loading:o,children:"Delete"})]}),a&&(0,s.jsxs)("p",{className:"flex gap-2.5 text-m-mobile md:tex-m p-2.5 bg-danger-primary bg-opacity-30 rounded-md",children:[(0,s.jsx)(p.Z,{}),a]})]})}):null};var v=r(83205);let g=(0,l.createContext)({folders:[],createFolder:()=>{},deleteFolder:()=>{},renameFolder:()=>{},isFolderPage:!1,currentFolderName:void 0});function j(e){let{children:t,myFolders:r}=e,i=(0,n.usePathname)(),[c,u]=(0,l.useState)(r),[h,p]=(0,l.useState)(!1),[j,w]=(0,l.useState)(!1),[C,b]=(0,l.useState)(!1),y=(0,l.useRef)(null),[k,N]=(0,l.useState)(""),Z=c.find(e=>i.endsWith(encodeURIComponent(e))),L=(0,n.useRouter)(),M=async(e,t)=>{if(Z)try{let r=await d({oldFolderName:Z,newFolderName:e});if(!r.success){N(r.error);return}u(c.map(t=>t===Z?e:t)),L.push("/my-library/".concat(encodeURIComponent(e))),w(!1),t("")}catch(e){N("Something went wrong")}},S=async()=>{if(Z)try{let e=await o({folderName:Z});e.success?(u(c.filter(e=>e!==Z)),b(!1),L.push("/my-library")):N(e.error)}catch(e){N("Something went wrong")}},_=async e=>{try{let t=await a({folderName:e});if(!t.success){N(t.error);return}u([e,...c]);let r=y.current;if(y.current=null,!r){L.push("/my-library/".concat(encodeURIComponent(e))),p(!1);return}if(!(await (0,v.Z)({videoId:r,folderName:e})).success){N("An error occurred while adding the video to the folder.");return}L.push("/my-library/".concat(encodeURIComponent(e))),p(!1)}catch(e){N("Something went wrong")}},V=(0,l.useCallback)(e=>{y.current=e||null,N(""),p(!0)},[]),E=(0,l.useCallback)(()=>{N(""),b(!0)},[]),P=(0,l.useCallback)(()=>{N(""),w(!0)},[]);return(0,s.jsxs)(g.Provider,{value:{folders:c,createFolder:V,deleteFolder:E,renameFolder:P,isFolderPage:!!Z,currentFolderName:Z},children:[t,(0,s.jsx)(x,{isVisible:h,onClose:()=>{p(!1),y.current=null},onCreate:_,error:k}),(0,s.jsx)(m,{isVisible:j,onClose:()=>w(!1),onRename:M,currentFolderName:Z||"",error:k}),(0,s.jsx)(f,{isVisible:C,onClose:()=>b(!1),onDelete:S,folderName:Z||"",error:k})]})}let w=()=>(0,l.useContext)(g)},58812:function(e,t,r){r.d(t,{m:function(){return o}});var s=r(57437),l=r(2265),n=r(54887),i=r(53014),a=r(51123);let o="delete-video-modal";t.Z=e=>{let{isOpen:t,close:r,deleteVideo:d}=e,[c,u]=(0,l.useTransition)(),h=async()=>{u(async()=>{await d(),r()})};return((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]),t&&d)?n.createPortal((0,s.jsx)("div",{className:"fixed left-0 top-0 z-[9999] flex h-screen w-full items-center justify-center bg-black bg-opacity-50 p-3.75 md:p-10",onClick:r,id:o,children:(0,s.jsxs)("div",{className:"absolute left-1/2 top-1/2 flex max-h-full w-full max-w-sm -translate-x-1/2 -translate-y-1/2 flex-col rounded-[.625rem] bg-dark-pop-up p-5 transition-all",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"absolute right-2 top-2 opacity-60 transition-opacity hover:opacity-100",onClick:r,children:(0,s.jsx)(i.Z,{})}),(0,s.jsx)("h2",{className:"text-heading-modal",children:"Delete video"}),(0,s.jsxs)("p",{className:"mt-3",children:["Are you sure you want to delete this video?",(0,s.jsx)("br",{}),"You won't be able to restore it"]}),(0,s.jsxs)("div",{className:"mt-5 grid grid-cols-2 gap-3",children:[(0,s.jsx)(a.Z,{onClick:r,children:"Cancel"}),(0,s.jsx)(a.Z,{secondary:!0,onClick:h,loading:c,children:"Delete"})]})]})}),document.querySelector("#modal-root")):null}},75921:function(e,t,r){r.d(t,{default:function(){return W}});var s=r(57437),l=r(2265),n=r(84772),i=r.n(n),a=r(19103),o=r(66913),d=r(51123),c=r(73978),u=r(19615),h=r(58812),p=r(97739),x=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:(0,s.jsx)("path",{d:"M6.66667 2.5H4.16667C3.72464 2.5 3.30072 2.67559 2.98816 2.98816C2.67559 3.30072 2.5 3.72464 2.5 4.16667V6.66667M17.5 6.66667V4.16667C17.5 3.72464 17.3244 3.30072 17.0118 2.98816C16.6993 2.67559 16.2754 2.5 15.8333 2.5H13.3333M2.5 13.3333V15.8333C2.5 16.2754 2.67559 16.6993 2.98816 17.0118C3.30072 17.3244 3.72464 17.5 4.16667 17.5H6.66667M13.3333 17.5H15.8333C16.2754 17.5 16.6993 17.3244 17.0118 17.0118C17.3244 16.6993 17.5 16.2754 17.5 15.8333V13.3333",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},m=r(31462),f=function(e){let{videoId:t,generationId:r,video:l,className:n}=e,{setModalVideo:a}=(0,m.t)();return(0,s.jsx)("button",{className:i()("p-1.5 bg-dark-pop-up lg:opacity-0 opacity-60 rounded-md hover:opacity-100 full-opacity-on-touchscreen transition-opacity group-hover:opacity-60",n),onClick:()=>a({videoId:t,generationId:r,video:l}),children:(0,s.jsx)(x,{})})},v=r(93953),g=r(45652),j=r(95438),w=r(27184),C=r(42759),b=r(83205),y=r(96247),k=r(71332),N=r(47525),Z=function(e){let{favorited:t,videoId:r}=e,[n,i]=(0,l.useState)(t||!1),[a,o]=(0,l.useState)(!1),{removeFromFolderGenerations:c,favoriteVideoInFolder:u}=(0,C.J)(),{favoriteVideo:h}=(0,m.t)(),{isFolderPage:p}=(0,N.j)();return(0,l.useEffect)(()=>{i(e=>"boolean"==typeof t?t:e)},[t]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(d.Z,{className:"full-opacity-on-touchscreen relative opacity-0 transition-opacity group-hover:opacity-100",onClick:async()=>{let e=!n;try{(e?o(!0):o(!1),i(e),h)?(await h({videoId:r,favorite:e}),e||await c(r,k.Bu)):e?await (0,b.Z)({videoId:r,folderName:k.Bu}):await (0,y.Z)({videoId:r,folderName:k.Bu}),p&&u(r,e)}catch(e){i(n)}},secondary:!0,icon:(0,s.jsxs)(s.Fragment,{children:[a&&n&&(0,s.jsx)(j.y1,{src:"/videos/star.lottie",autoplay:!0,loop:!1,className:"absolute z-[99999] h-[8.05rem] w-[7.8rem]",onEvent:e=>{"complete"===e&&o(!1)}}),(0,s.jsx)(w.Z,{filled:n,className:a?"invisible":""})]}),small:!0})})},L=r(3548),M=r(99376),S=r(18920),_=r(56439),V=r(49637),E=r(93645),P=r(54364),I=r(54887),F=r(90452),U=r(81405);function R(e){let{title:t,url:r,platforms:n,className:a="",sharingUrl:o,downloadUrl:d,isOpen:c,setIsOpen:u,video:h}=e,p=(0,l.useRef)(null),{isActive:x,shouldRender:m}=function(e){let{isOpen:t,onOpen:r,onClose:s,transitionDuration:n=150}=e,[i,a]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{if(t)d(!0),null==r||r(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{a(!0)})});else{a(!1),null==s||s();let e=setTimeout(()=>{d(!1)},n);return()=>clearTimeout(e)}},[t,r,s,n]),{isActive:i,shouldRender:o}}({isOpen:c,onOpen:()=>{document.body.style.overflow="hidden"},onClose:()=>{document.body.style.overflow=""}});return((0,F.Z)(p,()=>u(!1)),m)?(0,I.createPortal)((0,s.jsx)("div",{className:i()("fixed inset-0 z-[9999] backdrop-blur-xl transition-colors duration-300",x?"bg-black/50":"bg-transparent"),children:(0,s.jsxs)("div",{ref:p,className:i()("fixed bottom-0 left-0 right-0 z-[9999] flex w-full flex-col rounded-t-[15px] bg-dark-elements px-5 py-6 shadow-dark-popup transition-transform duration-150",x?"translate-y-0":"translate-y-full",a),children:[(0,s.jsx)("p",{className:"mb-8 text-center text-heading-3-mobile !font-medium text-light-primary lg:text-heading-3",children:t}),(0,s.jsx)(W,{video:{id:h.id,status:"finished",resultUrl:h.videoUrl,videoPoster:h.videoPoster},className:"group relative mb-8 w-full overflow-hidden bg-dark-elements md:rounded-[.625rem]",videoClassName:"!w-screen !h-auto min-h-full max-h-[calc(100dvh-24rem)] rounded-[.625rem] md:!h-full md:!max-h-auto",allowFullscreen:!1,autoPlay:!0,hideFavoriteButton:!0,hideShareButton:!0,hideDownloadButton:!0}),(0,s.jsx)(U.Z,{url:r,platforms:n,className:"grid grid-cols-4 gap-1 sm:gap-6",sharingUrl:o,downloadUrl:d,variant:"circle"})]})}),document.body):null}var T=r(93770);function H(e){var t;let{video:r,pikaffect:n,sharingUrl:i}=e,[a,o]=(0,l.useState)(!1),{isMobile:c}=(0,V.h)(),u=(0,T.Z)(),h=async()=>{o(!0)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:"full-opacity-on-touchscreen opacity-0 transition-opacity group-hover:opacity-100",icon:(0,s.jsx)(E.Z,{}),small:!0,onClick:h}),c?(0,s.jsx)(R,{title:"Share Video",video:r,isOpen:a,setIsOpen:o,platforms:["copy","download","twitter","facebook","reddit","whatsapp","more"],url:(t=r.id)?n?"".concat(u,"/video/pikaffect-").concat(n.toLowerCase().split("-").join(""),"-").concat(t):"".concat(u,"/video/").concat(t):"",sharingUrl:i}):(0,s.jsx)(P.Z,{close:()=>o(!1),isOpen:a,videoId:r.id,pikaffect:n,sharingUrl:i})]})}let B=e=>"0:".concat((Math.round(e)%60).toString().padStart(2,"0"));function W(e){var t,r,n;let{video:x,className:m,videoClassName:j,allowFullscreen:w,autoPlay:C,deleteVideo:b,generation:y,downloadUrl:k,hideFavoriteButton:N,hideDownloadButton:V,enableHoverPlay:E=!0,showPlayButton:P=!1,hideShareButton:I=!1}=e,F=(0,M.usePathname)(),[U,R]=(0,l.useState)(!1),[W,A]=(0,l.useState)(!1),O=(0,l.useRef)(null),[z,G]=(0,l.useState)(1),[q,$]=(0,l.useState)(C),{currentSubscriptionPlan:K,isSuperCollaborator:Y}=(0,_.m)(),J="finished"===x.status&&(null==x?void 0:x.duration)?null==x?void 0:x.duration:null===(t=O.current)||void 0===t?void 0:t.duration;(0,l.useEffect)(()=>{if(!U||!O.current)return;let e=setInterval(()=>{var e;G(Math.ceil((null===(e=O.current)||void 0===e?void 0:e.currentTime)||1))},100);return()=>clearInterval(e)},[U]),(0,l.useEffect)(()=>{var e;let t=null==y?void 0:null===(e=y.params)||void 0===e?void 0:e.model,r="";"pending"===x.status?r="pending":"queued"===x.status&&(r=K||Y?"queued_paid_user":"queued_free_user"),r&&(0,L.Z)({eventName:S.Gm.GenerationLoadingScreenShown,properties:{type:r,model:t}})},[x.status,null==y?void 0:null===(r=y.params)||void 0===r?void 0:r.model,K,Y]);let X=["content_violation","error"].includes(x.status),Q=b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,{className:i()("full-opacity-on-touchscreen opacity-0 transition-opacity group-hover:opacity-100",{"absolute right-1 top-1 z-[1] !bg-dark-pop-up":X||"no_face_detected"===x.status}),onClick:()=>{A(!0)},secondary:!0,icon:(0,s.jsx)(p.Z,{className:"text-white"}),small:!0}),(0,s.jsx)(h.Z,{isOpen:W,close:()=>A(!1),deleteVideo:b})]}):null;return(0,s.jsx)("div",{className:i()("relative flex aspect-video shrink-0 basis-full flex-col items-center justify-center gap-5",m),onMouseEnter:E&&!C?()=>{var e;null===(e=O.current)||void 0===e||e.play()}:void 0,onMouseLeave:E&&!C?()=>{var e;null===(e=O.current)||void 0===e||e.pause()}:void 0,children:"finished"===x.status?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"absolute right-1 top-1 z-[1] flex flex-col gap-1",children:[I?null:(0,s.jsx)(H,{video:{id:x.id,videoUrl:x.resultUrl,videoPoster:x.videoPoster||""},pikaffect:null==y?void 0:null===(n=y.params)||void 0===n?void 0:n.pikaffect,sharingUrl:x.sharingUrl||x.resultUrl}),V?null:(0,s.jsx)(d.Z,{className:"full-opacity-on-touchscreen opacity-0 transition-opacity group-hover:opacity-100",icon:(0,s.jsx)(o.Z,{className:"stroke-white"}),onClick:()=>{let e="".concat(k||x.resultUrl,"?download");window.open(e,"_blank"),(0,L.Z)({eventName:S.rK.DownloadVideo,properties:{cdnUrl:k||x.resultUrl,resultUrl:"".concat((0,T.Z)(),"/video/").concat(x.id),currentPage:F}})},small:!0,prefetch:!1,secondary:!0}),N?null:(0,s.jsx)(Z,{videoId:x.id,favorited:x.favorited})]}),(0,s.jsx)("video",{ref:O,className:i()("h-full w-auto object-contain",j),autoPlay:C,preload:"none",poster:x.videoPoster,loop:!0,controls:!1,onPlay:()=>{R(!0)},onEnded:()=>{R(!1)},onPause:()=>{R(!1)},playsInline:!0,muted:q,children:(0,s.jsx)("source",{src:x.resultUrl,type:"video/mp4"})}),J?(0,s.jsxs)("span",{className:i()("absolute bottom-1 left-1 z-[1] rounded-md bg-dark-tags px-2 py-1.5 text-s-mobile !font-medium transition-opacity lg:text-s",{"opacity-0":!U,"opacity-100":U}),children:[B(Math.min(z,J||0)),"/",B(J||0)]}):null,C?null:(0,s.jsx)("button",{className:i()("block-on-touchscreen absolute left-0 top-0 z-0 hidden h-full w-full",{"opacity-0":U,"!block":P}),onClick:()=>{O.current&&!U?(O.current.play(),O.current.loop=!1):O.current&&O.current.pause()},children:(0,s.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-dark-background bg-opacity-40 p-4",children:(0,s.jsx)(c.Z,{})})}),(0,s.jsxs)("div",{className:"absolute bottom-1 right-1 flex flex-col gap-2",children:[w&&x.id&&y?(0,s.jsx)(f,{generationId:y.id,videoId:x.id,video:{params:y.params,videoUrl:x.resultUrl,feedback:x.feedback,extended:y.extended,upscaled:y.upscaled,status:x.status,videoPoster:x.videoPoster,seed:x.seed,favorited:x.favorited,folders:x.folders,sharingUrl:x.sharingUrl||"",resolution:x.resolution}}):null,C?(0,s.jsx)(d.Z,{onClick:()=>$(!q),secondary:!0,small:!0,icon:q?(0,s.jsx)(v.Z,{className:"h-4"}):(0,s.jsx)(g.Z,{className:"h-4"})}):null]})]}):(0,s.jsxs)(s.Fragment,{children:[X||"no_face_detected"===x.status?Q:null,"pending"===x.status||"queued"===x.status?(0,s.jsx)(u.Z,{percentage:"pending"===x.status?x.progress:0}):"no_face_detected"===x.status?(0,s.jsx)("div",{className:"rounded-full border-2 p-4",style:{borderColor:"#414141"},children:(0,s.jsx)(a.Z,{className:i()("rotate-45")})}):(0,s.jsx)("div",{className:i()("rounded-full border-2 p-4",{"border-danger-primary":X,"border-white":!X}),children:(0,s.jsx)(a.Z,{className:i()({"rotate-45 fill-danger-primary":X,"animate-pulse":!X})})}),(0,s.jsx)("p",{className:i()("text-center text-m-mobile xl:text-m",{"text-danger-primary":X,"text-white text-opacity-60":!X,"max-w-xs":"no_face_detected"===x.status,"max-w-[230px]":"no_face_detected"!==x.status}),children:D(x.status,!K&&!Y)}),"no_face_detected"===x.status?(0,s.jsx)("p",{className:"mx-auto -mt-2 max-w-xs text-center text-regular text-light-tertiary",children:"Try again with content that contains a clear, well-lit, forward-facing view of a human face."}):null,K||Y||"queued"!==x.status?null:(0,s.jsxs)(d.Z,{className:"!gap-1",purpose:"link",href:"/pricing",target:"_blank",onClick:()=>(0,L.Z)({eventName:S.Gm.GenerationLoadingUpgradeButtonClick}),children:[(0,s.jsx)("span",{className:"font-bold",children:"Upgrade"})," for faster generations"]})]})})}let D=(e,t)=>{switch(e){case"error":return"Something went wrong while generating this video";case"no_face_detected":return"Face not detected";case"queued":return(0,s.jsxs)(s.Fragment,{children:["High demand right now!",(0,s.jsx)("br",{}),t?"":"Wait times might be a 'lil longer."]});case"pending":return"Generation usually takes a few minutes. We're so excited for you!";case"content_violation":return"Content violation detected";default:return""}}},65852:function(e,t,r){r.d(t,{Z:function(){return et}});var s=r(57437),l=r(84772),n=r.n(l),i=r(2265),a=r(27648),o=r(99376),d=r(75921),c=r(98191),u=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:(0,s.jsx)("path",{d:"M17.5 17.5L12.5 12.5M17.5 17.5V13.5M17.5 17.5H13.5M2.5 13.5V17.5M2.5 17.5H6.5M2.5 17.5L7.5 12.5M17.5 6.5V2.5M17.5 2.5H13.5M17.5 2.5L12.5 7.5M2.5 6.5V2.5M2.5 2.5H6.5M2.5 2.5L7.5 7.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},h=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M2.5 4.58333V4.16667C2.5 3.24619 3.24619 2.5 4.16667 2.5H15.8333C16.7538 2.5 17.5 3.24619 17.5 4.16667V15.8333C17.5 16.7538 16.7538 17.5 15.8333 17.5H4.16667C3.24619 17.5 2.5 16.7538 2.5 15.8333V15.4167M2.5 10H9.16667M5.83333 6.66667V13.3333",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})})},p=function(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",stroke:"white",fill:"white",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_6217_31)",children:(0,s.jsx)("path",{d:"M9.16675 3.33332H3.33341C2.89139 3.33332 2.46746 3.50891 2.1549 3.82147C1.84234 4.13403 1.66675 4.55796 1.66675 4.99999V16.6667C1.66675 17.1087 1.84234 17.5326 2.1549 17.8452C2.46746 18.1577 2.89139 18.3333 3.33341 18.3333H15.0001C15.4421 18.3333 15.866 18.1577 16.1786 17.8452C16.4912 17.5326 16.6667 17.1087 16.6667 16.6667V10.8333M15.4167 2.08332C15.7483 1.7518 16.1979 1.56555 16.6667 1.56555C17.1356 1.56555 17.5852 1.7518 17.9167 2.08332C18.2483 2.41484 18.4345 2.86448 18.4345 3.33332C18.4345 3.80216 18.2483 4.2518 17.9167 4.58332L10.0001 12.5L6.66675 13.3333L7.50008 9.99999L15.4167 2.08332Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_6217_31",children:(0,s.jsx)("rect",{width:"20",height:"20",stroke:"none"})})})]})},x=function(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_6217_34)",children:(0,s.jsx)("path",{d:"M7.50008 6.66666C5.83341 9.16666 4.16675 9.58332 1.66675 9.99999L8.33342 18.3333C10.0001 17.5 13.3334 14.1667 13.3334 12.5M12.0834 14.5833L3.75008 12.5M15.3084 2.19166L11.6667 5.83332L10.3417 4.50832C10.0295 4.1979 9.60706 4.02367 9.16675 4.02367C8.72644 4.02367 8.30402 4.1979 7.99175 4.50832L6.66675 5.83332L14.1667 13.3333L15.4917 12.0083C15.8022 11.6961 15.9764 11.2736 15.9764 10.8333C15.9764 10.393 15.8022 9.97059 15.4917 9.65832L14.1667 8.33332L17.8084 4.69166C18.1399 4.36014 18.3262 3.9105 18.3262 3.44166C18.3262 2.97282 18.1399 2.52318 17.8084 2.19166C17.4769 1.86014 17.0273 1.67389 16.5584 1.67389C16.0896 1.67389 15.6399 1.86014 15.3084 2.19166Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_6217_34",children:(0,s.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})},m=r(71332),f=r(90452),v=r(31462),g=r(583),j=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"white",...e,children:(0,s.jsx)("path",{d:"m5.94 12.16.94-.94 3.28 3.28a.846.846 0 0 0 1.2-.02c.339-.34.339-.88 0-1.2L8.1 10l3.28-3.28c.34-.34.34-.88 0-1.2a.834.834 0 0 0-1.2 0L6.9 8.8l-.94-.94c-.02-.02-.06-.04-.08-.06.22-.42.32-.84.32-1.28 0-1.54-1.26-2.8-2.8-2.8-1.54 0-2.8 1.26-2.8 2.8 0 1.54 1.26 2.8 2.8 2.8.44 0 .88-.1 1.28-.32.02.02.04.04.06.08l.94.94-.94.94c-.02.02-.04.06-.06.079-.42-.22-.84-.32-1.28-.32-1.54 0-2.8 1.26-2.8 2.8 0 1.54 1.26 2.8 2.8 2.8 1.54 0 2.8-1.26 2.8-2.8 0-.44-.1-.88-.32-1.28 0-.04.04-.06.06-.08ZM3.38 7.6c-.6 0-1.08-.48-1.08-1.08 0-.6.48-1.08 1.08-1.08.6 0 1.08.48 1.08 1.08C4.48 7.1 4 7.6 3.38 7.6Zm0 6.98c-.6 0-1.08-.48-1.08-1.08 0-.6.48-1.08 1.08-1.08.6 0 1.08.48 1.08 1.08 0 .6-.48 1.08-1.08 1.08ZM19.4 3v14c0 .48-.38.86-.86.86H7.66c-.48 0-.86-.38-.86-.86v-1.56c0-.48.38-.86.86-.86s.86.38.86.86v.7h9.18V3.86H8.52v.7c0 .48-.38.86-.86.86s-.86-.4-.86-.86V3c0-.48.38-.86.86-.86h10.88c.48 0 .86.38.86.86Z"})}),w=r(21751),C=r(57499),b=r(47525),y=r(9906),k=r(42759),N=r(96683);function Z(e){var t,r;let{currentVideo:l,showFolderList:a,setShowFolderList:d}=e,{folders:c,createFolder:u}=(0,b.j)(),{addVideoToFolder:h,removeVideoFromFolder:p}=(0,v.t)(),{removeFromFolderGenerations:x,addToFolderGenerations:f}=(0,k.J)(),g=(0,i.useRef)(null),j=(0,o.usePathname)(),w=(0,i.useMemo)(()=>"finished"!==l.status?[]:c.map(e=>{var t;return[e,null===(t=l.folders)||void 0===t?void 0:t.includes(e)]}),[l,c]);return j.startsWith("/my-library")?(0,s.jsxs)("div",{ref:g,onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("button",{className:n()("group flex w-full items-center gap-2 px-2 py-1.5",{"max-md:hidden":a}),onClick:()=>d(e=>!e),children:[(0,s.jsx)(C.Z,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Add to folder"})]}),a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"absolute top-0 min-w-[12rem] rounded-md bg-dark-elements shadow-dark-popup max-md:hidden",style:{right:((null===(t=g.current)||void 0===t?void 0:t.getBoundingClientRect().right)||0)<window.innerWidth-200?"auto":"calc(100% + 0.25rem)",left:((null===(r=g.current)||void 0===r?void 0:r.getBoundingClientRect().right)||0)<window.innerWidth-200?"calc(100% + 0.25rem)":"auto"},children:(0,s.jsxs)("div",{className:n()("flex flex-col",{"pb-1.5":c.length>1}),children:[(0,s.jsxs)("button",{className:"group/create flex flex-1 items-center gap-2 p-3 text-white/60 hover:text-light-primary",onClick:()=>u(l.id),children:[(0,s.jsx)(N.Z,{className:"opacity-60 transition-all group-hover/create:-mt-0.5 group-hover/create:opacity-100"}),(0,s.jsx)("span",{children:"Create folder"})]}),c.length>1&&(0,s.jsx)("div",{className:"mx-3 mb-1.5 shrink-0 border-t-[1px] border-light-border"}),w.map(e=>{let[t,r]=e;return t!==m.Bu&&(0,s.jsxs)("button",{className:"flex cursor-pointer items-center gap-2 px-3 py-1.5 text-white/60 transition ease-in-out hover:text-light-primary",onClick:async()=>{r?(await p({folderName:t,videoId:l.id}),x(l.id,t)):(await h({folderName:t,videoId:l.id}),f(l.id,t))},children:[(0,s.jsx)("span",{children:t}),r&&(0,s.jsx)(y.Z,{className:"w-3",stroke:"#12AA61"})]},t)})]})}),(0,s.jsx)("p",{className:"mb-4 text-xl font-medium md:hidden",children:"Add to folder"}),(0,s.jsxs)("div",{className:"flex max-h-[50vh] w-full flex-col overflow-auto md:hidden",children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 py-5 pr-2 text-light-primary",onClick:()=>u(l.id),children:[(0,s.jsx)(N.Z,{className:"opacity-60"}),(0,s.jsx)("span",{children:"Create folder"})]}),0!=c.length&&(0,s.jsx)("div",{className:"border-b border-white/10"}),w.map((e,t,r)=>{let[n,a]=e;return n!==m.Bu&&(0,s.jsxs)(i.Fragment,{children:[(0,s.jsxs)("button",{className:"flex items-center gap-2 py-5 pr-2 text-light-primary",onClick:async()=>{a?(await p({folderName:n,videoId:l.id}),x(l.id,n)):(await h({folderName:n,videoId:l.id}),f(l.id,n))},children:[(0,s.jsx)(C.Z,{className:"opacity-60"}),(0,s.jsx)("span",{children:n}),a&&(0,s.jsx)(y.Z,{className:"ml-auto w-3",stroke:"#12AA61"})]}),t!==r.length-1&&(0,s.jsx)("div",{className:"border-b border-light-border"})]},n)})]})]}):null]}):null}var L=function(e){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_9362_37132)",children:[(0,s.jsx)("path",{d:"M8.49935 16.6667H3.33268C2.89065 16.6667 2.46673 16.4912 2.15417 16.1786C1.84161 15.866 1.66602 15.4421 1.66602 15.0001V4.16675C1.66602 3.72472 1.84161 3.3008 2.15417 2.98824C2.46673 2.67567 2.89065 2.50008 3.33268 2.50008H6.58268C6.86142 2.49735 7.13639 2.56457 7.38243 2.6956C7.62847 2.82662 7.83772 3.01727 7.99102 3.25008L8.66602 4.25008C8.81777 4.48052 9.02437 4.66968 9.26727 4.80058C9.51016 4.93149 9.78176 5.00003 10.0577 5.00008H16.666C17.108 5.00008 17.532 5.17567 17.8445 5.48824C18.1571 5.8008 18.3327 6.22472 18.3327 6.66675V7.50008",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M12.6543 10.7295L17.9629 16.0381M17.9629 10.7295L12.6543 16.0381",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_9362_37132",children:(0,s.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})},M=e=>{let{currentVideoId:t}=e,{removeFromFolderGenerations:r}=(0,k.J)(),{removeVideoFromFolder:l}=(0,v.t)(),{currentFolderName:n}=(0,b.j)(),i=async()=>{n&&(await l({videoId:t,folderName:n}),r(t,n))};return(0,s.jsxs)("button",{className:"group flex items-center gap-2 p-2 flex-1",onClick:i,children:[(0,s.jsx)(L,{className:"opacity-60 group-hover:opacity-100 group-hover:-mt-0.5 transition-all"}),(0,s.jsx)("span",{children:"Remove from folder"})]})},S=r(51123),_=r(58812),V=r(97739),E=e=>{let{isCurrentUserGeneration:t,dropdownOpen:r,setDropdownOpen:l,extendButton:a,upscaleButton:d,currentVideo:c,finishedVideo:u,deleteVideo:h}=e,[p,x]=(0,i.useState)(!1),v=(0,i.useRef)(null),{isFolderPage:g,currentFolderName:j}=(0,b.j)();(0,f.Z)(v,()=>{l(!1)},[_.m]);let w=(0,o.usePathname)(),C=(0,i.useMemo)(()=>w.startsWith("/my-library")?(0,s.jsx)(Z,{currentVideo:c,showFolderList:p,setShowFolderList:x}):null,[w,c,p,x]),[y,k]=(0,i.useState)(!1),N=h?(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{className:"group flex w-full items-center gap-2 px-2 py-1.5",onClick:()=>{k(!0)},children:[(0,s.jsx)(V.Z,{className:"stroke-light-primary opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{className:"text-white",children:"Delete"})]}),(0,s.jsx)(_.Z,{isOpen:y,close:()=>k(!1),deleteVideo:h})]}):null;return u&&(!g||t)?(0,s.jsxs)("div",{className:n()("relative rounded-md bg-dark-elements",{"md:hidden":!d&&!C,"max-md:hidden":!d&&!C&&!a}),ref:v,children:[(0,s.jsxs)("button",{onClick:()=>l(!r),className:"flex h-8 w-8 flex-col items-center justify-center gap-1 transition-opacity",children:[(0,s.jsx)("span",{className:"h-[3px] w-[3px] shrink-0 rounded-full bg-white"}),(0,s.jsx)("span",{className:"h-[3px] w-[3px] shrink-0 rounded-full bg-white"}),(0,s.jsx)("span",{className:"h-[3px] w-[3px] shrink-0 rounded-full bg-white"})]}),(0,s.jsxs)("div",{className:n()("absolute bottom-full right-0 z-10 flex min-w-full -translate-y-2.5 flex-col items-start justify-start rounded-md bg-dark-elements shadow-dark-popup max-md:hidden",{hidden:!r,flex:r}),onClick:()=>x(!1),children:[d?(0,s.jsx)("div",{className:"py-0.5",children:d}):null,c&&u&&(0,s.jsx)(Z,{currentVideo:c,showFolderList:p,setShowFolderList:x}),(null==c?void 0:c.id)&&g&&j!=m.Bu&&(0,s.jsx)(M,{currentVideoId:null==c?void 0:c.id}),N]}),(0,s.jsx)("div",{className:n()("fixed inset-0 z-20 flex flex-col justify-end bg-black bg-opacity-50 md:hidden",{hidden:!r,flex:r}),onClick:()=>l(!1),children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 rounded-t-2xl bg-dark-elements-upper p-6 text-[1rem] leading-[1.25rem]",onClick:e=>{e.stopPropagation()},children:[!p&&a?a:null,!p&&d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-full border-b border-white/10"}),d]}):null,c&&u&&(0,s.jsxs)(s.Fragment,{children:[p?null:(0,s.jsx)("div",{className:"w-full border-b border-white/10"}),(0,s.jsx)(Z,{currentVideo:c,showFolderList:p,setShowFolderList:x})]}),(null==c?void 0:c.id)&&g&&j!=m.Bu&&!p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-full border-b border-white/10"}),(0,s.jsx)(M,{currentVideoId:null==c?void 0:c.id})]}),N,(0,s.jsxs)("div",{className:"mt-2 flex gap-3",children:[p&&(0,s.jsx)(S.Z,{secondary:!0,className:"flex-1 !bg-dark-elements-hover",onClick:()=>{x(!1)},purpose:"button",children:"Back"}),(0,s.jsx)(S.Z,{secondary:!0,className:"flex-1 !bg-dark-elements-hover",onClick:()=>l(!1),purpose:"button",children:"Exit"})]})]})})]}):null},P=r(97149),I=r(56439),F=r(3548),U=r(18920),R=function(e){let t,r,l,d,{generation:C,currentVideo:b,regenerate:y,upscale:k,allowExtend:N=!0,collapsed:Z,redirectToHistory:L,mode:M,model:S,deleteVideo:_,isCurrentUserGeneration:V}=e,{setModalVideo:R}=(0,v.t)(),[T,H]=(0,i.useState)(!1),B=(null==b?void 0:b.status)==="finished",W=(0,i.useRef)(null),D=(0,o.useRouter)(),{currentSubscriptionPlan:A,isSuperCollaborator:O}=(0,I.m)(),z=(0,o.usePathname)();if(null==b?void 0:b.id){let e=L?"/my-library":z,s=new URLSearchParams;s.set("remix",b.id),t="".concat(e,"?").concat(s.toString());let n=new URLSearchParams;n.set("edit",b.id),r="".concat(e,"?").concat(n.toString());let i=new URLSearchParams;i.set("extend",b.id),l="".concat(e,"?").concat(i.toString());let a=new URLSearchParams;a.set("retrim",b.id),d="".concat(e,"?").concat(a.toString())}let G=N&&l&&B?(0,s.jsxs)(a.default,{href:l,className:"group flex flex-1 flex-row items-start justify-start gap-2 px-2 py-1.5 md:justify-center",scroll:!1,onClick:()=>{R(null),H(!1)},children:[(0,s.jsx)(c.Z,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Add 4s"})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("span",{title:B?"This video has already been extended ".concat(m.Qn," times."):void 0,className:"group flex flex-1 cursor-not-allowed items-center justify-center gap-2 px-2 py-1.5 opacity-60",children:[(0,s.jsx)(c.Z,{}),(0,s.jsx)("span",{children:"Add 4s"})]})}),q=B?(0,s.jsxs)("button",{className:"group flex flex-1 flex-row items-start justify-start gap-2 px-2 py-1.5 md:justify-center",onClick:async()=>{let e=await (null==k?void 0:k());(null==e?void 0:e.success)&&(H(!1),R(null),L&&D.push("/my-library",{scroll:!1}))},children:[(0,s.jsx)(u,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Upscale"})]}):(0,s.jsxs)("span",{className:"group flex flex-1 cursor-not-allowed items-center justify-center gap-2 px-2 py-1.5 opacity-60",children:[(0,s.jsx)(u,{className:""}),(0,s.jsx)("span",{children:"Upscale"})]}),$=b&&!["pending","queued"].includes(b.status);(0,f.Z)(W,()=>H(!1));let K=M===m.hN.LipSync,Y=M===m.hN.SFX,J=K||Y,X=(!S||"1.0"===S||S.startsWith("2.")||"Turbo"===S)&&!A&&!O,Q="/"===z&&((null==S?void 0:S.startsWith("2."))||"Turbo"===S);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:n()("flex flex-1 items-center rounded-md bg-dark-elements",{"hover:border-accent-primary":Q}),children:[J&&t?(0,s.jsx)(a.default,{className:"group flex flex-1 items-center justify-center gap-2 px-2 py-1.5",href:t,prefetch:!0,scroll:!1,onClick:()=>R(null),children:K?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g.Z,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Resync"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Redo"})]})}):!Q&&(0,s.jsx)(P.Z,{className:"flex-1",tooltip:X?"Upgrade to use Pika ".concat(S):void 0,children:(0,s.jsxs)("button",{className:n()("group mx-auto flex w-full items-center justify-center gap-2 px-2 py-1.5 text-white disabled:opacity-60"),onClick:()=>{null==y||y().then(()=>{R(null),L&&D.push("/my-library",{scroll:!1})})},disabled:J||X,children:[(0,s.jsx)(h,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Retry"})]})}),J&&d?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"h-5 w-px shrink-0 bg-white bg-opacity-[.15]"}),(0,s.jsxs)(a.default,{className:"group relative flex flex-1 items-center justify-center gap-2 px-2 py-1.5",href:d,prefetch:!0,scroll:!1,onClick:()=>R(null),children:[(0,s.jsx)(j,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Re-trim"})]})]}):null,!t||J||Q?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"h-5 w-px shrink-0 bg-white bg-opacity-[.15]"}),X?(0,s.jsx)(P.Z,{tooltip:X?"Upgrade to use Pika ".concat(S):void 0,className:"flex-1",children:(0,s.jsxs)("div",{className:n()("group mx-auto flex w-full items-center justify-center gap-2 px-2 py-1.5",{"pointer-events-none opacity-60":X}),children:[(0,s.jsx)(p,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Reprompt"})]})}):(0,s.jsxs)(a.default,{className:"group flex flex-1 items-center justify-center gap-2 px-2 py-1.5",href:t,prefetch:!0,scroll:!1,onClick:()=>R(null),children:[(0,s.jsx)(p,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Reprompt"})]})]}),t&&!J&&Q?X?(0,s.jsx)(P.Z,{tooltip:X?"Upgrade to use Pika ".concat(S):void 0,className:"flex-1",children:(0,s.jsx)("div",{className:n()("group mx-auto flex w-full items-center justify-center gap-2 px-2 py-1.5",{"pointer-events-none opacity-60":X}),children:(0,s.jsx)("span",{children:"Use Template"})})}):(0,s.jsx)(a.default,{className:"group flex flex-1 items-center justify-center gap-2 px-2 py-1.5",href:t,prefetch:!0,scroll:!1,onClick:()=>{R(null),(0,F.Z)({eventName:U.l6.IngredientsTemplateUse,properties:{template:{id:C.id,prompt:C.promptText},placement:"templates"}})},children:(0,s.jsx)("span",{children:"Use Template"})}):null,r&&"1.0"===S&&(A||O)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"h-5 w-px shrink-0 bg-white bg-opacity-[.15]"}),B?(0,s.jsxs)(a.default,{href:r,className:"group relative flex flex-1 items-center justify-center gap-2 px-2 py-1.5",prefetch:!0,scroll:!1,onClick:()=>R(null),children:[(0,s.jsx)(x,{className:"opacity-60 transition-all group-hover:-mt-0.5 group-hover:opacity-100"}),(0,s.jsx)("span",{children:"Edit"})]}):(0,s.jsxs)("span",{className:"group relative flex flex-1 cursor-not-allowed items-center justify-center gap-2 px-2 py-1.5 opacity-60",children:[(0,s.jsx)(x,{}),(0,s.jsx)("span",{children:"Edit"})]})]}):null,G&&"1.0"===S&&(A||O)?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1.5 max-md:hidden md:flex-1 md:gap-0",children:[(0,s.jsx)("span",{className:"h-5 w-px shrink-0 bg-white bg-opacity-[.15]"}),G]}):null,!Z&&"1.0"===S&&(A||O)?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-1.5 max-md:hidden md:flex-1 md:gap-0",children:[q?(0,s.jsx)("span",{className:"h-5 w-px shrink-0 bg-white bg-opacity-[.15]"}):null,q]}):null]}),(0,s.jsx)("div",{className:n()("flex gap-1.5 md:gap-3",{hidden:!$}),children:(0,s.jsx)(E,{dropdownOpen:T,setDropdownOpen:H,extendButton:"1.0"===S?G:null,upscaleButton:Z&&"1.0"===S&&(A||O)?q:null,currentVideo:b,finishedVideo:B,deleteVideo:_,isCurrentUserGeneration:V})})]})},T=r(90931),H=r(79819),B=r(53014),W=r(25161),D=r(31529),A=r(44522),O=r(48086);function z(e){var t,r,l,a,o,d,c,u,h,p,x,v,g,j,w,C,b,y,k,N;let{videoParams:Z,resolution:L}=e,M=(0,i.useRef)(null),[S,_]=(0,i.useState)(!1);return(0,f.Z)(M,()=>_(!1)),(0,s.jsxs)("div",{className:"relative h-5",ref:M,children:[(0,s.jsx)("button",{onClick:()=>_(e=>!e),children:(0,s.jsx)(H.Z,{className:"opacity-60 transition-opacity hover:opacity-100"})}),(0,s.jsx)("div",{className:n()("absolute bottom-[calc(100%_+_8px)] z-[3] w-60 rounded-[.625rem] bg-dark-pop-up p-2 shadow-popup max-lg:right-0 lg:left-1/2 lg:-translate-x-1/2",{hidden:!S}),children:(0,s.jsxs)("div",{className:"scrollbar-hide flex flex-col gap-2 overflow-auto",style:{maxHeight:"calc(".concat(null===(t=M.current)||void 0===t?void 0:t.getBoundingClientRect().y,"px - var(--navbar-height) - 40px)")},children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"font-extra-thick",children:"Parameters"}),(0,s.jsx)("button",{onClick:()=>_(!1),type:"button",className:"opacity-60 transition-opacity hover:opacity-100",children:(0,s.jsx)(B.Z,{})})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[Z.aspectRatio?(0,s.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-1 rounded-md bg-dark-elements px-3 py-2",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white lg:text-s",children:null===(r=m.sl.find(e=>{var t;let{value:r}=e;return r.toFixed(2)===(null===(t=Z.aspectRatio)||void 0===t?void 0:t.toFixed(2))}))||void 0===r?void 0:r.label}),(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Aspect ratio"})]}):null,Z.frameRate?(0,s.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center gap-1 rounded-md bg-dark-elements px-3 py-2",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white lg:text-s",children:Z.frameRate}),(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"FPS"})]}):null]}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 rounded-md bg-dark-elements p-3",children:[L?(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-md",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Resolution"}),(0,s.jsx)("p",{className:"text-s-mobile font-light text-white lg:text-s",children:L})]}):null,Z["ingredients-mode"]?(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-md",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Precision mode"}),(0,s.jsx)("p",{className:"text-s-mobile font-light text-white lg:text-s",children:null===(l=m._3.find(e=>{let{value:t}=e;return t===Z["ingredients-mode"]}))||void 0===l?void 0:l.name})]}):null,(null===(a=Z.camera)||void 0===a?void 0:a.rotate)===void 0&&(null===(o=Z.camera)||void 0===o?void 0:o.zoom)===void 0&&(null===(d=Z.camera)||void 0===d?void 0:d.pan)===void 0&&(null===(c=Z.camera)||void 0===c?void 0:c.tilt)===void 0&&[null,void 0].includes(null===(u=Z.parameters)||void 0===u?void 0:u.motion)?null:(0,s.jsxs)("div",{className:"flex flex-col items-stretch gap-2 rounded-md",children:[(null===(h=Z.camera)||void 0===h?void 0:h.rotate)?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Rotate"}),(0,s.jsx)("p",{className:"flex items-center gap-2 text-s-mobile font-light text-white lg:text-s",children:"cw"===Z.camera.rotate?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Z,{className:"h-4 w-4"})," Clockwise"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(A.Z,{className:"h-4 w-4 -scale-x-100"})," Counter clockwise"]})})]}):null,(null===(p=Z.camera)||void 0===p?void 0:p.zoom)?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Zoom"}),(0,s.jsx)("p",{className:"flex items-center gap-2 text-s-mobile font-light text-white lg:text-s",children:"in"===Z.camera.zoom?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(W.Z,{className:"h-4 w-4"})," Zoom in"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D.Z,{className:"h-4 w-4"})," Zoom out"]})})]}):null,(null===(x=Z.camera)||void 0===x?void 0:x.pan)?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Pan"}),(0,s.jsx)("p",{className:"flex items-center gap-2 text-s-mobile font-light text-white lg:text-s",children:"left"===Z.camera.pan?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.Z,{className:"h-4 w-4"})," Left"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.Z,{className:"h-4 w-4 rotate-180"})," Right"]})})]}):null,(null===(v=Z.camera)||void 0===v?void 0:v.tilt)?(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Tilt"}),(0,s.jsx)("p",{className:"flex items-center gap-2 text-s-mobile font-light text-white lg:text-s",children:"down"===Z.camera.tilt?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.Z,{className:"h-4 w-4 -rotate-90"})," Down"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(O.Z,{className:"h-4 w-4 rotate-90"})," Up"]})})]}):null,[null,void 0].includes(null===(g=Z.parameters)||void 0===g?void 0:g.motion)?null:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-s-mobile font-light text-white text-opacity-60 lg:text-s",children:"Strength of motion"}),(0,s.jsx)("p",{className:"text-s-mobile font-light text-white lg:text-s",children:null===(j=Z.parameters)||void 0===j?void 0:j.motion})]})]}),(null===(w=Z.parameters)||void 0===w?void 0:w.negativePrompt)||(null===(C=Z.parameters)||void 0===C?void 0:C.guidanceScale)!==void 0?(0,s.jsxs)("div",{className:"flex flex-col items-stretch gap-3 rounded-md",children:[(null===(b=Z.parameters)||void 0===b?void 0:b.negativePrompt)?(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-s-mobile text-light-secondary lg:text-s",children:"Negative prompt"}),(0,s.jsx)("p",{className:"flex items-center gap-2 whitespace-break-spaces text-s-mobile lg:text-s",children:Z.parameters.negativePrompt})]}):null,(null===(y=Z.parameters)||void 0===y?void 0:y.guidanceScale)!==void 0?(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("p",{className:"text-s-mobile text-light-secondary lg:text-s",children:"Consistency with the text"}),(0,s.jsx)("p",{className:"flex items-center gap-2 text-s-mobile lg:text-s",children:Z.parameters.guidanceScale})]}):null]}):null,[void 0,null].includes(null===(k=Z.parameters)||void 0===k?void 0:k.seed)?null:(0,s.jsx)("div",{className:"flex flex-col items-stretch gap-2 rounded-md",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-s-mobile text-light-secondary lg:text-s",children:"Seed"}),(0,s.jsx)("p",{className:"text-s-mobile lg:text-s",children:null===(N=Z.parameters)||void 0===N?void 0:N.seed})]})})]})]})})]})}let G=e=>{var t,r,s,l;return(null===(t=e.params)||void 0===t?void 0:t.mode)===m.hN.Outpainting?m.hN.Outpainting:(null===(r=e.params)||void 0===r?void 0:r.mode)===m.hN.Inpainting?m.hN.Inpainting:"string"==typeof(null===(s=e.params)||void 0===s?void 0:s.sfx)?m.hN.SFX:(null===(l=e.params)||void 0===l?void 0:l.speech)?m.hN.LipSync:m.hN.Normal};var q=function(e){var t,r,l,n,a,o,d,c;let{isCurrentUserGeneration:u,small:h,generation:p,selectedVideo:x,regenerate:f,upscale:v,showFullPrompt:g=!0,redirectToHistory:j=!1,deleteVideo:w}=e,C=G(p),b=C===m.hN.LipSync,[y,k]=(0,i.useState)(!1),N=(null==x?void 0:x.status)==="finished"?p.upscaled||b?null:(0,s.jsx)(z,{videoParams:{...null===(t=p.params)||void 0===t?void 0:t.options,parameters:{...null===(l=p.params)||void 0===l?void 0:null===(r=l.options)||void 0===r?void 0:r.parameters,seed:x.seed},"ingredients-mode":null===(a=p.params)||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n["ingredients-mode"]},resolution:null!==(d=x.resolution)&&void 0!==d?d:p.resolution}):null;return(0,s.jsxs)("div",{className:"flex flex-col gap-2.5",children:[p.upscaled?(0,s.jsx)("div",{className:"flex items-center justify-end gap-1 whitespace-nowrap",children:(0,s.jsx)(E,{dropdownOpen:y,setDropdownOpen:k,currentVideo:x,finishedVideo:(null==x?void 0:x.status)==="finished",isCurrentUserGeneration:u})}):(0,s.jsx)("div",{className:"flex items-center justify-between gap-1 whitespace-nowrap",children:(0,s.jsx)(R,{generation:p,currentVideo:x,regenerate:f?()=>f(p.id):void 0,upscale:"finished"===x.status&&v?()=>v(x.id):void 0,allowExtend:"finished"===x.status&&(!p.extended||!!p.extended&&p.extended<m.Qn),collapsed:h,redirectToHistory:j,mode:C,model:null!==(c=null===(o=p.params)||void 0===o?void 0:o.model)&&void 0!==c?c:"1.0",deleteVideo:w,isCurrentUserGeneration:u})}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-5",children:[p.promptText?(0,s.jsx)(T.default,{text:p.promptText,limitChars:g?void 0:100}):(0,s.jsx)("p",{className:"flex-1 px-1.5 py-2 text-sm opacity-25",children:"Without description"}),(0,s.jsx)("div",{className:"flex items-center gap-5 pr-1.5",children:N})]})]})},$=r(9379),K=r(28186),Y=r(19103),J=function(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:[(0,s.jsx)("path",{d:"M12.6667 2H3.33333C2.59695 2 2 2.59695 2 3.33333V12.6667C2 13.403 2.59695 14 3.33333 14H12.6667C13.403 14 14 13.403 14 12.6667V3.33333C14 2.59695 13.403 2 12.6667 2Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M6 5.33333L10 8L6 10.6667V5.33333Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},X=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",...e,children:(0,s.jsx)("path",{d:"M14 10L11.9427 7.94267C11.6926 7.69271 11.3536 7.55229 11 7.55229C10.6464 7.55229 10.3074 7.69271 10.0573 7.94267L4 14M3.33333 2H12.6667C13.403 2 14 2.59695 14 3.33333V12.6667C14 13.403 13.403 14 12.6667 14H3.33333C2.59695 14 2 13.403 2 12.6667V3.33333C2 2.59695 2.59695 2 3.33333 2ZM7.33333 6C7.33333 6.73638 6.73638 7.33333 6 7.33333C5.26362 7.33333 4.66667 6.73638 4.66667 6C4.66667 5.26362 5.26362 4.66667 6 4.66667C6.73638 4.66667 7.33333 5.26362 7.33333 6Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},Q=r(33145),ee=r(23423),et=function(e){var t,r,l,h,x,f,v,j,C,b,y,k,N,Z,L,M,S,_,V;let{generation:E,className:P,regenerate:F,upscale:U,small:R,deleteVideo:T,allowFullscreen:H=!0,autoPlayVideo:W=!1,showFullPrompt:D=!0,redirectActionsToHistory:A=!1,isCurrentUserGeneration:O=!1}=e,z=(0,o.usePathname)(),G=(0,o.useSearchParams)(),{subscription:et}=(0,I.m)(),er=!((null==et?void 0:et.remove_watermark)&&O),es=[];"videos"in E?es=E.videos||[]:"videoUrl"in E&&E.videoUrl&&(es=[{id:E.id,status:"finished",resultUrl:E.videoUrl,feedback:E.feedback,seed:E.seed,videoPoster:E.videoPoster,favorited:E.favorited,folders:E.folders,imageThumb:E.imageThumb,sharingUrl:E.sharingUrl,resolution:E.resolution}]);let el=es.some(e=>{let{id:t}=e;return t===G.get("remix")}),en=new URLSearchParams(G.toString());en.delete("remix");let[ei,ea]=(0,i.useState)(0);if((0,i.useEffect)(()=>{ea(0)},[es.length]),!("videos"in E&&(null===(t=E.videos)||void 0===t?void 0:t.length))&&!("videoUrl"in E&&(null===(r=E.videoUrl)||void 0===r?void 0:r.length)))return null;let eo=es[ei],ed=[{title:(null==E?void 0:null===(l=E.params)||void 0===l?void 0:l.model)==="Turbo"?"Turbo":"Pika ".concat(null!==(V=null==E?void 0:null===(h=E.params)||void 0===h?void 0:h.model)&&void 0!==V?V:"1.0"),icon:null,expanded:!0},(null==E?void 0:E.extended)?{title:"Added ".concat(4*E.extended,"s"),icon:c.Z}:void 0,(null==E?void 0:E.upscaled)?{title:"Upscaled",icon:u}:void 0,(null==E?void 0:null===(x=E.params)||void 0===x?void 0:x.mode)===m.hN.Inpainting?{title:"Modify region",icon:$.Z}:void 0,(null==E?void 0:null===(f=E.params)||void 0===f?void 0:f.mode)===m.hN.Outpainting?{title:"Expand canvas",icon:K.Z}:void 0,(null==E?void 0:null===(v=E.params)||void 0===v?void 0:v.video)?{title:"Video input",icon:J}:void 0,(null==E?void 0:null===(j=E.params)||void 0===j?void 0:j.image)||(null==E?void 0:null===(C=E.params)||void 0===C?void 0:C["first-frame"])||(null==E?void 0:null===(b=E.params)||void 0===b?void 0:b["last-frame"])?{title:"Image input",icon:X}:void 0,(null==E?void 0:null===(y=E.params)||void 0===y?void 0:y["ingredient-1"])?{title:"Pikascenes",icon:ee.Z}:void 0,(null==E?void 0:E.lipSynced)||(null==E?void 0:null===(k=E.params)||void 0===k?void 0:k.speech)?{title:"Lip sync",icon:g.Z}:void 0,(null==E?void 0:E.hasSfx)||(null==E?void 0:null===(N=E.params)||void 0===N?void 0:N.sfx)?{title:"Sound effects",icon:w.Z}:void 0].filter(Boolean);return(0,s.jsxs)("div",{className:n()("group/card relative flex shrink-0 flex-col gap-2.5",P),children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 z-[-1] h-[calc(100%+1rem)] w-[calc(100%+1rem)] -translate-x-2 -translate-y-2 rounded-2xl bg-white bg-opacity-0 transition-colors group-hover/card:bg-opacity-5"}),el?(0,s.jsxs)("div",{className:"absolute bottom-full right-0 flex items-center gap-1.5 rounded-t-md bg-accent-primary p-1.5 text-s-mobile !font-[450] text-dark-background lg:text-s",children:[(null===(Z=E.params)||void 0===Z?void 0:Z.speech)?(0,s.jsx)(g.Z,{className:"h-4 w-4 stroke-dark-background"}):(0,s.jsx)(p,{className:"h-4 w-4 stroke-dark-background"}),(null===(L=E.params)||void 0===L?void 0:L.speech)?"Resync":(null===(M=E.params)||void 0===M?void 0:M.sfx)?"Redo":(null===(_=E.params)||void 0===_?void 0:null===(S=_.model)||void 0===S?void 0:S.startsWith("2."))&&"/"===z?"Use template":"Reprompt",(0,s.jsx)(a.default,{href:{search:en.toString(),pathname:z},scroll:!1,prefetch:!0,children:(0,s.jsx)(B.Z,{className:"h-4 w-4 stroke-dark-background opacity-40 transition-opacity hover:opacity-100"})})]}):null,(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:n()("group relative w-full overflow-hidden rounded-[.625rem] bg-dark-elements",{"rounded-tr-none border-2 border-accent-primary":el}),children:[eo?(0,s.jsx)("div",{className:n()("relative w-full",{"pt-[calc(9/16*100%)]":es.length<2,"pt-[calc(9/16*100%-38px)]":es.length>1}),children:(0,s.jsx)("div",{className:"absolute left-0 top-0 h-full w-full overflow-hidden",children:(0,s.jsx)(d.default,{video:eo,allowFullscreen:H,autoPlay:W,deleteVideo:T?()=>T(eo.id):void 0,generation:E,className:"!aspect-auto h-full",downloadUrl:"finished"===eo.status?er?eo.sharingUrl:eo.resultUrl:void 0},eo.id)})}):null,(0,s.jsx)("div",{className:"absolute left-1 top-1 flex h-7 items-center gap-1",children:ed.map((e,t)=>{let{title:r,icon:l,expanded:i}=e;return(0,s.jsxs)("div",{className:n()("flex h-full flex-nowrap gap-1.5 overflow-hidden rounded-md bg-dark-background bg-opacity-[.85] p-1.5 transition-[max-width]",i?"max-w-[200px]":"max-w-[28px] group-hover:max-w-[200px]"),children:[l&&(0,s.jsx)(l,{className:"h-4 w-4 shrink-0 opacity-[.85]"}),(0,s.jsx)("span",{className:"whitespace-nowrap text-s-mobile opacity-[.85] lg:text-s",children:r})]},t)})})]})}),(0,s.jsx)("div",{className:n()("-mt-1 flex w-full flex-nowrap items-center gap-3 overflow-hidden transition-[max-height]",{"max-h-7":es.length>1,"hidden max-h-0":es.length<=1}),children:(0,s.jsx)("div",{className:"scrollbar-hide relative z-0 flex h-full flex-1 flex-nowrap items-center gap-3 overflow-scroll",children:es.map((e,t)=>(0,s.jsx)("button",{className:n()("flex h-7 w-11 shrink-0 items-center justify-center overflow-hidden rounded-md bg-dark-pop-up",{"border-2 border-accent-primary":ei===t}),onClick:()=>ea(t),children:"finished"===e.status&&e.imageThumb?(0,s.jsx)(Q.default,{src:e.imageThumb,alt:"video poster",className:"h-full w-auto object-cover",width:44,height:28},t):(0,s.jsx)(Y.Z,{className:"opacity-40"})},e.id))})}),eo?(0,s.jsx)(q,{selectedVideo:eo,generation:E,regenerate:F,upscale:U,small:R,showFullPrompt:D,redirectToHistory:A,deleteVideo:T?()=>T(eo.id):void 0,isCurrentUserGeneration:O}):null]})}},31462:function(e,t,r){r.d(t,{LibraryContextProvider:function(){return L},t:function(){return Z}});var s=r(57437),l=r(2265),n=r(55680),i=r(71332),a=r(18920),o=r(3548),d=r(89593);async function c(e){let t=(0,d.e)(),{data:r}=await t.auth.getUser();if(!r.user)return{success:!1,error:"Not authenticated"};let s=i.bl.adjust;try{var l,n;e.set("userId",r.user.id);let i=await fetch(s,{method:"POST",body:e,headers:{Authorization:"Bearer ".concat(null===(n=(await t.auth.getSession()).data)||void 0===n?void 0:null===(l=n.session)||void 0===l?void 0:l.access_token)}}).then(e=>e.json());return(0,o.Z)({eventName:a.Ch.AdjustVideo,userId:r.user.id,email:r.user.email,fullName:r.user.user_metadata.fullName,properties:{},formData:e}),i}catch(e){return console.error(e),{success:!1,error:"Something went wrong"}}}async function u(e){let t;let r=(0,d.e)(),{data:s}=await r.auth.getUser();if(!s.user)return{success:!1,error:"Not authenticated"};let l=e.get("model"),n=e.get("pikaffect"),c=e.get("plan"),u=("ultimate"===c?"fancy":"unlimited"===c?"pro":c)||"free";t="1.5"===l?i.bl.generateV15:"2.1"===l||"Turbo"===l?i.bl.generateV2:i.bl.generate;try{var h,p;e.set("userId",s.user.id),e.delete("plan");let i=await fetch(t,{method:"POST",body:e,headers:{Authorization:"Bearer ".concat(null===(p=(await r.auth.getSession()).data)||void 0===p?void 0:null===(h=p.session)||void 0===h?void 0:h.access_token)}}).then(e=>e.json()),d=!!(e.get("options")?JSON.parse(e.get("options")):{})["ingredients-mode"],x=(d?Array.from(e.entries()).filter(e=>{let[t]=e;return t.startsWith("ingredient-")}).length:0)||(e.get("image")?1:0),m=e.get("video")?1:0;return(0,o.Z)({eventName:a.Ch.GenerateVideo,userId:s.user.id,email:s.user.email,fullName:s.user.user_metadata.fullName,properties:{model:l,pikaffect:n,subscription_tier:"".concat(u," (").concat(c,")"),is_pikaffects:n?"yes":"no",is_ingredients:d?"yes":"no",image_count:x,video_count:m}}),i}catch(e){return console.error(e),{success:!1,error:"Something went wrong"}}}var h=r(32841);r(83079);var p=r(12119),x=(0,p.$)("2fb29ede907a4faf99889c678b8a6c7b54a774f1"),m=(0,p.$)("a4f7d00566d7755f69cb53e2b2bbaf32236f107e"),f=r(75714),v=(0,p.$)("6c92104373247fc5471997bb7e08fab5c44eec8a"),g=r(78437),j=r(56439),w=r(83205),C=r(96247),b=r(89182);async function y(){let e=(0,d.e)();try{let t=(await e.from("preset_prompts").select("prompt_text")).data;if(!t)return[];return t.map(e=>{let{prompt_text:t}=e;return t})}catch(e){return[]}}var k=r(35957);let N=(0,l.createContext)({generations:[],generate:async()=>({success:!1,code:n.l.NONE,error:"Not implemented"}),loading:!1,error:null,setResponseError:()=>{},responseError:null,loadMore:()=>{},hasNext:!1,addVideoToFolder:async()=>{},removeVideoFromFolder:async()=>{},retry:async()=>({success:!1,code:n.l.NONE,error:"Not implemented"}),upscale:async()=>({success:!1,code:n.l.NONE,error:"Not implemented"}),modalVideo:null,setModalVideo:()=>{},presetPrompts:[],promptText:void 0,setPromptText:()=>{},firstNewModelGeneration:null,setFirstNewModelGeneration:()=>{}});function Z(){return(0,l.useContext)(N)}function L(e){let{children:t,initialGenerations:r,hasNext:a,firstNewModelGeneration:o}=e,[d,p]=(0,l.useState)([]),[Z,L]=(0,l.useState)(r),[M,S]=(0,l.useState)(!1),[_,V]=(0,l.useState)(null),[E,P]=(0,l.useState)(null),[I,F]=(0,l.useState)(o),[U,R]=(0,l.useState)(a),[T,H]=(0,l.useState)(null),{refetch:B,currentSubscriptionPlan:W,reachedDailyLimit:D,setIsOpenNoCreditsModal:A}=(0,j.m)(),[O,z]=(0,l.useState)(),{addFolderNameToFeaturedVideo:G,favoriteFeaturedVideo:q,removeFolderNameFromFeaturedVideo:$}=(0,b.W)(),K=async()=>{S(!0),V(null);try{let e=await v({after:Z[Z.length-1].id,perPage:12});e.success?(L(t=>[...t,...e.data.results]),R(e.data.hasNext)):V(e.error||"Something went wrong.")}catch(e){V("Can't load generations, please try again.")}S(!1)},Y=(0,l.useMemo)(()=>Z.reduce((e,t)=>{var r;return(null===(r=t.videos)||void 0===r?void 0:r.some(e=>["queued","pending"].includes(e.status)))&&e.push(t.id),e},[]),[Z]);(0,l.useEffect)(()=>{if(Y.length){let e=setInterval(async()=>{try{let e=await m({ids:Y});e.success&&(L(t=>t.map(t=>e.data.results.find(e=>e.id===t.id)||t)),B())}catch(e){}},i.yc);return()=>clearInterval(e)}},[Y]),(0,l.useEffect)(()=>{y().then(p).catch(k.ZT)},[]);let J=async e=>{let t,{formData:r,mode:s}=e;if(D)return P({code:n.l.DAILY_LIMIT_REACHED}),{success:!1,error:"Daily limit reached"};r.append("plan",W||"free");try{t=[i.hN.Inpainting,i.hN.Outpainting].includes(s)?await c(r):await u(r)}catch(e){return{success:!1,error:"Please check you connection"}}if(t.success){let e=t.data.generation;L(t=>[e,...t]),B()}else t.code&&P({code:t.code,wait:t.wait});return t},X=async e=>{if(D)return A(!0),{success:!1,error:"Daily limit reached"};try{let t=await (0,f.Z)(e);if(t.success){let r=t.data.generation;L(t=>{let s=t.findIndex(t=>t.id===e);return -1===s?[r,...t]:t.map(t=>t.id===e?r:t)}),B()}else t.code&&P({code:t.code,wait:t.wait});return t}catch(e){return{success:!1,error:"Please check you connection"}}},Q=async e=>{if(D)return A(!0),{success:!1,error:"Daily limit reached"};try{let t=await (0,h.Z)(e);if(t.success){let e=t.data.generation;L(t=>[e,...t]),B()}else t.code&&P({code:t.code,wait:t.wait});return t}catch(e){return{success:!1,error:"Please check you connection"}}},ee=async e=>{let{generationId:t,videoId:r}=e,s=[...Z],l=[];L(e=>e.reduce((e,s)=>{if(t!==s.id)return e.push(s),e;if(s.id===t&&s.videos&&s.videos.length>1){var n;let t=s.videos.find(e=>e.id===r);l=(null==t?void 0:t.status)==="finished"&&t.folders||[],e.push({...s,videos:null===(n=s.videos)||void 0===n?void 0:n.filter(e=>e.id!==r)})}return e},[]));try{(await x(r,[...l,i.Bu])).success||L(s)}catch(e){L(s)}},et=(0,l.useCallback)(async e=>{let t,{videoId:r,favorite:s}=e;if((t=s?await (0,w.Z)({videoId:r,folderName:i.Bu}):await (0,C.Z)({videoId:r,folderName:i.Bu})).success)return L(e=>e.map(e=>{var t;return{...e,videos:null===(t=e.videos)||void 0===t?void 0:t.map(e=>{if(e.id===r&&"finished"==e.status){let t=e.folders||[];return s?t.includes(i.Bu)||t.push(i.Bu):t=t.filter(e=>e!==i.Bu),{...e,favorited:s,folders:t}}return e})}})),q({videoId:r,favorite:s}),t;throw Error("Favorite action was not successful")},[w.Z,C.Z,L,q]),er=async e=>{let{videoId:t,folderName:r}=e;(await (0,C.Z)({videoId:t,folderName:r})).success&&(L(e=>e.map(e=>{var s;return{...e,videos:null===(s=e.videos)||void 0===s?void 0:s.map(e=>{if(e.id===t&&"finished"==e.status){var s;return{...e,folders:null===(s=e.folders)||void 0===s?void 0:s.filter(e=>e!==r)}}return e})}})),$({videoId:t,folderName:r}))},es=async e=>{let{videoId:t,folderName:r}=e;(await (0,w.Z)({videoId:t,folderName:r})).success&&(L(e=>e.map(e=>{var s;return{...e,videos:null===(s=e.videos)||void 0===s?void 0:s.map(e=>e.id===t&&"finished"==e.status?{...e,folders:e.folders?[...e.folders,r]:[r]}:e)}})),G({videoId:t,folderName:r}))};return(0,s.jsxs)(N.Provider,{value:{generations:Z,generate:J,loading:M,error:_,responseError:E,setResponseError:P,loadMore:K,hasNext:U,retry:X,upscale:Q,deleteVideo:ee,favoriteVideo:et,addVideoToFolder:es,removeVideoFromFolder:er,modalVideo:T,setModalVideo:H,presetPrompts:d,promptText:O,setPromptText:z,firstNewModelGeneration:I,setFirstNewModelGeneration:F},children:[t,(0,s.jsx)(g.Z,{isOpen:!!T,close:()=>H(null),videoId:null==T?void 0:T.videoId,generationId:null==T?void 0:T.generationId,video:null==T?void 0:T.video,showInFolder:!1})]})}},90931:function(e,t,r){var s=r(57437),l=r(2265),n=r(9906),i=r(20113),a=r(97149),o=r(31462),d=r(3548),c=r(18920),u=r(71332);t.default=function(e){let{text:t,limitChars:r}=e,[h,p]=(0,l.useState)(!1),x=(0,l.useMemo)(()=>u.Rq.find(e=>t.startsWith(e.key_phrase)),[t]),m=x?t.replace(new RegExp("^".concat(null==x?void 0:x.key_phrase)),null==x?void 0:x.key_frontend_phrase):t,{promptText:f,setPromptText:v}=(0,o.t)();return(0,s.jsxs)("button",{onClick:()=>{navigator.clipboard&&m&&(navigator.clipboard.writeText(m),p(!0),v(t),(0,d.Z)({eventName:c.rK.CopyPrompt,properties:{originalPrompt:f,newPrompt:t}}),setTimeout(()=>p(!1),2e3))},className:"group relative flex flex-1 p-1 text-start opacity-60 hover:opacity-100 md:p-2",children:[r&&m.length>r?(0,s.jsx)(a.Z,{tooltip:m,tooltipClassName:"w-full",className:"px-1.5 py-2",children:(0,s.jsx)("p",{className:"line-clamp-2 break-all",children:m.substring(0,r)+"..."})}):(0,s.jsx)("p",{className:"line-clamp-2 break-all",children:m}),(0,s.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full items-center justify-center gap-1 rounded-md border border-white border-opacity-10 bg-dark-background bg-opacity-90 opacity-0 transition-opacity group-hover:opacity-100",children:h?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Z,{}),"Copied"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Z,{}),"Copy"]})})]})}},81405:function(e,t,r){r.d(t,{Z:function(){return b}});var s=r(57437),l=r(84772),n=r.n(l),i=r(99376),a=r(51123),o=r(64656),d=r(70576),c=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",...e,children:(0,s.jsx)("g",{id:"Icon",children:(0,s.jsx)("path",{id:"Vector",d:"M11.8243 2.19945L11.3493 2.13278C9.92179 1.92666 8.46505 2.13058 7.14896 2.72075C5.83287 3.31093 4.71165 4.26305 3.91602 5.46611C3.06948 6.6161 2.56484 7.98173 2.46016 9.40585C2.35549 10.83 2.65505 12.2547 3.32435 13.5161C3.39285 13.6425 3.43549 13.7813 3.4498 13.9244C3.46411 14.0675 3.44979 14.212 3.40768 14.3494C3.06602 15.5244 2.74935 16.7078 2.41602 17.9494L2.83268 17.8244C3.95768 17.5244 5.08268 17.2244 6.20768 16.9494C6.44513 16.9001 6.69195 16.9233 6.91602 17.0161C7.92535 17.5087 9.02837 17.7797 10.1511 17.8109C11.2737 17.8422 12.3901 17.6329 13.4253 17.1971C14.4604 16.7614 15.3904 16.1093 16.1528 15.2845C16.9151 14.4598 17.4923 13.4815 17.8455 12.4154C18.1987 11.3493 18.3197 10.2199 18.2005 9.10312C18.0813 7.98634 17.7246 6.90798 17.1543 5.94041C16.584 4.97284 15.8134 4.13844 14.8941 3.49322C13.9748 2.84799 12.9282 2.40687 11.8243 2.19945ZM13.9243 13.1328C13.6215 13.4039 13.2522 13.59 12.854 13.672C12.4558 13.7539 12.043 13.7289 11.6577 13.5994C9.9118 13.1071 8.39706 12.0116 7.38268 10.5078C6.99533 9.97577 6.684 9.39239 6.45768 8.77445C6.33506 8.41592 6.31295 8.03067 6.39374 7.66047C6.47454 7.29028 6.65516 6.94927 6.91602 6.67445C7.043 6.51237 7.21586 6.3923 7.41206 6.32988C7.60827 6.26745 7.81872 6.26556 8.01602 6.32445C8.18268 6.36611 8.29935 6.60778 8.44935 6.79111C8.57157 7.13556 8.71324 7.47167 8.87435 7.79945C8.99637 7.96653 9.04733 8.17511 9.0161 8.37964C8.98488 8.58417 8.874 8.76804 8.70768 8.89111C8.33268 9.22445 8.39102 9.49945 8.65768 9.87445C9.2469 10.724 10.0605 11.3934 11.0077 11.8078C11.2744 11.9244 11.4743 11.9494 11.6493 11.6744C11.7243 11.5661 11.8243 11.4744 11.9077 11.3744C12.391 10.7661 12.241 10.7744 13.0077 11.1078C13.2521 11.2106 13.4882 11.33 13.716 11.4661C13.941 11.5994 14.2827 11.7411 14.3327 11.9411C14.3808 12.1581 14.3681 12.3841 14.2961 12.5944C14.224 12.8046 14.0954 12.9909 13.9243 13.1328Z",fill:"#0D0D0D"})})})},u=r(93645),h=function(e){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsxs)("g",{clipPath:"url(#clip0_1_3)",children:[(0,s.jsx)("path",{d:"M10 20C15.5228 20 20 15.5228 20 10C20 4.47715 15.5228 0 10 0C4.47715 0 0 4.47715 0 10C0 15.5228 4.47715 20 10 20Z",fill:"black"}),(0,s.jsx)("path",{d:"M16.6667 10C16.6664 9.71408 16.582 9.43457 16.4241 9.19621C16.2662 8.95785 16.0417 8.77116 15.7786 8.65937C15.5154 8.54757 15.2252 8.51559 14.944 8.56741C14.6628 8.61924 14.4031 8.75257 14.1971 8.95083C13.0456 8.16691 11.6899 7.7369 10.2971 7.71375L10.9612 4.58875L13.1317 5.05041C13.1435 5.30366 13.2472 5.54391 13.4235 5.72613C13.5998 5.90835 13.8365 6.02003 14.0892 6.04024C14.3419 6.06045 14.5933 5.98779 14.7963 5.8359C14.9993 5.684 15.1399 5.46329 15.1918 5.21514C15.2437 4.96698 15.2033 4.70841 15.0782 4.4879C14.9531 4.26739 14.7519 4.10007 14.5123 4.0173C14.2726 3.93453 14.011 3.94199 13.7765 4.0383C13.542 4.1346 13.3506 4.31312 13.2383 4.54041L10.8129 4.02458C10.7454 4.01025 10.675 4.02331 10.6171 4.06089C10.5592 4.09847 10.5186 4.1575 10.5042 4.225L9.7625 7.7125C8.35006 7.7251 6.97288 8.15507 5.80416 8.94833C5.65101 8.80012 5.46724 8.68728 5.26578 8.61776C5.06431 8.54823 4.85006 8.5237 4.6381 8.54591C4.42614 8.56811 4.22162 8.6365 4.03893 8.74626C3.85625 8.85603 3.69985 9.0045 3.58073 9.18122C3.46162 9.35795 3.38268 9.55864 3.34949 9.76916C3.31629 9.97968 3.32964 10.1949 3.3886 10.3997C3.44755 10.6045 3.55068 10.7939 3.69072 10.9546C3.83077 11.1152 4.00432 11.2432 4.19916 11.3296C4.17701 11.4756 4.16615 11.6231 4.16666 11.7708C4.16666 14.0146 6.77666 15.8333 10 15.8333C13.2233 15.8333 15.8333 14.0146 15.8333 11.7708C15.8331 11.6241 15.8217 11.4775 15.7992 11.3325C16.0572 11.2182 16.2765 11.0314 16.4305 10.7949C16.5845 10.5583 16.6665 10.2822 16.6667 10ZM6.66666 11.0417C6.66666 10.8356 6.72776 10.6342 6.84222 10.4629C6.95668 10.2916 7.11936 10.1581 7.3097 10.0793C7.50004 10.0004 7.70949 9.97982 7.91155 10.02C8.11361 10.0602 8.29922 10.1594 8.4449 10.3051C8.59058 10.4508 8.68979 10.6364 8.72998 10.8384C8.77018 11.0405 8.74955 11.25 8.67071 11.4403C8.59186 11.6306 8.45835 11.7933 8.28705 11.9078C8.11575 12.0222 7.91435 12.0833 7.70833 12.0833C7.43206 12.0833 7.16711 11.9736 6.97176 11.7782C6.77641 11.5829 6.66666 11.3179 6.66666 11.0417ZM12.475 13.7942C11.7642 14.5025 10.4017 14.5596 10.0012 14.5596C9.60083 14.5596 8.23791 14.5042 7.52791 13.7942C7.50285 13.7691 7.48298 13.7393 7.46943 13.7065C7.45588 13.6738 7.44891 13.6386 7.44893 13.6032C7.44895 13.5677 7.45595 13.5326 7.46954 13.4999C7.48313 13.4671 7.50303 13.4373 7.52812 13.4123C7.55321 13.3872 7.58299 13.3674 7.61576 13.3538C7.64853 13.3402 7.68364 13.3333 7.7191 13.3333C7.75456 13.3333 7.78967 13.3403 7.82243 13.3539C7.85518 13.3675 7.88494 13.3874 7.91 13.4125C8.35791 13.8604 9.31666 14.0196 10.0012 14.0196C10.6858 14.0196 11.6446 13.8604 12.0937 13.4121C12.1186 13.3858 12.1484 13.3648 12.1815 13.3502C12.2145 13.3357 12.2502 13.3279 12.2863 13.3274C12.3225 13.3269 12.3583 13.3337 12.3918 13.3473C12.4253 13.3609 12.4557 13.3811 12.4812 13.4067C12.5067 13.4323 12.5269 13.4627 12.5404 13.4962C12.554 13.5297 12.5606 13.5656 12.5601 13.6018C12.5595 13.6379 12.5516 13.6735 12.537 13.7066C12.5224 13.7396 12.5013 13.7694 12.475 13.7942ZM12.2917 12.0833C12.0856 12.0833 11.8842 12.0222 11.7129 11.9078C11.5416 11.7933 11.4081 11.6306 11.3293 11.4403C11.2504 11.25 11.2298 11.0405 11.27 10.8384C11.3102 10.6364 11.4094 10.4508 11.5551 10.3051C11.7008 10.1594 11.8864 10.0602 12.0884 10.02C12.2905 9.97982 12.5 10.0004 12.6903 10.0793C12.8806 10.1581 13.0433 10.2916 13.1578 10.4629C13.2722 10.6342 13.3333 10.8356 13.3333 11.0417C13.3333 11.3179 13.2236 11.5829 13.0282 11.7782C12.8329 11.9736 12.5679 12.0833 12.2917 12.0833Z",fill:"white"})]}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_1_3",children:(0,s.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})},p=r(3548),x=r(18920),m=r(49637),f=r(2265),v=r(9906),g=r(98831),j=r(66913),w=r(27648);function C(e){let{...t}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",...t,children:(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.04199 4.16659C9.04199 3.36117 9.69491 2.70825 10.5003 2.70825C11.3057 2.70825 11.9587 3.36117 11.9587 4.16659C11.9587 4.972 11.3057 5.62492 10.5003 5.62492C9.69491 5.62492 9.04199 4.972 9.04199 4.16659ZM9.04199 9.99992C9.04199 9.1945 9.69491 8.54158 10.5003 8.54158C11.3057 8.54158 11.9587 9.1945 11.9587 9.99992C11.9587 10.8053 11.3057 11.4583 10.5003 11.4583C9.69491 11.4583 9.04199 10.8053 9.04199 9.99992ZM9.04199 15.8333C9.04199 15.0278 9.69491 14.3749 10.5003 14.3749C11.3057 14.3749 11.9587 15.0278 11.9587 15.8333C11.9587 16.6387 11.3057 17.2916 10.5003 17.2916C9.69491 17.2916 9.04199 16.6387 9.04199 15.8333Z",fill:"white"})})}function b(e){let{url:t,platforms:r,className:l="",useNativeShareOnMobile:b=!1,currentStep:y,sharingUrl:k,downloadUrl:N,variant:Z="default"}=e,L=(0,i.usePathname)(),[M,S]=(0,f.useState)(!1),{isMobile:_}=(0,m.h)(),V=()=>{navigator.clipboard&&(navigator.clipboard.writeText(t),S(!0),setTimeout(()=>S(!1),2e3),(0,p.Z)({eventName:x.rK.ShareLink,properties:{resultUrl:t,currentPage:L}}))},E=e=>{(0,p.Z)({eventName:x.rK["ShareOn".concat(e.charAt(0).toUpperCase()+e.slice(1))],properties:{resultUrl:t,currentPage:L,currentStep:y}})},P=async()=>{if(_&&k){let e=await fetch(k),t=new File([await e.blob()],"pika-video.mp4",{type:"video/mp4"});if(navigator.share)try{await navigator.share({files:[t]})}catch(e){console.error("Error sharing:",e)}}(0,p.Z)({eventName:x.rK.DownloadVideo,properties:{cdnUrl:N,resultUrl:k,currentPage:L}})},I=async()=>{if(navigator.share)try{await navigator.share({url:t,title:"Check this out!"}),(0,p.Z)({eventName:x.rK.ShareOnNative,properties:{resultUrl:t,currentPage:L,currentStep:y}})}catch(e){console.error("Error sharing:",e)}},F={twitter:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(w.default,{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-black p-3",href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t)),onClick:()=>E("Twitter"),target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(o.Z,{})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:"X (Twitter)"})]}):(0,s.jsx)(a.Z,{icon:(0,s.jsx)(o.Z,{fill:"black"}),className:"flex-1",purpose:"link",href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t)),onClick:()=>E("Twitter"),target:"_blank",rel:"noopener noreferrer"},"twitter"),facebook:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(w.default,{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-[#3273F1] p-3",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t)),onClick:()=>E("Facebook"),target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(d.Z,{})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:"Facebook"})]}):(0,s.jsx)(a.Z,{icon:(0,s.jsx)(d.Z,{fill:"black"}),className:"flex-1",purpose:"link",href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t)),onClick:()=>E("Facebook"),target:"_blank",rel:"noopener noreferrer"},"facebook"),whatsapp:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(w.default,{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-[#23D366] p-3",href:"https://api.whatsapp.com/send?text=".concat(encodeURIComponent(t)),onClick:()=>E("WhatsApp"),target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(c,{className:"[&_path]:fill-white"})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:"WhatsApp"})]}):(0,s.jsx)(a.Z,{icon:(0,s.jsx)(c,{fill:"black"}),className:"flex-1",purpose:"link",href:"https://api.whatsapp.com/send?text=".concat(encodeURIComponent(t)),onClick:()=>E("WhatsApp"),target:"_blank",rel:"noopener noreferrer"},"whatsapp"),reddit:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)(w.default,{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-[#EB5528] p-3",href:"https://www.reddit.com/submit?url=".concat(encodeURIComponent(t)),onClick:()=>E("Reddit"),target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(h,{className:"[&_path:first-of-type]:fill-[#EB5528]"})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:"Reddit"})]}):(0,s.jsx)(a.Z,{icon:(0,s.jsx)(h,{}),className:"flex-1",purpose:"link",href:"https://www.reddit.com/submit?url=".concat(encodeURIComponent(t)),onClick:()=>E("Reddit"),target:"_blank",rel:"noopener noreferrer"},"reddit"),copy:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)("button",{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-light-emphasis p-3 hover:bg-dark-elements-hover",onClick:V,children:M?(0,s.jsx)(v.Z,{}):(0,s.jsx)(g.Z,{})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:_&&M?"Copy success":"Copy link"})]}):(0,s.jsx)(a.Z,{icon:M?(0,s.jsx)(v.Z,{}):(0,s.jsx)(g.Z,{className:"[&_path]:stroke-black"}),className:"flex-1",onClick:V},"copy"),download:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[_?(0,s.jsx)("button",{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-light-emphasis p-3 hover:bg-dark-elements-hover",onClick:P,children:(0,s.jsx)(j.Z,{className:"stroke-white"})}):(0,s.jsx)(w.default,{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-light-emphasis p-3 hover:bg-dark-elements-hover",onClick:P,href:"".concat(N,"?download"),children:(0,s.jsx)(j.Z,{className:"stroke-white"})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:"Download"})]}):(0,s.jsx)(a.Z,{icon:(0,s.jsx)(j.Z,{}),className:"flex-1",onClick:P},"download"),more:"circle"===Z?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center gap-2",children:[(0,s.jsx)("button",{className:"flex h-[52px] w-[52px] items-center justify-center rounded-full bg-light-emphasis p-3 hover:bg-dark-elements-hover",onClick:I,children:(0,s.jsx)(C,{})}),(0,s.jsx)("p",{className:"text-xs-mobile text-light-primary lg:text-xs",children:"More"})]}):(0,s.jsx)(a.Z,{icon:(0,s.jsx)(C,{}),className:"flex-1",onClick:I},"more")};return _&&b?(0,s.jsx)("div",{className:n()("flex",l),children:(0,s.jsx)(a.Z,{icon:(0,s.jsx)(u.Z,{stroke:"black"}),className:"w-full",onClick:I,children:"Share"})}):(0,s.jsx)("div",{className:n()("flex justify-between gap-3",l),children:r.map(e=>F[e])})}},54364:function(e,t,r){r.d(t,{Z:function(){return f}});var s=r(57437),l=r(2265),n=r(54887),i=r(53014),a=r(81405),o=r(3548),d=r(18920),c=r(51123),u=r(9906),h=r(20113),p=r(99376);function x(e){let{url:t}=e,[r,n]=(0,l.useState)(!1),i=(0,p.usePathname)();return(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-md bg-dark-elements py-1 pl-3.5 pr-1",children:[(0,s.jsx)("input",{type:"url",disabled:!0,className:"flex-1 appearance-none overflow-hidden text-ellipsis border-none bg-transparent text-white outline-none",value:t}),(0,s.jsx)(c.Z,{small:!0,icon:r?(0,s.jsx)(u.Z,{className:"stroke-black"}):(0,s.jsx)(h.Z,{className:"fill-black stroke-black"}),className:"group ml-auto",onClick:()=>{navigator.clipboard&&(navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3),(0,o.Z)({eventName:d.rK.ShareLink,properties:{resultUrl:t,currentPage:i}}))},children:"Copy"})]})}var m=r(93770);function f(e){let t,{isOpen:r,close:o,videoId:d,valentine:c=!1,pikaffect:u,sharingUrl:h}=e;if((0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&o()};return r?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r]),!r||!d)return null;let p=(0,m.Z)();return t=c?"".concat(p,"/valentine-video/").concat(d):u?"".concat(p,"/video/pikaffect-").concat(u.toLowerCase().split("-").join(""),"-").concat(d):"".concat(p,"/video/").concat(d),n.createPortal((0,s.jsx)("div",{className:"fixed left-0 top-0 z-[9999] flex h-screen w-full items-center justify-center bg-black bg-opacity-40 p-3.75 backdrop-blur-xl md:p-10",onClick:o,children:(0,s.jsxs)("div",{className:"absolute left-1/2 top-1/2 flex max-h-full w-full max-w-sm -translate-x-1/2 -translate-y-1/2 flex-col gap-6 rounded-[.625rem] bg-dark-pop-up p-5 transition-all",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{className:"absolute right-2 top-2 opacity-60 transition-opacity hover:opacity-100",onClick:o,children:(0,s.jsx)(i.Z,{})}),(0,s.jsx)("h2",{className:"text-heading-modal",children:"Share"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-3 text-m-mobile lg:text-m",children:"Share the video via"}),(0,s.jsx)(a.Z,{className:"flex gap-3",url:t,platforms:["twitter","facebook","reddit"],sharingUrl:h})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"mb-2 text-m-mobile lg:text-m",children:"Or copy link"}),(0,s.jsx)(x,{url:t})]})]})}),document.querySelector("#modal-root"))}},78437:function(e,t,r){var s=r(57437),l=r(2265),n=r(33145),i=r(31462),a=r(53014),o=r(65852),d=r(47525),c=r(69957),u=r(89593);let h=e=>{var t,r,d,h,p;let x,{generationId:m,videoId:f,video:v,close:g}=e,{upscale:j,retry:w,deleteVideo:C}=(0,i.t)(),b=(0,u.e)(),y=async()=>(g(),await w(m)),k=async()=>(g(),await j(f)),N=async e=>{g(),await (null==C?void 0:C({generationId:m,videoId:e}))},[Z,L]=(0,l.useState)(null);(0,l.useEffect)(()=>{var e;if(!(null==v?void 0:null===(e=v.params)||void 0===e?void 0:e.userId))return L(null);b.rpc("get_user_by_id",{user_id:v.params.userId}).single().then(e=>{let{data:t}=e;return L(t)})},[b,v]),(null==Z?void 0:Z.avatar)&&(x=null===(t=b.storage.from("avatars").getPublicUrl(null==Z?void 0:Z.avatar,{transform:{height:40,width:40}}).data)||void 0===t?void 0:t.publicUrl);let{profile:M}=(0,c.E)();return(0,s.jsxs)("div",{className:"relative max-h-full w-full max-w-4xl rounded-[.625rem] bg-dark-pop-up p-5",children:[(0,s.jsx)("button",{className:"absolute right-2 top-2",onClick:g,children:(0,s.jsx)(a.Z,{})}),(null==Z?void 0:Z.full_name)?(0,s.jsxs)("div",{className:"mb-5 flex items-center gap-2",children:[x?(0,s.jsx)(n.default,{className:"rounded-full object-cover",src:x,width:20,height:20,alt:Z.full_name||""}):null,(0,s.jsx)("p",{children:Z.full_name})]}):(0,s.jsx)("div",{className:"mb-5 h-5"}),(0,s.jsx)(o.Z,{deleteVideo:(null==M?void 0:M.userId)===(null===(r=v.params)||void 0===r?void 0:r.userId)?N:void 0,generation:{id:f,promptText:(null===(d=v.params)||void 0===d?void 0:d.promptText)||"",videoUrl:v.videoUrl||"",feedback:v.feedback,extended:v.extended,upscaled:v.upscaled,adjusted:!!(null===(h=v.params)||void 0===h?void 0:h.mode),params:v.params,seed:v.seed,favorited:v.favorited,folders:v.folders,sharingUrl:v.sharingUrl,resolution:v.resolution},className:"!px-0",regenerate:y,upscale:k,allowFullscreen:!1,autoPlayVideo:!0,redirectActionsToHistory:!0,isCurrentUserGeneration:(null==M?void 0:M.userId)===(null===(p=v.params)||void 0===p?void 0:p.userId)})]})};t.Z=function(e){let{isOpen:t,close:r,videoId:n,video:i,generationId:a,showInFolder:o}=e;(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t?document.addEventListener("keydown",e):document.removeEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t]);let{isFolderPage:c}=(0,d.j)();return t&&n&&a&&i&&(!c||o)&&(c||!o)?(0,s.jsxs)("div",{className:"fixed bottom-0 left-0 top-0 z-50 flex w-full items-center justify-center bg-black bg-opacity-50 px-4 backdrop-blur-xl md:px-6",children:[(0,s.jsx)("div",{className:"fixed bottom-0 left-0 top-0 z-[-1] w-full bg-black bg-opacity-50",onClick:r}),(0,s.jsx)(h,{videoId:n,video:i,generationId:a,close:r})]}):null}},97149:function(e,t,r){var s=r(57437),l=r(90452),n=r(84772),i=r.n(n),a=r(2265);t.Z=function(e){let{className:t,children:r,tooltip:n,tooltipClassName:o,hideArrow:d,...c}=e,[u,h]=(0,a.useState)(!1),p=(0,a.useRef)(null);return(0,l.Z)(p,()=>h(!1)),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:i()("hidden-on-touchscreen group relative",t),...c,ref:p,children:[r,n?(0,s.jsx)("div",{className:i()("absolute bottom-full left-1/2 -translate-x-1/2 -translate-y-1 rounded-md bg-dark-pop-up bg-opacity-50 px-1.5 py-1 text-s-mobile backdrop-blur-2xl after:absolute after:left-1/2 after:top-full after:-translate-x-1/2 after:border-x-[3px] after:border-t-[5px] after:border-x-transparent after:border-t-dark-elements lg:text-s","hidden-on-touchscreen hidden group-hover:block",o,{"after:hidden":d}),children:n}):null]}),(0,s.jsxs)("div",{className:i()("block-on-touchscreen group relative hidden",t),...c,onClick:e=>{var t;null===(t=c.onClick)||void 0===t||t.call(c,e),h(!u)},ref:p,children:[r,n?(0,s.jsx)("div",{className:i()("absolute bottom-full left-1/2 -translate-x-1/2 -translate-y-1 rounded-md bg-dark-pop-up bg-opacity-50 px-1.5 py-1 text-s-mobile backdrop-blur-2xl after:absolute after:left-1/2 after:top-full after:-translate-x-1/2 after:border-x-[3px] after:border-t-[5px] after:border-x-transparent after:border-t-dark-elements lg:text-s",o,{"block-on-touchscreen":u,hidden:!u,"after:hidden":d}),children:n}):null]})]})}},9906:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M16.6663 5L7.49967 14.1667L3.33301 10",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},20113:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",stroke:"white",fill:"white",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_4817_1689)",children:(0,s.jsx)("path",{d:"M3.33366 13.3333C2.41699 13.3333 1.66699 12.5833 1.66699 11.6666V3.33329C1.66699 2.41663 2.41699 1.66663 3.33366 1.66663H11.667C12.5837 1.66663 13.3337 2.41663 13.3337 3.33329M8.33366 6.66663H16.667C17.5875 6.66663 18.3337 7.41282 18.3337 8.33329V16.6666C18.3337 17.5871 17.5875 18.3333 16.667 18.3333H8.33366C7.41318 18.3333 6.66699 17.5871 6.66699 16.6666V8.33329C6.66699 7.41282 7.41318 6.66663 8.33366 6.66663Z",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_4817_1689",children:(0,s.jsx)("rect",{width:"20",height:"20"})})})]})}},66913:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"#0D0D0D",...e,children:(0,s.jsx)("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5M5.83333 8.33333L10 12.5M10 12.5L14.1667 8.33333M10 12.5V2.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},15222:function(e,t,r){var s=r(57437);r(2265),t.Z=e=>(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",stroke:"#fff",fill:"#fff",...e,children:[(0,s.jsx)("g",{clipPath:"url(#a)",children:(0,s.jsx)("path",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:.6,strokeWidth:1.5,d:"M10 6.666V10m0 3.333h.008M18.333 10a8.333 8.333 0 1 0-16.667 0 8.333 8.333 0 0 0 16.667 0Z"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"a",children:(0,s.jsx)("path",{stroke:"none",d:"M0 0h20v20H0z"})})})]})},98191:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M8.33334 1.66669H11.6667M10 11.6667V8.33335M3.33334 10.8334C3.5374 9.21333 4.32889 7.72453 5.55772 6.6493C6.78654 5.57408 8.36724 4.98722 10 5.00002C11.0784 5.00117 12.1404 5.26389 13.0949 5.76565C14.0494 6.26742 14.868 6.99325 15.4804 7.88087C16.0927 8.7685 16.4807 9.79143 16.6108 10.8619C16.741 11.9324 16.6096 13.0185 16.2278 14.027C15.846 15.0355 15.2252 15.9364 14.4188 16.6523C13.6123 17.3682 12.6442 17.8778 11.5976 18.1374C10.5509 18.3969 9.45688 18.3987 8.40937 18.1425C7.36186 17.8864 6.39212 17.38 5.58334 16.6667L3.33334 14.6667M7.50001 14.1667H3.33334V18.3334",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},57499:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M16.0007 18.0118H10.5007H3.00065C2.55863 18.0118 2.13469 17.8362 1.82214 17.5237C1.50959 17.2111 1.33398 16.7872 1.33398 16.3452V5.51184C1.33398 5.06981 1.50959 4.64589 1.82214 4.33333C2.13469 4.02077 2.55863 3.84517 3.00065 3.84517H6.25065C6.52938 3.84244 6.80437 3.90966 7.0504 4.04069C7.29643 4.17172 7.50569 4.36236 7.65898 4.59517L8.33398 5.59517C8.48574 5.82561 8.69234 6.01477 8.93524 6.14568C9.17813 6.27658 9.44973 6.34513 9.72565 6.34517H16.334C16.776 6.34517 17.1999 6.52077 17.5125 6.83333C17.825 7.14589 18.0007 7.56981 18.0007 8.01184V15.8452M15.9999 18C16.5303 18 17.039 17.7893 17.4141 17.4142C17.7892 17.0391 17.9999 16.5304 17.9999 16",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},96683:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,s.jsx)("path",{d:"M8.49984 16.6666H3.33317C2.89114 16.6666 2.46722 16.491 2.15466 16.1785C1.8421 15.8659 1.6665 15.442 1.6665 15V4.16662C1.6665 3.7246 1.8421 3.30067 2.15466 2.98811C2.46722 2.67555 2.89114 2.49996 3.33317 2.49996H6.58317C6.86191 2.49723 7.13688 2.56445 7.38292 2.69547C7.62896 2.8265 7.8382 3.01715 7.9915 3.24996L8.6665 4.24996C8.81826 4.4804 9.02486 4.66956 9.26775 4.80046C9.51065 4.93136 9.78225 4.99991 10.0582 4.99996H16.6665C17.1085 4.99996 17.5325 5.17555 17.845 5.48811C18.1576 5.80067 18.3332 6.2246 18.3332 6.66663V8.49996",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M11 13.3333H17.6667M14.3333 10V16.6667",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}},23423:function(e,t,r){r.d(t,{Z:function(){return l}});var s=r(57437);function l(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:20,height:20,fill:"none",...e,children:[(0,s.jsx)("path",{d:"M6.91667 8.33329C6.80924 8.33916 6.70229 8.3152 6.60763 8.26406C6.51297 8.21293 6.4343 8.13662 6.38031 8.04356C6.32632 7.9505 6.29912 7.84433 6.30171 7.73677C6.3043 7.62922 6.33659 7.52448 6.395 7.43413L9.5 2.49996C9.54879 2.4121 9.61945 2.33834 9.70514 2.28582C9.79082 2.2333 9.88862 2.20381 9.98905 2.2002C10.0895 2.1966 10.1891 2.219 10.2784 2.26524C10.3676 2.31148 10.4434 2.37999 10.4983 2.46413L13.5833 7.41663C13.6441 7.50395 13.6799 7.60625 13.6867 7.71244C13.6936 7.81863 13.6713 7.92468 13.6222 8.01909C13.5731 8.1135 13.4991 8.19268 13.4082 8.24806C13.3174 8.30345 13.2131 8.33292 13.1067 8.33329H6.91667Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M7.5 11.6666H3.33333C2.8731 11.6666 2.5 12.0397 2.5 12.5V16.6666C2.5 17.1269 2.8731 17.5 3.33333 17.5H7.5C7.96024 17.5 8.33333 17.1269 8.33333 16.6666V12.5C8.33333 12.0397 7.96024 11.6666 7.5 11.6666Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M14.5833 17.5C16.1942 17.5 17.5 16.1941 17.5 14.5833C17.5 12.9725 16.1942 11.6666 14.5833 11.6666C12.9725 11.6666 11.6667 12.9725 11.6667 14.5833C11.6667 16.1941 12.9725 17.5 14.5833 17.5Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}r(2265)},9379:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M2.5 5.83333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H5.83333M14.1667 2.5H15.8333C16.2754 2.5 16.6993 2.67559 17.0118 2.98816C17.3244 3.30072 17.5 3.72464 17.5 4.16667V5.83333M17.5 14.1667V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H14.1667M5.83333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V14.1667M6.66667 6.66667H13.3333C13.7936 6.66667 14.1667 7.03976 14.1667 7.5V12.5C14.1667 12.9602 13.7936 13.3333 13.3333 13.3333H6.66667C6.20643 13.3333 5.83333 12.9602 5.83333 12.5V7.5C5.83333 7.03976 6.20643 6.66667 6.66667 6.66667Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},583:function(e,t,r){var s=r(57437);r(2265),t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2 9c6.5 0 6 1.5 8 1.5S11.5 9 18 9m.8 0S16 15.5 10 15.5C4 15.5 1.2 9 1.2 9S3.5 5 6 4.5 10 6 10 6s1.5-2 4-1.5S18.8 9 18.8 9Z"})})},28186:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M17.5 2.5L7.5 12.5M17.5 2.5H13.3333M17.5 2.5V6.66667M7.5 12.5H11.6667M7.5 12.5V8.33333M10 2.5H2.5V17.5H17.5V10",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},73978:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",...e,children:(0,s.jsx)("path",{d:"M6.66697 17.2217C5.55585 17.8637 4.1665 17.0619 4.1665 15.7786V4.22092C4.1665 2.93768 5.55585 2.13583 6.66696 2.7778L16.6688 8.55669C17.7793 9.19828 17.7793 10.8013 16.6688 11.4429L6.66697 17.2217Z",fill:"white"})})}},98831:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,s.jsx)("g",{clipPath:"url(#clip0_13589_82714)",children:(0,s.jsx)("path",{d:"M8.3335 10.8332C8.69138 11.3117 9.14796 11.7075 9.67229 11.994C10.1966 12.2805 10.7764 12.4508 11.3724 12.4935C11.9683 12.5362 12.5665 12.4502 13.1263 12.2414C13.6861 12.0326 14.1944 11.7058 14.6168 11.2832L17.1168 8.78322C17.8758 7.99738 18.2958 6.94487 18.2863 5.85238C18.2768 4.7599 17.8386 3.71485 17.0661 2.94231C16.2935 2.16978 15.2485 1.73157 14.156 1.72208C13.0635 1.71259 12.011 2.13256 11.2252 2.89156L9.79183 4.31656M11.6668 9.16656C11.309 8.68812 10.8524 8.29224 10.328 8.00577C9.80371 7.71931 9.22391 7.54896 8.62796 7.50628C8.03201 7.4636 7.43384 7.54958 6.87405 7.75841C6.31425 7.96723 5.8059 8.294 5.3835 8.71656L2.8835 11.2166C2.12451 12.0024 1.70453 13.0549 1.71402 14.1474C1.72352 15.2399 2.16172 16.2849 2.93426 17.0575C3.70679 17.83 4.75184 18.2682 5.84433 18.2777C6.93682 18.2872 7.98932 17.8672 8.77517 17.1082L10.2002 15.6832",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,s.jsx)("defs",{children:(0,s.jsx)("clipPath",{id:"clip0_13589_82714",children:(0,s.jsx)("rect",{width:"20",height:"20",fill:"white"})})})]})}},44522:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M17.5 10C17.5 11.4834 17.0601 12.9334 16.236 14.1668C15.4119 15.4001 14.2406 16.3614 12.8701 16.9291C11.4997 17.4968 9.99168 17.6453 8.53683 17.3559C7.08197 17.0665 5.7456 16.3522 4.6967 15.3033C3.64781 14.2544 2.9335 12.918 2.64411 11.4632C2.35472 10.0083 2.50325 8.50032 3.07091 7.12987C3.63856 5.75943 4.59986 4.58809 5.83323 3.76398C7.0666 2.93987 8.51664 2.5 10 2.5C12.1 2.5 14.1083 3.33333 15.6167 4.78333L17.5 6.66667M17.5 6.66667V2.5M17.5 6.66667H13.3333",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},21751:function(e,t,r){var s=r(57437);r(2265),t.Z=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",stroke:"#fff",...e,children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2 12.8a1.6 1.6 0 0 0 1.6-1.6V10a1.6 1.6 0 1 1 3.2 0v6.4a1.6 1.6 0 0 0 3.2 0V3.6a1.6 1.6 0 0 1 3.2 0V10a1.6 1.6 0 0 0 3.2 0V8.8A1.6 1.6 0 0 1 18 7.2M3.667 2v3.333m12.666 9.334V18M2 3.667h3.333m9.334 12.666H18"})})},93645:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 18",fill:"none",...e,children:(0,s.jsx)("path",{d:"M1.60223 15.8909C3.02645 14.4303 6.76523 11.3317 12.0779 11.3317V15.331L19 8.66549L12.0779 2V5.99929C7.50935 5.99929 1.65241 10.2027 1.0026 15.6259C0.993608 15.6962 1.00806 15.7673 1.04386 15.8291C1.07967 15.8909 1.13497 15.9401 1.20176 15.9696C1.26855 15.9991 1.34336 16.0074 1.41535 15.9933C1.48735 15.9791 1.5528 15.9432 1.60223 15.8909Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},27184:function(e,t,r){var s=r(57437);t.Z=function(e){let{filled:t,...r}=e;return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"white",stroke:"white",...r,children:t?(0,s.jsx)("path",{d:"M9.50681 2.74406C9.70857 2.33531 10.2914 2.33531 10.4932 2.74406L12.5492 6.90941L17.1479 7.58157C17.5989 7.64749 17.7786 8.2018 17.4521 8.51979L14.125 11.7604L14.9101 16.3379C14.9871 16.7872 14.5155 17.1298 14.112 16.9176L10 14.7552L5.888 16.9176C5.4845 17.1298 5.01285 16.7872 5.08991 16.3379L5.875 11.7604L2.54787 8.51979C2.2214 8.2018 2.40113 7.64749 2.85208 7.58157L7.45075 6.90941L9.50681 2.74406Z",stroke:"none"}):(0,s.jsx)("path",{d:"M9.99936 2.45898L12.3169 7.15398L17.4994 7.91148L13.7494 11.564L14.6344 16.724L9.99936 14.2865L5.36436 16.724L6.24936 11.564L2.49936 7.91148L7.68186 7.15398L9.99936 2.45898Z",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})})}},97739:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",...e,children:(0,s.jsx)("g",{children:(0,s.jsx)("path",{d:"M2.5 4.99996H17.5M15.8333 4.99996V16.6666C15.8333 17.5 15 18.3333 14.1667 18.3333H5.83333C5 18.3333 4.16667 17.5 4.16667 16.6666V4.99996M6.66667 4.99996V3.33329C6.66667 2.49996 7.5 1.66663 8.33333 1.66663H11.6667C12.5 1.66663 13.3333 2.49996 13.3333 3.33329V4.99996M8.33333 9.16663V14.1666M11.6667 9.16663V14.1666",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})}},25161:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M17.5 17.5L13.875 13.875M9.16667 6.66667V11.6667M6.66667 9.16667H11.6667M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},31529:function(e,t,r){var s=r(57437);t.Z=function(e){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"white",...e,children:(0,s.jsx)("path",{d:"M17.5 17.5L13.875 13.875M6.66667 9.16667H11.6667M15.8333 9.16667C15.8333 12.8486 12.8486 15.8333 9.16667 15.8333C5.48477 15.8333 2.5 12.8486 2.5 9.16667C2.5 5.48477 5.48477 2.5 9.16667 2.5C12.8486 2.5 15.8333 5.48477 15.8333 9.16667Z",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},69957:function(e,t,r){r.d(t,{E:function(){return a},ProfileContextProvider:function(){return i}});var s=r(57437),l=r(2265);let n=l.createContext({profile:null});function i(e){let{children:t,profile:r}=e;return(0,s.jsx)(n.Provider,{value:{profile:r},children:t})}function a(){return(0,l.useContext)(n)}},49637:function(e,t,r){r.d(t,{h:function(){return l}});var s=r(2265);let l=()=>{let[e,t]=(0,s.useState)(0),r=()=>{t(window.innerWidth)};return(0,s.useEffect)(()=>(r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[]),{isMobile:e<=768,isTablet:e<=1024,isDesktop:e>1024}}},55680:function(e,t,r){var s,l;r.d(t,{l:function(){return s}}),(l=s||(s={}))[l.NONE=0]="NONE",l[l.RATE_LIMITED=1]="RATE_LIMITED",l[l.CONTENT_VIOLATION=2]="CONTENT_VIOLATION",l[l.NO_WEB_CREDITS=3]="NO_WEB_CREDITS",l[l.NO_DISCORD_CREDITS=4]="NO_DISCORD_CREDITS",l[l.UPGRADE_NEEDED=5]="UPGRADE_NEEDED",l[l.NO_EARLY_ACCESS=6]="NO_EARLY_ACCESS",l[l.DAILY_LIMIT_REACHED=7]="DAILY_LIMIT_REACHED",l[l.CONCURRENCY_LIMIT_REACHED=9]="CONCURRENCY_LIMIT_REACHED"},93770:function(e,t,r){r.d(t,{Z:function(){return l}});var s=r(40257);function l(){if(window.location)try{return window.location.origin||""}catch(e){return console.error("Error getting base URL:",e),""}return s.env.NEXT_PUBLIC_APP_BASE_URL||""}}}]);