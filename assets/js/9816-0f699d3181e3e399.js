"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9816],{24141:function(e,t,a){a(83079);var r=a(12119);t.Z=(0,r.$)("037e54807118aebb792bc043280980b8e6c485c1")},83160:function(e,t){var a,r;(r=a||(a={})).encrypt="encrypt",r.adjust="adjust",r.lipSync="lipSync",r.sfx="sfx",r.styles="styles",r.newModel="newModel",r.pikaffects="pikaffects",r.halloweenPikaffects="halloweenPikaffects",r.twoPointZero="twoPointZero",r.twoPointZeroFake="twoPointZeroFake",r.twoPointOne="twoPointOne",r.twoPointOneFake="twoPointOneFake",t.Z=a},47561:function(e,t,a){a.d(t,{k:function(){return d}});var r=a(57437),l=a(89593),n=a(2265),i=a(83160),o=a(56439),s=a(52528);let c=(0,n.createContext)({markAsUsed:()=>{},allowUsage:!1,dismissModal:()=>{},unDismissModal:()=>{},closeModal:()=>{},openModal:()=>{},modalDismissedMoreThanTwoDaysAgo:!0,isNew:!1,isOpen:!1,openBanner:()=>{},closeBanner:()=>{},isBannerOpen:!1,generatedWithNewModel:!1}),d=()=>(0,n.useContext)(c);t.default=function(e){var t;let{children:a,initialUsedFeatures:d,userId:p,earlyAccess:u,feature:f}=e,[h,m]=(0,n.useState)(d),[x,v]=(0,n.useState)(new Date),g=h.includes(i.Z.twoPointOne),b=!g&&!h.includes(i.Z.twoPointOneFake),[k,w]=(0,n.useState)(b),[y,j]=(0,n.useState)(!0);(0,n.useEffect)(()=>{{let e=localStorage.getItem("lastDiscarded-".concat(f));e?v(new Date(e)):v(null)}},[f]);let N=(0,n.useRef)((0,l.e)()),C=(0,n.useCallback)(async function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let r=new Set(h);t.forEach(e=>r.add(e));let l=Array.from(r);m(l);let{error:n,data:i}=await N.current.from("profiles").update({used_features:l},{}).eq("id",p);n&&m(h)},[p,h,N]),{subscription:S,isSuperCollaborator:P}=(0,o.m)(),Z=(0,s.wW)(S,"web"),T=(0,s.i0)(null!==(t=null==Z?void 0:Z.lookupKey)&&void 0!==t?t:"basic"),M=(null==T?void 0:T.tier)==="ultimate",U=!x||new Date().getTime()-x.getTime()>1728e5;return(0,r.jsx)(c.Provider,{value:{markAsUsed:C,allowUsage:!u||P||M,dismissModal:()=>{localStorage.setItem("lastDiscarded-".concat(f),new Date().toISOString()),v(new Date),w(!1)},unDismissModal:()=>{localStorage.removeItem("lastDiscarded-".concat(f)),v(null),w(!0)},closeModal:()=>{w(!1)},openModal:()=>{w(!0)},modalDismissedMoreThanTwoDaysAgo:U,isNew:b,isOpen:k,openBanner:()=>{j(!0)},closeBanner:()=>{j(!1)},isBannerOpen:y,generatedWithNewModel:g},children:a})}},93280:function(e,t,a){a.d(t,{U:function(){return m},Z:function(){return x}});var r=a(57437),l=a(2265),n=a(84772),i=a.n(n),o=a(31462),s=a(84842),c=a(72575),d=a(3548),p=a(18920),u=a(99816),f=a(90452),h=a(76189);let m={[s.Q.Peel]:"Peel it",[s.Q.Poke]:"Poke it",[s.Q.Tear]:"Tear it",[s.Q.Levitate]:"Levitate it",[s.Q.Decapitate]:"Decapitate it",[s.Q.EyePop]:"Eye-pop it",[s.Q.Explode]:"Explode it",[s.Q.Cake]:"Cake-ify it",[s.Q.Crush]:"Crush it",[s.Q.Inflate]:"Inflate it",[s.Q.Melt]:"Melt it",[s.Q.Squish]:"Squish it",[s.Q.Tada]:"Ta-da it",[s.Q.Deflate]:"Deflate it",[s.Q.Crumble]:"Crumble it",[s.Q.Dissolve]:"Dissolve it"};function x(e){let{isOpen:t,onClose:a,selectedEffect:n,setSelectedEffect:s,className:x,onChange:v,content:g}=e,{promptText:b,setPromptText:k}=(0,o.t)(),{currentStep:w}=(0,u.U)(),y=(0,l.useRef)(null),{model:j,setModel:N}=(0,h.t)();return(0,f.Z)(y,()=>null==a?void 0:a(),[c.Mh,c.xv]),(0,l.useEffect)(()=>{if(n){let e=m[n];if(!(null==b?void 0:b.startsWith(e))){null==s||s(null),N("2.1");return}"1.5"!==j&&N("1.5")}},[b,n,s,j,N]),(0,r.jsxs)("div",{ref:y,className:i()("absolute -left-4 bottom-10 z-50 h-[444px] w-[calc(100%+32px)] rounded-[.625rem] bg-dark-elements md:w-[345px]",{block:t,hidden:!t,"pr-1":c.Oz.length>6},x),style:{"--scrollbar-thickness":"6px"},children:[g,(0,r.jsxs)("div",{className:i()("h-full w-full p-3",{"overflow-y-scroll":c.Oz.length>6}),children:[(0,r.jsx)("input",{type:"text",hidden:!0,readOnly:!0,name:"pikaffect",value:n||""}),(0,r.jsx)("div",{className:i()("grid w-full grid-cols-2 gap-3",{"h-full":c.Oz.length<=6}),children:c.Oz.map(e=>{let{title:t,video:l,poster:o,isNew:c}=e;return(0,r.jsxs)("button",{className:i()("relative flex h-full flex-col gap-3 overflow-visible rounded-[10px] p-3 transition-colors hover:bg-dark-background-hover",{"bg-dark-elements-upper":n!==t,"bg-dark-background-hover":n===t,group:c}),onClick:()=>{if(v){v(t);return}(0,d.Z)({eventName:p.Gm.PikaffectUse,properties:{pikaffect:t,isOnboarding:null!==w}}),k("".concat(m[t])),null==s||s(t),null==a||a()},type:"button",children:[c&&(0,r.jsx)("span",{className:"absolute right-1.5 top-1.5 rounded-md bg-accent-primary px-1.5 py-0.5 text-s font-medium uppercase text-dark-background",children:"New"}),(0,r.jsx)("video",{className:"h-[72px] w-full rounded-md object-cover",src:l,poster:o,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,r.jsx)("span",{className:"whitespace-nowrap font-normal",children:m[t]})]},t)})})]})]})}},30627:function(e,t,a){var r=a(57437),l=a(84772),n=a.n(l),i=a(19103),o=a(11343);t.Z=function(e){let{type:t="submit",isLockTimerActive:a,lockTimer:l,loading:s,onClick:c,className:d,disabled:p}=e;return a?(0,r.jsxs)("span",{className:n()("flex cursor-not-allowed items-center justify-center gap-1.5 rounded-md border border-white border-opacity-[15%] bg-dark-elements px-1.5 py-1.5 font-extra-thick !text-light-tertiary text-dark-background transition-colors",d),children:[(0,r.jsx)(o.Z,{}),l?"".concat(l," sec"):null]}):(0,r.jsxs)("button",{type:t,disabled:s,className:n()("group relative flex h-8 w-8 items-center justify-center overflow-hidden rounded-md bg-dark-background font-extra-thick transition-colors disabled:cursor-not-allowed",d),onClick:c,children:[(0,r.jsx)("span",{className:n()("absolute left-0 top-0 flex h-full w-full items-center justify-center bg-accent-primary transition-all group-hover:scale-[2] group-hover:opacity-0 group-disabled:hidden",{"scale-0 opacity-0":p}),children:(0,r.jsx)(i.Z,{className:"fill-dark-background"})}),(0,r.jsx)("span",{className:n()("absolute left-0 top-0 flex h-full w-full items-center justify-center transition-all group-hover:scale-100 group-hover:opacity-100 group-hover:ease-[cubic-bezier(0,0,0.75,1.75)] group-disabled:scale-100 group-disabled:animate-generateLoading group-disabled:opacity-100",p?"scale-100 opacity-100":"scale-0 opacity-0"),children:(0,r.jsx)(i.Z,{className:"fill-light-primary"})})]})}},76189:function(e,t,a){a.d(t,{ModelProvider:function(){return c},t:function(){return d}});var r=a(57437),l=a(2265),n=a(71332),i=a(57454),o=a(4154);let s=(0,l.createContext)({model:n.kk[0].value,setModel:()=>{},modelMode:n._3[0].value,setModelMode:()=>{},isUpgradeModalOpen:!1,setIsUpgradeModalOpen:()=>{},formMode:n.hN.Normal,setFormMode:()=>{},ingredients:[],setIngredients:()=>{}});function c(e){let{children:t}=e,[a,c]=(0,l.useState)("2.1"),[d,p]=(0,l.useState)("precise"),[u,f]=(0,l.useState)(!1),[h,m]=(0,l.useState)(n.hN.Normal),[x,v]=(0,l.useState)([]),g="1.0"===a||"2.1"===a||"Turbo"===a?"Get Access to model ".concat(a):"Concurrency limit reached",b="1.0"===a||"2.1"===a||"Turbo"===a?"Sorrrry! Pika ".concat(a," is only available to people on paid plans right now. Upgrade to get in."):"Heads up! Youâ€™re above our concurrent generation limit right now. Wait for your other videos to finish, or upgrade your plan to get a higher limit.";return(0,r.jsx)(s.Provider,{value:{model:a,setModel:c,modelMode:d,setModelMode:p,isUpgradeModalOpen:u,setIsUpgradeModalOpen:f,formMode:h,setFormMode:m,ingredients:x,setIngredients:v},children:(0,r.jsxs)(i.Z,{children:[(0,r.jsx)(o.default,{title:g,subtitle:b,isOpen:u,setIsOpen:f}),t]})})}function d(){return(0,l.useContext)(s)}},57454:function(e,t,a){a.d(t,{z:function(){return I},Z:function(){return Q}});var r=a(57437),l=a(2265),n=a(84772),i=a.n(n),o=a(51123),s=a(3548),c=a(18920),d=a(93953),p=a(45652),u=a(73978),f=a(47561),h=a(53014),m=a(83160),x=a(92030),v=a(29393);function g(){let{isOpen:e,closeModal:t,markAsUsed:a}=(0,f.k)(),[n,g]=(0,l.useState)(!0),[b,k]=(0,l.useState)(!1),w=(0,l.useRef)(null);return e?(0,r.jsx)("div",{className:"fixed left-0 top-0 z-[9999] flex h-screen w-full items-center justify-center bg-black bg-opacity-40 p-3.75 backdrop-blur-xl md:p-10",children:(0,r.jsxs)("div",{className:"relative flex w-full max-w-[30rem] flex-col gap-7.5 rounded-[1.25rem] p-5 md:bg-dark-pop-up/80",children:[(0,r.jsx)("button",{className:"absolute right-2 top-2",onClick:()=>{a(m.Z.twoPointOneFake),t()},children:(0,r.jsx)(h.Z,{})}),(0,r.jsxs)("div",{className:"flex flex-col justify-center gap-5 text-regular-mobile lg:text-regular",children:[(0,r.jsx)("h2",{className:"text-center font-telka-extended text-heading-2-mobile !font-[1000] uppercase text-accent-primary lg:text-heading-1",children:"PIKA 2.1 IS HERE!"}),(0,r.jsxs)("div",{className:"relative w-full overflow-hidden rounded-[.625rem]",children:[(0,r.jsxs)("video",{ref:w,className:"h-full w-full object-cover",loop:!0,poster:"https://cdn.pika.art/feature/v2.1/entry.jpg",playsInline:!0,controls:!1,autoPlay:!0,muted:n,onPlay:()=>k(!0),onPause:()=>k(!1),children:[(0,r.jsx)("source",{src:"https://cdn.pika.art/feature/v2.1/entry.mp4",type:"video/mp4"}),(0,r.jsx)("source",{src:"https://cdn.pika.art/feature/v2.1/entry.webm",type:"video/webm"})]}),(0,r.jsx)(o.Z,{className:"absolute bottom-2 right-2 z-10",onClick:()=>g(!n),secondary:!0,small:!0,icon:n?(0,r.jsx)(d.Z,{className:"h-4"}):(0,r.jsx)(p.Z,{className:"h-4"})}),(0,r.jsx)("button",{className:i()("absolute left-0 top-0 z-0 h-full w-full",{"opacity-0":b}),onClick:()=>{w.current&&!b?(w.current.play(),w.current.loop=!1):w.current&&w.current.pause()},children:(0,r.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 rounded-full bg-dark-background bg-opacity-40 p-4",children:(0,r.jsx)(u.Z,{})})})]}),(0,r.jsx)(o.Z,{className:"w-full",icon:(0,r.jsx)(x.Z,{}),onClick:()=>{(0,s.Z)({eventName:c.Gm.TryModelTwoPointOneButtonClick}),t();let e=document.getElementById(v.b);e&&e.focus()},children:"Try now"})]})]})}):null}var b=a(54887),k=a(99376),w=a(10852),y=a(99816),j=a(81405),N=a(75921),C=a(71332),S=a(76189),P=a(31462),Z=a(93770);function T(){var e;let{isOpen:t,closeModal:a,openModal:n}=(0,w.d)(!0),{currentStep:i,setCurrentStep:d,video:p,setVideo:u}=(0,y.U)(),{setFormMode:f,setIngredients:m}=(0,S.t)(),{setPromptText:x}=(0,P.t)(),v=(0,k.usePathname)();(0,l.useEffect)(()=>{"ready"===i&&n(),t&&p&&"ready"===i&&(0,s.Z)({eventName:c.Gm.ShowVideoReadyModal,properties:{videoId:p.id,currentPage:v}})},[t,p,i,v,n]);let g=()=>{d(null),f(C.hN.Normal),m([]),a(),u(null),x("")};if(!p||"ready"!==i||!t)return null;let T=null===(e=p.pikaffect)||void 0===e?void 0:e.toLowerCase().split("-").join(""),M=(0,Z.Z)(),U=T?"".concat(M,"/video/pikaffect-").concat(T,"-").concat(p.id):"".concat(M,"/video/").concat(p.id);return b.createPortal((0,r.jsx)("div",{className:"fixed left-0 top-0 z-[9999] flex h-screen w-full items-center justify-center bg-black bg-opacity-40 p-3.75 backdrop-blur-xl md:p-10",children:(0,r.jsxs)("div",{className:"relative flex w-full max-w-md flex-col rounded-[.625rem] bg-dark-pop-up p-5 shadow-popup",children:[(0,r.jsx)("button",{className:"absolute right-2 top-2",onClick:g,children:(0,r.jsx)(h.Z,{})}),(0,r.jsx)("h3",{className:"mb-5 text-heading-2-mobile lg:text-heading-2",children:"YOUR VIDEO IS READY!"}),(0,r.jsx)("div",{className:"mb-5 w-full overflow-hidden rounded-[.625rem] bg-dark-elements",children:(0,r.jsx)(N.default,{video:p,allowFullscreen:!1,hideFavoriteButton:!0,hideDownloadButton:!0,enableHoverPlay:!1,autoPlay:!0})}),(0,r.jsx)("p",{className:"mb-3 text-m-mobile font-normal lg:text-m",children:"Go ahead and share it with the world:"}),(0,r.jsx)(j.Z,{className:"mb-5 flex gap-3",url:U,platforms:["copy","download","twitter","facebook","reddit","whatsapp"],currentStep:i,useNativeShareOnMobile:!0,sharingUrl:p.sharingUrl||p.resultUrl,downloadUrl:p.resultUrl,variant:"circle"}),(0,r.jsxs)("div",{className:"border-t border-dashed border-light-border pt-5 text-s-mobile lg:text-s",children:[(0,r.jsx)("p",{className:"mb-3 text-m-mobile font-normal lg:text-m",children:"Ready to create more? We have something for you!"}),(0,r.jsx)(o.Z,{purpose:"link",onClick:g,href:"/",children:"Explore Scene Ingredient Templates"})]})]})}),document.querySelector("#modal-root"))}var M=a(24141),U=a(26330);let I=(0,l.createContext)({currentStep:null,video:null,isEffectSelectorOpen:!1,template:null,setTemplate:()=>{},setCurrentStep:()=>{},setVideo:()=>{},setIsEffectSelectorOpen:()=>{}});var Q=function(e){let{children:t}=e,[a,n]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),[s,c]=(0,l.useState)(!1),[d,p]=(0,l.useState)(null),{firstNewModelGeneration:u,setFirstNewModelGeneration:f}=(0,P.t)();return(0,l.useEffect)(()=>{let e;return(null==u?void 0:u.finished)||null==u||!u.video_id||i||(e=setInterval(async()=>{if(!(null==u?void 0:u.video_id))return;let t=await (0,M.Z)({videoId:null==u?void 0:u.video_id});if(t.success&&"finished"===t.data.status){var a;clearInterval(e),o({id:null==u?void 0:u.video_id,pikaffect:null===(a=t.data.params)||void 0===a?void 0:a.pikaffect,status:"finished",resultUrl:t.data.videoUrl,videoPoster:t.data.videoPoster,sharingUrl:t.data.sharingUrl||t.data.videoUrl}),n("ready"),(0,U.O)(),f({...u,finished:!0})}},C.yc)),()=>clearInterval(e)},[u,i,f]),(0,r.jsxs)(I.Provider,{value:{currentStep:a,video:i,isEffectSelectorOpen:s,template:d,setTemplate:p,setCurrentStep:n,setVideo:o,setIsEffectSelectorOpen:c},children:[(0,r.jsx)(g,{}),(0,r.jsx)(T,{}),t]})}},72575:function(e,t,a){a.d(t,{Mh:function(){return i},Oz:function(){return l},VT:function(){return n},np:function(){return s},xv:function(){return o}});var r=a(84842);let l=[{video:"https://cdn.pika.art/feature/v1.5/pikaffect/squish.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/squish.jpg",title:r.Q.Squish,description:"Make anything putty in your hands.",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/poke.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/poke.jpg",title:r.Q.Poke,description:"",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/cake-ify.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/cake-ify.jpg",title:r.Q.Cake,description:"Is it cake? Now the answer is always yes.",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/peel.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/peel.jpg",title:r.Q.Peel,description:"",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/inflate.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/inflate.jpg",title:r.Q.Inflate,description:"Fill 'er up and watch 'er float away.",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/decapitate.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/decapitate.jpg",title:r.Q.Decapitate,description:"",isNew:!1,disableTry:!0},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/explode.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/explode.jpg",title:r.Q.Explode,description:"Shatter stuff into smithereens.",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/crumble.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/crumble.jpg",title:r.Q.Crumble,description:"",isNew:!1},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/melt.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/melt.jpg",title:r.Q.Melt,description:"Turn anything into liquid goo.",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/crush.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/crush.jpg",title:r.Q.Crush,description:"Harness the power of a hydraulic press.",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/levitate.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/levitate.jpg",title:r.Q.Levitate,description:"",isNew:!1,disableTry:!0},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/tear.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/tear.jpg",title:r.Q.Tear,description:"",isNew:null},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/deflate.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/deflate.jpg",title:r.Q.Deflate,description:"",isNew:!1},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/dissolve.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/dissolve.jpg",title:r.Q.Dissolve,description:"",isNew:!1},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/eye-pop.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/eye-pop.jpg",title:r.Q.EyePop,description:"",isNew:!1,disableTry:!0},{video:"https://cdn.pika.art/feature/v1.5/pikaffect/tada.webm",poster:"https://cdn.pika.art/feature/v1.5/pikaffect/tada.jpg",title:r.Q.Tada,description:"",isNew:!1}];r.Q.Explode,r.Q.Melt,r.Q.Inflate,r.Q.Cake,r.Q.Crush,r.Q.Squish;let n=["select-template","add-ingredients","generate","ready"],i="pikaffect-trigger",o="effect-selection-step",s=[{id:"e57efb65-5659-46d5-b862-4c8eaed1f703",prompt:"A person is flying in the sky",fakeGeneration:{video:"".concat("https://cdn.pika.art","/feature/v2/presets/01/video.mp4"),poster:"".concat("https://cdn.pika.art","/feature/v2/presets/01/poster.jpg"),videoUrl:"/video/e57efb65-5659-46d5-b862-4c8eaed1f703"},ingredients:["".concat("https://cdn.pika.art","/feature/v2/presets/01/ingredient-1.png")],previewUrl:"https://cdn.pika.art/feature/v2/presets/01/preview.webm",previewPoster:"https://cdn.pika.art/feature/v2/presets/01/preview.jpg"},{id:"dce99a63-01ae-4c86-8f46-48a2cfae3f5d",prompt:"Two people are seated in a darkened theater or audience setting. They are holding a tub of popcorn, bringing a handful to their mouth and chewing while intensely focused on the scene in front of them. Their wide-eyed expression conveys eager anticipation or fascination, as if they're fully immersed in the drama or spectacle unfolding. The surrounding environment suggests a crowd, but the spotlight remains on their reaction.",fakeGeneration:{video:"".concat("https://cdn.pika.art","/feature/v2/presets/02/video.mp4"),poster:"".concat("https://cdn.pika.art","/feature/v2/presets/02/poster.jpg"),videoUrl:"/video/dce99a63-01ae-4c86-8f46-48a2cfae3f5d"},ingredients:["".concat("https://cdn.pika.art","/feature/v2/presets/02/ingredient-1.png"),"".concat("https://cdn.pika.art","/feature/v2/presets/02/ingredient-2.png")],previewUrl:"https://cdn.pika.art/feature/v2/presets/02/preview.webm",previewPoster:"https://cdn.pika.art/feature/v2/presets/02/preview.jpg"},{id:"c522fa46-cca3-4fd9-8d44-bb64ee3ea420",prompt:"A character wearing an outfit in a location turning around and posing to the camera.",fakeGeneration:{video:"".concat("https://cdn.pika.art","/feature/v2/presets/03/video.mp4"),poster:"".concat("https://cdn.pika.art","/feature/v2/presets/03/poster.jpg"),videoUrl:"/video/c522fa46-cca3-4fd9-8d44-bb64ee3ea420"},ingredients:["".concat("https://cdn.pika.art","/feature/v2/presets/03/ingredient-1.jpg"),"".concat("https://cdn.pika.art","/feature/v2/presets/03/ingredient-2.jpg"),"".concat("https://cdn.pika.art","/feature/v2/presets/03/ingredient-3.jpg")],previewUrl:"https://cdn.pika.art/feature/v2/presets/03/preview.webm",previewPoster:"https://cdn.pika.art/feature/v2/presets/03/preview.jpg"}]},84842:function(e,t,a){var r,l;a.d(t,{Q:function(){return r}}),(l=r||(r={})).Peel="Peel",l.Poke="Poke",l.Tear="Tear",l.Levitate="Levitate",l.Decapitate="Decapitate",l.EyePop="Eye-pop",l.Explode="Explode",l.Melt="Melt",l.Inflate="Inflate",l.Crush="Crush",l.Cake="Cake-ify",l.Squish="Squish",l.Tada="Ta-da",l.Deflate="Deflate",l.Crumble="Crumble",l.Dissolve="Dissolve"},99816:function(e,t,a){a.d(t,{U:function(){return n}});var r=a(2265),l=a(57454);function n(){return(0,r.useContext)(l.z)}},29393:function(e,t,a){a.d(t,{b:function(){return k},Z:function(){return w}});var r=a(57437),l=a(2265),n=a(84772),i=a.n(n),o=a(71332),s=a(16397),c=a(97149),d=e=>(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,fill:"none",...e,children:[(0,r.jsx)("g",{clipPath:"url(#a)",children:(0,r.jsx)("path",{stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M14.933 11.666 17.85 8.75a1.867 1.867 0 0 0 0-2.5l-4.167-4.1a1.867 1.867 0 0 0-2.5 0L8.333 5M5 15h.008m3.325-3.334h.009M12.5 5h.008M15 7.5h.008m-11.675.833H10c.92 0 1.667.746 1.667 1.667v6.666c0 .92-.746 1.667-1.667 1.667H3.333c-.92 0-1.666-.746-1.666-1.667V10c0-.92.746-1.667 1.666-1.667Z"})}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"a",children:(0,r.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),p=function(e){let{suggest:t}=e;return(0,r.jsx)(c.Z,{tooltip:"Inspire me",tooltipClassName:"whitespace-nowrap",children:(0,r.jsx)("button",{type:"button",className:"flex gap-2 items-center relative opacity-60 hover:opacity-100 transition-opacity p-1.5 confetti-button",onClick:t,children:(0,r.jsx)(d,{})})})},u=a(31462),f=a(30627),h=a(99376),m=a(3548),x=a(18920),v=a(99816),g=a(76189),b=a(93280);let k="promptText";var w=function(e){let{formRef:t,maxPromptLength:a=o.cK,placeholder:n="Describe your story",appliedStyle:c,isLockTimerActive:d,lockTimer:w,loading:y,asset:j,isSuggestedPrompt:N,setIsSuggestedPrompt:C,presetPrompts:S,promptText:P,setPromptText:Z,selectedEffect:T,isDuringPromptFormOnboarding:M}=e,{model:U}=(0,g.t)(),{presetPrompts:I,promptText:Q,setPromptText:D}=(0,u.t)(),_=null!=P?P:Q,O=null!=Z?Z:D,E=null!=S?S:I,{currentStep:z,template:B}=(0,v.U)(),{textAreaRef:R}=(0,s.Z)(_),[A,F]=(0,l.useState)(!(null==_?void 0:_.length)),[K,L]=(0,l.useState)([]),V=async()=>{(0,m.Z)({eventName:x.y7});let e=E[Math.floor(Math.random()*E.length)];L([_||"",e]),await new Promise(e=>setTimeout(e,150)),O(e),null==C||C(!0),L([])};(0,l.useEffect)(()=>{j?F(!1):(null==_?void 0:_.length)||F(!0)},[j]);let q=(0,h.useSearchParams)(),W=!!q.get("edit")||!!q.get("remix")||!!q.get("extend")||!!q.get("retrim");return(0,l.useEffect)(()=>{W&&(null==C||C(!1),F(!1))},[W]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:i()("max-h-[4.5rem] flex-1 self-center overflow-auto",{"z-30 opacity-30":"select-template"===z}),children:(0,r.jsxs)("div",{className:"relative flex w-full font-mono",children:[(0,r.jsxs)(r.Fragment,{children:[(c||T||B)&&(0,r.jsxs)("p",{className:i()("pointer-events-none absolute left-0 top-0 text-prompt-mobile lg:text-prompt",{invisible:K.length}),style:{fontKerning:"auto",fontOpticalSizing:"auto",fontStretch:"100%"},children:[(0,r.jsx)("span",{className:"pointer-events-none text-orange-cta",style:{textShadow:"\n                        1px 1px 0 #1f1f1f,\n                        -1px 1px 0 #1f1f1f,\n                        -1px -1px 0 #1f1f1f,\n                        1px -1px 0 #1f1f1f\n                      "},children:(null==c?void 0:c.key_frontend_phrase)||T&&(null==_?void 0:_.startsWith(b.U[T]))&&b.U[T]||B&&(null==_?void 0:_.startsWith(B.prompt))&&B.prompt}),(0,r.jsx)("span",{className:"pointer-events-none invisible",children:null==_?void 0:_.replace(new RegExp("^".concat((null==c?void 0:c.key_frontend_phrase)||T&&(null==_?void 0:_.startsWith(b.U[T]))&&b.U[T]||B&&(null==_?void 0:_.startsWith(B.prompt))&&B.prompt||"")),"")})]}),(0,r.jsx)("textarea",{id:k,name:"promptText",className:i()("w-full resize-none appearance-none bg-transparent text-prompt-mobile outline-none placeholder:text-light-secondary disabled:cursor-not-allowed lg:text-prompt",{invisible:K.length,"pointer-events-none":M&&"add-ingredients"!==z}),placeholder:n,style:{fontKerning:"auto",fontOpticalSizing:"auto",fontStretch:"100%"},onChange:e=>{let t=e.currentTarget.value;F(!j&&!t.length),null==C||C(!1),e.currentTarget.setCustomValidity(""),O(t.substring(0,a))},value:_,rows:1,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey&&"true"!==e.currentTarget.dataset.composing){var a;e.preventDefault(),null==t||null===(a=t.current)||void 0===a||a.requestSubmit()}},ref:R,onCompositionStart:e=>e.currentTarget.dataset.composing="true",onCompositionEnd:e=>e.currentTarget.dataset.composing="false"})]}),K.length?(0,r.jsxs)("div",{style:{fontKerning:"auto",fontOpticalSizing:"auto",fontStretch:"100%",height:R.current?"".concat(getComputedStyle(R.current).height,"px"):"auto"},className:"absolute left-0 right-0 top-0 min-h-[24px] text-prompt-mobile lg:text-prompt",children:[(0,r.jsx)("p",{className:"origin-left animate-fadeOutUp",children:K[0]}),(0,r.jsx)("p",{className:"absolute left-0 right-0 origin-left animate-fadeInUp",children:K[1]})]}):null]})}),A&&"1.0"===U?(0,r.jsx)(p,{suggest:V}):null,(0,r.jsx)(f.Z,{className:i()(M&&"generate"!==z&&"add-ingredients"!==z&&"pointer-events-none z-40 opacity-30","generate"===z&&"pointer-events-auto animate-bounce opacity-100"),isLockTimerActive:d,lockTimer:w,loading:y,onClick:()=>{N&&V()},type:"submit"})]})}},4154:function(e,t,a){a.d(t,{default:function(){return P}});var r=a(57437),l=a(2265),n=a(52528),i=a(56439),o=a(84772),s=a.n(o);function c(e){let{value:t,onChange:a,options:l,className:n,label:i}=e,o=l.findIndex(e=>e.value===t);return(0,r.jsxs)("div",{role:"group","aria-label":i,className:s()("relative flex h-11 w-fit items-center gap-1 rounded-[.625rem] bg-white bg-opacity-10 p-1 text-m-mobile lg:text-m",n),children:[(0,r.jsx)("div",{className:"absolute left-1 top-1 z-0 h-9 w-[108px] rounded-md bg-accent-primary transition-transform",style:{transform:o>0?"translateX(calc(".concat(o," * 100% + ").concat(.25*o,"rem))"):"translateX(0)"},"aria-hidden":"true"}),l.map((e,l)=>(0,r.jsx)("button",{className:s()("relative flex h-9 w-[108px] items-center justify-center gap-1.5 text-m-mobile font-normal transition-[color] lg:text-m",{"text-light-primary":t!==e.value,"text-dark-background":t===e.value}),onClick:()=>a(e.value),"aria-pressed":t===e.value,"aria-label":"Select ".concat(e.label),children:(0,r.jsx)("span",{children:e.label})},l))]})}var d=a(96458),p=a(53203),u=a(23581),f=a(52181);let h=365/12/7;function m(e){var t,a,l;let{option:i,isSelected:o,isCurrentPlan:c,onChange:d,currentSubscriptionPlan:m,subscription:x,variant:v="vertical"}=e,g=i.price,b=(0,n.Hm)(i.discount,x),k=b.shouldApply?+(g*(1-(null!==(l=null===(t=i.discount)||void 0===t?void 0:t.discountPercentage)&&void 0!==l?l:0)/100)).toFixed(2):g,w="month"===i.interval?"Monthly":"Yearly",y=e=>(e/h).toFixed(2),j=y(k),N=y(g),C="month"===i.interval?k:12*k,S=(0,u.Z)({subscriptionCreatedAt:null==x?void 0:x.created_at,offerDuration:b.offerDuration}),P=f.oh[i.plan],Z=!c&&b.shouldApply&&!m;return(0,r.jsxs)("div",{className:"flex w-full flex-1 flex-col gap-2.5",children:[(0,r.jsx)("p",{className:s()("h-5 text-center text-[12px] font-medium uppercase tracking-[.6px]",{"text-accent-primary":b.label,"text-light-secondary":!b.label}),children:i.isCurrentPlan?"Your current plan":Z?b.label:null}),(0,r.jsx)("button",{onClick:()=>!c&&d(i.interval),role:"radio","aria-checked":o,disabled:c,"aria-label":"".concat(w," billing at $").concat(y(k)," per week, $").concat(C," total per ").concat(i.interval),className:"flex w-full flex-1 flex-col items-center justify-center gap-1",children:(0,r.jsxs)("div",{className:s()("relative flex w-full flex-col items-start gap-1 rounded-[0.625rem] border bg-light-emphasis transition-colors",{"border-accent-hover":o,"border-transparent":!o,"cursor-not-allowed opacity-50":c,"cursor-pointer":!c,"px-4 py-4":"vertical"===v,"px-3 py-3":"horizontal"===v}),children:[Z&&"vertical"===v&&(0,r.jsxs)("p",{className:"mb-1 w-full rounded-md bg-light-emphasis p-1.5 text-center text-xs-mobile !font-medium uppercase text-accent-primary lg:text-xs",children:[null==P?void 0:P.offerText," ",(0,r.jsx)("span",{children:S})]}),(0,r.jsxs)("div",{className:"flex w-full justify-between",children:[(0,r.jsxs)("span",{className:s()("flex items-center text-regular-mobile text-light-secondary lg:text-regular",{"w-full":"horizontal"===v,"gap-1.5":"vertical"===v}),children:["horizontal"===v&&(0,r.jsx)("span",{className:"mr-1 flex h-5 w-5 items-center justify-center",children:o?(0,r.jsx)(p.Z,{className:"fill-accent-hover","aria-hidden":"true"}):(0,r.jsx)("span",{className:"h-4 w-4 rounded-full bg-light-emphasis"})}),w,(i.discount&&b.shouldApply||"year"===i.interval)&&(0,r.jsxs)("span",{className:s()({"ml-auto rounded-[0.375rem] bg-accent-hover px-1 py-0.5 text-s-mobile !font-medium uppercase text-dark-background lg:text-s":"horizontal"===v,"text-accent-primary":"vertical"===v}),children:["vertical"===v?"-":"",b.percentage||(null===(a=i.discount)||void 0===a?void 0:a.discountPercentage)||20,"% off"]})]}),"vertical"===v&&o&&(0,r.jsx)(p.Z,{className:"fill-accent-hover","aria-hidden":"true"})]}),(0,r.jsxs)("p",{className:"text-subtitle-mobile !font-medium text-light-primary lg:text-subtitle",children:["$",j,b.shouldApply&&(0,r.jsxs)("span",{className:"mx-1 text-light-tertiary line-through",children:["$",N]}),"/week"]}),(0,r.jsxs)("p",{className:"text-regular-mobile text-light-secondary lg:text-regular",children:["Total $",C,(0,r.jsxs)("span",{className:"ml-1",children:["per ",i.interval]})]})]})},i.interval),(0,r.jsx)("p",{className:"h-5 text-center text-[12px] font-medium uppercase tracking-[.6px] text-light-secondary",children:Z&&"horizontal"===v&&(0,r.jsxs)("span",{children:["ENDS IN ",S]})})]})}var x=function(e){let{interval:t,onChange:a,options:l,variant:n="vertical"}=e,{subscription:o,currentSubscriptionPlan:c}=(0,i.m)();return(0,r.jsx)("div",{role:"radiogroup","aria-label":"Billing interval selection",className:s()("flex w-full gap-2.5",{"flex-row":"horizontal"===n,"flex-col":"vertical"===n}),children:l.map(e=>{let l=t===e.interval;return(0,r.jsx)(m,{option:e,isSelected:l,isCurrentPlan:e.isCurrentPlan,onChange:a,currentSubscriptionPlan:c,subscription:o,variant:n},e.interval)})})},v=a(3548),g=a(18920),b=a(90850),k=a(97883),w=a(92030),y=a(51123),j=a(37221),N=a(41224);function C(e){var t;let{selectedPlan:a,plan:o,interval:s,onClose:c,setRenewalDiscountModalState:d}=e,{subscription:p,setSuccessState:u}=(0,i.m)(),[f,h]=(0,l.useState)(!1),[m,x]=(0,l.useTransition)(),b=(0,n.wW)(p,"web"),C="".concat(o,"_").concat(s,"ly"),S=(null==b?void 0:b.lookupKey)===C,P="basic"===a.key?null:(0,n.i0)(a.key),Z=(0,n.NY)({newTier:(null==P?void 0:P.tier)||"basic",currentTier:b&&(null===(t=(0,n.i0)(b.lookupKey||"basic"))||void 0===t?void 0:t.tier)||"basic"}),T=async(e,t,a)=>{x(async()=>{let r=await (0,j.w$)({lookupKey:e,returnUrl:null!=t?t:window.location.href,successUrl:a});(null==r?void 0:r.success)?(u(k.I$.UPDATE_SUBSCRIPTION),c()):(null==r?void 0:r.success)===!1&&u(k.I$.ERROR)})},M=()=>{let e=new URL(window.location.href),t=e.toString();e.searchParams.set("success",k.I$.PURCHASE_SUBSCRIPTION),(0,v.Z)({eventName:g.SQ.FreeUserClickSubscribe,properties:{position:"no_credits_modal"}}),T(C,t,e.toString())},U=()=>{(null==b?void 0:b.lookupKey)&&((0,v.Z)({eventName:g.SQ.ClickManagePayment,properties:{position:"no_credits_modal"}}),T(b.lookupKey))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{disabled:m,onClick:()=>{(null==b?void 0:b.lookupKey)?S?U():h(!0):M()},icon:(0,r.jsx)(w.Z,{}),children:(0,r.jsx)("span",{className:"first-letter:capitalize",children:S?"Manage Payment":(null==b?void 0:b.lookupKey)?"".concat("same"===Z?"switch":Z," to ").concat(a.title," ").concat(s,"ly"):"Subscribe to ".concat(a.title," ").concat(s,"ly")})}),(null==b?void 0:b.lookupKey)&&(0,r.jsx)(N.Z,{setRenewalDiscountModalState:d,isOpen:f,close:()=>h(!1),newPlan:a,platformSubscription:b,setSuccessState:u,source:"all_features_table"})]})}var S=a(99816);function P(e){var t;let{isOpen:a=!1,setIsOpen:o,title:s,subtitle:p="Upgrade your plan to create like a pro âš¡"}=e,{currentStep:u,setCurrentStep:f}=(0,S.U)(),{subscription:h,isOpenNoCreditsModal:m,setIsOpenNoCreditsModal:k,reachedDailyLimit:w,subscribedOnApple:j,setBuyCreditsModalState:N}=(0,i.m)(),P=()=>{u&&f(null),o?o(!1):k(!1)},Z=(0,n.wW)(h,"web"),T=null!==(t=null==Z?void 0:Z.lookupKey)&&void 0!==t?t:"basic",M=(0,n.i0)(T),[U,I]=(0,l.useState)("unlimited"),[Q,D]=(0,l.useState)("month");return(m||a)&&h&&(null==M?void 0:M.tier)!=="ultimate"&&"ready"!==u?(0,r.jsx)("div",{className:"fixed bottom-0 left-0 top-0 z-[9998] flex w-full justify-center bg-black bg-opacity-40 backdrop-blur-xl md:p-10 lg:items-center",children:j?(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"scrollbar-hide relative flex max-h-full w-full flex-col items-center overflow-scroll rounded-[.625rem] p-7.5 md:max-w-sm lg:bg-dark-pop-up/80 lg:p-6 lg:shadow-popup",children:[(0,r.jsx)("h1",{className:"mb-4 text-center font-telka-extended text-[2.5rem] font-extrabold uppercase leading-none text-accent-primary",children:w?"Reached Daily Limit":"You're out of credits"}),"basic"!==T?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{className:"mb-6 text-center text-subtitle-mobile text-light-primary lg:text-subtitle",children:"Don't fret! Buy more now and keep creating."}),(0,r.jsx)(y.Z,{icon:(0,r.jsx)(b.Z,{color:"black"}),small:!0,onClick:()=>{P(),(0,v.Z)({eventName:g.SQ.ClickBuyCredits,properties:{position:"no_credits_modal"}}),N({platform:"web"})},className:"mb-5 h-max w-full self-center !pr-3",children:"Buy credits"}),(0,r.jsxs)("div",{className:"mb-5 flex w-full items-center gap-5 text-s",children:[(0,r.jsx)("div",{className:"h-0 flex-1 border opacity-[0.15]"}),"or",(0,r.jsx)("div",{className:"h-0 flex-1 border opacity-[0.15]"})]})]}):null,(0,r.jsx)("p",{className:"mb-5 text-center text-subtitle-mobile font-light text-light-primary lg:text-subtitle",children:"You can upgrade your plan through the app to get more credits."}),(0,r.jsx)("button",{className:"text-m-mobile font-light text-light-secondary transition-colors hover:text-light-primary lg:relative lg:inset-0 lg:text-m",onClick:P,children:"Skip"})]}):(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"scrollbar-hide relative flex max-h-full w-full flex-col items-center overflow-scroll rounded-[.625rem] md:max-w-lg lg:bg-dark-pop-up/80 lg:p-6 lg:shadow-popup",children:[(0,r.jsxs)("div",{className:"overflow-y-scroll p-7.5 pb-0 lg:p-0",children:[(0,r.jsx)("h1",{className:"mb-4 text-center font-telka-extended text-[2.5rem] font-extrabold uppercase leading-none text-accent-primary",children:s||(w?"Reached Daily Limit":"You're out of credits")}),(0,r.jsx)("p",{className:"mb-6 text-center text-subtitle-mobile text-light-primary lg:text-subtitle",children:p}),(0,r.jsxs)("div",{className:"flex w-full flex-col items-center gap-5",children:[(0,r.jsx)(c,{value:U,onChange:I,options:n.JZ,label:"Select a plan"}),n.JZ.find(e=>e.value===U)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex w-full flex-col gap-4",children:n.BV["".concat(U,"_").concat(Q,"ly")].features.map((e,t)=>!e||e.hidden?null:(0,r.jsx)(d.Z,{text:e.text,info:e.info,notIncluded:e.notIncluded,withCreditsInfo:e.withCreditsInfo,iconClassName:"!fill-accent-primary !opacity-100"},t))}),(0,r.jsx)(x,{interval:Q,onChange:D,options:[{plan:"".concat(U,"_monthly"),price:n.BV["".concat(U,"_monthly")].monthlyPrice,discount:n.BV["".concat(U,"_monthly")].discount,interval:"month"},{plan:"".concat(U,"_monthly"),price:n.BV["".concat(U,"_yearly")].monthlyPrice,discount:n.BV["".concat(U,"_yearly")].discount,interval:"year"}],variant:"horizontal"})]})]})]}),(0,r.jsxs)("div",{className:"flex w-full flex-col gap-5 p-7.5 lg:p-0",children:[(0,r.jsx)(C,{selectedPlan:n.BV["".concat(U,"_").concat(Q,"ly")],plan:U,interval:Q,onClose:P}),(0,r.jsx)("button",{className:"text-m-mobile font-light text-light-secondary transition-colors hover:text-light-primary lg:relative lg:inset-0 lg:text-m",onClick:P,children:"Skip"})]})]})}):null}},11343:function(e,t,a){var r=a(57437);t.Z=function(e){return(0,r.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M5.83333 8.33335V5.83335C5.83333 4.72828 6.27232 3.66848 7.05372 2.88708C7.83512 2.10567 8.89493 1.66669 10 1.66669C11.1051 1.66669 12.1649 2.10567 12.9463 2.88708C13.7277 3.66848 14.1667 4.72828 14.1667 5.83335V8.33335M10.8333 13.3334C10.8333 13.7936 10.4602 14.1667 10 14.1667C9.53976 14.1667 9.16667 13.7936 9.16667 13.3334C9.16667 12.8731 9.53976 12.5 10 12.5C10.4602 12.5 10.8333 12.8731 10.8333 13.3334ZM4.16667 8.33335H15.8333C16.7538 8.33335 17.5 9.07955 17.5 10V16.6667C17.5 17.5872 16.7538 18.3334 15.8333 18.3334H4.16667C3.24619 18.3334 2.5 17.5872 2.5 16.6667V10C2.5 9.07955 3.24619 8.33335 4.16667 8.33335Z",stroke:"white",strokeOpacity:"0.4",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}},16397:function(e,t,a){var r=a(2265);t.Z=e=>{let t=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(null==t?void 0:t.current){t.current.style.height="0px";let e=t.current.scrollHeight;t.current.style.height=e+"px"}},[e]),{textAreaRef:t}}},26330:function(e,t,a){a.d(t,{O:function(){return i},o:function(){return n}});var r=a(89593);let l="new_model_first_generations";async function n(e){let t=(0,r.e)(),{data:a,error:n}=await t.auth.getUser();if(!a||n)return null;let{data:i,error:o}=await t.from(l).upsert({user_id:a.user.id,video_id:e});return o?null:i}async function i(){let e=(0,r.e)(),{data:t,error:a}=await e.auth.getUser();if(!t||a)return null;let{data:n,error:i}=await e.from(l).update({finished:!0}).eq("user_id",t.user.id);return i?null:n}}}]);