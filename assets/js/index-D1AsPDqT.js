var Ml=Object.defineProperty;var Ll=(er,s,tr)=>s in er?Ml(er,s,{enumerable:!0,configurable:!0,writable:!0,value:tr}):er[s]=tr;var Ho=(er,s,tr)=>Ll(er,typeof s!="symbol"?s+"":s,tr);function _mergeNamespaces(er,s){for(var tr=0;tr<s.length;tr++){const nr=s[tr];if(typeof nr!="string"&&!Array.isArray(nr)){for(const rr in nr)if(rr!=="default"&&!(rr in er)){const ir=Object.getOwnPropertyDescriptor(nr,rr);ir&&Object.defineProperty(er,rr,ir.get?ir:{enumerable:!0,get:()=>nr[rr]})}}}return Object.freeze(Object.defineProperty(er,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const rr of document.querySelectorAll('link[rel="modulepreload"]'))nr(rr);new MutationObserver(rr=>{for(const ir of rr)if(ir.type==="childList")for(const sr of ir.addedNodes)sr.tagName==="LINK"&&sr.rel==="modulepreload"&&nr(sr)}).observe(document,{childList:!0,subtree:!0});function tr(rr){const ir={};return rr.integrity&&(ir.integrity=rr.integrity),rr.referrerPolicy&&(ir.referrerPolicy=rr.referrerPolicy),rr.crossOrigin==="use-credentials"?ir.credentials="include":rr.crossOrigin==="anonymous"?ir.credentials="omit":ir.credentials="same-origin",ir}function nr(rr){if(rr.ep)return;rr.ep=!0;const ir=tr(rr);fetch(rr.href,ir)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$2(er){return er&&er.__esModule&&Object.prototype.hasOwnProperty.call(er,"default")?er.default:er}function getAugmentedNamespace(er){if(er.__esModule)return er;var s=er.default;if(typeof s=="function"){var tr=function nr(){return this instanceof nr?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};tr.prototype=s.prototype}else tr={};return Object.defineProperty(tr,"__esModule",{value:!0}),Object.keys(er).forEach(function(nr){var rr=Object.getOwnPropertyDescriptor(er,nr);Object.defineProperty(tr,nr,rr.get?rr:{enumerable:!0,get:function(){return er[nr]}})}),tr}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$2=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$2=Symbol.for("react.strict_mode"),r$2=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u$1=Symbol.for("react.context"),v$2=Symbol.for("react.forward_ref"),w$1=Symbol.for("react.suspense"),x$1=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$3=Symbol.iterator;function A$2(er){return er===null||typeof er!="object"?null:(er=z$3&&er[z$3]||er["@@iterator"],typeof er=="function"?er:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$2={};function E$2(er,s,tr){this.props=er,this.context=s,this.refs=D$2,this.updater=tr||B$3}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(er,s){if(typeof er!="object"&&typeof er!="function"&&er!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,er,s,"setState")};E$2.prototype.forceUpdate=function(er){this.updater.enqueueForceUpdate(this,er,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$3(er,s,tr){this.props=er,this.context=s,this.refs=D$2,this.updater=tr||B$3}var H$2=G$3.prototype=new F$2;H$2.constructor=G$3;C$2(H$2,E$2.prototype);H$2.isPureReactComponent=!0;var I$3=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$2(er,s,tr){var nr,rr={},ir=null,sr=null;if(s!=null)for(nr in s.ref!==void 0&&(sr=s.ref),s.key!==void 0&&(ir=""+s.key),s)J$2.call(s,nr)&&!L$3.hasOwnProperty(nr)&&(rr[nr]=s[nr]);var or=arguments.length-2;if(or===1)rr.children=tr;else if(1<or){for(var ar=Array(or),lr=0;lr<or;lr++)ar[lr]=arguments[lr+2];rr.children=ar}if(er&&er.defaultProps)for(nr in or=er.defaultProps,or)rr[nr]===void 0&&(rr[nr]=or[nr]);return{$$typeof:l$2,type:er,key:ir,ref:sr,props:rr,_owner:K$3.current}}function N$3(er,s){return{$$typeof:l$2,type:er.type,key:s,ref:er.ref,props:er.props,_owner:er._owner}}function O$2(er){return typeof er=="object"&&er!==null&&er.$$typeof===l$2}function escape(er){var s={"=":"=0",":":"=2"};return"$"+er.replace(/[=:]/g,function(tr){return s[tr]})}var P$3=/\/+/g;function Q$3(er,s){return typeof er=="object"&&er!==null&&er.key!=null?escape(""+er.key):s.toString(36)}function R$2(er,s,tr,nr,rr){var ir=typeof er;(ir==="undefined"||ir==="boolean")&&(er=null);var sr=!1;if(er===null)sr=!0;else switch(ir){case"string":case"number":sr=!0;break;case"object":switch(er.$$typeof){case l$2:case n$1:sr=!0}}if(sr)return sr=er,rr=rr(sr),er=nr===""?"."+Q$3(sr,0):nr,I$3(rr)?(tr="",er!=null&&(tr=er.replace(P$3,"$&/")+"/"),R$2(rr,s,tr,"",function(lr){return lr})):rr!=null&&(O$2(rr)&&(rr=N$3(rr,tr+(!rr.key||sr&&sr.key===rr.key?"":(""+rr.key).replace(P$3,"$&/")+"/")+er)),s.push(rr)),1;if(sr=0,nr=nr===""?".":nr+":",I$3(er))for(var or=0;or<er.length;or++){ir=er[or];var ar=nr+Q$3(ir,or);sr+=R$2(ir,s,tr,ar,rr)}else if(ar=A$2(er),typeof ar=="function")for(er=ar.call(er),or=0;!(ir=er.next()).done;)ir=ir.value,ar=nr+Q$3(ir,or++),sr+=R$2(ir,s,tr,ar,rr);else if(ir==="object")throw s=String(er),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(er).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return sr}function S$2(er,s,tr){if(er==null)return er;var nr=[],rr=0;return R$2(er,nr,"","",function(ir){return s.call(tr,ir,rr++)}),nr}function T$2(er){if(er._status===-1){var s=er._result;s=s(),s.then(function(tr){(er._status===0||er._status===-1)&&(er._status=1,er._result=tr)},function(tr){(er._status===0||er._status===-1)&&(er._status=2,er._result=tr)}),er._status===-1&&(er._status=0,er._result=s)}if(er._status===1)return er._result.default;throw er._result}var U$3={current:null},V$3={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};function X$3(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(er,s,tr){S$2(er,function(){s.apply(this,arguments)},tr)},count:function(er){var s=0;return S$2(er,function(){s++}),s},toArray:function(er){return S$2(er,function(s){return s})||[]},only:function(er){if(!O$2(er))throw Error("React.Children.only expected to receive a single React element child.");return er}};react_production_min.Component=E$2;react_production_min.Fragment=p$3;react_production_min.Profiler=r$2;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$2;react_production_min.Suspense=w$1;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.act=X$3;react_production_min.cloneElement=function(er,s,tr){if(er==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+er+".");var nr=C$2({},er.props),rr=er.key,ir=er.ref,sr=er._owner;if(s!=null){if(s.ref!==void 0&&(ir=s.ref,sr=K$3.current),s.key!==void 0&&(rr=""+s.key),er.type&&er.type.defaultProps)var or=er.type.defaultProps;for(ar in s)J$2.call(s,ar)&&!L$3.hasOwnProperty(ar)&&(nr[ar]=s[ar]===void 0&&or!==void 0?or[ar]:s[ar])}var ar=arguments.length-2;if(ar===1)nr.children=tr;else if(1<ar){or=Array(ar);for(var lr=0;lr<ar;lr++)or[lr]=arguments[lr+2];nr.children=or}return{$$typeof:l$2,type:er.type,key:rr,ref:ir,props:nr,_owner:sr}};react_production_min.createContext=function(er){return er={$$typeof:u$1,_currentValue:er,_currentValue2:er,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},er.Provider={$$typeof:t,_context:er},er.Consumer=er};react_production_min.createElement=M$2;react_production_min.createFactory=function(er){var s=M$2.bind(null,er);return s.type=er,s};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(er){return{$$typeof:v$2,render:er}};react_production_min.isValidElement=O$2;react_production_min.lazy=function(er){return{$$typeof:y$2,_payload:{_status:-1,_result:er},_init:T$2}};react_production_min.memo=function(er,s){return{$$typeof:x$1,type:er,compare:s===void 0?null:s}};react_production_min.startTransition=function(er){var s=V$3.transition;V$3.transition={};try{er()}finally{V$3.transition=s}};react_production_min.unstable_act=X$3;react_production_min.useCallback=function(er,s){return U$3.current.useCallback(er,s)};react_production_min.useContext=function(er){return U$3.current.useContext(er)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(er){return U$3.current.useDeferredValue(er)};react_production_min.useEffect=function(er,s){return U$3.current.useEffect(er,s)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(er,s,tr){return U$3.current.useImperativeHandle(er,s,tr)};react_production_min.useInsertionEffect=function(er,s){return U$3.current.useInsertionEffect(er,s)};react_production_min.useLayoutEffect=function(er,s){return U$3.current.useLayoutEffect(er,s)};react_production_min.useMemo=function(er,s){return U$3.current.useMemo(er,s)};react_production_min.useReducer=function(er,s,tr){return U$3.current.useReducer(er,s,tr)};react_production_min.useRef=function(er){return U$3.current.useRef(er)};react_production_min.useState=function(er){return U$3.current.useState(er)};react_production_min.useSyncExternalStore=function(er,s,tr){return U$3.current.useSyncExternalStore(er,s,tr)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React$1=getDefaultExportFromCjs$2(reactExports),React$2=_mergeNamespaces({__proto__:null,default:React$1},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$1=Symbol.for("react.element"),l$1=Symbol.for("react.fragment"),m$2=Object.prototype.hasOwnProperty,n=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q$1(er,s,tr){var nr,rr={},ir=null,sr=null;tr!==void 0&&(ir=""+tr),s.key!==void 0&&(ir=""+s.key),s.ref!==void 0&&(sr=s.ref);for(nr in s)m$2.call(s,nr)&&!p$2.hasOwnProperty(nr)&&(rr[nr]=s[nr]);if(er&&er.defaultProps)for(nr in s=er.defaultProps,s)rr[nr]===void 0&&(rr[nr]=s[nr]);return{$$typeof:k$1,type:er,key:ir,ref:sr,props:rr,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l$1;reactJsxRuntime_production_min.jsx=q$1;reactJsxRuntime_production_min.jsxs=q$1;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(er){function s(Ar,jr){var Or=Ar.length;Ar.push(jr);e:for(;0<Or;){var Nr=Or-1>>>1,wr=Ar[Nr];if(0<rr(wr,jr))Ar[Nr]=jr,Ar[Or]=wr,Or=Nr;else break e}}function tr(Ar){return Ar.length===0?null:Ar[0]}function nr(Ar){if(Ar.length===0)return null;var jr=Ar[0],Or=Ar.pop();if(Or!==jr){Ar[0]=Or;e:for(var Nr=0,wr=Ar.length,Rr=wr>>>1;Nr<Rr;){var Pr=2*(Nr+1)-1,Br=Ar[Pr],Ur=Pr+1,Jr=Ar[Ur];if(0>rr(Br,Or))Ur<wr&&0>rr(Jr,Br)?(Ar[Nr]=Jr,Ar[Ur]=Or,Nr=Ur):(Ar[Nr]=Br,Ar[Pr]=Or,Nr=Pr);else if(Ur<wr&&0>rr(Jr,Or))Ar[Nr]=Jr,Ar[Ur]=Or,Nr=Ur;else break e}}return jr}function rr(Ar,jr){var Or=Ar.sortIndex-jr.sortIndex;return Or!==0?Or:Ar.id-jr.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ir=performance;er.unstable_now=function(){return ir.now()}}else{var sr=Date,or=sr.now();er.unstable_now=function(){return sr.now()-or}}var ar=[],lr=[],cr=1,ur=null,hr=3,dr=!1,pr=!1,mr=!1,xr=typeof setTimeout=="function"?setTimeout:null,br=typeof clearTimeout=="function"?clearTimeout:null,yr=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function gr(Ar){for(var jr=tr(lr);jr!==null;){if(jr.callback===null)nr(lr);else if(jr.startTime<=Ar)nr(lr),jr.sortIndex=jr.expirationTime,s(ar,jr);else break;jr=tr(lr)}}function Er(Ar){if(mr=!1,gr(Ar),!pr)if(tr(ar)!==null)pr=!0,$r(kr);else{var jr=tr(lr);jr!==null&&Tr(Er,jr.startTime-Ar)}}function kr(Ar,jr){pr=!1,mr&&(mr=!1,br(Dr),Dr=-1),dr=!0;var Or=hr;try{for(gr(jr),ur=tr(ar);ur!==null&&(!(ur.expirationTime>jr)||Ar&&!Gr());){var Nr=ur.callback;if(typeof Nr=="function"){ur.callback=null,hr=ur.priorityLevel;var wr=Nr(ur.expirationTime<=jr);jr=er.unstable_now(),typeof wr=="function"?ur.callback=wr:ur===tr(ar)&&nr(ar),gr(jr)}else nr(ar);ur=tr(ar)}if(ur!==null)var Rr=!0;else{var Pr=tr(lr);Pr!==null&&Tr(Er,Pr.startTime-jr),Rr=!1}return Rr}finally{ur=null,hr=Or,dr=!1}}var Mr=!1,Cr=null,Dr=-1,zr=5,Wr=-1;function Gr(){return!(er.unstable_now()-Wr<zr)}function Kr(){if(Cr!==null){var Ar=er.unstable_now();Wr=Ar;var jr=!0;try{jr=Cr(!0,Ar)}finally{jr?Lr():(Mr=!1,Cr=null)}}else Mr=!1}var Lr;if(typeof yr=="function")Lr=function(){yr(Kr)};else if(typeof MessageChannel<"u"){var fr=new MessageChannel,vr=fr.port2;fr.port1.onmessage=Kr,Lr=function(){vr.postMessage(null)}}else Lr=function(){xr(Kr,0)};function $r(Ar){Cr=Ar,Mr||(Mr=!0,Lr())}function Tr(Ar,jr){Dr=xr(function(){Ar(er.unstable_now())},jr)}er.unstable_IdlePriority=5,er.unstable_ImmediatePriority=1,er.unstable_LowPriority=4,er.unstable_NormalPriority=3,er.unstable_Profiling=null,er.unstable_UserBlockingPriority=2,er.unstable_cancelCallback=function(Ar){Ar.callback=null},er.unstable_continueExecution=function(){pr||dr||(pr=!0,$r(kr))},er.unstable_forceFrameRate=function(Ar){0>Ar||125<Ar?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):zr=0<Ar?Math.floor(1e3/Ar):5},er.unstable_getCurrentPriorityLevel=function(){return hr},er.unstable_getFirstCallbackNode=function(){return tr(ar)},er.unstable_next=function(Ar){switch(hr){case 1:case 2:case 3:var jr=3;break;default:jr=hr}var Or=hr;hr=jr;try{return Ar()}finally{hr=Or}},er.unstable_pauseExecution=function(){},er.unstable_requestPaint=function(){},er.unstable_runWithPriority=function(Ar,jr){switch(Ar){case 1:case 2:case 3:case 4:case 5:break;default:Ar=3}var Or=hr;hr=Ar;try{return jr()}finally{hr=Or}},er.unstable_scheduleCallback=function(Ar,jr,Or){var Nr=er.unstable_now();switch(typeof Or=="object"&&Or!==null?(Or=Or.delay,Or=typeof Or=="number"&&0<Or?Nr+Or:Nr):Or=Nr,Ar){case 1:var wr=-1;break;case 2:wr=250;break;case 5:wr=1073741823;break;case 4:wr=1e4;break;default:wr=5e3}return wr=Or+wr,Ar={id:cr++,callback:jr,priorityLevel:Ar,startTime:Or,expirationTime:wr,sortIndex:-1},Or>Nr?(Ar.sortIndex=Or,s(lr,Ar),tr(ar)===null&&Ar===tr(lr)&&(mr?(br(Dr),Dr=-1):mr=!0,Tr(Er,Or-Nr))):(Ar.sortIndex=wr,s(ar,Ar),pr||dr||(pr=!0,$r(kr))),Ar},er.unstable_shouldYield=Gr,er.unstable_wrapCallback=function(Ar){var jr=hr;return function(){var Or=hr;hr=jr;try{return Ar.apply(this,arguments)}finally{hr=Or}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p$1(er){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+er,tr=1;tr<arguments.length;tr++)s+="&args[]="+encodeURIComponent(arguments[tr]);return"Minified React error #"+er+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(er,s){ha(er,s),ha(er+"Capture",s)}function ha(er,s){for(ea[er]=s,er=0;er<s.length;er++)da.add(s[er])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(er){return ja.call(ma,er)?!0:ja.call(la,er)?!1:ka.test(er)?ma[er]=!0:(la[er]=!0,!1)}function pa(er,s,tr,nr){if(tr!==null&&tr.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return nr?!1:tr!==null?!tr.acceptsBooleans:(er=er.toLowerCase().slice(0,5),er!=="data-"&&er!=="aria-");default:return!1}}function qa(er,s,tr,nr){if(s===null||typeof s>"u"||pa(er,s,tr,nr))return!0;if(nr)return!1;if(tr!==null)switch(tr.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function v$1(er,s,tr,nr,rr,ir,sr){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=nr,this.attributeNamespace=rr,this.mustUseProperty=tr,this.propertyName=er,this.type=s,this.sanitizeURL=ir,this.removeEmptyString=sr}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(er){z$2[er]=new v$1(er,0,!1,er,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(er){var s=er[0];z$2[s]=new v$1(s,1,!1,er[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(er){z$2[er]=new v$1(er,2,!1,er.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(er){z$2[er]=new v$1(er,2,!1,er,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(er){z$2[er]=new v$1(er,3,!1,er.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(er){z$2[er]=new v$1(er,3,!0,er,null,!1,!1)});["capture","download"].forEach(function(er){z$2[er]=new v$1(er,4,!1,er,null,!1,!1)});["cols","rows","size","span"].forEach(function(er){z$2[er]=new v$1(er,6,!1,er,null,!1,!1)});["rowSpan","start"].forEach(function(er){z$2[er]=new v$1(er,5,!1,er.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(er){return er[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(er){var s=er.replace(ra,sa);z$2[s]=new v$1(s,1,!1,er,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(er){var s=er.replace(ra,sa);z$2[s]=new v$1(s,1,!1,er,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(er){var s=er.replace(ra,sa);z$2[s]=new v$1(s,1,!1,er,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(er){z$2[er]=new v$1(er,1,!1,er.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$1("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(er){z$2[er]=new v$1(er,1,!1,er.toLowerCase(),null,!0,!0)});function ta(er,s,tr,nr){var rr=z$2.hasOwnProperty(s)?z$2[s]:null;(rr!==null?rr.type!==0:nr||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(qa(s,tr,rr,nr)&&(tr=null),nr||rr===null?oa(s)&&(tr===null?er.removeAttribute(s):er.setAttribute(s,""+tr)):rr.mustUseProperty?er[rr.propertyName]=tr===null?rr.type===3?!1:"":tr:(s=rr.attributeName,nr=rr.attributeNamespace,tr===null?er.removeAttribute(s):(rr=rr.type,tr=rr===3||rr===4&&tr===!0?"":""+tr,nr?er.setAttributeNS(nr,s,tr):er.setAttribute(s,tr))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(er){return er===null||typeof er!="object"?null:(er=Ja&&er[Ja]||er["@@iterator"],typeof er=="function"?er:null)}var A$1=Object.assign,La;function Ma(er){if(La===void 0)try{throw Error()}catch(tr){var s=tr.stack.trim().match(/\n( *(at )?)/);La=s&&s[1]||""}return`
`+La+er}var Na=!1;function Oa(er,s){if(!er||Na)return"";Na=!0;var tr=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(lr){var nr=lr}Reflect.construct(er,[],s)}else{try{s.call()}catch(lr){nr=lr}er.call(s.prototype)}else{try{throw Error()}catch(lr){nr=lr}er()}}catch(lr){if(lr&&nr&&typeof lr.stack=="string"){for(var rr=lr.stack.split(`
`),ir=nr.stack.split(`
`),sr=rr.length-1,or=ir.length-1;1<=sr&&0<=or&&rr[sr]!==ir[or];)or--;for(;1<=sr&&0<=or;sr--,or--)if(rr[sr]!==ir[or]){if(sr!==1||or!==1)do if(sr--,or--,0>or||rr[sr]!==ir[or]){var ar=`
`+rr[sr].replace(" at new "," at ");return er.displayName&&ar.includes("<anonymous>")&&(ar=ar.replace("<anonymous>",er.displayName)),ar}while(1<=sr&&0<=or);break}}}finally{Na=!1,Error.prepareStackTrace=tr}return(er=er?er.displayName||er.name:"")?Ma(er):""}function Pa(er){switch(er.tag){case 5:return Ma(er.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return er=Oa(er.type,!1),er;case 11:return er=Oa(er.type.render,!1),er;case 1:return er=Oa(er.type,!0),er;default:return""}}function Qa(er){if(er==null)return null;if(typeof er=="function")return er.displayName||er.name||null;if(typeof er=="string")return er;switch(er){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof er=="object")switch(er.$$typeof){case Ca:return(er.displayName||"Context")+".Consumer";case Ba:return(er._context.displayName||"Context")+".Provider";case Da:var s=er.render;return er=er.displayName,er||(er=s.displayName||s.name||"",er=er!==""?"ForwardRef("+er+")":"ForwardRef"),er;case Ga:return s=er.displayName||null,s!==null?s:Qa(er.type)||"Memo";case Ha:s=er._payload,er=er._init;try{return Qa(er(s))}catch{}}return null}function Ra(er){var s=er.type;switch(er.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return er=s.render,er=er.displayName||er.name||"",s.displayName||(er!==""?"ForwardRef("+er+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(s);case 8:return s===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Sa(er){switch(typeof er){case"boolean":case"number":case"string":case"undefined":return er;case"object":return er;default:return""}}function Ta(er){var s=er.type;return(er=er.nodeName)&&er.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ua(er){var s=Ta(er)?"checked":"value",tr=Object.getOwnPropertyDescriptor(er.constructor.prototype,s),nr=""+er[s];if(!er.hasOwnProperty(s)&&typeof tr<"u"&&typeof tr.get=="function"&&typeof tr.set=="function"){var rr=tr.get,ir=tr.set;return Object.defineProperty(er,s,{configurable:!0,get:function(){return rr.call(this)},set:function(sr){nr=""+sr,ir.call(this,sr)}}),Object.defineProperty(er,s,{enumerable:tr.enumerable}),{getValue:function(){return nr},setValue:function(sr){nr=""+sr},stopTracking:function(){er._valueTracker=null,delete er[s]}}}}function Va(er){er._valueTracker||(er._valueTracker=Ua(er))}function Wa(er){if(!er)return!1;var s=er._valueTracker;if(!s)return!0;var tr=s.getValue(),nr="";return er&&(nr=Ta(er)?er.checked?"true":"false":er.value),er=nr,er!==tr?(s.setValue(er),!0):!1}function Xa(er){if(er=er||(typeof document<"u"?document:void 0),typeof er>"u")return null;try{return er.activeElement||er.body}catch{return er.body}}function Ya(er,s){var tr=s.checked;return A$1({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:tr??er._wrapperState.initialChecked})}function Za(er,s){var tr=s.defaultValue==null?"":s.defaultValue,nr=s.checked!=null?s.checked:s.defaultChecked;tr=Sa(s.value!=null?s.value:tr),er._wrapperState={initialChecked:nr,initialValue:tr,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ab(er,s){s=s.checked,s!=null&&ta(er,"checked",s,!1)}function bb(er,s){ab(er,s);var tr=Sa(s.value),nr=s.type;if(tr!=null)nr==="number"?(tr===0&&er.value===""||er.value!=tr)&&(er.value=""+tr):er.value!==""+tr&&(er.value=""+tr);else if(nr==="submit"||nr==="reset"){er.removeAttribute("value");return}s.hasOwnProperty("value")?cb(er,s.type,tr):s.hasOwnProperty("defaultValue")&&cb(er,s.type,Sa(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(er.defaultChecked=!!s.defaultChecked)}function db(er,s,tr){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var nr=s.type;if(!(nr!=="submit"&&nr!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+er._wrapperState.initialValue,tr||s===er.value||(er.value=s),er.defaultValue=s}tr=er.name,tr!==""&&(er.name=""),er.defaultChecked=!!er._wrapperState.initialChecked,tr!==""&&(er.name=tr)}function cb(er,s,tr){(s!=="number"||Xa(er.ownerDocument)!==er)&&(tr==null?er.defaultValue=""+er._wrapperState.initialValue:er.defaultValue!==""+tr&&(er.defaultValue=""+tr))}var eb=Array.isArray;function fb(er,s,tr,nr){if(er=er.options,s){s={};for(var rr=0;rr<tr.length;rr++)s["$"+tr[rr]]=!0;for(tr=0;tr<er.length;tr++)rr=s.hasOwnProperty("$"+er[tr].value),er[tr].selected!==rr&&(er[tr].selected=rr),rr&&nr&&(er[tr].defaultSelected=!0)}else{for(tr=""+Sa(tr),s=null,rr=0;rr<er.length;rr++){if(er[rr].value===tr){er[rr].selected=!0,nr&&(er[rr].defaultSelected=!0);return}s!==null||er[rr].disabled||(s=er[rr])}s!==null&&(s.selected=!0)}}function gb(er,s){if(s.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A$1({},s,{value:void 0,defaultValue:void 0,children:""+er._wrapperState.initialValue})}function hb(er,s){var tr=s.value;if(tr==null){if(tr=s.children,s=s.defaultValue,tr!=null){if(s!=null)throw Error(p$1(92));if(eb(tr)){if(1<tr.length)throw Error(p$1(93));tr=tr[0]}s=tr}s==null&&(s=""),tr=s}er._wrapperState={initialValue:Sa(tr)}}function ib(er,s){var tr=Sa(s.value),nr=Sa(s.defaultValue);tr!=null&&(tr=""+tr,tr!==er.value&&(er.value=tr),s.defaultValue==null&&er.defaultValue!==tr&&(er.defaultValue=tr)),nr!=null&&(er.defaultValue=""+nr)}function jb(er){var s=er.textContent;s===er._wrapperState.initialValue&&s!==""&&s!==null&&(er.value=s)}function kb(er){switch(er){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(er,s){return er==null||er==="http://www.w3.org/1999/xhtml"?kb(s):er==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":er}var mb,nb=function(er){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,tr,nr,rr){MSApp.execUnsafeLocalFunction(function(){return er(s,tr,nr,rr)})}:er}(function(er,s){if(er.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in er)er.innerHTML=s;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=mb.firstChild;er.firstChild;)er.removeChild(er.firstChild);for(;s.firstChild;)er.appendChild(s.firstChild)}});function ob(er,s){if(s){var tr=er.firstChild;if(tr&&tr===er.lastChild&&tr.nodeType===3){tr.nodeValue=s;return}}er.textContent=s}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(er){qb.forEach(function(s){s=s+er.charAt(0).toUpperCase()+er.substring(1),pb[s]=pb[er]})});function rb(er,s,tr){return s==null||typeof s=="boolean"||s===""?"":tr||typeof s!="number"||s===0||pb.hasOwnProperty(er)&&pb[er]?(""+s).trim():s+"px"}function sb(er,s){er=er.style;for(var tr in s)if(s.hasOwnProperty(tr)){var nr=tr.indexOf("--")===0,rr=rb(tr,s[tr],nr);tr==="float"&&(tr="cssFloat"),nr?er.setProperty(tr,rr):er[tr]=rr}}var tb=A$1({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(er,s){if(s){if(tb[er]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(p$1(137,er));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(p$1(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(p$1(61))}if(s.style!=null&&typeof s.style!="object")throw Error(p$1(62))}}function vb(er,s){if(er.indexOf("-")===-1)return typeof s.is=="string";switch(er){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(er){return er=er.target||er.srcElement||window,er.correspondingUseElement&&(er=er.correspondingUseElement),er.nodeType===3?er.parentNode:er}var yb=null,zb=null,Ab=null;function Bb(er){if(er=Cb(er)){if(typeof yb!="function")throw Error(p$1(280));var s=er.stateNode;s&&(s=Db(s),yb(er.stateNode,er.type,s))}}function Eb(er){zb?Ab?Ab.push(er):Ab=[er]:zb=er}function Fb(){if(zb){var er=zb,s=Ab;if(Ab=zb=null,Bb(er),s)for(er=0;er<s.length;er++)Bb(s[er])}}function Gb(er,s){return er(s)}function Hb(){}var Ib=!1;function Jb(er,s,tr){if(Ib)return er(s,tr);Ib=!0;try{return Gb(er,s,tr)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(er,s){var tr=er.stateNode;if(tr===null)return null;var nr=Db(tr);if(nr===null)return null;tr=nr[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nr=!nr.disabled)||(er=er.type,nr=!(er==="button"||er==="input"||er==="select"||er==="textarea")),er=!nr;break e;default:er=!1}if(er)return null;if(tr&&typeof tr!="function")throw Error(p$1(231,s,typeof tr));return tr}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(er,s,tr,nr,rr,ir,sr,or,ar){var lr=Array.prototype.slice.call(arguments,3);try{s.apply(tr,lr)}catch(cr){this.onError(cr)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(er){Ob=!0,Pb=er}};function Tb(er,s,tr,nr,rr,ir,sr,or,ar){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(er,s,tr,nr,rr,ir,sr,or,ar){if(Tb.apply(this,arguments),Ob){if(Ob){var lr=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=lr)}}function Vb(er){var s=er,tr=er;if(er.alternate)for(;s.return;)s=s.return;else{er=s;do s=er,s.flags&4098&&(tr=s.return),er=s.return;while(er)}return s.tag===3?tr:null}function Wb(er){if(er.tag===13){var s=er.memoizedState;if(s===null&&(er=er.alternate,er!==null&&(s=er.memoizedState)),s!==null)return s.dehydrated}return null}function Xb(er){if(Vb(er)!==er)throw Error(p$1(188))}function Yb(er){var s=er.alternate;if(!s){if(s=Vb(er),s===null)throw Error(p$1(188));return s!==er?null:er}for(var tr=er,nr=s;;){var rr=tr.return;if(rr===null)break;var ir=rr.alternate;if(ir===null){if(nr=rr.return,nr!==null){tr=nr;continue}break}if(rr.child===ir.child){for(ir=rr.child;ir;){if(ir===tr)return Xb(rr),er;if(ir===nr)return Xb(rr),s;ir=ir.sibling}throw Error(p$1(188))}if(tr.return!==nr.return)tr=rr,nr=ir;else{for(var sr=!1,or=rr.child;or;){if(or===tr){sr=!0,tr=rr,nr=ir;break}if(or===nr){sr=!0,nr=rr,tr=ir;break}or=or.sibling}if(!sr){for(or=ir.child;or;){if(or===tr){sr=!0,tr=ir,nr=rr;break}if(or===nr){sr=!0,nr=ir,tr=rr;break}or=or.sibling}if(!sr)throw Error(p$1(189))}}if(tr.alternate!==nr)throw Error(p$1(190))}if(tr.tag!==3)throw Error(p$1(188));return tr.stateNode.current===tr?er:s}function Zb(er){return er=Yb(er),er!==null?$b(er):null}function $b(er){if(er.tag===5||er.tag===6)return er;for(er=er.child;er!==null;){var s=$b(er);if(s!==null)return s;er=er.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(er){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,er,void 0,(er.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(er){return er>>>=0,er===0?32:31-(pc(er)/qc|0)|0}var rc=64,sc=4194304;function tc(er){switch(er&-er){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return er&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return er&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return er}}function uc(er,s){var tr=er.pendingLanes;if(tr===0)return 0;var nr=0,rr=er.suspendedLanes,ir=er.pingedLanes,sr=tr&268435455;if(sr!==0){var or=sr&~rr;or!==0?nr=tc(or):(ir&=sr,ir!==0&&(nr=tc(ir)))}else sr=tr&~rr,sr!==0?nr=tc(sr):ir!==0&&(nr=tc(ir));if(nr===0)return 0;if(s!==0&&s!==nr&&!(s&rr)&&(rr=nr&-nr,ir=s&-s,rr>=ir||rr===16&&(ir&4194240)!==0))return s;if(nr&4&&(nr|=tr&16),s=er.entangledLanes,s!==0)for(er=er.entanglements,s&=nr;0<s;)tr=31-oc(s),rr=1<<tr,nr|=er[tr],s&=~rr;return nr}function vc(er,s){switch(er){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(er,s){for(var tr=er.suspendedLanes,nr=er.pingedLanes,rr=er.expirationTimes,ir=er.pendingLanes;0<ir;){var sr=31-oc(ir),or=1<<sr,ar=rr[sr];ar===-1?(!(or&tr)||or&nr)&&(rr[sr]=vc(or,s)):ar<=s&&(er.expiredLanes|=or),ir&=~or}}function xc(er){return er=er.pendingLanes&-1073741825,er!==0?er:er&1073741824?1073741824:0}function yc(){var er=rc;return rc<<=1,!(rc&4194240)&&(rc=64),er}function zc(er){for(var s=[],tr=0;31>tr;tr++)s.push(er);return s}function Ac(er,s,tr){er.pendingLanes|=s,s!==536870912&&(er.suspendedLanes=0,er.pingedLanes=0),er=er.eventTimes,s=31-oc(s),er[s]=tr}function Bc(er,s){var tr=er.pendingLanes&~s;er.pendingLanes=s,er.suspendedLanes=0,er.pingedLanes=0,er.expiredLanes&=s,er.mutableReadLanes&=s,er.entangledLanes&=s,s=er.entanglements;var nr=er.eventTimes;for(er=er.expirationTimes;0<tr;){var rr=31-oc(tr),ir=1<<rr;s[rr]=0,nr[rr]=-1,er[rr]=-1,tr&=~ir}}function Cc(er,s){var tr=er.entangledLanes|=s;for(er=er.entanglements;tr;){var nr=31-oc(tr),rr=1<<nr;rr&s|er[nr]&s&&(er[nr]|=s),tr&=~rr}}var C$1=0;function Dc(er){return er&=-er,1<er?4<er?er&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(er,s){switch(er){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(s.pointerId)}}function Tc(er,s,tr,nr,rr,ir){return er===null||er.nativeEvent!==ir?(er={blockedOn:s,domEventName:tr,eventSystemFlags:nr,nativeEvent:ir,targetContainers:[rr]},s!==null&&(s=Cb(s),s!==null&&Fc(s)),er):(er.eventSystemFlags|=nr,s=er.targetContainers,rr!==null&&s.indexOf(rr)===-1&&s.push(rr),er)}function Uc(er,s,tr,nr,rr){switch(s){case"focusin":return Lc=Tc(Lc,er,s,tr,nr,rr),!0;case"dragenter":return Mc=Tc(Mc,er,s,tr,nr,rr),!0;case"mouseover":return Nc=Tc(Nc,er,s,tr,nr,rr),!0;case"pointerover":var ir=rr.pointerId;return Oc.set(ir,Tc(Oc.get(ir)||null,er,s,tr,nr,rr)),!0;case"gotpointercapture":return ir=rr.pointerId,Pc.set(ir,Tc(Pc.get(ir)||null,er,s,tr,nr,rr)),!0}return!1}function Vc(er){var s=Wc(er.target);if(s!==null){var tr=Vb(s);if(tr!==null){if(s=tr.tag,s===13){if(s=Wb(tr),s!==null){er.blockedOn=s,Ic(er.priority,function(){Gc(tr)});return}}else if(s===3&&tr.stateNode.current.memoizedState.isDehydrated){er.blockedOn=tr.tag===3?tr.stateNode.containerInfo:null;return}}}er.blockedOn=null}function Xc(er){if(er.blockedOn!==null)return!1;for(var s=er.targetContainers;0<s.length;){var tr=Yc(er.domEventName,er.eventSystemFlags,s[0],er.nativeEvent);if(tr===null){tr=er.nativeEvent;var nr=new tr.constructor(tr.type,tr);wb=nr,tr.target.dispatchEvent(nr),wb=null}else return s=Cb(tr),s!==null&&Fc(s),er.blockedOn=tr,!1;s.shift()}return!0}function Zc(er,s,tr){Xc(er)&&tr.delete(s)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(er,s){er.blockedOn===s&&(er.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(er){function s(rr){return ad(rr,er)}if(0<Kc.length){ad(Kc[0],er);for(var tr=1;tr<Kc.length;tr++){var nr=Kc[tr];nr.blockedOn===er&&(nr.blockedOn=null)}}for(Lc!==null&&ad(Lc,er),Mc!==null&&ad(Mc,er),Nc!==null&&ad(Nc,er),Oc.forEach(s),Pc.forEach(s),tr=0;tr<Qc.length;tr++)nr=Qc[tr],nr.blockedOn===er&&(nr.blockedOn=null);for(;0<Qc.length&&(tr=Qc[0],tr.blockedOn===null);)Vc(tr),tr.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(er,s,tr,nr){var rr=C$1,ir=cd.transition;cd.transition=null;try{C$1=1,fd(er,s,tr,nr)}finally{C$1=rr,cd.transition=ir}}function gd(er,s,tr,nr){var rr=C$1,ir=cd.transition;cd.transition=null;try{C$1=4,fd(er,s,tr,nr)}finally{C$1=rr,cd.transition=ir}}function fd(er,s,tr,nr){if(dd){var rr=Yc(er,s,tr,nr);if(rr===null)hd(er,s,nr,id,tr),Sc(er,nr);else if(Uc(rr,er,s,tr,nr))nr.stopPropagation();else if(Sc(er,nr),s&4&&-1<Rc.indexOf(er)){for(;rr!==null;){var ir=Cb(rr);if(ir!==null&&Ec(ir),ir=Yc(er,s,tr,nr),ir===null&&hd(er,s,nr,id,tr),ir===rr)break;rr=ir}rr!==null&&nr.stopPropagation()}else hd(er,s,nr,null,tr)}}var id=null;function Yc(er,s,tr,nr){if(id=null,er=xb(nr),er=Wc(er),er!==null)if(s=Vb(er),s===null)er=null;else if(tr=s.tag,tr===13){if(er=Wb(s),er!==null)return er;er=null}else if(tr===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;er=null}else s!==er&&(er=null);return id=er,null}function jd(er){switch(er){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var er,s=ld,tr=s.length,nr,rr="value"in kd?kd.value:kd.textContent,ir=rr.length;for(er=0;er<tr&&s[er]===rr[er];er++);var sr=tr-er;for(nr=1;nr<=sr&&s[tr-nr]===rr[ir-nr];nr++);return md=rr.slice(er,1<nr?1-nr:void 0)}function od(er){var s=er.keyCode;return"charCode"in er?(er=er.charCode,er===0&&s===13&&(er=13)):er=s,er===10&&(er=13),32<=er||er===13?er:0}function pd(){return!0}function qd(){return!1}function rd(er){function s(tr,nr,rr,ir,sr){this._reactName=tr,this._targetInst=rr,this.type=nr,this.nativeEvent=ir,this.target=sr,this.currentTarget=null;for(var or in er)er.hasOwnProperty(or)&&(tr=er[or],this[or]=tr?tr(ir):ir[or]);return this.isDefaultPrevented=(ir.defaultPrevented!=null?ir.defaultPrevented:ir.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$1(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var tr=this.nativeEvent;tr&&(tr.preventDefault?tr.preventDefault():typeof tr.returnValue!="unknown"&&(tr.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var tr=this.nativeEvent;tr&&(tr.stopPropagation?tr.stopPropagation():typeof tr.cancelBubble!="unknown"&&(tr.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),s}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(er){return er.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$1({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$1({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(er){return er.relatedTarget===void 0?er.fromElement===er.srcElement?er.toElement:er.fromElement:er.relatedTarget},movementX:function(er){return"movementX"in er?er.movementX:(er!==yd&&(yd&&er.type==="mousemove"?(wd=er.screenX-yd.screenX,xd=er.screenY-yd.screenY):xd=wd=0,yd=er),wd)},movementY:function(er){return"movementY"in er?er.movementY:xd}}),Bd=rd(Ad),Cd=A$1({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$1({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$1({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$1({},sd,{clipboardData:function(er){return"clipboardData"in er?er.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$1({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(er){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(er):(er=Od[er])?!!s[er]:!1}function zd(){return Pd}var Qd=A$1({},ud,{key:function(er){if(er.key){var s=Md[er.key]||er.key;if(s!=="Unidentified")return s}return er.type==="keypress"?(er=od(er),er===13?"Enter":String.fromCharCode(er)):er.type==="keydown"||er.type==="keyup"?Nd[er.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(er){return er.type==="keypress"?od(er):0},keyCode:function(er){return er.type==="keydown"||er.type==="keyup"?er.keyCode:0},which:function(er){return er.type==="keypress"?od(er):er.type==="keydown"||er.type==="keyup"?er.keyCode:0}}),Rd=rd(Qd),Sd=A$1({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$1({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$1({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$1({},Ad,{deltaX:function(er){return"deltaX"in er?er.deltaX:"wheelDeltaX"in er?-er.wheelDeltaX:0},deltaY:function(er){return"deltaY"in er?er.deltaY:"wheelDeltaY"in er?-er.wheelDeltaY:"wheelDelta"in er?-er.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(er,s){switch(er){case"keyup":return $d.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(er){return er=er.detail,typeof er=="object"&&"data"in er?er.data:null}var ie$1=!1;function je(er,s){switch(er){case"compositionend":return he$1(s);case"keypress":return s.which!==32?null:(fe$1=!0,ee$1);case"textInput":return er=s.data,er===ee$1&&fe$1?null:er;default:return null}}function ke$1(er,s){if(ie$1)return er==="compositionend"||!ae$1&&ge$1(er,s)?(er=nd(),md=ld=kd=null,ie$1=!1,er):null;switch(er){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return de$1&&s.locale!=="ko"?null:s.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(er){var s=er&&er.nodeName&&er.nodeName.toLowerCase();return s==="input"?!!le$1[er.type]:s==="textarea"}function ne$1(er,s,tr,nr){Eb(nr),s=oe$1(s,"onChange"),0<s.length&&(tr=new td("onChange","change",null,tr,nr),er.push({event:tr,listeners:s}))}var pe$1=null,qe=null;function re$1(er){se$1(er,0)}function te$1(er){var s=ue$1(er);if(Wa(s))return er}function ve$1(er,s){if(er==="change")return s}var we$1=!1;if(ia){var xe$1;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(er){if(er.propertyName==="value"&&te$1(qe)){var s=[];ne$1(s,qe,er,xb(er)),Jb(re$1,s)}}function Ce$1(er,s,tr){er==="focusin"?(Ae(),pe$1=s,qe=tr,pe$1.attachEvent("onpropertychange",Be)):er==="focusout"&&Ae()}function De$1(er){if(er==="selectionchange"||er==="keyup"||er==="keydown")return te$1(qe)}function Ee(er,s){if(er==="click")return te$1(s)}function Fe(er,s){if(er==="input"||er==="change")return te$1(s)}function Ge(er,s){return er===s&&(er!==0||1/er===1/s)||er!==er&&s!==s}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(er,s){if(He(er,s))return!0;if(typeof er!="object"||er===null||typeof s!="object"||s===null)return!1;var tr=Object.keys(er),nr=Object.keys(s);if(tr.length!==nr.length)return!1;for(nr=0;nr<tr.length;nr++){var rr=tr[nr];if(!ja.call(s,rr)||!He(er[rr],s[rr]))return!1}return!0}function Je(er){for(;er&&er.firstChild;)er=er.firstChild;return er}function Ke(er,s){var tr=Je(er);er=0;for(var nr;tr;){if(tr.nodeType===3){if(nr=er+tr.textContent.length,er<=s&&nr>=s)return{node:tr,offset:s-er};er=nr}e:{for(;tr;){if(tr.nextSibling){tr=tr.nextSibling;break e}tr=tr.parentNode}tr=void 0}tr=Je(tr)}}function Le(er,s){return er&&s?er===s?!0:er&&er.nodeType===3?!1:s&&s.nodeType===3?Le(er,s.parentNode):"contains"in er?er.contains(s):er.compareDocumentPosition?!!(er.compareDocumentPosition(s)&16):!1:!1}function Me$1(){for(var er=window,s=Xa();s instanceof er.HTMLIFrameElement;){try{var tr=typeof s.contentWindow.location.href=="string"}catch{tr=!1}if(tr)er=s.contentWindow;else break;s=Xa(er.document)}return s}function Ne(er){var s=er&&er.nodeName&&er.nodeName.toLowerCase();return s&&(s==="input"&&(er.type==="text"||er.type==="search"||er.type==="tel"||er.type==="url"||er.type==="password")||s==="textarea"||er.contentEditable==="true")}function Oe(er){var s=Me$1(),tr=er.focusedElem,nr=er.selectionRange;if(s!==tr&&tr&&tr.ownerDocument&&Le(tr.ownerDocument.documentElement,tr)){if(nr!==null&&Ne(tr)){if(s=nr.start,er=nr.end,er===void 0&&(er=s),"selectionStart"in tr)tr.selectionStart=s,tr.selectionEnd=Math.min(er,tr.value.length);else if(er=(s=tr.ownerDocument||document)&&s.defaultView||window,er.getSelection){er=er.getSelection();var rr=tr.textContent.length,ir=Math.min(nr.start,rr);nr=nr.end===void 0?ir:Math.min(nr.end,rr),!er.extend&&ir>nr&&(rr=nr,nr=ir,ir=rr),rr=Ke(tr,ir);var sr=Ke(tr,nr);rr&&sr&&(er.rangeCount!==1||er.anchorNode!==rr.node||er.anchorOffset!==rr.offset||er.focusNode!==sr.node||er.focusOffset!==sr.offset)&&(s=s.createRange(),s.setStart(rr.node,rr.offset),er.removeAllRanges(),ir>nr?(er.addRange(s),er.extend(sr.node,sr.offset)):(s.setEnd(sr.node,sr.offset),er.addRange(s)))}}for(s=[],er=tr;er=er.parentNode;)er.nodeType===1&&s.push({element:er,left:er.scrollLeft,top:er.scrollTop});for(typeof tr.focus=="function"&&tr.focus(),tr=0;tr<s.length;tr++)er=s[tr],er.element.scrollLeft=er.left,er.element.scrollTop=er.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se$1=null,Te$1=!1;function Ue(er,s,tr){var nr=tr.window===tr?tr.document:tr.nodeType===9?tr:tr.ownerDocument;Te$1||Qe==null||Qe!==Xa(nr)||(nr=Qe,"selectionStart"in nr&&Ne(nr)?nr={start:nr.selectionStart,end:nr.selectionEnd}:(nr=(nr.ownerDocument&&nr.ownerDocument.defaultView||window).getSelection(),nr={anchorNode:nr.anchorNode,anchorOffset:nr.anchorOffset,focusNode:nr.focusNode,focusOffset:nr.focusOffset}),Se$1&&Ie(Se$1,nr)||(Se$1=nr,nr=oe$1(Re$1,"onSelect"),0<nr.length&&(s=new td("onSelect","select",null,s,tr),er.push({event:s,listeners:nr}),s.target=Qe)))}function Ve$1(er,s){var tr={};return tr[er.toLowerCase()]=s.toLowerCase(),tr["Webkit"+er]="webkit"+s,tr["Moz"+er]="moz"+s,tr}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(er){if(Xe[er])return Xe[er];if(!We[er])return er;var s=We[er],tr;for(tr in s)if(s.hasOwnProperty(tr)&&tr in Ye)return Xe[er]=s[tr];return er}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(er,s){df.set(er,s),fa(s,[er])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(er,s,tr){var nr=er.type||"unknown-event";er.currentTarget=tr,Ub(nr,s,void 0,er),er.currentTarget=null}function se$1(er,s){s=(s&4)!==0;for(var tr=0;tr<er.length;tr++){var nr=er[tr],rr=nr.event;nr=nr.listeners;e:{var ir=void 0;if(s)for(var sr=nr.length-1;0<=sr;sr--){var or=nr[sr],ar=or.instance,lr=or.currentTarget;if(or=or.listener,ar!==ir&&rr.isPropagationStopped())break e;nf(rr,or,lr),ir=ar}else for(sr=0;sr<nr.length;sr++){if(or=nr[sr],ar=or.instance,lr=or.currentTarget,or=or.listener,ar!==ir&&rr.isPropagationStopped())break e;nf(rr,or,lr),ir=ar}}}if(Qb)throw er=Rb,Qb=!1,Rb=null,er}function D$1(er,s){var tr=s[of];tr===void 0&&(tr=s[of]=new Set);var nr=er+"__bubble";tr.has(nr)||(pf(s,er,2,!1),tr.add(nr))}function qf(er,s,tr){var nr=0;s&&(nr|=4),pf(tr,er,nr,s)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(er){if(!er[rf]){er[rf]=!0,da.forEach(function(tr){tr!=="selectionchange"&&(mf.has(tr)||qf(tr,!1,er),qf(tr,!0,er))});var s=er.nodeType===9?er:er.ownerDocument;s===null||s[rf]||(s[rf]=!0,qf("selectionchange",!1,s))}}function pf(er,s,tr,nr){switch(jd(s)){case 1:var rr=ed;break;case 4:rr=gd;break;default:rr=fd}tr=rr.bind(null,s,tr,er),rr=void 0,!Lb||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(rr=!0),nr?rr!==void 0?er.addEventListener(s,tr,{capture:!0,passive:rr}):er.addEventListener(s,tr,!0):rr!==void 0?er.addEventListener(s,tr,{passive:rr}):er.addEventListener(s,tr,!1)}function hd(er,s,tr,nr,rr){var ir=nr;if(!(s&1)&&!(s&2)&&nr!==null)e:for(;;){if(nr===null)return;var sr=nr.tag;if(sr===3||sr===4){var or=nr.stateNode.containerInfo;if(or===rr||or.nodeType===8&&or.parentNode===rr)break;if(sr===4)for(sr=nr.return;sr!==null;){var ar=sr.tag;if((ar===3||ar===4)&&(ar=sr.stateNode.containerInfo,ar===rr||ar.nodeType===8&&ar.parentNode===rr))return;sr=sr.return}for(;or!==null;){if(sr=Wc(or),sr===null)return;if(ar=sr.tag,ar===5||ar===6){nr=ir=sr;continue e}or=or.parentNode}}nr=nr.return}Jb(function(){var lr=ir,cr=xb(tr),ur=[];e:{var hr=df.get(er);if(hr!==void 0){var dr=td,pr=er;switch(er){case"keypress":if(od(tr)===0)break e;case"keydown":case"keyup":dr=Rd;break;case"focusin":pr="focus",dr=Fd;break;case"focusout":pr="blur",dr=Fd;break;case"beforeblur":case"afterblur":dr=Fd;break;case"click":if(tr.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dr=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dr=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dr=Vd;break;case $e:case af:case bf:dr=Hd;break;case cf:dr=Xd;break;case"scroll":dr=vd;break;case"wheel":dr=Zd;break;case"copy":case"cut":case"paste":dr=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dr=Td}var mr=(s&4)!==0,xr=!mr&&er==="scroll",br=mr?hr!==null?hr+"Capture":null:hr;mr=[];for(var yr=lr,gr;yr!==null;){gr=yr;var Er=gr.stateNode;if(gr.tag===5&&Er!==null&&(gr=Er,br!==null&&(Er=Kb(yr,br),Er!=null&&mr.push(tf(yr,Er,gr)))),xr)break;yr=yr.return}0<mr.length&&(hr=new dr(hr,pr,null,tr,cr),ur.push({event:hr,listeners:mr}))}}if(!(s&7)){e:{if(hr=er==="mouseover"||er==="pointerover",dr=er==="mouseout"||er==="pointerout",hr&&tr!==wb&&(pr=tr.relatedTarget||tr.fromElement)&&(Wc(pr)||pr[uf]))break e;if((dr||hr)&&(hr=cr.window===cr?cr:(hr=cr.ownerDocument)?hr.defaultView||hr.parentWindow:window,dr?(pr=tr.relatedTarget||tr.toElement,dr=lr,pr=pr?Wc(pr):null,pr!==null&&(xr=Vb(pr),pr!==xr||pr.tag!==5&&pr.tag!==6)&&(pr=null)):(dr=null,pr=lr),dr!==pr)){if(mr=Bd,Er="onMouseLeave",br="onMouseEnter",yr="mouse",(er==="pointerout"||er==="pointerover")&&(mr=Td,Er="onPointerLeave",br="onPointerEnter",yr="pointer"),xr=dr==null?hr:ue$1(dr),gr=pr==null?hr:ue$1(pr),hr=new mr(Er,yr+"leave",dr,tr,cr),hr.target=xr,hr.relatedTarget=gr,Er=null,Wc(cr)===lr&&(mr=new mr(br,yr+"enter",pr,tr,cr),mr.target=gr,mr.relatedTarget=xr,Er=mr),xr=Er,dr&&pr)t:{for(mr=dr,br=pr,yr=0,gr=mr;gr;gr=vf(gr))yr++;for(gr=0,Er=br;Er;Er=vf(Er))gr++;for(;0<yr-gr;)mr=vf(mr),yr--;for(;0<gr-yr;)br=vf(br),gr--;for(;yr--;){if(mr===br||br!==null&&mr===br.alternate)break t;mr=vf(mr),br=vf(br)}mr=null}else mr=null;dr!==null&&wf(ur,hr,dr,mr,!1),pr!==null&&xr!==null&&wf(ur,xr,pr,mr,!0)}}e:{if(hr=lr?ue$1(lr):window,dr=hr.nodeName&&hr.nodeName.toLowerCase(),dr==="select"||dr==="input"&&hr.type==="file")var kr=ve$1;else if(me$1(hr))if(we$1)kr=Fe;else{kr=De$1;var Mr=Ce$1}else(dr=hr.nodeName)&&dr.toLowerCase()==="input"&&(hr.type==="checkbox"||hr.type==="radio")&&(kr=Ee);if(kr&&(kr=kr(er,lr))){ne$1(ur,kr,tr,cr);break e}Mr&&Mr(er,hr,lr),er==="focusout"&&(Mr=hr._wrapperState)&&Mr.controlled&&hr.type==="number"&&cb(hr,"number",hr.value)}switch(Mr=lr?ue$1(lr):window,er){case"focusin":(me$1(Mr)||Mr.contentEditable==="true")&&(Qe=Mr,Re$1=lr,Se$1=null);break;case"focusout":Se$1=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(ur,tr,cr);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(ur,tr,cr)}var Cr;if(ae$1)e:{switch(er){case"compositionstart":var Dr="onCompositionStart";break e;case"compositionend":Dr="onCompositionEnd";break e;case"compositionupdate":Dr="onCompositionUpdate";break e}Dr=void 0}else ie$1?ge$1(er,tr)&&(Dr="onCompositionEnd"):er==="keydown"&&tr.keyCode===229&&(Dr="onCompositionStart");Dr&&(de$1&&tr.locale!=="ko"&&(ie$1||Dr!=="onCompositionStart"?Dr==="onCompositionEnd"&&ie$1&&(Cr=nd()):(kd=cr,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Mr=oe$1(lr,Dr),0<Mr.length&&(Dr=new Ld(Dr,er,null,tr,cr),ur.push({event:Dr,listeners:Mr}),Cr?Dr.data=Cr:(Cr=he$1(tr),Cr!==null&&(Dr.data=Cr)))),(Cr=ce$1?je(er,tr):ke$1(er,tr))&&(lr=oe$1(lr,"onBeforeInput"),0<lr.length&&(cr=new Ld("onBeforeInput","beforeinput",null,tr,cr),ur.push({event:cr,listeners:lr}),cr.data=Cr))}se$1(ur,s)})}function tf(er,s,tr){return{instance:er,listener:s,currentTarget:tr}}function oe$1(er,s){for(var tr=s+"Capture",nr=[];er!==null;){var rr=er,ir=rr.stateNode;rr.tag===5&&ir!==null&&(rr=ir,ir=Kb(er,tr),ir!=null&&nr.unshift(tf(er,ir,rr)),ir=Kb(er,s),ir!=null&&nr.push(tf(er,ir,rr))),er=er.return}return nr}function vf(er){if(er===null)return null;do er=er.return;while(er&&er.tag!==5);return er||null}function wf(er,s,tr,nr,rr){for(var ir=s._reactName,sr=[];tr!==null&&tr!==nr;){var or=tr,ar=or.alternate,lr=or.stateNode;if(ar!==null&&ar===nr)break;or.tag===5&&lr!==null&&(or=lr,rr?(ar=Kb(tr,ir),ar!=null&&sr.unshift(tf(tr,ar,or))):rr||(ar=Kb(tr,ir),ar!=null&&sr.push(tf(tr,ar,or)))),tr=tr.return}sr.length!==0&&er.push({event:s,listeners:sr})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(er){return(typeof er=="string"?er:""+er).replace(xf,`
`).replace(yf,"")}function Af(er,s,tr){if(s=zf(s),zf(er)!==s&&tr)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(er,s){return er==="textarea"||er==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(er){return Hf.resolve(null).then(er).catch(If)}:Ff;function If(er){setTimeout(function(){throw er})}function Kf(er,s){var tr=s,nr=0;do{var rr=tr.nextSibling;if(er.removeChild(tr),rr&&rr.nodeType===8)if(tr=rr.data,tr==="/$"){if(nr===0){er.removeChild(rr),bd(s);return}nr--}else tr!=="$"&&tr!=="$?"&&tr!=="$!"||nr++;tr=rr}while(tr);bd(s)}function Lf(er){for(;er!=null;er=er.nextSibling){var s=er.nodeType;if(s===1||s===3)break;if(s===8){if(s=er.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return er}function Mf(er){er=er.previousSibling;for(var s=0;er;){if(er.nodeType===8){var tr=er.data;if(tr==="$"||tr==="$!"||tr==="$?"){if(s===0)return er;s--}else tr==="/$"&&s++}er=er.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(er){var s=er[Of];if(s)return s;for(var tr=er.parentNode;tr;){if(s=tr[uf]||tr[Of]){if(tr=s.alternate,s.child!==null||tr!==null&&tr.child!==null)for(er=Mf(er);er!==null;){if(tr=er[Of])return tr;er=Mf(er)}return s}er=tr,tr=er.parentNode}return null}function Cb(er){return er=er[Of]||er[uf],!er||er.tag!==5&&er.tag!==6&&er.tag!==13&&er.tag!==3?null:er}function ue$1(er){if(er.tag===5||er.tag===6)return er.stateNode;throw Error(p$1(33))}function Db(er){return er[Pf]||null}var Sf=[],Tf=-1;function Uf(er){return{current:er}}function E$1(er){0>Tf||(er.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(er,s){Tf++,Sf[Tf]=er.current,er.current=s}var Vf={},H$1=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(er,s){var tr=er.type.contextTypes;if(!tr)return Vf;var nr=er.stateNode;if(nr&&nr.__reactInternalMemoizedUnmaskedChildContext===s)return nr.__reactInternalMemoizedMaskedChildContext;var rr={},ir;for(ir in tr)rr[ir]=s[ir];return nr&&(er=er.stateNode,er.__reactInternalMemoizedUnmaskedChildContext=s,er.__reactInternalMemoizedMaskedChildContext=rr),rr}function Zf(er){return er=er.childContextTypes,er!=null}function $f(){E$1(Wf),E$1(H$1)}function ag(er,s,tr){if(H$1.current!==Vf)throw Error(p$1(168));G$2(H$1,s),G$2(Wf,tr)}function bg(er,s,tr){var nr=er.stateNode;if(s=s.childContextTypes,typeof nr.getChildContext!="function")return tr;nr=nr.getChildContext();for(var rr in nr)if(!(rr in s))throw Error(p$1(108,Ra(er)||"Unknown",rr));return A$1({},tr,nr)}function cg(er){return er=(er=er.stateNode)&&er.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$1.current,G$2(H$1,er),G$2(Wf,Wf.current),!0}function dg(er,s,tr){var nr=er.stateNode;if(!nr)throw Error(p$1(169));tr?(er=bg(er,s,Xf),nr.__reactInternalMemoizedMergedChildContext=er,E$1(Wf),E$1(H$1),G$2(H$1,er)):E$1(Wf),G$2(Wf,tr)}var eg=null,fg=!1,gg=!1;function hg(er){eg===null?eg=[er]:eg.push(er)}function ig(er){fg=!0,hg(er)}function jg(){if(!gg&&eg!==null){gg=!0;var er=0,s=C$1;try{var tr=eg;for(C$1=1;er<tr.length;er++){var nr=tr[er];do nr=nr(!0);while(nr!==null)}eg=null,fg=!1}catch(rr){throw eg!==null&&(eg=eg.slice(er+1)),ac(fc,jg),rr}finally{C$1=s,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(er,s){kg[lg++]=ng,kg[lg++]=mg,mg=er,ng=s}function ug(er,s,tr){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=er;var nr=rg;er=sg;var rr=32-oc(nr)-1;nr&=~(1<<rr),tr+=1;var ir=32-oc(s)+rr;if(30<ir){var sr=rr-rr%5;ir=(nr&(1<<sr)-1).toString(32),nr>>=sr,rr-=sr,rg=1<<32-oc(s)+rr|tr<<rr|nr,sg=ir+er}else rg=1<<ir|tr<<rr|nr,sg=er}function vg(er){er.return!==null&&(tg(er,1),ug(er,1,0))}function wg(er){for(;er===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;er===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(er,s){var tr=Bg(5,null,null,0);tr.elementType="DELETED",tr.stateNode=s,tr.return=er,s=er.deletions,s===null?(er.deletions=[tr],er.flags|=16):s.push(tr)}function Cg(er,s){switch(er.tag){case 5:var tr=er.type;return s=s.nodeType!==1||tr.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(er.stateNode=s,xg=er,yg=Lf(s.firstChild),!0):!1;case 6:return s=er.pendingProps===""||s.nodeType!==3?null:s,s!==null?(er.stateNode=s,xg=er,yg=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(tr=qg!==null?{id:rg,overflow:sg}:null,er.memoizedState={dehydrated:s,treeContext:tr,retryLane:1073741824},tr=Bg(18,null,null,0),tr.stateNode=s,tr.return=er,er.child=tr,xg=er,yg=null,!0):!1;default:return!1}}function Dg(er){return(er.mode&1)!==0&&(er.flags&128)===0}function Eg(er){if(I$2){var s=yg;if(s){var tr=s;if(!Cg(er,s)){if(Dg(er))throw Error(p$1(418));s=Lf(tr.nextSibling);var nr=xg;s&&Cg(er,s)?Ag(nr,tr):(er.flags=er.flags&-4097|2,I$2=!1,xg=er)}}else{if(Dg(er))throw Error(p$1(418));er.flags=er.flags&-4097|2,I$2=!1,xg=er}}}function Fg(er){for(er=er.return;er!==null&&er.tag!==5&&er.tag!==3&&er.tag!==13;)er=er.return;xg=er}function Gg(er){if(er!==xg)return!1;if(!I$2)return Fg(er),I$2=!0,!1;var s;if((s=er.tag!==3)&&!(s=er.tag!==5)&&(s=er.type,s=s!=="head"&&s!=="body"&&!Ef(er.type,er.memoizedProps)),s&&(s=yg)){if(Dg(er))throw Hg(),Error(p$1(418));for(;s;)Ag(er,s),s=Lf(s.nextSibling)}if(Fg(er),er.tag===13){if(er=er.memoizedState,er=er!==null?er.dehydrated:null,!er)throw Error(p$1(317));e:{for(er=er.nextSibling,s=0;er;){if(er.nodeType===8){var tr=er.data;if(tr==="/$"){if(s===0){yg=Lf(er.nextSibling);break e}s--}else tr!=="$"&&tr!=="$!"&&tr!=="$?"||s++}er=er.nextSibling}yg=null}}else yg=xg?Lf(er.stateNode.nextSibling):null;return!0}function Hg(){for(var er=yg;er;)er=Lf(er.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(er){zg===null?zg=[er]:zg.push(er)}var Kg=ua.ReactCurrentBatchConfig;function Lg(er,s,tr){if(er=tr.ref,er!==null&&typeof er!="function"&&typeof er!="object"){if(tr._owner){if(tr=tr._owner,tr){if(tr.tag!==1)throw Error(p$1(309));var nr=tr.stateNode}if(!nr)throw Error(p$1(147,er));var rr=nr,ir=""+er;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===ir?s.ref:(s=function(sr){var or=rr.refs;sr===null?delete or[ir]:or[ir]=sr},s._stringRef=ir,s)}if(typeof er!="string")throw Error(p$1(284));if(!tr._owner)throw Error(p$1(290,er))}return er}function Mg(er,s){throw er=Object.prototype.toString.call(s),Error(p$1(31,er==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":er))}function Ng(er){var s=er._init;return s(er._payload)}function Og(er){function s(br,yr){if(er){var gr=br.deletions;gr===null?(br.deletions=[yr],br.flags|=16):gr.push(yr)}}function tr(br,yr){if(!er)return null;for(;yr!==null;)s(br,yr),yr=yr.sibling;return null}function nr(br,yr){for(br=new Map;yr!==null;)yr.key!==null?br.set(yr.key,yr):br.set(yr.index,yr),yr=yr.sibling;return br}function rr(br,yr){return br=Pg(br,yr),br.index=0,br.sibling=null,br}function ir(br,yr,gr){return br.index=gr,er?(gr=br.alternate,gr!==null?(gr=gr.index,gr<yr?(br.flags|=2,yr):gr):(br.flags|=2,yr)):(br.flags|=1048576,yr)}function sr(br){return er&&br.alternate===null&&(br.flags|=2),br}function or(br,yr,gr,Er){return yr===null||yr.tag!==6?(yr=Qg(gr,br.mode,Er),yr.return=br,yr):(yr=rr(yr,gr),yr.return=br,yr)}function ar(br,yr,gr,Er){var kr=gr.type;return kr===ya?cr(br,yr,gr.props.children,Er,gr.key):yr!==null&&(yr.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===Ha&&Ng(kr)===yr.type)?(Er=rr(yr,gr.props),Er.ref=Lg(br,yr,gr),Er.return=br,Er):(Er=Rg(gr.type,gr.key,gr.props,null,br.mode,Er),Er.ref=Lg(br,yr,gr),Er.return=br,Er)}function lr(br,yr,gr,Er){return yr===null||yr.tag!==4||yr.stateNode.containerInfo!==gr.containerInfo||yr.stateNode.implementation!==gr.implementation?(yr=Sg(gr,br.mode,Er),yr.return=br,yr):(yr=rr(yr,gr.children||[]),yr.return=br,yr)}function cr(br,yr,gr,Er,kr){return yr===null||yr.tag!==7?(yr=Tg(gr,br.mode,Er,kr),yr.return=br,yr):(yr=rr(yr,gr),yr.return=br,yr)}function ur(br,yr,gr){if(typeof yr=="string"&&yr!==""||typeof yr=="number")return yr=Qg(""+yr,br.mode,gr),yr.return=br,yr;if(typeof yr=="object"&&yr!==null){switch(yr.$$typeof){case va:return gr=Rg(yr.type,yr.key,yr.props,null,br.mode,gr),gr.ref=Lg(br,null,yr),gr.return=br,gr;case wa:return yr=Sg(yr,br.mode,gr),yr.return=br,yr;case Ha:var Er=yr._init;return ur(br,Er(yr._payload),gr)}if(eb(yr)||Ka(yr))return yr=Tg(yr,br.mode,gr,null),yr.return=br,yr;Mg(br,yr)}return null}function hr(br,yr,gr,Er){var kr=yr!==null?yr.key:null;if(typeof gr=="string"&&gr!==""||typeof gr=="number")return kr!==null?null:or(br,yr,""+gr,Er);if(typeof gr=="object"&&gr!==null){switch(gr.$$typeof){case va:return gr.key===kr?ar(br,yr,gr,Er):null;case wa:return gr.key===kr?lr(br,yr,gr,Er):null;case Ha:return kr=gr._init,hr(br,yr,kr(gr._payload),Er)}if(eb(gr)||Ka(gr))return kr!==null?null:cr(br,yr,gr,Er,null);Mg(br,gr)}return null}function dr(br,yr,gr,Er,kr){if(typeof Er=="string"&&Er!==""||typeof Er=="number")return br=br.get(gr)||null,or(yr,br,""+Er,kr);if(typeof Er=="object"&&Er!==null){switch(Er.$$typeof){case va:return br=br.get(Er.key===null?gr:Er.key)||null,ar(yr,br,Er,kr);case wa:return br=br.get(Er.key===null?gr:Er.key)||null,lr(yr,br,Er,kr);case Ha:var Mr=Er._init;return dr(br,yr,gr,Mr(Er._payload),kr)}if(eb(Er)||Ka(Er))return br=br.get(gr)||null,cr(yr,br,Er,kr,null);Mg(yr,Er)}return null}function pr(br,yr,gr,Er){for(var kr=null,Mr=null,Cr=yr,Dr=yr=0,zr=null;Cr!==null&&Dr<gr.length;Dr++){Cr.index>Dr?(zr=Cr,Cr=null):zr=Cr.sibling;var Wr=hr(br,Cr,gr[Dr],Er);if(Wr===null){Cr===null&&(Cr=zr);break}er&&Cr&&Wr.alternate===null&&s(br,Cr),yr=ir(Wr,yr,Dr),Mr===null?kr=Wr:Mr.sibling=Wr,Mr=Wr,Cr=zr}if(Dr===gr.length)return tr(br,Cr),I$2&&tg(br,Dr),kr;if(Cr===null){for(;Dr<gr.length;Dr++)Cr=ur(br,gr[Dr],Er),Cr!==null&&(yr=ir(Cr,yr,Dr),Mr===null?kr=Cr:Mr.sibling=Cr,Mr=Cr);return I$2&&tg(br,Dr),kr}for(Cr=nr(br,Cr);Dr<gr.length;Dr++)zr=dr(Cr,br,Dr,gr[Dr],Er),zr!==null&&(er&&zr.alternate!==null&&Cr.delete(zr.key===null?Dr:zr.key),yr=ir(zr,yr,Dr),Mr===null?kr=zr:Mr.sibling=zr,Mr=zr);return er&&Cr.forEach(function(Gr){return s(br,Gr)}),I$2&&tg(br,Dr),kr}function mr(br,yr,gr,Er){var kr=Ka(gr);if(typeof kr!="function")throw Error(p$1(150));if(gr=kr.call(gr),gr==null)throw Error(p$1(151));for(var Mr=kr=null,Cr=yr,Dr=yr=0,zr=null,Wr=gr.next();Cr!==null&&!Wr.done;Dr++,Wr=gr.next()){Cr.index>Dr?(zr=Cr,Cr=null):zr=Cr.sibling;var Gr=hr(br,Cr,Wr.value,Er);if(Gr===null){Cr===null&&(Cr=zr);break}er&&Cr&&Gr.alternate===null&&s(br,Cr),yr=ir(Gr,yr,Dr),Mr===null?kr=Gr:Mr.sibling=Gr,Mr=Gr,Cr=zr}if(Wr.done)return tr(br,Cr),I$2&&tg(br,Dr),kr;if(Cr===null){for(;!Wr.done;Dr++,Wr=gr.next())Wr=ur(br,Wr.value,Er),Wr!==null&&(yr=ir(Wr,yr,Dr),Mr===null?kr=Wr:Mr.sibling=Wr,Mr=Wr);return I$2&&tg(br,Dr),kr}for(Cr=nr(br,Cr);!Wr.done;Dr++,Wr=gr.next())Wr=dr(Cr,br,Dr,Wr.value,Er),Wr!==null&&(er&&Wr.alternate!==null&&Cr.delete(Wr.key===null?Dr:Wr.key),yr=ir(Wr,yr,Dr),Mr===null?kr=Wr:Mr.sibling=Wr,Mr=Wr);return er&&Cr.forEach(function(Kr){return s(br,Kr)}),I$2&&tg(br,Dr),kr}function xr(br,yr,gr,Er){if(typeof gr=="object"&&gr!==null&&gr.type===ya&&gr.key===null&&(gr=gr.props.children),typeof gr=="object"&&gr!==null){switch(gr.$$typeof){case va:e:{for(var kr=gr.key,Mr=yr;Mr!==null;){if(Mr.key===kr){if(kr=gr.type,kr===ya){if(Mr.tag===7){tr(br,Mr.sibling),yr=rr(Mr,gr.props.children),yr.return=br,br=yr;break e}}else if(Mr.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===Ha&&Ng(kr)===Mr.type){tr(br,Mr.sibling),yr=rr(Mr,gr.props),yr.ref=Lg(br,Mr,gr),yr.return=br,br=yr;break e}tr(br,Mr);break}else s(br,Mr);Mr=Mr.sibling}gr.type===ya?(yr=Tg(gr.props.children,br.mode,Er,gr.key),yr.return=br,br=yr):(Er=Rg(gr.type,gr.key,gr.props,null,br.mode,Er),Er.ref=Lg(br,yr,gr),Er.return=br,br=Er)}return sr(br);case wa:e:{for(Mr=gr.key;yr!==null;){if(yr.key===Mr)if(yr.tag===4&&yr.stateNode.containerInfo===gr.containerInfo&&yr.stateNode.implementation===gr.implementation){tr(br,yr.sibling),yr=rr(yr,gr.children||[]),yr.return=br,br=yr;break e}else{tr(br,yr);break}else s(br,yr);yr=yr.sibling}yr=Sg(gr,br.mode,Er),yr.return=br,br=yr}return sr(br);case Ha:return Mr=gr._init,xr(br,yr,Mr(gr._payload),Er)}if(eb(gr))return pr(br,yr,gr,Er);if(Ka(gr))return mr(br,yr,gr,Er);Mg(br,gr)}return typeof gr=="string"&&gr!==""||typeof gr=="number"?(gr=""+gr,yr!==null&&yr.tag===6?(tr(br,yr.sibling),yr=rr(yr,gr),yr.return=br,br=yr):(tr(br,yr),yr=Qg(gr,br.mode,Er),yr.return=br,br=yr),sr(br)):tr(br,yr)}return xr}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(er){var s=Wg.current;E$1(Wg),er._currentValue=s}function bh(er,s,tr){for(;er!==null;){var nr=er.alternate;if((er.childLanes&s)!==s?(er.childLanes|=s,nr!==null&&(nr.childLanes|=s)):nr!==null&&(nr.childLanes&s)!==s&&(nr.childLanes|=s),er===tr)break;er=er.return}}function ch(er,s){Xg=er,Zg=Yg=null,er=er.dependencies,er!==null&&er.firstContext!==null&&(er.lanes&s&&(dh=!0),er.firstContext=null)}function eh(er){var s=er._currentValue;if(Zg!==er)if(er={context:er,memoizedValue:s,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=er,Xg.dependencies={lanes:0,firstContext:er}}else Yg=Yg.next=er;return s}var fh=null;function gh(er){fh===null?fh=[er]:fh.push(er)}function hh(er,s,tr,nr){var rr=s.interleaved;return rr===null?(tr.next=tr,gh(s)):(tr.next=rr.next,rr.next=tr),s.interleaved=tr,ih(er,nr)}function ih(er,s){er.lanes|=s;var tr=er.alternate;for(tr!==null&&(tr.lanes|=s),tr=er,er=er.return;er!==null;)er.childLanes|=s,tr=er.alternate,tr!==null&&(tr.childLanes|=s),tr=er,er=er.return;return tr.tag===3?tr.stateNode:null}var jh=!1;function kh(er){er.updateQueue={baseState:er.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(er,s){er=er.updateQueue,s.updateQueue===er&&(s.updateQueue={baseState:er.baseState,firstBaseUpdate:er.firstBaseUpdate,lastBaseUpdate:er.lastBaseUpdate,shared:er.shared,effects:er.effects})}function mh(er,s){return{eventTime:er,lane:s,tag:0,payload:null,callback:null,next:null}}function nh(er,s,tr){var nr=er.updateQueue;if(nr===null)return null;if(nr=nr.shared,K$2&2){var rr=nr.pending;return rr===null?s.next=s:(s.next=rr.next,rr.next=s),nr.pending=s,ih(er,tr)}return rr=nr.interleaved,rr===null?(s.next=s,gh(nr)):(s.next=rr.next,rr.next=s),nr.interleaved=s,ih(er,tr)}function oh(er,s,tr){if(s=s.updateQueue,s!==null&&(s=s.shared,(tr&4194240)!==0)){var nr=s.lanes;nr&=er.pendingLanes,tr|=nr,s.lanes=tr,Cc(er,tr)}}function ph(er,s){var tr=er.updateQueue,nr=er.alternate;if(nr!==null&&(nr=nr.updateQueue,tr===nr)){var rr=null,ir=null;if(tr=tr.firstBaseUpdate,tr!==null){do{var sr={eventTime:tr.eventTime,lane:tr.lane,tag:tr.tag,payload:tr.payload,callback:tr.callback,next:null};ir===null?rr=ir=sr:ir=ir.next=sr,tr=tr.next}while(tr!==null);ir===null?rr=ir=s:ir=ir.next=s}else rr=ir=s;tr={baseState:nr.baseState,firstBaseUpdate:rr,lastBaseUpdate:ir,shared:nr.shared,effects:nr.effects},er.updateQueue=tr;return}er=tr.lastBaseUpdate,er===null?tr.firstBaseUpdate=s:er.next=s,tr.lastBaseUpdate=s}function qh(er,s,tr,nr){var rr=er.updateQueue;jh=!1;var ir=rr.firstBaseUpdate,sr=rr.lastBaseUpdate,or=rr.shared.pending;if(or!==null){rr.shared.pending=null;var ar=or,lr=ar.next;ar.next=null,sr===null?ir=lr:sr.next=lr,sr=ar;var cr=er.alternate;cr!==null&&(cr=cr.updateQueue,or=cr.lastBaseUpdate,or!==sr&&(or===null?cr.firstBaseUpdate=lr:or.next=lr,cr.lastBaseUpdate=ar))}if(ir!==null){var ur=rr.baseState;sr=0,cr=lr=ar=null,or=ir;do{var hr=or.lane,dr=or.eventTime;if((nr&hr)===hr){cr!==null&&(cr=cr.next={eventTime:dr,lane:0,tag:or.tag,payload:or.payload,callback:or.callback,next:null});e:{var pr=er,mr=or;switch(hr=s,dr=tr,mr.tag){case 1:if(pr=mr.payload,typeof pr=="function"){ur=pr.call(dr,ur,hr);break e}ur=pr;break e;case 3:pr.flags=pr.flags&-65537|128;case 0:if(pr=mr.payload,hr=typeof pr=="function"?pr.call(dr,ur,hr):pr,hr==null)break e;ur=A$1({},ur,hr);break e;case 2:jh=!0}}or.callback!==null&&or.lane!==0&&(er.flags|=64,hr=rr.effects,hr===null?rr.effects=[or]:hr.push(or))}else dr={eventTime:dr,lane:hr,tag:or.tag,payload:or.payload,callback:or.callback,next:null},cr===null?(lr=cr=dr,ar=ur):cr=cr.next=dr,sr|=hr;if(or=or.next,or===null){if(or=rr.shared.pending,or===null)break;hr=or,or=hr.next,hr.next=null,rr.lastBaseUpdate=hr,rr.shared.pending=null}}while(!0);if(cr===null&&(ar=ur),rr.baseState=ar,rr.firstBaseUpdate=lr,rr.lastBaseUpdate=cr,s=rr.shared.interleaved,s!==null){rr=s;do sr|=rr.lane,rr=rr.next;while(rr!==s)}else ir===null&&(rr.shared.lanes=0);rh|=sr,er.lanes=sr,er.memoizedState=ur}}function sh(er,s,tr){if(er=s.effects,s.effects=null,er!==null)for(s=0;s<er.length;s++){var nr=er[s],rr=nr.callback;if(rr!==null){if(nr.callback=null,nr=tr,typeof rr!="function")throw Error(p$1(191,rr));rr.call(nr)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(er){if(er===th)throw Error(p$1(174));return er}function yh(er,s){switch(G$2(wh,s),G$2(vh,er),G$2(uh,th),er=s.nodeType,er){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:lb(null,"");break;default:er=er===8?s.parentNode:s,s=er.namespaceURI||null,er=er.tagName,s=lb(s,er)}E$1(uh),G$2(uh,s)}function zh(){E$1(uh),E$1(vh),E$1(wh)}function Ah(er){xh(wh.current);var s=xh(uh.current),tr=lb(s,er.type);s!==tr&&(G$2(vh,er),G$2(uh,tr))}function Bh(er){vh.current===er&&(E$1(uh),E$1(vh))}var L$2=Uf(0);function Ch(er){for(var s=er;s!==null;){if(s.tag===13){var tr=s.memoizedState;if(tr!==null&&(tr=tr.dehydrated,tr===null||tr.data==="$?"||tr.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===er)break;for(;s.sibling===null;){if(s.return===null||s.return===er)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Dh=[];function Eh(){for(var er=0;er<Dh.length;er++)Dh[er]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua.ReactCurrentDispatcher,Gh=ua.ReactCurrentBatchConfig,Hh=0,M$1=null,N$2=null,O$1=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P$2(){throw Error(p$1(321))}function Mh(er,s){if(s===null)return!1;for(var tr=0;tr<s.length&&tr<er.length;tr++)if(!He(er[tr],s[tr]))return!1;return!0}function Nh(er,s,tr,nr,rr,ir){if(Hh=ir,M$1=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Fh.current=er===null||er.memoizedState===null?Oh:Ph,er=tr(nr,rr),Jh){ir=0;do{if(Jh=!1,Kh=0,25<=ir)throw Error(p$1(301));ir+=1,O$1=N$2=null,s.updateQueue=null,Fh.current=Qh,er=tr(nr,rr)}while(Jh)}if(Fh.current=Rh,s=N$2!==null&&N$2.next!==null,Hh=0,O$1=N$2=M$1=null,Ih=!1,s)throw Error(p$1(300));return er}function Sh(){var er=Kh!==0;return Kh=0,er}function Th(){var er={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O$1===null?M$1.memoizedState=O$1=er:O$1=O$1.next=er,O$1}function Uh(){if(N$2===null){var er=M$1.alternate;er=er!==null?er.memoizedState:null}else er=N$2.next;var s=O$1===null?M$1.memoizedState:O$1.next;if(s!==null)O$1=s,N$2=er;else{if(er===null)throw Error(p$1(310));N$2=er,er={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O$1===null?M$1.memoizedState=O$1=er:O$1=O$1.next=er}return O$1}function Vh(er,s){return typeof s=="function"?s(er):s}function Wh(er){var s=Uh(),tr=s.queue;if(tr===null)throw Error(p$1(311));tr.lastRenderedReducer=er;var nr=N$2,rr=nr.baseQueue,ir=tr.pending;if(ir!==null){if(rr!==null){var sr=rr.next;rr.next=ir.next,ir.next=sr}nr.baseQueue=rr=ir,tr.pending=null}if(rr!==null){ir=rr.next,nr=nr.baseState;var or=sr=null,ar=null,lr=ir;do{var cr=lr.lane;if((Hh&cr)===cr)ar!==null&&(ar=ar.next={lane:0,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null}),nr=lr.hasEagerState?lr.eagerState:er(nr,lr.action);else{var ur={lane:cr,action:lr.action,hasEagerState:lr.hasEagerState,eagerState:lr.eagerState,next:null};ar===null?(or=ar=ur,sr=nr):ar=ar.next=ur,M$1.lanes|=cr,rh|=cr}lr=lr.next}while(lr!==null&&lr!==ir);ar===null?sr=nr:ar.next=or,He(nr,s.memoizedState)||(dh=!0),s.memoizedState=nr,s.baseState=sr,s.baseQueue=ar,tr.lastRenderedState=nr}if(er=tr.interleaved,er!==null){rr=er;do ir=rr.lane,M$1.lanes|=ir,rh|=ir,rr=rr.next;while(rr!==er)}else rr===null&&(tr.lanes=0);return[s.memoizedState,tr.dispatch]}function Xh(er){var s=Uh(),tr=s.queue;if(tr===null)throw Error(p$1(311));tr.lastRenderedReducer=er;var nr=tr.dispatch,rr=tr.pending,ir=s.memoizedState;if(rr!==null){tr.pending=null;var sr=rr=rr.next;do ir=er(ir,sr.action),sr=sr.next;while(sr!==rr);He(ir,s.memoizedState)||(dh=!0),s.memoizedState=ir,s.baseQueue===null&&(s.baseState=ir),tr.lastRenderedState=ir}return[ir,nr]}function Yh(){}function Zh(er,s){var tr=M$1,nr=Uh(),rr=s(),ir=!He(nr.memoizedState,rr);if(ir&&(nr.memoizedState=rr,dh=!0),nr=nr.queue,$h(ai$1.bind(null,tr,nr,er),[er]),nr.getSnapshot!==s||ir||O$1!==null&&O$1.memoizedState.tag&1){if(tr.flags|=2048,bi$1(9,ci$1.bind(null,tr,nr,rr,s),void 0,null),Q$2===null)throw Error(p$1(349));Hh&30||di$1(tr,s,rr)}return rr}function di$1(er,s,tr){er.flags|=16384,er={getSnapshot:s,value:tr},s=M$1.updateQueue,s===null?(s={lastEffect:null,stores:null},M$1.updateQueue=s,s.stores=[er]):(tr=s.stores,tr===null?s.stores=[er]:tr.push(er))}function ci$1(er,s,tr,nr){s.value=tr,s.getSnapshot=nr,ei$1(s)&&fi$1(er)}function ai$1(er,s,tr){return tr(function(){ei$1(s)&&fi$1(er)})}function ei$1(er){var s=er.getSnapshot;er=er.value;try{var tr=s();return!He(er,tr)}catch{return!0}}function fi$1(er){var s=ih(er,1);s!==null&&gi$1(s,er,1,-1)}function hi$1(er){var s=Th();return typeof er=="function"&&(er=er()),s.memoizedState=s.baseState=er,er={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:er},s.queue=er,er=er.dispatch=ii$1.bind(null,M$1,er),[s.memoizedState,er]}function bi$1(er,s,tr,nr){return er={tag:er,create:s,destroy:tr,deps:nr,next:null},s=M$1.updateQueue,s===null?(s={lastEffect:null,stores:null},M$1.updateQueue=s,s.lastEffect=er.next=er):(tr=s.lastEffect,tr===null?s.lastEffect=er.next=er:(nr=tr.next,tr.next=er,er.next=nr,s.lastEffect=er)),er}function ji$1(){return Uh().memoizedState}function ki$1(er,s,tr,nr){var rr=Th();M$1.flags|=er,rr.memoizedState=bi$1(1|s,tr,void 0,nr===void 0?null:nr)}function li$1(er,s,tr,nr){var rr=Uh();nr=nr===void 0?null:nr;var ir=void 0;if(N$2!==null){var sr=N$2.memoizedState;if(ir=sr.destroy,nr!==null&&Mh(nr,sr.deps)){rr.memoizedState=bi$1(s,tr,ir,nr);return}}M$1.flags|=er,rr.memoizedState=bi$1(1|s,tr,ir,nr)}function mi$1(er,s){return ki$1(8390656,8,er,s)}function $h(er,s){return li$1(2048,8,er,s)}function ni$1(er,s){return li$1(4,2,er,s)}function oi$1(er,s){return li$1(4,4,er,s)}function pi$1(er,s){if(typeof s=="function")return er=er(),s(er),function(){s(null)};if(s!=null)return er=er(),s.current=er,function(){s.current=null}}function qi$1(er,s,tr){return tr=tr!=null?tr.concat([er]):null,li$1(4,4,pi$1.bind(null,s,er),tr)}function ri$1(){}function si$1(er,s){var tr=Uh();s=s===void 0?null:s;var nr=tr.memoizedState;return nr!==null&&s!==null&&Mh(s,nr[1])?nr[0]:(tr.memoizedState=[er,s],er)}function ti$1(er,s){var tr=Uh();s=s===void 0?null:s;var nr=tr.memoizedState;return nr!==null&&s!==null&&Mh(s,nr[1])?nr[0]:(er=er(),tr.memoizedState=[er,s],er)}function ui$1(er,s,tr){return Hh&21?(He(tr,s)||(tr=yc(),M$1.lanes|=tr,rh|=tr,er.baseState=!0),s):(er.baseState&&(er.baseState=!1,dh=!0),er.memoizedState=tr)}function vi$1(er,s){var tr=C$1;C$1=tr!==0&&4>tr?tr:4,er(!0);var nr=Gh.transition;Gh.transition={};try{er(!1),s()}finally{C$1=tr,Gh.transition=nr}}function wi$1(){return Uh().memoizedState}function xi$1(er,s,tr){var nr=yi$1(er);if(tr={lane:nr,action:tr,hasEagerState:!1,eagerState:null,next:null},zi$1(er))Ai$1(s,tr);else if(tr=hh(er,s,tr,nr),tr!==null){var rr=R$1();gi$1(tr,er,nr,rr),Bi$1(tr,s,nr)}}function ii$1(er,s,tr){var nr=yi$1(er),rr={lane:nr,action:tr,hasEagerState:!1,eagerState:null,next:null};if(zi$1(er))Ai$1(s,rr);else{var ir=er.alternate;if(er.lanes===0&&(ir===null||ir.lanes===0)&&(ir=s.lastRenderedReducer,ir!==null))try{var sr=s.lastRenderedState,or=ir(sr,tr);if(rr.hasEagerState=!0,rr.eagerState=or,He(or,sr)){var ar=s.interleaved;ar===null?(rr.next=rr,gh(s)):(rr.next=ar.next,ar.next=rr),s.interleaved=rr;return}}catch{}finally{}tr=hh(er,s,rr,nr),tr!==null&&(rr=R$1(),gi$1(tr,er,nr,rr),Bi$1(tr,s,nr))}}function zi$1(er){var s=er.alternate;return er===M$1||s!==null&&s===M$1}function Ai$1(er,s){Jh=Ih=!0;var tr=er.pending;tr===null?s.next=s:(s.next=tr.next,tr.next=s),er.pending=s}function Bi$1(er,s,tr){if(tr&4194240){var nr=s.lanes;nr&=er.pendingLanes,tr|=nr,s.lanes=tr,Cc(er,tr)}}var Rh={readContext:eh,useCallback:P$2,useContext:P$2,useEffect:P$2,useImperativeHandle:P$2,useInsertionEffect:P$2,useLayoutEffect:P$2,useMemo:P$2,useReducer:P$2,useRef:P$2,useState:P$2,useDebugValue:P$2,useDeferredValue:P$2,useTransition:P$2,useMutableSource:P$2,useSyncExternalStore:P$2,useId:P$2,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(er,s){return Th().memoizedState=[er,s===void 0?null:s],er},useContext:eh,useEffect:mi$1,useImperativeHandle:function(er,s,tr){return tr=tr!=null?tr.concat([er]):null,ki$1(4194308,4,pi$1.bind(null,s,er),tr)},useLayoutEffect:function(er,s){return ki$1(4194308,4,er,s)},useInsertionEffect:function(er,s){return ki$1(4,2,er,s)},useMemo:function(er,s){var tr=Th();return s=s===void 0?null:s,er=er(),tr.memoizedState=[er,s],er},useReducer:function(er,s,tr){var nr=Th();return s=tr!==void 0?tr(s):s,nr.memoizedState=nr.baseState=s,er={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:er,lastRenderedState:s},nr.queue=er,er=er.dispatch=xi$1.bind(null,M$1,er),[nr.memoizedState,er]},useRef:function(er){var s=Th();return er={current:er},s.memoizedState=er},useState:hi$1,useDebugValue:ri$1,useDeferredValue:function(er){return Th().memoizedState=er},useTransition:function(){var er=hi$1(!1),s=er[0];return er=vi$1.bind(null,er[1]),Th().memoizedState=er,[s,er]},useMutableSource:function(){},useSyncExternalStore:function(er,s,tr){var nr=M$1,rr=Th();if(I$2){if(tr===void 0)throw Error(p$1(407));tr=tr()}else{if(tr=s(),Q$2===null)throw Error(p$1(349));Hh&30||di$1(nr,s,tr)}rr.memoizedState=tr;var ir={value:tr,getSnapshot:s};return rr.queue=ir,mi$1(ai$1.bind(null,nr,ir,er),[er]),nr.flags|=2048,bi$1(9,ci$1.bind(null,nr,ir,tr,s),void 0,null),tr},useId:function(){var er=Th(),s=Q$2.identifierPrefix;if(I$2){var tr=sg,nr=rg;tr=(nr&~(1<<32-oc(nr)-1)).toString(32)+tr,s=":"+s+"R"+tr,tr=Kh++,0<tr&&(s+="H"+tr.toString(32)),s+=":"}else tr=Lh++,s=":"+s+"r"+tr.toString(32)+":";return er.memoizedState=s},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh,useRef:ji$1,useState:function(){return Wh(Vh)},useDebugValue:ri$1,useDeferredValue:function(er){var s=Uh();return ui$1(s,N$2.memoizedState,er)},useTransition:function(){var er=Wh(Vh)[0],s=Uh().memoizedState;return[er,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$1,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh,useRef:ji$1,useState:function(){return Xh(Vh)},useDebugValue:ri$1,useDeferredValue:function(er){var s=Uh();return N$2===null?s.memoizedState=er:ui$1(s,N$2.memoizedState,er)},useTransition:function(){var er=Xh(Vh)[0],s=Uh().memoizedState;return[er,s]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$1,unstable_isNewReconciler:!1};function Ci$1(er,s){if(er&&er.defaultProps){s=A$1({},s),er=er.defaultProps;for(var tr in er)s[tr]===void 0&&(s[tr]=er[tr]);return s}return s}function Di$1(er,s,tr,nr){s=er.memoizedState,tr=tr(nr,s),tr=tr==null?s:A$1({},s,tr),er.memoizedState=tr,er.lanes===0&&(er.updateQueue.baseState=tr)}var Ei$1={isMounted:function(er){return(er=er._reactInternals)?Vb(er)===er:!1},enqueueSetState:function(er,s,tr){er=er._reactInternals;var nr=R$1(),rr=yi$1(er),ir=mh(nr,rr);ir.payload=s,tr!=null&&(ir.callback=tr),s=nh(er,ir,rr),s!==null&&(gi$1(s,er,rr,nr),oh(s,er,rr))},enqueueReplaceState:function(er,s,tr){er=er._reactInternals;var nr=R$1(),rr=yi$1(er),ir=mh(nr,rr);ir.tag=1,ir.payload=s,tr!=null&&(ir.callback=tr),s=nh(er,ir,rr),s!==null&&(gi$1(s,er,rr,nr),oh(s,er,rr))},enqueueForceUpdate:function(er,s){er=er._reactInternals;var tr=R$1(),nr=yi$1(er),rr=mh(tr,nr);rr.tag=2,s!=null&&(rr.callback=s),s=nh(er,rr,nr),s!==null&&(gi$1(s,er,nr,tr),oh(s,er,nr))}};function Fi$1(er,s,tr,nr,rr,ir,sr){return er=er.stateNode,typeof er.shouldComponentUpdate=="function"?er.shouldComponentUpdate(nr,ir,sr):s.prototype&&s.prototype.isPureReactComponent?!Ie(tr,nr)||!Ie(rr,ir):!0}function Gi$1(er,s,tr){var nr=!1,rr=Vf,ir=s.contextType;return typeof ir=="object"&&ir!==null?ir=eh(ir):(rr=Zf(s)?Xf:H$1.current,nr=s.contextTypes,ir=(nr=nr!=null)?Yf(er,rr):Vf),s=new s(tr,ir),er.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ei$1,er.stateNode=s,s._reactInternals=er,nr&&(er=er.stateNode,er.__reactInternalMemoizedUnmaskedChildContext=rr,er.__reactInternalMemoizedMaskedChildContext=ir),s}function Hi$1(er,s,tr,nr){er=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(tr,nr),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(tr,nr),s.state!==er&&Ei$1.enqueueReplaceState(s,s.state,null)}function Ii$1(er,s,tr,nr){var rr=er.stateNode;rr.props=tr,rr.state=er.memoizedState,rr.refs={},kh(er);var ir=s.contextType;typeof ir=="object"&&ir!==null?rr.context=eh(ir):(ir=Zf(s)?Xf:H$1.current,rr.context=Yf(er,ir)),rr.state=er.memoizedState,ir=s.getDerivedStateFromProps,typeof ir=="function"&&(Di$1(er,s,ir,tr),rr.state=er.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof rr.getSnapshotBeforeUpdate=="function"||typeof rr.UNSAFE_componentWillMount!="function"&&typeof rr.componentWillMount!="function"||(s=rr.state,typeof rr.componentWillMount=="function"&&rr.componentWillMount(),typeof rr.UNSAFE_componentWillMount=="function"&&rr.UNSAFE_componentWillMount(),s!==rr.state&&Ei$1.enqueueReplaceState(rr,rr.state,null),qh(er,tr,rr,nr),rr.state=er.memoizedState),typeof rr.componentDidMount=="function"&&(er.flags|=4194308)}function Ji$1(er,s){try{var tr="",nr=s;do tr+=Pa(nr),nr=nr.return;while(nr);var rr=tr}catch(ir){rr=`
Error generating stack: `+ir.message+`
`+ir.stack}return{value:er,source:s,stack:rr,digest:null}}function Ki$1(er,s,tr){return{value:er,source:null,stack:tr??null,digest:s??null}}function Li$1(er,s){try{console.error(s.value)}catch(tr){setTimeout(function(){throw tr})}}var Mi$1=typeof WeakMap=="function"?WeakMap:Map;function Ni$1(er,s,tr){tr=mh(-1,tr),tr.tag=3,tr.payload={element:null};var nr=s.value;return tr.callback=function(){Oi$1||(Oi$1=!0,Pi$1=nr),Li$1(er,s)},tr}function Qi$1(er,s,tr){tr=mh(-1,tr),tr.tag=3;var nr=er.type.getDerivedStateFromError;if(typeof nr=="function"){var rr=s.value;tr.payload=function(){return nr(rr)},tr.callback=function(){Li$1(er,s)}}var ir=er.stateNode;return ir!==null&&typeof ir.componentDidCatch=="function"&&(tr.callback=function(){Li$1(er,s),typeof nr!="function"&&(Ri$1===null?Ri$1=new Set([this]):Ri$1.add(this));var sr=s.stack;this.componentDidCatch(s.value,{componentStack:sr!==null?sr:""})}),tr}function Si$1(er,s,tr){var nr=er.pingCache;if(nr===null){nr=er.pingCache=new Mi$1;var rr=new Set;nr.set(s,rr)}else rr=nr.get(s),rr===void 0&&(rr=new Set,nr.set(s,rr));rr.has(tr)||(rr.add(tr),er=Ti$1.bind(null,er,s,tr),s.then(er,er))}function Ui$1(er){do{var s;if((s=er.tag===13)&&(s=er.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return er;er=er.return}while(er!==null);return null}function Vi$1(er,s,tr,nr,rr){return er.mode&1?(er.flags|=65536,er.lanes=rr,er):(er===s?er.flags|=65536:(er.flags|=128,tr.flags|=131072,tr.flags&=-52805,tr.tag===1&&(tr.alternate===null?tr.tag=17:(s=mh(-1,1),s.tag=2,nh(tr,s,1))),tr.lanes|=1),er)}var Wi$1=ua.ReactCurrentOwner,dh=!1;function Xi$1(er,s,tr,nr){s.child=er===null?Vg(s,null,tr,nr):Ug(s,er.child,tr,nr)}function Yi$1(er,s,tr,nr,rr){tr=tr.render;var ir=s.ref;return ch(s,rr),nr=Nh(er,s,tr,nr,ir,rr),tr=Sh(),er!==null&&!dh?(s.updateQueue=er.updateQueue,s.flags&=-2053,er.lanes&=~rr,Zi$1(er,s,rr)):(I$2&&tr&&vg(s),s.flags|=1,Xi$1(er,s,nr,rr),s.child)}function $i$1(er,s,tr,nr,rr){if(er===null){var ir=tr.type;return typeof ir=="function"&&!aj(ir)&&ir.defaultProps===void 0&&tr.compare===null&&tr.defaultProps===void 0?(s.tag=15,s.type=ir,bj(er,s,ir,nr,rr)):(er=Rg(tr.type,null,nr,s,s.mode,rr),er.ref=s.ref,er.return=s,s.child=er)}if(ir=er.child,!(er.lanes&rr)){var sr=ir.memoizedProps;if(tr=tr.compare,tr=tr!==null?tr:Ie,tr(sr,nr)&&er.ref===s.ref)return Zi$1(er,s,rr)}return s.flags|=1,er=Pg(ir,nr),er.ref=s.ref,er.return=s,s.child=er}function bj(er,s,tr,nr,rr){if(er!==null){var ir=er.memoizedProps;if(Ie(ir,nr)&&er.ref===s.ref)if(dh=!1,s.pendingProps=nr=ir,(er.lanes&rr)!==0)er.flags&131072&&(dh=!0);else return s.lanes=er.lanes,Zi$1(er,s,rr)}return cj(er,s,tr,nr,rr)}function dj(er,s,tr){var nr=s.pendingProps,rr=nr.children,ir=er!==null?er.memoizedState:null;if(nr.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(ej,fj),fj|=tr;else{if(!(tr&1073741824))return er=ir!==null?ir.baseLanes|tr:tr,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:er,cachePool:null,transitions:null},s.updateQueue=null,G$2(ej,fj),fj|=er,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr=ir!==null?ir.baseLanes:tr,G$2(ej,fj),fj|=nr}else ir!==null?(nr=ir.baseLanes|tr,s.memoizedState=null):nr=tr,G$2(ej,fj),fj|=nr;return Xi$1(er,s,rr,tr),s.child}function gj(er,s){var tr=s.ref;(er===null&&tr!==null||er!==null&&er.ref!==tr)&&(s.flags|=512,s.flags|=2097152)}function cj(er,s,tr,nr,rr){var ir=Zf(tr)?Xf:H$1.current;return ir=Yf(s,ir),ch(s,rr),tr=Nh(er,s,tr,nr,ir,rr),nr=Sh(),er!==null&&!dh?(s.updateQueue=er.updateQueue,s.flags&=-2053,er.lanes&=~rr,Zi$1(er,s,rr)):(I$2&&nr&&vg(s),s.flags|=1,Xi$1(er,s,tr,rr),s.child)}function hj(er,s,tr,nr,rr){if(Zf(tr)){var ir=!0;cg(s)}else ir=!1;if(ch(s,rr),s.stateNode===null)ij(er,s),Gi$1(s,tr,nr),Ii$1(s,tr,nr,rr),nr=!0;else if(er===null){var sr=s.stateNode,or=s.memoizedProps;sr.props=or;var ar=sr.context,lr=tr.contextType;typeof lr=="object"&&lr!==null?lr=eh(lr):(lr=Zf(tr)?Xf:H$1.current,lr=Yf(s,lr));var cr=tr.getDerivedStateFromProps,ur=typeof cr=="function"||typeof sr.getSnapshotBeforeUpdate=="function";ur||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(or!==nr||ar!==lr)&&Hi$1(s,sr,nr,lr),jh=!1;var hr=s.memoizedState;sr.state=hr,qh(s,nr,sr,rr),ar=s.memoizedState,or!==nr||hr!==ar||Wf.current||jh?(typeof cr=="function"&&(Di$1(s,tr,cr,nr),ar=s.memoizedState),(or=jh||Fi$1(s,tr,or,nr,hr,ar,lr))?(ur||typeof sr.UNSAFE_componentWillMount!="function"&&typeof sr.componentWillMount!="function"||(typeof sr.componentWillMount=="function"&&sr.componentWillMount(),typeof sr.UNSAFE_componentWillMount=="function"&&sr.UNSAFE_componentWillMount()),typeof sr.componentDidMount=="function"&&(s.flags|=4194308)):(typeof sr.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=nr,s.memoizedState=ar),sr.props=nr,sr.state=ar,sr.context=lr,nr=or):(typeof sr.componentDidMount=="function"&&(s.flags|=4194308),nr=!1)}else{sr=s.stateNode,lh(er,s),or=s.memoizedProps,lr=s.type===s.elementType?or:Ci$1(s.type,or),sr.props=lr,ur=s.pendingProps,hr=sr.context,ar=tr.contextType,typeof ar=="object"&&ar!==null?ar=eh(ar):(ar=Zf(tr)?Xf:H$1.current,ar=Yf(s,ar));var dr=tr.getDerivedStateFromProps;(cr=typeof dr=="function"||typeof sr.getSnapshotBeforeUpdate=="function")||typeof sr.UNSAFE_componentWillReceiveProps!="function"&&typeof sr.componentWillReceiveProps!="function"||(or!==ur||hr!==ar)&&Hi$1(s,sr,nr,ar),jh=!1,hr=s.memoizedState,sr.state=hr,qh(s,nr,sr,rr);var pr=s.memoizedState;or!==ur||hr!==pr||Wf.current||jh?(typeof dr=="function"&&(Di$1(s,tr,dr,nr),pr=s.memoizedState),(lr=jh||Fi$1(s,tr,lr,nr,hr,pr,ar)||!1)?(cr||typeof sr.UNSAFE_componentWillUpdate!="function"&&typeof sr.componentWillUpdate!="function"||(typeof sr.componentWillUpdate=="function"&&sr.componentWillUpdate(nr,pr,ar),typeof sr.UNSAFE_componentWillUpdate=="function"&&sr.UNSAFE_componentWillUpdate(nr,pr,ar)),typeof sr.componentDidUpdate=="function"&&(s.flags|=4),typeof sr.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof sr.componentDidUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(s.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(s.flags|=1024),s.memoizedProps=nr,s.memoizedState=pr),sr.props=nr,sr.state=pr,sr.context=ar,nr=lr):(typeof sr.componentDidUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(s.flags|=4),typeof sr.getSnapshotBeforeUpdate!="function"||or===er.memoizedProps&&hr===er.memoizedState||(s.flags|=1024),nr=!1)}return jj(er,s,tr,nr,ir,rr)}function jj(er,s,tr,nr,rr,ir){gj(er,s);var sr=(s.flags&128)!==0;if(!nr&&!sr)return rr&&dg(s,tr,!1),Zi$1(er,s,ir);nr=s.stateNode,Wi$1.current=s;var or=sr&&typeof tr.getDerivedStateFromError!="function"?null:nr.render();return s.flags|=1,er!==null&&sr?(s.child=Ug(s,er.child,null,ir),s.child=Ug(s,null,or,ir)):Xi$1(er,s,or,ir),s.memoizedState=nr.state,rr&&dg(s,tr,!0),s.child}function kj(er){var s=er.stateNode;s.pendingContext?ag(er,s.pendingContext,s.pendingContext!==s.context):s.context&&ag(er,s.context,!1),yh(er,s.containerInfo)}function lj(er,s,tr,nr,rr){return Ig(),Jg(rr),s.flags|=256,Xi$1(er,s,tr,nr),s.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(er){return{baseLanes:er,cachePool:null,transitions:null}}function oj(er,s,tr){var nr=s.pendingProps,rr=L$2.current,ir=!1,sr=(s.flags&128)!==0,or;if((or=sr)||(or=er!==null&&er.memoizedState===null?!1:(rr&2)!==0),or?(ir=!0,s.flags&=-129):(er===null||er.memoizedState!==null)&&(rr|=1),G$2(L$2,rr&1),er===null)return Eg(s),er=s.memoizedState,er!==null&&(er=er.dehydrated,er!==null)?(s.mode&1?er.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(sr=nr.children,er=nr.fallback,ir?(nr=s.mode,ir=s.child,sr={mode:"hidden",children:sr},!(nr&1)&&ir!==null?(ir.childLanes=0,ir.pendingProps=sr):ir=pj(sr,nr,0,null),er=Tg(er,nr,tr,null),ir.return=s,er.return=s,ir.sibling=er,s.child=ir,s.child.memoizedState=nj(tr),s.memoizedState=mj,er):qj(s,sr));if(rr=er.memoizedState,rr!==null&&(or=rr.dehydrated,or!==null))return rj(er,s,sr,nr,or,rr,tr);if(ir){ir=nr.fallback,sr=s.mode,rr=er.child,or=rr.sibling;var ar={mode:"hidden",children:nr.children};return!(sr&1)&&s.child!==rr?(nr=s.child,nr.childLanes=0,nr.pendingProps=ar,s.deletions=null):(nr=Pg(rr,ar),nr.subtreeFlags=rr.subtreeFlags&14680064),or!==null?ir=Pg(or,ir):(ir=Tg(ir,sr,tr,null),ir.flags|=2),ir.return=s,nr.return=s,nr.sibling=ir,s.child=nr,nr=ir,ir=s.child,sr=er.child.memoizedState,sr=sr===null?nj(tr):{baseLanes:sr.baseLanes|tr,cachePool:null,transitions:sr.transitions},ir.memoizedState=sr,ir.childLanes=er.childLanes&~tr,s.memoizedState=mj,nr}return ir=er.child,er=ir.sibling,nr=Pg(ir,{mode:"visible",children:nr.children}),!(s.mode&1)&&(nr.lanes=tr),nr.return=s,nr.sibling=null,er!==null&&(tr=s.deletions,tr===null?(s.deletions=[er],s.flags|=16):tr.push(er)),s.child=nr,s.memoizedState=null,nr}function qj(er,s){return s=pj({mode:"visible",children:s},er.mode,0,null),s.return=er,er.child=s}function sj(er,s,tr,nr){return nr!==null&&Jg(nr),Ug(s,er.child,null,tr),er=qj(s,s.pendingProps.children),er.flags|=2,s.memoizedState=null,er}function rj(er,s,tr,nr,rr,ir,sr){if(tr)return s.flags&256?(s.flags&=-257,nr=Ki$1(Error(p$1(422))),sj(er,s,sr,nr)):s.memoizedState!==null?(s.child=er.child,s.flags|=128,null):(ir=nr.fallback,rr=s.mode,nr=pj({mode:"visible",children:nr.children},rr,0,null),ir=Tg(ir,rr,sr,null),ir.flags|=2,nr.return=s,ir.return=s,nr.sibling=ir,s.child=nr,s.mode&1&&Ug(s,er.child,null,sr),s.child.memoizedState=nj(sr),s.memoizedState=mj,ir);if(!(s.mode&1))return sj(er,s,sr,null);if(rr.data==="$!"){if(nr=rr.nextSibling&&rr.nextSibling.dataset,nr)var or=nr.dgst;return nr=or,ir=Error(p$1(419)),nr=Ki$1(ir,nr,void 0),sj(er,s,sr,nr)}if(or=(sr&er.childLanes)!==0,dh||or){if(nr=Q$2,nr!==null){switch(sr&-sr){case 4:rr=2;break;case 16:rr=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:rr=32;break;case 536870912:rr=268435456;break;default:rr=0}rr=rr&(nr.suspendedLanes|sr)?0:rr,rr!==0&&rr!==ir.retryLane&&(ir.retryLane=rr,ih(er,rr),gi$1(nr,er,rr,-1))}return tj(),nr=Ki$1(Error(p$1(421))),sj(er,s,sr,nr)}return rr.data==="$?"?(s.flags|=128,s.child=er.child,s=uj.bind(null,er),rr._reactRetry=s,null):(er=ir.treeContext,yg=Lf(rr.nextSibling),xg=s,I$2=!0,zg=null,er!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=er.id,sg=er.overflow,qg=s),s=qj(s,nr.children),s.flags|=4096,s)}function vj(er,s,tr){er.lanes|=s;var nr=er.alternate;nr!==null&&(nr.lanes|=s),bh(er.return,s,tr)}function wj(er,s,tr,nr,rr){var ir=er.memoizedState;ir===null?er.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:nr,tail:tr,tailMode:rr}:(ir.isBackwards=s,ir.rendering=null,ir.renderingStartTime=0,ir.last=nr,ir.tail=tr,ir.tailMode=rr)}function xj(er,s,tr){var nr=s.pendingProps,rr=nr.revealOrder,ir=nr.tail;if(Xi$1(er,s,nr.children,tr),nr=L$2.current,nr&2)nr=nr&1|2,s.flags|=128;else{if(er!==null&&er.flags&128)e:for(er=s.child;er!==null;){if(er.tag===13)er.memoizedState!==null&&vj(er,tr,s);else if(er.tag===19)vj(er,tr,s);else if(er.child!==null){er.child.return=er,er=er.child;continue}if(er===s)break e;for(;er.sibling===null;){if(er.return===null||er.return===s)break e;er=er.return}er.sibling.return=er.return,er=er.sibling}nr&=1}if(G$2(L$2,nr),!(s.mode&1))s.memoizedState=null;else switch(rr){case"forwards":for(tr=s.child,rr=null;tr!==null;)er=tr.alternate,er!==null&&Ch(er)===null&&(rr=tr),tr=tr.sibling;tr=rr,tr===null?(rr=s.child,s.child=null):(rr=tr.sibling,tr.sibling=null),wj(s,!1,rr,tr,ir);break;case"backwards":for(tr=null,rr=s.child,s.child=null;rr!==null;){if(er=rr.alternate,er!==null&&Ch(er)===null){s.child=rr;break}er=rr.sibling,rr.sibling=tr,tr=rr,rr=er}wj(s,!0,tr,null,ir);break;case"together":wj(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ij(er,s){!(s.mode&1)&&er!==null&&(er.alternate=null,s.alternate=null,s.flags|=2)}function Zi$1(er,s,tr){if(er!==null&&(s.dependencies=er.dependencies),rh|=s.lanes,!(tr&s.childLanes))return null;if(er!==null&&s.child!==er.child)throw Error(p$1(153));if(s.child!==null){for(er=s.child,tr=Pg(er,er.pendingProps),s.child=tr,tr.return=s;er.sibling!==null;)er=er.sibling,tr=tr.sibling=Pg(er,er.pendingProps),tr.return=s;tr.sibling=null}return s.child}function yj(er,s,tr){switch(s.tag){case 3:kj(s),Ig();break;case 5:Ah(s);break;case 1:Zf(s.type)&&cg(s);break;case 4:yh(s,s.stateNode.containerInfo);break;case 10:var nr=s.type._context,rr=s.memoizedProps.value;G$2(Wg,nr._currentValue),nr._currentValue=rr;break;case 13:if(nr=s.memoizedState,nr!==null)return nr.dehydrated!==null?(G$2(L$2,L$2.current&1),s.flags|=128,null):tr&s.child.childLanes?oj(er,s,tr):(G$2(L$2,L$2.current&1),er=Zi$1(er,s,tr),er!==null?er.sibling:null);G$2(L$2,L$2.current&1);break;case 19:if(nr=(tr&s.childLanes)!==0,er.flags&128){if(nr)return xj(er,s,tr);s.flags|=128}if(rr=s.memoizedState,rr!==null&&(rr.rendering=null,rr.tail=null,rr.lastEffect=null),G$2(L$2,L$2.current),nr)break;return null;case 22:case 23:return s.lanes=0,dj(er,s,tr)}return Zi$1(er,s,tr)}var zj,Aj,Bj,Cj;zj=function(er,s){for(var tr=s.child;tr!==null;){if(tr.tag===5||tr.tag===6)er.appendChild(tr.stateNode);else if(tr.tag!==4&&tr.child!==null){tr.child.return=tr,tr=tr.child;continue}if(tr===s)break;for(;tr.sibling===null;){if(tr.return===null||tr.return===s)return;tr=tr.return}tr.sibling.return=tr.return,tr=tr.sibling}};Aj=function(){};Bj=function(er,s,tr,nr){var rr=er.memoizedProps;if(rr!==nr){er=s.stateNode,xh(uh.current);var ir=null;switch(tr){case"input":rr=Ya(er,rr),nr=Ya(er,nr),ir=[];break;case"select":rr=A$1({},rr,{value:void 0}),nr=A$1({},nr,{value:void 0}),ir=[];break;case"textarea":rr=gb(er,rr),nr=gb(er,nr),ir=[];break;default:typeof rr.onClick!="function"&&typeof nr.onClick=="function"&&(er.onclick=Bf)}ub(tr,nr);var sr;tr=null;for(lr in rr)if(!nr.hasOwnProperty(lr)&&rr.hasOwnProperty(lr)&&rr[lr]!=null)if(lr==="style"){var or=rr[lr];for(sr in or)or.hasOwnProperty(sr)&&(tr||(tr={}),tr[sr]="")}else lr!=="dangerouslySetInnerHTML"&&lr!=="children"&&lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&lr!=="autoFocus"&&(ea.hasOwnProperty(lr)?ir||(ir=[]):(ir=ir||[]).push(lr,null));for(lr in nr){var ar=nr[lr];if(or=rr!=null?rr[lr]:void 0,nr.hasOwnProperty(lr)&&ar!==or&&(ar!=null||or!=null))if(lr==="style")if(or){for(sr in or)!or.hasOwnProperty(sr)||ar&&ar.hasOwnProperty(sr)||(tr||(tr={}),tr[sr]="");for(sr in ar)ar.hasOwnProperty(sr)&&or[sr]!==ar[sr]&&(tr||(tr={}),tr[sr]=ar[sr])}else tr||(ir||(ir=[]),ir.push(lr,tr)),tr=ar;else lr==="dangerouslySetInnerHTML"?(ar=ar?ar.__html:void 0,or=or?or.__html:void 0,ar!=null&&or!==ar&&(ir=ir||[]).push(lr,ar)):lr==="children"?typeof ar!="string"&&typeof ar!="number"||(ir=ir||[]).push(lr,""+ar):lr!=="suppressContentEditableWarning"&&lr!=="suppressHydrationWarning"&&(ea.hasOwnProperty(lr)?(ar!=null&&lr==="onScroll"&&D$1("scroll",er),ir||or===ar||(ir=[])):(ir=ir||[]).push(lr,ar))}tr&&(ir=ir||[]).push("style",tr);var lr=ir;(s.updateQueue=lr)&&(s.flags|=4)}};Cj=function(er,s,tr,nr){tr!==nr&&(s.flags|=4)};function Dj(er,s){if(!I$2)switch(er.tailMode){case"hidden":s=er.tail;for(var tr=null;s!==null;)s.alternate!==null&&(tr=s),s=s.sibling;tr===null?er.tail=null:tr.sibling=null;break;case"collapsed":tr=er.tail;for(var nr=null;tr!==null;)tr.alternate!==null&&(nr=tr),tr=tr.sibling;nr===null?s||er.tail===null?er.tail=null:er.tail.sibling=null:nr.sibling=null}}function S$1(er){var s=er.alternate!==null&&er.alternate.child===er.child,tr=0,nr=0;if(s)for(var rr=er.child;rr!==null;)tr|=rr.lanes|rr.childLanes,nr|=rr.subtreeFlags&14680064,nr|=rr.flags&14680064,rr.return=er,rr=rr.sibling;else for(rr=er.child;rr!==null;)tr|=rr.lanes|rr.childLanes,nr|=rr.subtreeFlags,nr|=rr.flags,rr.return=er,rr=rr.sibling;return er.subtreeFlags|=nr,er.childLanes=tr,s}function Ej(er,s,tr){var nr=s.pendingProps;switch(wg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(s),null;case 1:return Zf(s.type)&&$f(),S$1(s),null;case 3:return nr=s.stateNode,zh(),E$1(Wf),E$1(H$1),Eh(),nr.pendingContext&&(nr.context=nr.pendingContext,nr.pendingContext=null),(er===null||er.child===null)&&(Gg(s)?s.flags|=4:er===null||er.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(er,s),S$1(s),null;case 5:Bh(s);var rr=xh(wh.current);if(tr=s.type,er!==null&&s.stateNode!=null)Bj(er,s,tr,nr,rr),er.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!nr){if(s.stateNode===null)throw Error(p$1(166));return S$1(s),null}if(er=xh(uh.current),Gg(s)){nr=s.stateNode,tr=s.type;var ir=s.memoizedProps;switch(nr[Of]=s,nr[Pf]=ir,er=(s.mode&1)!==0,tr){case"dialog":D$1("cancel",nr),D$1("close",nr);break;case"iframe":case"object":case"embed":D$1("load",nr);break;case"video":case"audio":for(rr=0;rr<lf.length;rr++)D$1(lf[rr],nr);break;case"source":D$1("error",nr);break;case"img":case"image":case"link":D$1("error",nr),D$1("load",nr);break;case"details":D$1("toggle",nr);break;case"input":Za(nr,ir),D$1("invalid",nr);break;case"select":nr._wrapperState={wasMultiple:!!ir.multiple},D$1("invalid",nr);break;case"textarea":hb(nr,ir),D$1("invalid",nr)}ub(tr,ir),rr=null;for(var sr in ir)if(ir.hasOwnProperty(sr)){var or=ir[sr];sr==="children"?typeof or=="string"?nr.textContent!==or&&(ir.suppressHydrationWarning!==!0&&Af(nr.textContent,or,er),rr=["children",or]):typeof or=="number"&&nr.textContent!==""+or&&(ir.suppressHydrationWarning!==!0&&Af(nr.textContent,or,er),rr=["children",""+or]):ea.hasOwnProperty(sr)&&or!=null&&sr==="onScroll"&&D$1("scroll",nr)}switch(tr){case"input":Va(nr),db(nr,ir,!0);break;case"textarea":Va(nr),jb(nr);break;case"select":case"option":break;default:typeof ir.onClick=="function"&&(nr.onclick=Bf)}nr=rr,s.updateQueue=nr,nr!==null&&(s.flags|=4)}else{sr=rr.nodeType===9?rr:rr.ownerDocument,er==="http://www.w3.org/1999/xhtml"&&(er=kb(tr)),er==="http://www.w3.org/1999/xhtml"?tr==="script"?(er=sr.createElement("div"),er.innerHTML="<script><\/script>",er=er.removeChild(er.firstChild)):typeof nr.is=="string"?er=sr.createElement(tr,{is:nr.is}):(er=sr.createElement(tr),tr==="select"&&(sr=er,nr.multiple?sr.multiple=!0:nr.size&&(sr.size=nr.size))):er=sr.createElementNS(er,tr),er[Of]=s,er[Pf]=nr,zj(er,s,!1,!1),s.stateNode=er;e:{switch(sr=vb(tr,nr),tr){case"dialog":D$1("cancel",er),D$1("close",er),rr=nr;break;case"iframe":case"object":case"embed":D$1("load",er),rr=nr;break;case"video":case"audio":for(rr=0;rr<lf.length;rr++)D$1(lf[rr],er);rr=nr;break;case"source":D$1("error",er),rr=nr;break;case"img":case"image":case"link":D$1("error",er),D$1("load",er),rr=nr;break;case"details":D$1("toggle",er),rr=nr;break;case"input":Za(er,nr),rr=Ya(er,nr),D$1("invalid",er);break;case"option":rr=nr;break;case"select":er._wrapperState={wasMultiple:!!nr.multiple},rr=A$1({},nr,{value:void 0}),D$1("invalid",er);break;case"textarea":hb(er,nr),rr=gb(er,nr),D$1("invalid",er);break;default:rr=nr}ub(tr,rr),or=rr;for(ir in or)if(or.hasOwnProperty(ir)){var ar=or[ir];ir==="style"?sb(er,ar):ir==="dangerouslySetInnerHTML"?(ar=ar?ar.__html:void 0,ar!=null&&nb(er,ar)):ir==="children"?typeof ar=="string"?(tr!=="textarea"||ar!=="")&&ob(er,ar):typeof ar=="number"&&ob(er,""+ar):ir!=="suppressContentEditableWarning"&&ir!=="suppressHydrationWarning"&&ir!=="autoFocus"&&(ea.hasOwnProperty(ir)?ar!=null&&ir==="onScroll"&&D$1("scroll",er):ar!=null&&ta(er,ir,ar,sr))}switch(tr){case"input":Va(er),db(er,nr,!1);break;case"textarea":Va(er),jb(er);break;case"option":nr.value!=null&&er.setAttribute("value",""+Sa(nr.value));break;case"select":er.multiple=!!nr.multiple,ir=nr.value,ir!=null?fb(er,!!nr.multiple,ir,!1):nr.defaultValue!=null&&fb(er,!!nr.multiple,nr.defaultValue,!0);break;default:typeof rr.onClick=="function"&&(er.onclick=Bf)}switch(tr){case"button":case"input":case"select":case"textarea":nr=!!nr.autoFocus;break e;case"img":nr=!0;break e;default:nr=!1}}nr&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return S$1(s),null;case 6:if(er&&s.stateNode!=null)Cj(er,s,er.memoizedProps,nr);else{if(typeof nr!="string"&&s.stateNode===null)throw Error(p$1(166));if(tr=xh(wh.current),xh(uh.current),Gg(s)){if(nr=s.stateNode,tr=s.memoizedProps,nr[Of]=s,(ir=nr.nodeValue!==tr)&&(er=xg,er!==null))switch(er.tag){case 3:Af(nr.nodeValue,tr,(er.mode&1)!==0);break;case 5:er.memoizedProps.suppressHydrationWarning!==!0&&Af(nr.nodeValue,tr,(er.mode&1)!==0)}ir&&(s.flags|=4)}else nr=(tr.nodeType===9?tr:tr.ownerDocument).createTextNode(nr),nr[Of]=s,s.stateNode=nr}return S$1(s),null;case 13:if(E$1(L$2),nr=s.memoizedState,er===null||er.memoizedState!==null&&er.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&s.mode&1&&!(s.flags&128))Hg(),Ig(),s.flags|=98560,ir=!1;else if(ir=Gg(s),nr!==null&&nr.dehydrated!==null){if(er===null){if(!ir)throw Error(p$1(318));if(ir=s.memoizedState,ir=ir!==null?ir.dehydrated:null,!ir)throw Error(p$1(317));ir[Of]=s}else Ig(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;S$1(s),ir=!1}else zg!==null&&(Fj(zg),zg=null),ir=!0;if(!ir)return s.flags&65536?s:null}return s.flags&128?(s.lanes=tr,s):(nr=nr!==null,nr!==(er!==null&&er.memoizedState!==null)&&nr&&(s.child.flags|=8192,s.mode&1&&(er===null||L$2.current&1?T$1===0&&(T$1=3):tj())),s.updateQueue!==null&&(s.flags|=4),S$1(s),null);case 4:return zh(),Aj(er,s),er===null&&sf(s.stateNode.containerInfo),S$1(s),null;case 10:return ah(s.type._context),S$1(s),null;case 17:return Zf(s.type)&&$f(),S$1(s),null;case 19:if(E$1(L$2),ir=s.memoizedState,ir===null)return S$1(s),null;if(nr=(s.flags&128)!==0,sr=ir.rendering,sr===null)if(nr)Dj(ir,!1);else{if(T$1!==0||er!==null&&er.flags&128)for(er=s.child;er!==null;){if(sr=Ch(er),sr!==null){for(s.flags|=128,Dj(ir,!1),nr=sr.updateQueue,nr!==null&&(s.updateQueue=nr,s.flags|=4),s.subtreeFlags=0,nr=tr,tr=s.child;tr!==null;)ir=tr,er=nr,ir.flags&=14680066,sr=ir.alternate,sr===null?(ir.childLanes=0,ir.lanes=er,ir.child=null,ir.subtreeFlags=0,ir.memoizedProps=null,ir.memoizedState=null,ir.updateQueue=null,ir.dependencies=null,ir.stateNode=null):(ir.childLanes=sr.childLanes,ir.lanes=sr.lanes,ir.child=sr.child,ir.subtreeFlags=0,ir.deletions=null,ir.memoizedProps=sr.memoizedProps,ir.memoizedState=sr.memoizedState,ir.updateQueue=sr.updateQueue,ir.type=sr.type,er=sr.dependencies,ir.dependencies=er===null?null:{lanes:er.lanes,firstContext:er.firstContext}),tr=tr.sibling;return G$2(L$2,L$2.current&1|2),s.child}er=er.sibling}ir.tail!==null&&B$2()>Gj&&(s.flags|=128,nr=!0,Dj(ir,!1),s.lanes=4194304)}else{if(!nr)if(er=Ch(sr),er!==null){if(s.flags|=128,nr=!0,tr=er.updateQueue,tr!==null&&(s.updateQueue=tr,s.flags|=4),Dj(ir,!0),ir.tail===null&&ir.tailMode==="hidden"&&!sr.alternate&&!I$2)return S$1(s),null}else 2*B$2()-ir.renderingStartTime>Gj&&tr!==1073741824&&(s.flags|=128,nr=!0,Dj(ir,!1),s.lanes=4194304);ir.isBackwards?(sr.sibling=s.child,s.child=sr):(tr=ir.last,tr!==null?tr.sibling=sr:s.child=sr,ir.last=sr)}return ir.tail!==null?(s=ir.tail,ir.rendering=s,ir.tail=s.sibling,ir.renderingStartTime=B$2(),s.sibling=null,tr=L$2.current,G$2(L$2,nr?tr&1|2:tr&1),s):(S$1(s),null);case 22:case 23:return Hj(),nr=s.memoizedState!==null,er!==null&&er.memoizedState!==null!==nr&&(s.flags|=8192),nr&&s.mode&1?fj&1073741824&&(S$1(s),s.subtreeFlags&6&&(s.flags|=8192)):S$1(s),null;case 24:return null;case 25:return null}throw Error(p$1(156,s.tag))}function Ij(er,s){switch(wg(s),s.tag){case 1:return Zf(s.type)&&$f(),er=s.flags,er&65536?(s.flags=er&-65537|128,s):null;case 3:return zh(),E$1(Wf),E$1(H$1),Eh(),er=s.flags,er&65536&&!(er&128)?(s.flags=er&-65537|128,s):null;case 5:return Bh(s),null;case 13:if(E$1(L$2),er=s.memoizedState,er!==null&&er.dehydrated!==null){if(s.alternate===null)throw Error(p$1(340));Ig()}return er=s.flags,er&65536?(s.flags=er&-65537|128,s):null;case 19:return E$1(L$2),null;case 4:return zh(),null;case 10:return ah(s.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U$2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Lj(er,s){var tr=er.ref;if(tr!==null)if(typeof tr=="function")try{tr(null)}catch(nr){W$2(er,s,nr)}else tr.current=null}function Mj(er,s,tr){try{tr()}catch(nr){W$2(er,s,nr)}}var Nj=!1;function Oj(er,s){if(Cf=dd,er=Me$1(),Ne(er)){if("selectionStart"in er)var tr={start:er.selectionStart,end:er.selectionEnd};else e:{tr=(tr=er.ownerDocument)&&tr.defaultView||window;var nr=tr.getSelection&&tr.getSelection();if(nr&&nr.rangeCount!==0){tr=nr.anchorNode;var rr=nr.anchorOffset,ir=nr.focusNode;nr=nr.focusOffset;try{tr.nodeType,ir.nodeType}catch{tr=null;break e}var sr=0,or=-1,ar=-1,lr=0,cr=0,ur=er,hr=null;t:for(;;){for(var dr;ur!==tr||rr!==0&&ur.nodeType!==3||(or=sr+rr),ur!==ir||nr!==0&&ur.nodeType!==3||(ar=sr+nr),ur.nodeType===3&&(sr+=ur.nodeValue.length),(dr=ur.firstChild)!==null;)hr=ur,ur=dr;for(;;){if(ur===er)break t;if(hr===tr&&++lr===rr&&(or=sr),hr===ir&&++cr===nr&&(ar=sr),(dr=ur.nextSibling)!==null)break;ur=hr,hr=ur.parentNode}ur=dr}tr=or===-1||ar===-1?null:{start:or,end:ar}}else tr=null}tr=tr||{start:0,end:0}}else tr=null;for(Df={focusedElem:er,selectionRange:tr},dd=!1,V$2=s;V$2!==null;)if(s=V$2,er=s.child,(s.subtreeFlags&1028)!==0&&er!==null)er.return=s,V$2=er;else for(;V$2!==null;){s=V$2;try{var pr=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pr!==null){var mr=pr.memoizedProps,xr=pr.memoizedState,br=s.stateNode,yr=br.getSnapshotBeforeUpdate(s.elementType===s.type?mr:Ci$1(s.type,mr),xr);br.__reactInternalSnapshotBeforeUpdate=yr}break;case 3:var gr=s.stateNode.containerInfo;gr.nodeType===1?gr.textContent="":gr.nodeType===9&&gr.documentElement&&gr.removeChild(gr.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Er){W$2(s,s.return,Er)}if(er=s.sibling,er!==null){er.return=s.return,V$2=er;break}V$2=s.return}return pr=Nj,Nj=!1,pr}function Pj(er,s,tr){var nr=s.updateQueue;if(nr=nr!==null?nr.lastEffect:null,nr!==null){var rr=nr=nr.next;do{if((rr.tag&er)===er){var ir=rr.destroy;rr.destroy=void 0,ir!==void 0&&Mj(s,tr,ir)}rr=rr.next}while(rr!==nr)}}function Qj(er,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var tr=s=s.next;do{if((tr.tag&er)===er){var nr=tr.create;tr.destroy=nr()}tr=tr.next}while(tr!==s)}}function Rj(er){var s=er.ref;if(s!==null){var tr=er.stateNode;switch(er.tag){case 5:er=tr;break;default:er=tr}typeof s=="function"?s(er):s.current=er}}function Sj(er){var s=er.alternate;s!==null&&(er.alternate=null,Sj(s)),er.child=null,er.deletions=null,er.sibling=null,er.tag===5&&(s=er.stateNode,s!==null&&(delete s[Of],delete s[Pf],delete s[of],delete s[Qf],delete s[Rf])),er.stateNode=null,er.return=null,er.dependencies=null,er.memoizedProps=null,er.memoizedState=null,er.pendingProps=null,er.stateNode=null,er.updateQueue=null}function Tj(er){return er.tag===5||er.tag===3||er.tag===4}function Uj(er){e:for(;;){for(;er.sibling===null;){if(er.return===null||Tj(er.return))return null;er=er.return}for(er.sibling.return=er.return,er=er.sibling;er.tag!==5&&er.tag!==6&&er.tag!==18;){if(er.flags&2||er.child===null||er.tag===4)continue e;er.child.return=er,er=er.child}if(!(er.flags&2))return er.stateNode}}function Vj(er,s,tr){var nr=er.tag;if(nr===5||nr===6)er=er.stateNode,s?tr.nodeType===8?tr.parentNode.insertBefore(er,s):tr.insertBefore(er,s):(tr.nodeType===8?(s=tr.parentNode,s.insertBefore(er,tr)):(s=tr,s.appendChild(er)),tr=tr._reactRootContainer,tr!=null||s.onclick!==null||(s.onclick=Bf));else if(nr!==4&&(er=er.child,er!==null))for(Vj(er,s,tr),er=er.sibling;er!==null;)Vj(er,s,tr),er=er.sibling}function Wj(er,s,tr){var nr=er.tag;if(nr===5||nr===6)er=er.stateNode,s?tr.insertBefore(er,s):tr.appendChild(er);else if(nr!==4&&(er=er.child,er!==null))for(Wj(er,s,tr),er=er.sibling;er!==null;)Wj(er,s,tr),er=er.sibling}var X$2=null,Xj=!1;function Yj(er,s,tr){for(tr=tr.child;tr!==null;)Zj(er,s,tr),tr=tr.sibling}function Zj(er,s,tr){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,tr)}catch{}switch(tr.tag){case 5:U$2||Lj(tr,s);case 6:var nr=X$2,rr=Xj;X$2=null,Yj(er,s,tr),X$2=nr,Xj=rr,X$2!==null&&(Xj?(er=X$2,tr=tr.stateNode,er.nodeType===8?er.parentNode.removeChild(tr):er.removeChild(tr)):X$2.removeChild(tr.stateNode));break;case 18:X$2!==null&&(Xj?(er=X$2,tr=tr.stateNode,er.nodeType===8?Kf(er.parentNode,tr):er.nodeType===1&&Kf(er,tr),bd(er)):Kf(X$2,tr.stateNode));break;case 4:nr=X$2,rr=Xj,X$2=tr.stateNode.containerInfo,Xj=!0,Yj(er,s,tr),X$2=nr,Xj=rr;break;case 0:case 11:case 14:case 15:if(!U$2&&(nr=tr.updateQueue,nr!==null&&(nr=nr.lastEffect,nr!==null))){rr=nr=nr.next;do{var ir=rr,sr=ir.destroy;ir=ir.tag,sr!==void 0&&(ir&2||ir&4)&&Mj(tr,s,sr),rr=rr.next}while(rr!==nr)}Yj(er,s,tr);break;case 1:if(!U$2&&(Lj(tr,s),nr=tr.stateNode,typeof nr.componentWillUnmount=="function"))try{nr.props=tr.memoizedProps,nr.state=tr.memoizedState,nr.componentWillUnmount()}catch(or){W$2(tr,s,or)}Yj(er,s,tr);break;case 21:Yj(er,s,tr);break;case 22:tr.mode&1?(U$2=(nr=U$2)||tr.memoizedState!==null,Yj(er,s,tr),U$2=nr):Yj(er,s,tr);break;default:Yj(er,s,tr)}}function ak(er){var s=er.updateQueue;if(s!==null){er.updateQueue=null;var tr=er.stateNode;tr===null&&(tr=er.stateNode=new Kj),s.forEach(function(nr){var rr=bk.bind(null,er,nr);tr.has(nr)||(tr.add(nr),nr.then(rr,rr))})}}function ck(er,s){var tr=s.deletions;if(tr!==null)for(var nr=0;nr<tr.length;nr++){var rr=tr[nr];try{var ir=er,sr=s,or=sr;e:for(;or!==null;){switch(or.tag){case 5:X$2=or.stateNode,Xj=!1;break e;case 3:X$2=or.stateNode.containerInfo,Xj=!0;break e;case 4:X$2=or.stateNode.containerInfo,Xj=!0;break e}or=or.return}if(X$2===null)throw Error(p$1(160));Zj(ir,sr,rr),X$2=null,Xj=!1;var ar=rr.alternate;ar!==null&&(ar.return=null),rr.return=null}catch(lr){W$2(rr,s,lr)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)dk(s,er),s=s.sibling}function dk(er,s){var tr=er.alternate,nr=er.flags;switch(er.tag){case 0:case 11:case 14:case 15:if(ck(s,er),ek(er),nr&4){try{Pj(3,er,er.return),Qj(3,er)}catch(mr){W$2(er,er.return,mr)}try{Pj(5,er,er.return)}catch(mr){W$2(er,er.return,mr)}}break;case 1:ck(s,er),ek(er),nr&512&&tr!==null&&Lj(tr,tr.return);break;case 5:if(ck(s,er),ek(er),nr&512&&tr!==null&&Lj(tr,tr.return),er.flags&32){var rr=er.stateNode;try{ob(rr,"")}catch(mr){W$2(er,er.return,mr)}}if(nr&4&&(rr=er.stateNode,rr!=null)){var ir=er.memoizedProps,sr=tr!==null?tr.memoizedProps:ir,or=er.type,ar=er.updateQueue;if(er.updateQueue=null,ar!==null)try{or==="input"&&ir.type==="radio"&&ir.name!=null&&ab(rr,ir),vb(or,sr);var lr=vb(or,ir);for(sr=0;sr<ar.length;sr+=2){var cr=ar[sr],ur=ar[sr+1];cr==="style"?sb(rr,ur):cr==="dangerouslySetInnerHTML"?nb(rr,ur):cr==="children"?ob(rr,ur):ta(rr,cr,ur,lr)}switch(or){case"input":bb(rr,ir);break;case"textarea":ib(rr,ir);break;case"select":var hr=rr._wrapperState.wasMultiple;rr._wrapperState.wasMultiple=!!ir.multiple;var dr=ir.value;dr!=null?fb(rr,!!ir.multiple,dr,!1):hr!==!!ir.multiple&&(ir.defaultValue!=null?fb(rr,!!ir.multiple,ir.defaultValue,!0):fb(rr,!!ir.multiple,ir.multiple?[]:"",!1))}rr[Pf]=ir}catch(mr){W$2(er,er.return,mr)}}break;case 6:if(ck(s,er),ek(er),nr&4){if(er.stateNode===null)throw Error(p$1(162));rr=er.stateNode,ir=er.memoizedProps;try{rr.nodeValue=ir}catch(mr){W$2(er,er.return,mr)}}break;case 3:if(ck(s,er),ek(er),nr&4&&tr!==null&&tr.memoizedState.isDehydrated)try{bd(s.containerInfo)}catch(mr){W$2(er,er.return,mr)}break;case 4:ck(s,er),ek(er);break;case 13:ck(s,er),ek(er),rr=er.child,rr.flags&8192&&(ir=rr.memoizedState!==null,rr.stateNode.isHidden=ir,!ir||rr.alternate!==null&&rr.alternate.memoizedState!==null||(fk=B$2())),nr&4&&ak(er);break;case 22:if(cr=tr!==null&&tr.memoizedState!==null,er.mode&1?(U$2=(lr=U$2)||cr,ck(s,er),U$2=lr):ck(s,er),ek(er),nr&8192){if(lr=er.memoizedState!==null,(er.stateNode.isHidden=lr)&&!cr&&er.mode&1)for(V$2=er,cr=er.child;cr!==null;){for(ur=V$2=cr;V$2!==null;){switch(hr=V$2,dr=hr.child,hr.tag){case 0:case 11:case 14:case 15:Pj(4,hr,hr.return);break;case 1:Lj(hr,hr.return);var pr=hr.stateNode;if(typeof pr.componentWillUnmount=="function"){nr=hr,tr=hr.return;try{s=nr,pr.props=s.memoizedProps,pr.state=s.memoizedState,pr.componentWillUnmount()}catch(mr){W$2(nr,tr,mr)}}break;case 5:Lj(hr,hr.return);break;case 22:if(hr.memoizedState!==null){gk(ur);continue}}dr!==null?(dr.return=hr,V$2=dr):gk(ur)}cr=cr.sibling}e:for(cr=null,ur=er;;){if(ur.tag===5){if(cr===null){cr=ur;try{rr=ur.stateNode,lr?(ir=rr.style,typeof ir.setProperty=="function"?ir.setProperty("display","none","important"):ir.display="none"):(or=ur.stateNode,ar=ur.memoizedProps.style,sr=ar!=null&&ar.hasOwnProperty("display")?ar.display:null,or.style.display=rb("display",sr))}catch(mr){W$2(er,er.return,mr)}}}else if(ur.tag===6){if(cr===null)try{ur.stateNode.nodeValue=lr?"":ur.memoizedProps}catch(mr){W$2(er,er.return,mr)}}else if((ur.tag!==22&&ur.tag!==23||ur.memoizedState===null||ur===er)&&ur.child!==null){ur.child.return=ur,ur=ur.child;continue}if(ur===er)break e;for(;ur.sibling===null;){if(ur.return===null||ur.return===er)break e;cr===ur&&(cr=null),ur=ur.return}cr===ur&&(cr=null),ur.sibling.return=ur.return,ur=ur.sibling}}break;case 19:ck(s,er),ek(er),nr&4&&ak(er);break;case 21:break;default:ck(s,er),ek(er)}}function ek(er){var s=er.flags;if(s&2){try{e:{for(var tr=er.return;tr!==null;){if(Tj(tr)){var nr=tr;break e}tr=tr.return}throw Error(p$1(160))}switch(nr.tag){case 5:var rr=nr.stateNode;nr.flags&32&&(ob(rr,""),nr.flags&=-33);var ir=Uj(er);Wj(er,ir,rr);break;case 3:case 4:var sr=nr.stateNode.containerInfo,or=Uj(er);Vj(er,or,sr);break;default:throw Error(p$1(161))}}catch(ar){W$2(er,er.return,ar)}er.flags&=-3}s&4096&&(er.flags&=-4097)}function hk(er,s,tr){V$2=er,ik(er)}function ik(er,s,tr){for(var nr=(er.mode&1)!==0;V$2!==null;){var rr=V$2,ir=rr.child;if(rr.tag===22&&nr){var sr=rr.memoizedState!==null||Jj;if(!sr){var or=rr.alternate,ar=or!==null&&or.memoizedState!==null||U$2;or=Jj;var lr=U$2;if(Jj=sr,(U$2=ar)&&!lr)for(V$2=rr;V$2!==null;)sr=V$2,ar=sr.child,sr.tag===22&&sr.memoizedState!==null?jk(rr):ar!==null?(ar.return=sr,V$2=ar):jk(rr);for(;ir!==null;)V$2=ir,ik(ir),ir=ir.sibling;V$2=rr,Jj=or,U$2=lr}kk(er)}else rr.subtreeFlags&8772&&ir!==null?(ir.return=rr,V$2=ir):kk(er)}}function kk(er){for(;V$2!==null;){var s=V$2;if(s.flags&8772){var tr=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:U$2||Qj(5,s);break;case 1:var nr=s.stateNode;if(s.flags&4&&!U$2)if(tr===null)nr.componentDidMount();else{var rr=s.elementType===s.type?tr.memoizedProps:Ci$1(s.type,tr.memoizedProps);nr.componentDidUpdate(rr,tr.memoizedState,nr.__reactInternalSnapshotBeforeUpdate)}var ir=s.updateQueue;ir!==null&&sh(s,ir,nr);break;case 3:var sr=s.updateQueue;if(sr!==null){if(tr=null,s.child!==null)switch(s.child.tag){case 5:tr=s.child.stateNode;break;case 1:tr=s.child.stateNode}sh(s,sr,tr)}break;case 5:var or=s.stateNode;if(tr===null&&s.flags&4){tr=or;var ar=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ar.autoFocus&&tr.focus();break;case"img":ar.src&&(tr.src=ar.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var lr=s.alternate;if(lr!==null){var cr=lr.memoizedState;if(cr!==null){var ur=cr.dehydrated;ur!==null&&bd(ur)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U$2||s.flags&512&&Rj(s)}catch(hr){W$2(s,s.return,hr)}}if(s===er){V$2=null;break}if(tr=s.sibling,tr!==null){tr.return=s.return,V$2=tr;break}V$2=s.return}}function gk(er){for(;V$2!==null;){var s=V$2;if(s===er){V$2=null;break}var tr=s.sibling;if(tr!==null){tr.return=s.return,V$2=tr;break}V$2=s.return}}function jk(er){for(;V$2!==null;){var s=V$2;try{switch(s.tag){case 0:case 11:case 15:var tr=s.return;try{Qj(4,s)}catch(ar){W$2(s,tr,ar)}break;case 1:var nr=s.stateNode;if(typeof nr.componentDidMount=="function"){var rr=s.return;try{nr.componentDidMount()}catch(ar){W$2(s,rr,ar)}}var ir=s.return;try{Rj(s)}catch(ar){W$2(s,ir,ar)}break;case 5:var sr=s.return;try{Rj(s)}catch(ar){W$2(s,sr,ar)}}}catch(ar){W$2(s,s.return,ar)}if(s===er){V$2=null;break}var or=s.sibling;if(or!==null){or.return=s.return,V$2=or;break}V$2=s.return}}var lk=Math.ceil,mk=ua.ReactCurrentDispatcher,nk=ua.ReactCurrentOwner,ok=ua.ReactCurrentBatchConfig,K$2=0,Q$2=null,Y$1=null,Z$2=0,fj=0,ej=Uf(0),T$1=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$1=!1,Pi$1=null,Ri$1=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R$1(){return K$2&6?B$2():Ak!==-1?Ak:Ak=B$2()}function yi$1(er){return er.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(er=C$1,er!==0||(er=window.event,er=er===void 0?16:jd(er.type)),er):1}function gi$1(er,s,tr,nr){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac(er,tr,nr),(!(K$2&2)||er!==Q$2)&&(er===Q$2&&(!(K$2&2)&&(qk|=tr),T$1===4&&Ck(er,Z$2)),Dk(er,nr),tr===1&&K$2===0&&!(s.mode&1)&&(Gj=B$2()+500,fg&&jg()))}function Dk(er,s){var tr=er.callbackNode;wc(er,s);var nr=uc(er,er===Q$2?Z$2:0);if(nr===0)tr!==null&&bc(tr),er.callbackNode=null,er.callbackPriority=0;else if(s=nr&-nr,er.callbackPriority!==s){if(tr!=null&&bc(tr),s===1)er.tag===0?ig(Ek.bind(null,er)):hg(Ek.bind(null,er)),Jf(function(){!(K$2&6)&&jg()}),tr=null;else{switch(Dc(nr)){case 1:tr=fc;break;case 4:tr=gc;break;case 16:tr=hc;break;case 536870912:tr=jc;break;default:tr=hc}tr=Fk(tr,Gk.bind(null,er))}er.callbackPriority=s,er.callbackNode=tr}}function Gk(er,s){if(Ak=-1,Bk=0,K$2&6)throw Error(p$1(327));var tr=er.callbackNode;if(Hk()&&er.callbackNode!==tr)return null;var nr=uc(er,er===Q$2?Z$2:0);if(nr===0)return null;if(nr&30||nr&er.expiredLanes||s)s=Ik(er,nr);else{s=nr;var rr=K$2;K$2|=2;var ir=Jk();(Q$2!==er||Z$2!==s)&&(uk=null,Gj=B$2()+500,Kk(er,s));do try{Lk();break}catch(or){Mk(er,or)}while(!0);$g(),mk.current=ir,K$2=rr,Y$1!==null?s=0:(Q$2=null,Z$2=0,s=T$1)}if(s!==0){if(s===2&&(rr=xc(er),rr!==0&&(nr=rr,s=Nk(er,rr))),s===1)throw tr=pk,Kk(er,0),Ck(er,nr),Dk(er,B$2()),tr;if(s===6)Ck(er,nr);else{if(rr=er.current.alternate,!(nr&30)&&!Ok(rr)&&(s=Ik(er,nr),s===2&&(ir=xc(er),ir!==0&&(nr=ir,s=Nk(er,ir))),s===1))throw tr=pk,Kk(er,0),Ck(er,nr),Dk(er,B$2()),tr;switch(er.finishedWork=rr,er.finishedLanes=nr,s){case 0:case 1:throw Error(p$1(345));case 2:Pk(er,tk,uk);break;case 3:if(Ck(er,nr),(nr&130023424)===nr&&(s=fk+500-B$2(),10<s)){if(uc(er,0)!==0)break;if(rr=er.suspendedLanes,(rr&nr)!==nr){R$1(),er.pingedLanes|=er.suspendedLanes&rr;break}er.timeoutHandle=Ff(Pk.bind(null,er,tk,uk),s);break}Pk(er,tk,uk);break;case 4:if(Ck(er,nr),(nr&4194240)===nr)break;for(s=er.eventTimes,rr=-1;0<nr;){var sr=31-oc(nr);ir=1<<sr,sr=s[sr],sr>rr&&(rr=sr),nr&=~ir}if(nr=rr,nr=B$2()-nr,nr=(120>nr?120:480>nr?480:1080>nr?1080:1920>nr?1920:3e3>nr?3e3:4320>nr?4320:1960*lk(nr/1960))-nr,10<nr){er.timeoutHandle=Ff(Pk.bind(null,er,tk,uk),nr);break}Pk(er,tk,uk);break;case 5:Pk(er,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(er,B$2()),er.callbackNode===tr?Gk.bind(null,er):null}function Nk(er,s){var tr=sk;return er.current.memoizedState.isDehydrated&&(Kk(er,s).flags|=256),er=Ik(er,s),er!==2&&(s=tk,tk=tr,s!==null&&Fj(s)),er}function Fj(er){tk===null?tk=er:tk.push.apply(tk,er)}function Ok(er){for(var s=er;;){if(s.flags&16384){var tr=s.updateQueue;if(tr!==null&&(tr=tr.stores,tr!==null))for(var nr=0;nr<tr.length;nr++){var rr=tr[nr],ir=rr.getSnapshot;rr=rr.value;try{if(!He(ir(),rr))return!1}catch{return!1}}}if(tr=s.child,s.subtreeFlags&16384&&tr!==null)tr.return=s,s=tr;else{if(s===er)break;for(;s.sibling===null;){if(s.return===null||s.return===er)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ck(er,s){for(s&=~rk,s&=~qk,er.suspendedLanes|=s,er.pingedLanes&=~s,er=er.expirationTimes;0<s;){var tr=31-oc(s),nr=1<<tr;er[tr]=-1,s&=~nr}}function Ek(er){if(K$2&6)throw Error(p$1(327));Hk();var s=uc(er,0);if(!(s&1))return Dk(er,B$2()),null;var tr=Ik(er,s);if(er.tag!==0&&tr===2){var nr=xc(er);nr!==0&&(s=nr,tr=Nk(er,nr))}if(tr===1)throw tr=pk,Kk(er,0),Ck(er,s),Dk(er,B$2()),tr;if(tr===6)throw Error(p$1(345));return er.finishedWork=er.current.alternate,er.finishedLanes=s,Pk(er,tk,uk),Dk(er,B$2()),null}function Qk(er,s){var tr=K$2;K$2|=1;try{return er(s)}finally{K$2=tr,K$2===0&&(Gj=B$2()+500,fg&&jg())}}function Rk(er){wk!==null&&wk.tag===0&&!(K$2&6)&&Hk();var s=K$2;K$2|=1;var tr=ok.transition,nr=C$1;try{if(ok.transition=null,C$1=1,er)return er()}finally{C$1=nr,ok.transition=tr,K$2=s,!(K$2&6)&&jg()}}function Hj(){fj=ej.current,E$1(ej)}function Kk(er,s){er.finishedWork=null,er.finishedLanes=0;var tr=er.timeoutHandle;if(tr!==-1&&(er.timeoutHandle=-1,Gf(tr)),Y$1!==null)for(tr=Y$1.return;tr!==null;){var nr=tr;switch(wg(nr),nr.tag){case 1:nr=nr.type.childContextTypes,nr!=null&&$f();break;case 3:zh(),E$1(Wf),E$1(H$1),Eh();break;case 5:Bh(nr);break;case 4:zh();break;case 13:E$1(L$2);break;case 19:E$1(L$2);break;case 10:ah(nr.type._context);break;case 22:case 23:Hj()}tr=tr.return}if(Q$2=er,Y$1=er=Pg(er.current,null),Z$2=fj=s,T$1=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(s=0;s<fh.length;s++)if(tr=fh[s],nr=tr.interleaved,nr!==null){tr.interleaved=null;var rr=nr.next,ir=tr.pending;if(ir!==null){var sr=ir.next;ir.next=rr,nr.next=sr}tr.pending=nr}fh=null}return er}function Mk(er,s){do{var tr=Y$1;try{if($g(),Fh.current=Rh,Ih){for(var nr=M$1.memoizedState;nr!==null;){var rr=nr.queue;rr!==null&&(rr.pending=null),nr=nr.next}Ih=!1}if(Hh=0,O$1=N$2=M$1=null,Jh=!1,Kh=0,nk.current=null,tr===null||tr.return===null){T$1=1,pk=s,Y$1=null;break}e:{var ir=er,sr=tr.return,or=tr,ar=s;if(s=Z$2,or.flags|=32768,ar!==null&&typeof ar=="object"&&typeof ar.then=="function"){var lr=ar,cr=or,ur=cr.tag;if(!(cr.mode&1)&&(ur===0||ur===11||ur===15)){var hr=cr.alternate;hr?(cr.updateQueue=hr.updateQueue,cr.memoizedState=hr.memoizedState,cr.lanes=hr.lanes):(cr.updateQueue=null,cr.memoizedState=null)}var dr=Ui$1(sr);if(dr!==null){dr.flags&=-257,Vi$1(dr,sr,or,ir,s),dr.mode&1&&Si$1(ir,lr,s),s=dr,ar=lr;var pr=s.updateQueue;if(pr===null){var mr=new Set;mr.add(ar),s.updateQueue=mr}else pr.add(ar);break e}else{if(!(s&1)){Si$1(ir,lr,s),tj();break e}ar=Error(p$1(426))}}else if(I$2&&or.mode&1){var xr=Ui$1(sr);if(xr!==null){!(xr.flags&65536)&&(xr.flags|=256),Vi$1(xr,sr,or,ir,s),Jg(Ji$1(ar,or));break e}}ir=ar=Ji$1(ar,or),T$1!==4&&(T$1=2),sk===null?sk=[ir]:sk.push(ir),ir=sr;do{switch(ir.tag){case 3:ir.flags|=65536,s&=-s,ir.lanes|=s;var br=Ni$1(ir,ar,s);ph(ir,br);break e;case 1:or=ar;var yr=ir.type,gr=ir.stateNode;if(!(ir.flags&128)&&(typeof yr.getDerivedStateFromError=="function"||gr!==null&&typeof gr.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(gr)))){ir.flags|=65536,s&=-s,ir.lanes|=s;var Er=Qi$1(ir,or,s);ph(ir,Er);break e}}ir=ir.return}while(ir!==null)}Sk(tr)}catch(kr){s=kr,Y$1===tr&&tr!==null&&(Y$1=tr=tr.return);continue}break}while(!0)}function Jk(){var er=mk.current;return mk.current=Rh,er===null?Rh:er}function tj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),Q$2===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q$2,Z$2)}function Ik(er,s){var tr=K$2;K$2|=2;var nr=Jk();(Q$2!==er||Z$2!==s)&&(uk=null,Kk(er,s));do try{Tk();break}catch(rr){Mk(er,rr)}while(!0);if($g(),K$2=tr,mk.current=nr,Y$1!==null)throw Error(p$1(261));return Q$2=null,Z$2=0,T$1}function Tk(){for(;Y$1!==null;)Uk(Y$1)}function Lk(){for(;Y$1!==null&&!cc();)Uk(Y$1)}function Uk(er){var s=Vk(er.alternate,er,fj);er.memoizedProps=er.pendingProps,s===null?Sk(er):Y$1=s,nk.current=null}function Sk(er){var s=er;do{var tr=s.alternate;if(er=s.return,s.flags&32768){if(tr=Ij(tr,s),tr!==null){tr.flags&=32767,Y$1=tr;return}if(er!==null)er.flags|=32768,er.subtreeFlags=0,er.deletions=null;else{T$1=6,Y$1=null;return}}else if(tr=Ej(tr,s,fj),tr!==null){Y$1=tr;return}if(s=s.sibling,s!==null){Y$1=s;return}Y$1=s=er}while(s!==null);T$1===0&&(T$1=5)}function Pk(er,s,tr){var nr=C$1,rr=ok.transition;try{ok.transition=null,C$1=1,Wk(er,s,tr,nr)}finally{ok.transition=rr,C$1=nr}return null}function Wk(er,s,tr,nr){do Hk();while(wk!==null);if(K$2&6)throw Error(p$1(327));tr=er.finishedWork;var rr=er.finishedLanes;if(tr===null)return null;if(er.finishedWork=null,er.finishedLanes=0,tr===er.current)throw Error(p$1(177));er.callbackNode=null,er.callbackPriority=0;var ir=tr.lanes|tr.childLanes;if(Bc(er,ir),er===Q$2&&(Y$1=Q$2=null,Z$2=0),!(tr.subtreeFlags&2064)&&!(tr.flags&2064)||vk||(vk=!0,Fk(hc,function(){return Hk(),null})),ir=(tr.flags&15990)!==0,tr.subtreeFlags&15990||ir){ir=ok.transition,ok.transition=null;var sr=C$1;C$1=1;var or=K$2;K$2|=4,nk.current=null,Oj(er,tr),dk(tr,er),Oe(Df),dd=!!Cf,Df=Cf=null,er.current=tr,hk(tr),dc(),K$2=or,C$1=sr,ok.transition=ir}else er.current=tr;if(vk&&(vk=!1,wk=er,xk=rr),ir=er.pendingLanes,ir===0&&(Ri$1=null),mc(tr.stateNode),Dk(er,B$2()),s!==null)for(nr=er.onRecoverableError,tr=0;tr<s.length;tr++)rr=s[tr],nr(rr.value,{componentStack:rr.stack,digest:rr.digest});if(Oi$1)throw Oi$1=!1,er=Pi$1,Pi$1=null,er;return xk&1&&er.tag!==0&&Hk(),ir=er.pendingLanes,ir&1?er===zk?yk++:(yk=0,zk=er):yk=0,jg(),null}function Hk(){if(wk!==null){var er=Dc(xk),s=ok.transition,tr=C$1;try{if(ok.transition=null,C$1=16>er?16:er,wk===null)var nr=!1;else{if(er=wk,wk=null,xk=0,K$2&6)throw Error(p$1(331));var rr=K$2;for(K$2|=4,V$2=er.current;V$2!==null;){var ir=V$2,sr=ir.child;if(V$2.flags&16){var or=ir.deletions;if(or!==null){for(var ar=0;ar<or.length;ar++){var lr=or[ar];for(V$2=lr;V$2!==null;){var cr=V$2;switch(cr.tag){case 0:case 11:case 15:Pj(8,cr,ir)}var ur=cr.child;if(ur!==null)ur.return=cr,V$2=ur;else for(;V$2!==null;){cr=V$2;var hr=cr.sibling,dr=cr.return;if(Sj(cr),cr===lr){V$2=null;break}if(hr!==null){hr.return=dr,V$2=hr;break}V$2=dr}}}var pr=ir.alternate;if(pr!==null){var mr=pr.child;if(mr!==null){pr.child=null;do{var xr=mr.sibling;mr.sibling=null,mr=xr}while(mr!==null)}}V$2=ir}}if(ir.subtreeFlags&2064&&sr!==null)sr.return=ir,V$2=sr;else e:for(;V$2!==null;){if(ir=V$2,ir.flags&2048)switch(ir.tag){case 0:case 11:case 15:Pj(9,ir,ir.return)}var br=ir.sibling;if(br!==null){br.return=ir.return,V$2=br;break e}V$2=ir.return}}var yr=er.current;for(V$2=yr;V$2!==null;){sr=V$2;var gr=sr.child;if(sr.subtreeFlags&2064&&gr!==null)gr.return=sr,V$2=gr;else e:for(sr=yr;V$2!==null;){if(or=V$2,or.flags&2048)try{switch(or.tag){case 0:case 11:case 15:Qj(9,or)}}catch(kr){W$2(or,or.return,kr)}if(or===sr){V$2=null;break e}var Er=or.sibling;if(Er!==null){Er.return=or.return,V$2=Er;break e}V$2=or.return}}if(K$2=rr,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,er)}catch{}nr=!0}return nr}finally{C$1=tr,ok.transition=s}}return!1}function Xk(er,s,tr){s=Ji$1(tr,s),s=Ni$1(er,s,1),er=nh(er,s,1),s=R$1(),er!==null&&(Ac(er,1,s),Dk(er,s))}function W$2(er,s,tr){if(er.tag===3)Xk(er,er,tr);else for(;s!==null;){if(s.tag===3){Xk(s,er,tr);break}else if(s.tag===1){var nr=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof nr.componentDidCatch=="function"&&(Ri$1===null||!Ri$1.has(nr))){er=Ji$1(tr,er),er=Qi$1(s,er,1),s=nh(s,er,1),er=R$1(),s!==null&&(Ac(s,1,er),Dk(s,er));break}}s=s.return}}function Ti$1(er,s,tr){var nr=er.pingCache;nr!==null&&nr.delete(s),s=R$1(),er.pingedLanes|=er.suspendedLanes&tr,Q$2===er&&(Z$2&tr)===tr&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B$2()-fk?Kk(er,0):rk|=tr),Dk(er,s)}function Yk(er,s){s===0&&(er.mode&1?(s=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):s=1);var tr=R$1();er=ih(er,s),er!==null&&(Ac(er,s,tr),Dk(er,tr))}function uj(er){var s=er.memoizedState,tr=0;s!==null&&(tr=s.retryLane),Yk(er,tr)}function bk(er,s){var tr=0;switch(er.tag){case 13:var nr=er.stateNode,rr=er.memoizedState;rr!==null&&(tr=rr.retryLane);break;case 19:nr=er.stateNode;break;default:throw Error(p$1(314))}nr!==null&&nr.delete(s),Yk(er,tr)}var Vk;Vk=function(er,s,tr){if(er!==null)if(er.memoizedProps!==s.pendingProps||Wf.current)dh=!0;else{if(!(er.lanes&tr)&&!(s.flags&128))return dh=!1,yj(er,s,tr);dh=!!(er.flags&131072)}else dh=!1,I$2&&s.flags&1048576&&ug(s,ng,s.index);switch(s.lanes=0,s.tag){case 2:var nr=s.type;ij(er,s),er=s.pendingProps;var rr=Yf(s,H$1.current);ch(s,tr),rr=Nh(null,s,nr,er,rr,tr);var ir=Sh();return s.flags|=1,typeof rr=="object"&&rr!==null&&typeof rr.render=="function"&&rr.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zf(nr)?(ir=!0,cg(s)):ir=!1,s.memoizedState=rr.state!==null&&rr.state!==void 0?rr.state:null,kh(s),rr.updater=Ei$1,s.stateNode=rr,rr._reactInternals=s,Ii$1(s,nr,er,tr),s=jj(null,s,nr,!0,ir,tr)):(s.tag=0,I$2&&ir&&vg(s),Xi$1(null,s,rr,tr),s=s.child),s;case 16:nr=s.elementType;e:{switch(ij(er,s),er=s.pendingProps,rr=nr._init,nr=rr(nr._payload),s.type=nr,rr=s.tag=Zk(nr),er=Ci$1(nr,er),rr){case 0:s=cj(null,s,nr,er,tr);break e;case 1:s=hj(null,s,nr,er,tr);break e;case 11:s=Yi$1(null,s,nr,er,tr);break e;case 14:s=$i$1(null,s,nr,Ci$1(nr.type,er),tr);break e}throw Error(p$1(306,nr,""))}return s;case 0:return nr=s.type,rr=s.pendingProps,rr=s.elementType===nr?rr:Ci$1(nr,rr),cj(er,s,nr,rr,tr);case 1:return nr=s.type,rr=s.pendingProps,rr=s.elementType===nr?rr:Ci$1(nr,rr),hj(er,s,nr,rr,tr);case 3:e:{if(kj(s),er===null)throw Error(p$1(387));nr=s.pendingProps,ir=s.memoizedState,rr=ir.element,lh(er,s),qh(s,nr,null,tr);var sr=s.memoizedState;if(nr=sr.element,ir.isDehydrated)if(ir={element:nr,isDehydrated:!1,cache:sr.cache,pendingSuspenseBoundaries:sr.pendingSuspenseBoundaries,transitions:sr.transitions},s.updateQueue.baseState=ir,s.memoizedState=ir,s.flags&256){rr=Ji$1(Error(p$1(423)),s),s=lj(er,s,nr,tr,rr);break e}else if(nr!==rr){rr=Ji$1(Error(p$1(424)),s),s=lj(er,s,nr,tr,rr);break e}else for(yg=Lf(s.stateNode.containerInfo.firstChild),xg=s,I$2=!0,zg=null,tr=Vg(s,null,nr,tr),s.child=tr;tr;)tr.flags=tr.flags&-3|4096,tr=tr.sibling;else{if(Ig(),nr===rr){s=Zi$1(er,s,tr);break e}Xi$1(er,s,nr,tr)}s=s.child}return s;case 5:return Ah(s),er===null&&Eg(s),nr=s.type,rr=s.pendingProps,ir=er!==null?er.memoizedProps:null,sr=rr.children,Ef(nr,rr)?sr=null:ir!==null&&Ef(nr,ir)&&(s.flags|=32),gj(er,s),Xi$1(er,s,sr,tr),s.child;case 6:return er===null&&Eg(s),null;case 13:return oj(er,s,tr);case 4:return yh(s,s.stateNode.containerInfo),nr=s.pendingProps,er===null?s.child=Ug(s,null,nr,tr):Xi$1(er,s,nr,tr),s.child;case 11:return nr=s.type,rr=s.pendingProps,rr=s.elementType===nr?rr:Ci$1(nr,rr),Yi$1(er,s,nr,rr,tr);case 7:return Xi$1(er,s,s.pendingProps,tr),s.child;case 8:return Xi$1(er,s,s.pendingProps.children,tr),s.child;case 12:return Xi$1(er,s,s.pendingProps.children,tr),s.child;case 10:e:{if(nr=s.type._context,rr=s.pendingProps,ir=s.memoizedProps,sr=rr.value,G$2(Wg,nr._currentValue),nr._currentValue=sr,ir!==null)if(He(ir.value,sr)){if(ir.children===rr.children&&!Wf.current){s=Zi$1(er,s,tr);break e}}else for(ir=s.child,ir!==null&&(ir.return=s);ir!==null;){var or=ir.dependencies;if(or!==null){sr=ir.child;for(var ar=or.firstContext;ar!==null;){if(ar.context===nr){if(ir.tag===1){ar=mh(-1,tr&-tr),ar.tag=2;var lr=ir.updateQueue;if(lr!==null){lr=lr.shared;var cr=lr.pending;cr===null?ar.next=ar:(ar.next=cr.next,cr.next=ar),lr.pending=ar}}ir.lanes|=tr,ar=ir.alternate,ar!==null&&(ar.lanes|=tr),bh(ir.return,tr,s),or.lanes|=tr;break}ar=ar.next}}else if(ir.tag===10)sr=ir.type===s.type?null:ir.child;else if(ir.tag===18){if(sr=ir.return,sr===null)throw Error(p$1(341));sr.lanes|=tr,or=sr.alternate,or!==null&&(or.lanes|=tr),bh(sr,tr,s),sr=ir.sibling}else sr=ir.child;if(sr!==null)sr.return=ir;else for(sr=ir;sr!==null;){if(sr===s){sr=null;break}if(ir=sr.sibling,ir!==null){ir.return=sr.return,sr=ir;break}sr=sr.return}ir=sr}Xi$1(er,s,rr.children,tr),s=s.child}return s;case 9:return rr=s.type,nr=s.pendingProps.children,ch(s,tr),rr=eh(rr),nr=nr(rr),s.flags|=1,Xi$1(er,s,nr,tr),s.child;case 14:return nr=s.type,rr=Ci$1(nr,s.pendingProps),rr=Ci$1(nr.type,rr),$i$1(er,s,nr,rr,tr);case 15:return bj(er,s,s.type,s.pendingProps,tr);case 17:return nr=s.type,rr=s.pendingProps,rr=s.elementType===nr?rr:Ci$1(nr,rr),ij(er,s),s.tag=1,Zf(nr)?(er=!0,cg(s)):er=!1,ch(s,tr),Gi$1(s,nr,rr),Ii$1(s,nr,rr,tr),jj(null,s,nr,!0,er,tr);case 19:return xj(er,s,tr);case 22:return dj(er,s,tr)}throw Error(p$1(156,s.tag))};function Fk(er,s){return ac(er,s)}function $k(er,s,tr,nr){this.tag=er,this.key=tr,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(er,s,tr,nr){return new $k(er,s,tr,nr)}function aj(er){return er=er.prototype,!(!er||!er.isReactComponent)}function Zk(er){if(typeof er=="function")return aj(er)?1:0;if(er!=null){if(er=er.$$typeof,er===Da)return 11;if(er===Ga)return 14}return 2}function Pg(er,s){var tr=er.alternate;return tr===null?(tr=Bg(er.tag,s,er.key,er.mode),tr.elementType=er.elementType,tr.type=er.type,tr.stateNode=er.stateNode,tr.alternate=er,er.alternate=tr):(tr.pendingProps=s,tr.type=er.type,tr.flags=0,tr.subtreeFlags=0,tr.deletions=null),tr.flags=er.flags&14680064,tr.childLanes=er.childLanes,tr.lanes=er.lanes,tr.child=er.child,tr.memoizedProps=er.memoizedProps,tr.memoizedState=er.memoizedState,tr.updateQueue=er.updateQueue,s=er.dependencies,tr.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},tr.sibling=er.sibling,tr.index=er.index,tr.ref=er.ref,tr}function Rg(er,s,tr,nr,rr,ir){var sr=2;if(nr=er,typeof er=="function")aj(er)&&(sr=1);else if(typeof er=="string")sr=5;else e:switch(er){case ya:return Tg(tr.children,rr,ir,s);case za:sr=8,rr|=8;break;case Aa:return er=Bg(12,tr,s,rr|2),er.elementType=Aa,er.lanes=ir,er;case Ea:return er=Bg(13,tr,s,rr),er.elementType=Ea,er.lanes=ir,er;case Fa:return er=Bg(19,tr,s,rr),er.elementType=Fa,er.lanes=ir,er;case Ia:return pj(tr,rr,ir,s);default:if(typeof er=="object"&&er!==null)switch(er.$$typeof){case Ba:sr=10;break e;case Ca:sr=9;break e;case Da:sr=11;break e;case Ga:sr=14;break e;case Ha:sr=16,nr=null;break e}throw Error(p$1(130,er==null?er:typeof er,""))}return s=Bg(sr,tr,s,rr),s.elementType=er,s.type=nr,s.lanes=ir,s}function Tg(er,s,tr,nr){return er=Bg(7,er,nr,s),er.lanes=tr,er}function pj(er,s,tr,nr){return er=Bg(22,er,nr,s),er.elementType=Ia,er.lanes=tr,er.stateNode={isHidden:!1},er}function Qg(er,s,tr){return er=Bg(6,er,null,s),er.lanes=tr,er}function Sg(er,s,tr){return s=Bg(4,er.children!==null?er.children:[],er.key,s),s.lanes=tr,s.stateNode={containerInfo:er.containerInfo,pendingChildren:null,implementation:er.implementation},s}function al(er,s,tr,nr,rr){this.tag=s,this.containerInfo=er,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nr,this.onRecoverableError=rr,this.mutableSourceEagerHydrationData=null}function bl(er,s,tr,nr,rr,ir,sr,or,ar){return er=new al(er,s,tr,or,ar),s===1?(s=1,ir===!0&&(s|=8)):s=0,ir=Bg(3,null,null,s),er.current=ir,ir.stateNode=er,ir.memoizedState={element:nr,isDehydrated:tr,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(ir),er}function cl(er,s,tr){var nr=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nr==null?null:""+nr,children:er,containerInfo:s,implementation:tr}}function dl(er){if(!er)return Vf;er=er._reactInternals;e:{if(Vb(er)!==er||er.tag!==1)throw Error(p$1(170));var s=er;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zf(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(p$1(171))}if(er.tag===1){var tr=er.type;if(Zf(tr))return bg(er,tr,s)}return s}function el(er,s,tr,nr,rr,ir,sr,or,ar){return er=bl(tr,nr,!0,er,rr,ir,sr,or,ar),er.context=dl(null),tr=er.current,nr=R$1(),rr=yi$1(tr),ir=mh(nr,rr),ir.callback=s??null,nh(tr,ir,rr),er.current.lanes=rr,Ac(er,rr,nr),Dk(er,nr),er}function fl(er,s,tr,nr){var rr=s.current,ir=R$1(),sr=yi$1(rr);return tr=dl(tr),s.context===null?s.context=tr:s.pendingContext=tr,s=mh(ir,sr),s.payload={element:er},nr=nr===void 0?null:nr,nr!==null&&(s.callback=nr),er=nh(rr,s,sr),er!==null&&(gi$1(er,rr,sr,ir),oh(er,rr,sr)),sr}function gl(er){if(er=er.current,!er.child)return null;switch(er.child.tag){case 5:return er.child.stateNode;default:return er.child.stateNode}}function hl(er,s){if(er=er.memoizedState,er!==null&&er.dehydrated!==null){var tr=er.retryLane;er.retryLane=tr!==0&&tr<s?tr:s}}function il(er,s){hl(er,s),(er=er.alternate)&&hl(er,s)}var kl=typeof reportError=="function"?reportError:function(er){console.error(er)};function ll(er){this._internalRoot=er}ml.prototype.render=ll.prototype.render=function(er){var s=this._internalRoot;if(s===null)throw Error(p$1(409));fl(er,s,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var er=this._internalRoot;if(er!==null){this._internalRoot=null;var s=er.containerInfo;Rk(function(){fl(null,er,null,null)}),s[uf]=null}};function ml(er){this._internalRoot=er}ml.prototype.unstable_scheduleHydration=function(er){if(er){var s=Hc();er={blockedOn:null,target:er,priority:s};for(var tr=0;tr<Qc.length&&s!==0&&s<Qc[tr].priority;tr++);Qc.splice(tr,0,er),tr===0&&Vc(er)}};function nl(er){return!(!er||er.nodeType!==1&&er.nodeType!==9&&er.nodeType!==11)}function ol(er){return!(!er||er.nodeType!==1&&er.nodeType!==9&&er.nodeType!==11&&(er.nodeType!==8||er.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(er,s,tr,nr,rr){if(rr){if(typeof nr=="function"){var ir=nr;nr=function(){var lr=gl(sr);ir.call(lr)}}var sr=el(s,nr,er,0,null,!1,!1,"",pl);return er._reactRootContainer=sr,er[uf]=sr.current,sf(er.nodeType===8?er.parentNode:er),Rk(),sr}for(;rr=er.lastChild;)er.removeChild(rr);if(typeof nr=="function"){var or=nr;nr=function(){var lr=gl(ar);or.call(lr)}}var ar=bl(er,0,!1,null,null,!1,!1,"",pl);return er._reactRootContainer=ar,er[uf]=ar.current,sf(er.nodeType===8?er.parentNode:er),Rk(function(){fl(s,ar,tr,nr)}),ar}function rl(er,s,tr,nr,rr){var ir=tr._reactRootContainer;if(ir){var sr=ir;if(typeof rr=="function"){var or=rr;rr=function(){var ar=gl(sr);or.call(ar)}}fl(s,sr,er,rr)}else sr=ql(tr,s,er,rr,nr);return gl(sr)}Ec=function(er){switch(er.tag){case 3:var s=er.stateNode;if(s.current.memoizedState.isDehydrated){var tr=tc(s.pendingLanes);tr!==0&&(Cc(s,tr|1),Dk(s,B$2()),!(K$2&6)&&(Gj=B$2()+500,jg()))}break;case 13:Rk(function(){var nr=ih(er,1);if(nr!==null){var rr=R$1();gi$1(nr,er,1,rr)}}),il(er,1)}};Fc=function(er){if(er.tag===13){var s=ih(er,134217728);if(s!==null){var tr=R$1();gi$1(s,er,134217728,tr)}il(er,134217728)}};Gc=function(er){if(er.tag===13){var s=yi$1(er),tr=ih(er,s);if(tr!==null){var nr=R$1();gi$1(tr,er,s,nr)}il(er,s)}};Hc=function(){return C$1};Ic=function(er,s){var tr=C$1;try{return C$1=er,s()}finally{C$1=tr}};yb=function(er,s,tr){switch(s){case"input":if(bb(er,tr),s=tr.name,tr.type==="radio"&&s!=null){for(tr=er;tr.parentNode;)tr=tr.parentNode;for(tr=tr.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<tr.length;s++){var nr=tr[s];if(nr!==er&&nr.form===er.form){var rr=Db(nr);if(!rr)throw Error(p$1(90));Wa(nr),bb(nr,rr)}}}break;case"textarea":ib(er,tr);break;case"select":s=tr.value,s!=null&&fb(er,!!tr.multiple,s,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(er){return er=Zb(er),er===null?null:er.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc=vl.inject(ul),lc=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(er,s){var tr=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(s))throw Error(p$1(200));return cl(er,s,null,tr)};reactDom_production_min.createRoot=function(er,s){if(!nl(er))throw Error(p$1(299));var tr=!1,nr="",rr=kl;return s!=null&&(s.unstable_strictMode===!0&&(tr=!0),s.identifierPrefix!==void 0&&(nr=s.identifierPrefix),s.onRecoverableError!==void 0&&(rr=s.onRecoverableError)),s=bl(er,1,!1,null,null,tr,!1,nr,rr),er[uf]=s.current,sf(er.nodeType===8?er.parentNode:er),new ll(s)};reactDom_production_min.findDOMNode=function(er){if(er==null)return null;if(er.nodeType===1)return er;var s=er._reactInternals;if(s===void 0)throw typeof er.render=="function"?Error(p$1(188)):(er=Object.keys(er).join(","),Error(p$1(268,er)));return er=Zb(s),er=er===null?null:er.stateNode,er};reactDom_production_min.flushSync=function(er){return Rk(er)};reactDom_production_min.hydrate=function(er,s,tr){if(!ol(s))throw Error(p$1(200));return rl(null,er,s,!0,tr)};reactDom_production_min.hydrateRoot=function(er,s,tr){if(!nl(er))throw Error(p$1(405));var nr=tr!=null&&tr.hydratedSources||null,rr=!1,ir="",sr=kl;if(tr!=null&&(tr.unstable_strictMode===!0&&(rr=!0),tr.identifierPrefix!==void 0&&(ir=tr.identifierPrefix),tr.onRecoverableError!==void 0&&(sr=tr.onRecoverableError)),s=el(s,null,er,1,tr??null,rr,!1,ir,sr),er[uf]=s.current,sf(er),nr)for(er=0;er<nr.length;er++)tr=nr[er],rr=tr._getVersion,rr=rr(tr._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[tr,rr]:s.mutableSourceEagerHydrationData.push(tr,rr);return new ml(s)};reactDom_production_min.render=function(er,s,tr){if(!ol(s))throw Error(p$1(200));return rl(null,er,s,!1,tr)};reactDom_production_min.unmountComponentAtNode=function(er){if(!ol(er))throw Error(p$1(40));return er._reactRootContainer?(Rk(function(){rl(null,null,er,!1,function(){er._reactRootContainer=null,er[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(er,s,tr,nr){if(!ol(tr))throw Error(p$1(200));if(er==null||er._reactInternals===void 0)throw Error(p$1(38));return rl(er,s,tr,!1,nr)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(er){console.error(er)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports,createRoot,m$1=reactDomExports;createRoot=m$1.createRoot,m$1.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s];for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&(er[nr]=tr[nr])}return er},_extends$2.apply(this,arguments)}var Action;(function(er){er.Pop="POP",er.Push="PUSH",er.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(er){er===void 0&&(er={});function s(nr,rr){let{pathname:ir,search:sr,hash:or}=nr.location;return createLocation("",{pathname:ir,search:sr,hash:or},rr.state&&rr.state.usr||null,rr.state&&rr.state.key||"default")}function tr(nr,rr){return typeof rr=="string"?rr:createPath(rr)}return getUrlBasedHistory(s,tr,null,er)}function invariant(er,s){if(er===!1||er===null||typeof er>"u")throw new Error(s)}function warning(er,s){if(!er){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(er,s){return{usr:er.state,key:er.key,idx:s}}function createLocation(er,s,tr,nr){return tr===void 0&&(tr=null),_extends$2({pathname:typeof er=="string"?er:er.pathname,search:"",hash:""},typeof s=="string"?parsePath(s):s,{state:tr,key:s&&s.key||nr||createKey()})}function createPath(er){let{pathname:s="/",search:tr="",hash:nr=""}=er;return tr&&tr!=="?"&&(s+=tr.charAt(0)==="?"?tr:"?"+tr),nr&&nr!=="#"&&(s+=nr.charAt(0)==="#"?nr:"#"+nr),s}function parsePath(er){let s={};if(er){let tr=er.indexOf("#");tr>=0&&(s.hash=er.substr(tr),er=er.substr(0,tr));let nr=er.indexOf("?");nr>=0&&(s.search=er.substr(nr),er=er.substr(0,nr)),er&&(s.pathname=er)}return s}function getUrlBasedHistory(er,s,tr,nr){nr===void 0&&(nr={});let{window:rr=document.defaultView,v5Compat:ir=!1}=nr,sr=rr.history,or=Action.Pop,ar=null,lr=cr();lr==null&&(lr=0,sr.replaceState(_extends$2({},sr.state,{idx:lr}),""));function cr(){return(sr.state||{idx:null}).idx}function ur(){or=Action.Pop;let xr=cr(),br=xr==null?null:xr-lr;lr=xr,ar&&ar({action:or,location:mr.location,delta:br})}function hr(xr,br){or=Action.Push;let yr=createLocation(mr.location,xr,br);lr=cr()+1;let gr=getHistoryState(yr,lr),Er=mr.createHref(yr);try{sr.pushState(gr,"",Er)}catch(kr){if(kr instanceof DOMException&&kr.name==="DataCloneError")throw kr;rr.location.assign(Er)}ir&&ar&&ar({action:or,location:mr.location,delta:1})}function dr(xr,br){or=Action.Replace;let yr=createLocation(mr.location,xr,br);lr=cr();let gr=getHistoryState(yr,lr),Er=mr.createHref(yr);sr.replaceState(gr,"",Er),ir&&ar&&ar({action:or,location:mr.location,delta:0})}function pr(xr){let br=rr.location.origin!=="null"?rr.location.origin:rr.location.href,yr=typeof xr=="string"?xr:createPath(xr);return yr=yr.replace(/ $/,"%20"),invariant(br,"No window.location.(origin|href) available to create URL for href: "+yr),new URL(yr,br)}let mr={get action(){return or},get location(){return er(rr,sr)},listen(xr){if(ar)throw new Error("A history only accepts one active listener");return rr.addEventListener(PopStateEventType,ur),ar=xr,()=>{rr.removeEventListener(PopStateEventType,ur),ar=null}},createHref(xr){return s(rr,xr)},createURL:pr,encodeLocation(xr){let br=pr(xr);return{pathname:br.pathname,search:br.search,hash:br.hash}},push:hr,replace:dr,go(xr){return sr.go(xr)}};return mr}var ResultType;(function(er){er.data="data",er.deferred="deferred",er.redirect="redirect",er.error="error"})(ResultType||(ResultType={}));function matchRoutes(er,s,tr){return tr===void 0&&(tr="/"),matchRoutesImpl(er,s,tr)}function matchRoutesImpl(er,s,tr,nr){let rr=typeof s=="string"?parsePath(s):s,ir=stripBasename(rr.pathname||"/",tr);if(ir==null)return null;let sr=flattenRoutes(er);rankRouteBranches(sr);let or=null;for(let ar=0;or==null&&ar<sr.length;++ar){let lr=decodePath(ir);or=matchRouteBranch(sr[ar],lr)}return or}function flattenRoutes(er,s,tr,nr){s===void 0&&(s=[]),tr===void 0&&(tr=[]),nr===void 0&&(nr="");let rr=(ir,sr,or)=>{let ar={relativePath:or===void 0?ir.path||"":or,caseSensitive:ir.caseSensitive===!0,childrenIndex:sr,route:ir};ar.relativePath.startsWith("/")&&(invariant(ar.relativePath.startsWith(nr),'Absolute route path "'+ar.relativePath+'" nested under path '+('"'+nr+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),ar.relativePath=ar.relativePath.slice(nr.length));let lr=joinPaths([nr,ar.relativePath]),cr=tr.concat(ar);ir.children&&ir.children.length>0&&(invariant(ir.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+lr+'".')),flattenRoutes(ir.children,s,cr,lr)),!(ir.path==null&&!ir.index)&&s.push({path:lr,score:computeScore(lr,ir.index),routesMeta:cr})};return er.forEach((ir,sr)=>{var or;if(ir.path===""||!((or=ir.path)!=null&&or.includes("?")))rr(ir,sr);else for(let ar of explodeOptionalSegments(ir.path))rr(ir,sr,ar)}),s}function explodeOptionalSegments(er){let s=er.split("/");if(s.length===0)return[];let[tr,...nr]=s,rr=tr.endsWith("?"),ir=tr.replace(/\?$/,"");if(nr.length===0)return rr?[ir,""]:[ir];let sr=explodeOptionalSegments(nr.join("/")),or=[];return or.push(...sr.map(ar=>ar===""?ir:[ir,ar].join("/"))),rr&&or.push(...sr),or.map(ar=>er.startsWith("/")&&ar===""?"/":ar)}function rankRouteBranches(er){er.sort((s,tr)=>s.score!==tr.score?tr.score-s.score:compareIndexes(s.routesMeta.map(nr=>nr.childrenIndex),tr.routesMeta.map(nr=>nr.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=er=>er==="*";function computeScore(er,s){let tr=er.split("/"),nr=tr.length;return tr.some(isSplat)&&(nr+=splatPenalty),s&&(nr+=indexRouteValue),tr.filter(rr=>!isSplat(rr)).reduce((rr,ir)=>rr+(paramRe.test(ir)?dynamicSegmentValue:ir===""?emptySegmentValue:staticSegmentValue),nr)}function compareIndexes(er,s){return er.length===s.length&&er.slice(0,-1).every((nr,rr)=>nr===s[rr])?er[er.length-1]-s[s.length-1]:0}function matchRouteBranch(er,s,tr){let{routesMeta:nr}=er,rr={},ir="/",sr=[];for(let or=0;or<nr.length;++or){let ar=nr[or],lr=or===nr.length-1,cr=ir==="/"?s:s.slice(ir.length)||"/",ur=matchPath({path:ar.relativePath,caseSensitive:ar.caseSensitive,end:lr},cr),hr=ar.route;if(!ur)return null;Object.assign(rr,ur.params),sr.push({params:rr,pathname:joinPaths([ir,ur.pathname]),pathnameBase:normalizePathname(joinPaths([ir,ur.pathnameBase])),route:hr}),ur.pathnameBase!=="/"&&(ir=joinPaths([ir,ur.pathnameBase]))}return sr}function matchPath(er,s){typeof er=="string"&&(er={path:er,caseSensitive:!1,end:!0});let[tr,nr]=compilePath(er.path,er.caseSensitive,er.end),rr=s.match(tr);if(!rr)return null;let ir=rr[0],sr=ir.replace(/(.)\/+$/,"$1"),or=rr.slice(1);return{params:nr.reduce((lr,cr,ur)=>{let{paramName:hr,isOptional:dr}=cr;if(hr==="*"){let mr=or[ur]||"";sr=ir.slice(0,ir.length-mr.length).replace(/(.)\/+$/,"$1")}const pr=or[ur];return dr&&!pr?lr[hr]=void 0:lr[hr]=(pr||"").replace(/%2F/g,"/"),lr},{}),pathname:ir,pathnameBase:sr,pattern:er}}function compilePath(er,s,tr){s===void 0&&(s=!1),tr===void 0&&(tr=!0),warning(er==="*"||!er.endsWith("*")||er.endsWith("/*"),'Route path "'+er+'" will be treated as if it were '+('"'+er.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+er.replace(/\*$/,"/*")+'".'));let nr=[],rr="^"+er.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(sr,or,ar)=>(nr.push({paramName:or,isOptional:ar!=null}),ar?"/?([^\\/]+)?":"/([^\\/]+)"));return er.endsWith("*")?(nr.push({paramName:"*"}),rr+=er==="*"||er==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):tr?rr+="\\/*$":er!==""&&er!=="/"&&(rr+="(?:(?=\\/|$))"),[new RegExp(rr,s?void 0:"i"),nr]}function decodePath(er){try{return er.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return warning(!1,'The URL path "'+er+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),er}}function stripBasename(er,s){if(s==="/")return er;if(!er.toLowerCase().startsWith(s.toLowerCase()))return null;let tr=s.endsWith("/")?s.length-1:s.length,nr=er.charAt(tr);return nr&&nr!=="/"?null:er.slice(tr)||"/"}function resolvePath(er,s){s===void 0&&(s="/");let{pathname:tr,search:nr="",hash:rr=""}=typeof er=="string"?parsePath(er):er;return{pathname:tr?tr.startsWith("/")?tr:resolvePathname(tr,s):s,search:normalizeSearch(nr),hash:normalizeHash(rr)}}function resolvePathname(er,s){let tr=s.replace(/\/+$/,"").split("/");return er.split("/").forEach(rr=>{rr===".."?tr.length>1&&tr.pop():rr!=="."&&tr.push(rr)}),tr.length>1?tr.join("/"):"/"}function getInvalidPathError(er,s,tr,nr){return"Cannot include a '"+er+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(nr)+"].  Please separate it out to the ")+("`to."+tr+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(er){return er.filter((s,tr)=>tr===0||s.route.path&&s.route.path.length>0)}function getResolveToMatches(er,s){let tr=getPathContributingMatches(er);return s?tr.map((nr,rr)=>rr===tr.length-1?nr.pathname:nr.pathnameBase):tr.map(nr=>nr.pathnameBase)}function resolveTo(er,s,tr,nr){nr===void 0&&(nr=!1);let rr;typeof er=="string"?rr=parsePath(er):(rr=_extends$2({},er),invariant(!rr.pathname||!rr.pathname.includes("?"),getInvalidPathError("?","pathname","search",rr)),invariant(!rr.pathname||!rr.pathname.includes("#"),getInvalidPathError("#","pathname","hash",rr)),invariant(!rr.search||!rr.search.includes("#"),getInvalidPathError("#","search","hash",rr)));let ir=er===""||rr.pathname==="",sr=ir?"/":rr.pathname,or;if(sr==null)or=tr;else{let ur=s.length-1;if(!nr&&sr.startsWith("..")){let hr=sr.split("/");for(;hr[0]==="..";)hr.shift(),ur-=1;rr.pathname=hr.join("/")}or=ur>=0?s[ur]:"/"}let ar=resolvePath(rr,or),lr=sr&&sr!=="/"&&sr.endsWith("/"),cr=(ir||sr===".")&&tr.endsWith("/");return!ar.pathname.endsWith("/")&&(lr||cr)&&(ar.pathname+="/"),ar}const joinPaths=er=>er.join("/").replace(/\/\/+/g,"/"),normalizePathname=er=>er.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=er=>!er||er==="?"?"":er.startsWith("?")?er:"?"+er,normalizeHash=er=>!er||er==="#"?"":er.startsWith("#")?er:"#"+er;function isRouteErrorResponse(er){return er!=null&&typeof er.status=="number"&&typeof er.statusText=="string"&&typeof er.internal=="boolean"&&"data"in er}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s];for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&(er[nr]=tr[nr])}return er},_extends$1.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$1(er){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(er)}function useNavigate(){let{isDataRoute:er}=reactExports.useContext(RouteContext);return er?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let er=reactExports.useContext(DataRouterContext),{basename:s,future:tr,navigator:nr}=reactExports.useContext(NavigationContext),{matches:rr}=reactExports.useContext(RouteContext),{pathname:ir}=useLocation(),sr=JSON.stringify(getResolveToMatches(rr,tr.v7_relativeSplatPath)),or=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{or.current=!0}),reactExports.useCallback(function(lr,cr){if(cr===void 0&&(cr={}),!or.current)return;if(typeof lr=="number"){nr.go(lr);return}let ur=resolveTo(lr,JSON.parse(sr),ir,cr.relative==="path");er==null&&s!=="/"&&(ur.pathname=ur.pathname==="/"?s:joinPaths([s,ur.pathname])),(cr.replace?nr.replace:nr.push)(ur,cr.state,cr)},[s,nr,sr,ir,er])}function useParams(){let{matches:er}=reactExports.useContext(RouteContext),s=er[er.length-1];return s?s.params:{}}function useRoutes(er,s){return useRoutesImpl(er,s)}function useRoutesImpl(er,s,tr,nr){useInRouterContext()||invariant(!1);let{navigator:rr}=reactExports.useContext(NavigationContext),{matches:ir}=reactExports.useContext(RouteContext),sr=ir[ir.length-1],or=sr?sr.params:{};sr&&sr.pathname;let ar=sr?sr.pathnameBase:"/";sr&&sr.route;let lr=useLocation(),cr;if(s){var ur;let xr=typeof s=="string"?parsePath(s):s;ar==="/"||(ur=xr.pathname)!=null&&ur.startsWith(ar)||invariant(!1),cr=xr}else cr=lr;let hr=cr.pathname||"/",dr=hr;if(ar!=="/"){let xr=ar.replace(/^\//,"").split("/");dr="/"+hr.replace(/^\//,"").split("/").slice(xr.length).join("/")}let pr=matchRoutes(er,{pathname:dr}),mr=_renderMatches(pr&&pr.map(xr=>Object.assign({},xr,{params:Object.assign({},or,xr.params),pathname:joinPaths([ar,rr.encodeLocation?rr.encodeLocation(xr.pathname).pathname:xr.pathname]),pathnameBase:xr.pathnameBase==="/"?ar:joinPaths([ar,rr.encodeLocation?rr.encodeLocation(xr.pathnameBase).pathname:xr.pathnameBase])})),ir,tr,nr);return s&&mr?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},cr),navigationType:Action.Pop}},mr):mr}function DefaultErrorComponent(){let er=useRouteError(),s=isRouteErrorResponse(er)?er.status+" "+er.statusText:er instanceof Error?er.message:JSON.stringify(er),tr=er instanceof Error?er.stack:null,rr={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},s),tr?reactExports.createElement("pre",{style:rr},tr):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,tr){return tr.location!==s.location||tr.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:tr.error,location:tr.location,revalidation:s.revalidation||tr.revalidation}}componentDidCatch(s,tr){console.error("React Router caught the following error during render",s,tr)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(er){let{routeContext:s,match:tr,children:nr}=er,rr=reactExports.useContext(DataRouterContext);return rr&&rr.static&&rr.staticContext&&(tr.route.errorElement||tr.route.ErrorBoundary)&&(rr.staticContext._deepestRenderedBoundaryId=tr.route.id),reactExports.createElement(RouteContext.Provider,{value:s},nr)}function _renderMatches(er,s,tr,nr){var rr;if(s===void 0&&(s=[]),tr===void 0&&(tr=null),nr===void 0&&(nr=null),er==null){var ir;if(!tr)return null;if(tr.errors)er=tr.matches;else if((ir=nr)!=null&&ir.v7_partialHydration&&s.length===0&&!tr.initialized&&tr.matches.length>0)er=tr.matches;else return null}let sr=er,or=(rr=tr)==null?void 0:rr.errors;if(or!=null){let cr=sr.findIndex(ur=>ur.route.id&&(or==null?void 0:or[ur.route.id])!==void 0);cr>=0||invariant(!1),sr=sr.slice(0,Math.min(sr.length,cr+1))}let ar=!1,lr=-1;if(tr&&nr&&nr.v7_partialHydration)for(let cr=0;cr<sr.length;cr++){let ur=sr[cr];if((ur.route.HydrateFallback||ur.route.hydrateFallbackElement)&&(lr=cr),ur.route.id){let{loaderData:hr,errors:dr}=tr,pr=ur.route.loader&&hr[ur.route.id]===void 0&&(!dr||dr[ur.route.id]===void 0);if(ur.route.lazy||pr){ar=!0,lr>=0?sr=sr.slice(0,lr+1):sr=[sr[0]];break}}}return sr.reduceRight((cr,ur,hr)=>{let dr,pr=!1,mr=null,xr=null;tr&&(dr=or&&ur.route.id?or[ur.route.id]:void 0,mr=ur.route.errorElement||defaultErrorElement,ar&&(lr<0&&hr===0?(pr=!0,xr=null):lr===hr&&(pr=!0,xr=ur.route.hydrateFallbackElement||null)));let br=s.concat(sr.slice(0,hr+1)),yr=()=>{let gr;return dr?gr=mr:pr?gr=xr:ur.route.Component?gr=reactExports.createElement(ur.route.Component,null):ur.route.element?gr=ur.route.element:gr=cr,reactExports.createElement(RenderedRoute,{match:ur,routeContext:{outlet:cr,matches:br,isDataRoute:tr!=null},children:gr})};return tr&&(ur.route.ErrorBoundary||ur.route.errorElement||hr===0)?reactExports.createElement(RenderErrorBoundary,{location:tr.location,revalidation:tr.revalidation,component:mr,error:dr,children:yr(),routeContext:{outlet:null,matches:br,isDataRoute:!0}}):yr()},null)}var DataRouterHook$1=function(er){return er.UseBlocker="useBlocker",er.UseRevalidator="useRevalidator",er.UseNavigateStable="useNavigate",er}(DataRouterHook$1||{}),DataRouterStateHook$1=function(er){return er.UseBlocker="useBlocker",er.UseLoaderData="useLoaderData",er.UseActionData="useActionData",er.UseRouteError="useRouteError",er.UseNavigation="useNavigation",er.UseRouteLoaderData="useRouteLoaderData",er.UseMatches="useMatches",er.UseRevalidator="useRevalidator",er.UseNavigateStable="useNavigate",er.UseRouteId="useRouteId",er}(DataRouterStateHook$1||{});function useDataRouterContext(er){let s=reactExports.useContext(DataRouterContext);return s||invariant(!1),s}function useDataRouterState(er){let s=reactExports.useContext(DataRouterStateContext);return s||invariant(!1),s}function useRouteContext(er){let s=reactExports.useContext(RouteContext);return s||invariant(!1),s}function useCurrentRouteId(er){let s=useRouteContext(),tr=s.matches[s.matches.length-1];return tr.route.id||invariant(!1),tr.route.id}function useRouteError(){var er;let s=reactExports.useContext(RouteErrorContext),tr=useDataRouterState(DataRouterStateHook$1.UseRouteError),nr=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return s!==void 0?s:(er=tr.errors)==null?void 0:er[nr]}function useNavigateStable(){let{router:er}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),s=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),tr=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{tr.current=!0}),reactExports.useCallback(function(rr,ir){ir===void 0&&(ir={}),tr.current&&(typeof rr=="number"?er.navigate(rr):er.navigate(rr,_extends$1({fromRouteId:s},ir)))},[er,s])}const alreadyWarned={};function warnOnce(er,s){alreadyWarned[s]||(alreadyWarned[s]=!0,console.warn(s))}const logDeprecation=(er,s,tr)=>warnOnce(er,"⚠️ React Router Future Flag Warning: "+s+". "+("You can use the `"+er+"` future flag to opt-in early. ")+("For more information, see "+tr+"."));function logV6DeprecationWarnings(er,s){(er==null?void 0:er.v7_startTransition)===void 0&&logDeprecation("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(er==null?void 0:er.v7_relativeSplatPath)===void 0&&!s&&logDeprecation("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Route(er){invariant(!1)}function Router(er){let{basename:s="/",children:tr=null,location:nr,navigationType:rr=Action.Pop,navigator:ir,static:sr=!1,future:or}=er;useInRouterContext()&&invariant(!1);let ar=s.replace(/^\/*/,"/"),lr=reactExports.useMemo(()=>({basename:ar,navigator:ir,static:sr,future:_extends$1({v7_relativeSplatPath:!1},or)}),[ar,or,ir,sr]);typeof nr=="string"&&(nr=parsePath(nr));let{pathname:cr="/",search:ur="",hash:hr="",state:dr=null,key:pr="default"}=nr,mr=reactExports.useMemo(()=>{let xr=stripBasename(cr,ar);return xr==null?null:{location:{pathname:xr,search:ur,hash:hr,state:dr,key:pr},navigationType:rr}},[ar,cr,ur,hr,dr,pr,rr]);return mr==null?null:reactExports.createElement(NavigationContext.Provider,{value:lr},reactExports.createElement(LocationContext.Provider,{children:tr,value:mr}))}function Routes(er){let{children:s,location:tr}=er;return useRoutes(createRoutesFromChildren(s),tr)}new Promise(()=>{});function createRoutesFromChildren(er,s){s===void 0&&(s=[]);let tr=[];return reactExports.Children.forEach(er,(nr,rr)=>{if(!reactExports.isValidElement(nr))return;let ir=[...s,rr];if(nr.type===reactExports.Fragment){tr.push.apply(tr,createRoutesFromChildren(nr.props.children,ir));return}nr.type!==Route&&invariant(!1),!nr.props.index||!nr.props.children||invariant(!1);let sr={id:nr.props.id||ir.join("-"),caseSensitive:nr.props.caseSensitive,element:nr.props.element,Component:nr.props.Component,index:nr.props.index,path:nr.props.path,loader:nr.props.loader,action:nr.props.action,errorElement:nr.props.errorElement,ErrorBoundary:nr.props.ErrorBoundary,hasErrorBoundary:nr.props.ErrorBoundary!=null||nr.props.errorElement!=null,shouldRevalidate:nr.props.shouldRevalidate,handle:nr.props.handle,lazy:nr.props.lazy};nr.props.children&&(sr.children=createRoutesFromChildren(nr.props.children,ir)),tr.push(sr)}),tr}/**
 * React Router DOM v6.28.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function createSearchParams(er){return er===void 0&&(er=""),new URLSearchParams(typeof er=="string"||Array.isArray(er)||er instanceof URLSearchParams?er:Object.keys(er).reduce((s,tr)=>{let nr=er[tr];return s.concat(Array.isArray(nr)?nr.map(rr=>[tr,rr]):[[tr,nr]])},[]))}function getSearchParamsForLocation(er,s){let tr=createSearchParams(er);return s&&s.forEach((nr,rr)=>{tr.has(rr)||s.getAll(rr).forEach(ir=>{tr.append(rr,ir)})}),tr}const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$2[START_TRANSITION];function BrowserRouter(er){let{basename:s,children:tr,future:nr,window:rr}=er,ir=reactExports.useRef();ir.current==null&&(ir.current=createBrowserHistory({window:rr,v5Compat:!0}));let sr=ir.current,[or,ar]=reactExports.useState({action:sr.action,location:sr.location}),{v7_startTransition:lr}=nr||{},cr=reactExports.useCallback(ur=>{lr&&startTransitionImpl?startTransitionImpl(()=>ar(ur)):ar(ur)},[ar,lr]);return reactExports.useLayoutEffect(()=>sr.listen(cr),[sr,cr]),reactExports.useEffect(()=>logV6DeprecationWarnings(nr),[nr]),reactExports.createElement(Router,{basename:s,children:tr,location:or.location,navigationType:or.action,navigator:sr,future:nr})}var DataRouterHook;(function(er){er.UseScrollRestoration="useScrollRestoration",er.UseSubmit="useSubmit",er.UseSubmitFetcher="useSubmitFetcher",er.UseFetcher="useFetcher",er.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(er){er.UseFetcher="useFetcher",er.UseFetchers="useFetchers",er.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useSearchParams(er){let s=reactExports.useRef(createSearchParams(er)),tr=reactExports.useRef(!1),nr=useLocation(),rr=reactExports.useMemo(()=>getSearchParamsForLocation(nr.search,tr.current?null:s.current),[nr.search]),ir=useNavigate(),sr=reactExports.useCallback((or,ar)=>{const lr=createSearchParams(typeof or=="function"?or(rr):or);tr.current=!0,ir("?"+lr,ar)},[ir,rr]);return[rr,sr]}var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var React=reactExports;function is$3(er,s){return er===s&&(er!==0||1/er===1/s)||er!==er&&s!==s}var objectIs$1=typeof Object.is=="function"?Object.is:is$3,useSyncExternalStore=React.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(er,s,tr,nr,rr){var ir=useRef(null);if(ir.current===null){var sr={hasValue:!1,value:null};ir.current=sr}else sr=ir.current;ir=useMemo(function(){function ar(dr){if(!lr){if(lr=!0,cr=dr,dr=nr(dr),rr!==void 0&&sr.hasValue){var pr=sr.value;if(rr(pr,dr))return ur=pr}return ur=dr}if(pr=ur,objectIs$1(cr,dr))return pr;var mr=nr(dr);return rr!==void 0&&rr(pr,mr)?(cr=dr,pr):(cr=dr,ur=mr)}var lr=!1,cr,ur,hr=tr===void 0?null:tr;return[function(){return ar(s())},hr===null?void 0:function(){return ar(hr())}]},[s,tr,nr,rr]);var or=useSyncExternalStore(er,ir[0],ir[1]);return useEffect(function(){sr.hasValue=!0,sr.value=or},[or]),useDebugValue(or),or};withSelector.exports=useSyncExternalStoreWithSelector_production;var withSelectorExports=withSelector.exports;function defaultNoopBatch(er){er()}function createListenerCollection(){let er=null,s=null;return{clear(){er=null,s=null},notify(){defaultNoopBatch(()=>{let tr=er;for(;tr;)tr.callback(),tr=tr.next})},get(){const tr=[];let nr=er;for(;nr;)tr.push(nr),nr=nr.next;return tr},subscribe(tr){let nr=!0;const rr=s={callback:tr,next:null,prev:s};return rr.prev?rr.prev.next=rr:er=rr,function(){!nr||er===null||(nr=!1,rr.next?rr.next.prev=rr.prev:s=rr.prev,rr.prev?rr.prev.next=rr.next:er=rr.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(er,s){let tr,nr=nullListeners,rr=0,ir=!1;function sr(mr){cr();const xr=nr.subscribe(mr);let br=!1;return()=>{br||(br=!0,xr(),ur())}}function or(){nr.notify()}function ar(){pr.onStateChange&&pr.onStateChange()}function lr(){return ir}function cr(){rr++,tr||(tr=er.subscribe(ar),nr=createListenerCollection())}function ur(){rr--,tr&&rr===0&&(tr(),tr=void 0,nr.clear(),nr=nullListeners)}function hr(){ir||(ir=!0,cr())}function dr(){ir&&(ir=!1,ur())}const pr={addNestedSub:sr,notifyNestedSubs:or,handleChangeWrapper:ar,isSubscribed:lr,trySubscribe:hr,tryUnsubscribe:dr,getListeners:()=>nr};return pr}var canUseDOM=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const er=gT[ContextKey]??(gT[ContextKey]=new Map);let s=er.get(reactExports.createContext);return s||(s=reactExports.createContext(null),er.set(reactExports.createContext,s)),s}var ReactReduxContext=getContext();function Provider(er){const{children:s,context:tr,serverState:nr,store:rr}=er,ir=reactExports.useMemo(()=>{const ar=createSubscription(rr);return{store:rr,subscription:ar,getServerState:nr?()=>nr:void 0}},[rr,nr]),sr=reactExports.useMemo(()=>rr.getState(),[rr]);useIsomorphicLayoutEffect(()=>{const{subscription:ar}=ir;return ar.onStateChange=ar.notifyNestedSubs,ar.trySubscribe(),sr!==rr.getState()&&ar.notifyNestedSubs(),()=>{ar.tryUnsubscribe(),ar.onStateChange=void 0}},[ir,sr]);const or=tr||ReactReduxContext;return reactExports.createElement(or.Provider,{value:ir},s)}var Provider_default=Provider;function createReduxContextHook(er=ReactReduxContext){return function(){return reactExports.useContext(er)}}var useReduxContext=createReduxContextHook();function createStoreHook(er=ReactReduxContext){const s=er===ReactReduxContext?useReduxContext:createReduxContextHook(er),tr=()=>{const{store:nr}=s();return nr};return Object.assign(tr,{withTypes:()=>tr}),tr}var useStore=createStoreHook();function createDispatchHook(er=ReactReduxContext){const s=er===ReactReduxContext?useStore:createStoreHook(er),tr=()=>s().dispatch;return Object.assign(tr,{withTypes:()=>tr}),tr}var useDispatch=createDispatchHook(),refEquality=(er,s)=>er===s;function createSelectorHook(er=ReactReduxContext){const s=er===ReactReduxContext?useReduxContext:createReduxContextHook(er),tr=(nr,rr={})=>{const{equalityFn:ir=refEquality}=typeof rr=="function"?{equalityFn:rr}:rr,sr=s(),{store:or,subscription:ar,getServerState:lr}=sr;reactExports.useRef(!0);const cr=reactExports.useCallback({[nr.name](hr){return nr(hr)}}[nr.name],[nr]),ur=withSelectorExports.useSyncExternalStoreWithSelector(ar.addNestedSub,or.getState,lr||or.getState,cr,ir);return reactExports.useDebugValue(ur),ur};return Object.assign(tr,{withTypes:()=>tr}),tr}var useSelector=createSelectorHook();function r$1(er){var s,tr,nr="";if(typeof er=="string"||typeof er=="number")nr+=er;else if(typeof er=="object")if(Array.isArray(er)){var rr=er.length;for(s=0;s<rr;s++)er[s]&&(tr=r$1(er[s]))&&(nr&&(nr+=" "),nr+=tr)}else for(tr in er)er[tr]&&(nr&&(nr+=" "),nr+=tr);return nr}function clsx(){for(var er,s,tr=0,nr="",rr=arguments.length;tr<rr;tr++)(er=arguments[tr])&&(s=r$1(er))&&(nr&&(nr+=" "),nr+=s);return nr}function Mt$1(er){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],tr=document.createElement("style");tr.type="text/css",s.firstChild?s.insertBefore(tr,s.firstChild):s.appendChild(tr),tr.styleSheet?tr.styleSheet.cssText=er:tr.appendChild(document.createTextNode(er))}Mt$1(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L$1=er=>typeof er=="number"&&!isNaN(er),N$1=er=>typeof er=="string",P$1=er=>typeof er=="function",mt$1=er=>N$1(er)||L$1(er),B$1=er=>N$1(er)||P$1(er)?er:null,pt$1=(er,s)=>er===!1||L$1(er)&&er>0?er:s,z$1=er=>reactExports.isValidElement(er)||N$1(er)||P$1(er)||L$1(er);function Z$1(er,s,tr=300){let{scrollHeight:nr,style:rr}=er;requestAnimationFrame(()=>{rr.minHeight="initial",rr.height=nr+"px",rr.transition=`all ${tr}ms`,requestAnimationFrame(()=>{rr.height="0",rr.padding="0",rr.margin="0",setTimeout(s,tr)})})}function $$1({enter:er,exit:s,appendPosition:tr=!1,collapse:nr=!0,collapseDuration:rr=300}){return function({children:ir,position:sr,preventExitTransition:or,done:ar,nodeRef:lr,isIn:cr,playToast:ur}){let hr=tr?`${er}--${sr}`:er,dr=tr?`${s}--${sr}`:s,pr=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let mr=lr.current,xr=hr.split(" "),br=yr=>{yr.target===lr.current&&(ur(),mr.removeEventListener("animationend",br),mr.removeEventListener("animationcancel",br),pr.current===0&&yr.type!=="animationcancel"&&mr.classList.remove(...xr))};mr.classList.add(...xr),mr.addEventListener("animationend",br),mr.addEventListener("animationcancel",br)},[]),reactExports.useEffect(()=>{let mr=lr.current,xr=()=>{mr.removeEventListener("animationend",xr),nr?Z$1(mr,ar,rr):ar()};cr||(or?xr():(pr.current=1,mr.className+=` ${dr}`,mr.addEventListener("animationend",xr)))},[cr]),React$1.createElement(React$1.Fragment,null,ir)}}function J$1(er,s){return{content:tt$1(er.content,er.props),containerId:er.props.containerId,id:er.props.toastId,theme:er.props.theme,type:er.props.type,data:er.props.data||{},isLoading:er.props.isLoading,icon:er.props.icon,reason:er.removalReason,status:s}}function tt$1(er,s,tr=!1){return reactExports.isValidElement(er)&&!N$1(er.type)?reactExports.cloneElement(er,{closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:tr}):P$1(er)?er({closeToast:s.closeToast,toastProps:s,data:s.data,isPaused:tr}):er}function yt$1({closeToast:er,theme:s,ariaLabel:tr="close"}){return React$1.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:nr=>{nr.stopPropagation(),er(!0)},"aria-label":tr},React$1.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React$1.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt$1({delay:er,isRunning:s,closeToast:tr,type:nr="default",hide:rr,className:ir,controlledProgress:sr,progress:or,rtl:ar,isIn:lr,theme:cr}){let ur=rr||sr&&or===0,hr={animationDuration:`${er}ms`,animationPlayState:s?"running":"paused"};sr&&(hr.transform=`scaleX(${or})`);let dr=clsx("Toastify__progress-bar",sr?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${cr}`,`Toastify__progress-bar--${nr}`,{"Toastify__progress-bar--rtl":ar}),pr=P$1(ir)?ir({rtl:ar,type:nr,defaultClassName:dr}):clsx(dr,ir),mr={[sr&&or>=1?"onTransitionEnd":"onAnimationEnd"]:sr&&or<1?null:()=>{lr&&tr()}};return React$1.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":ur},React$1.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${cr} Toastify__progress-bar--${nr}`}),React$1.createElement("div",{role:"progressbar","aria-hidden":ur?"true":"false","aria-label":"notification timer",className:pr,style:hr,...mr}))}var Xt$1=1,at$1=()=>`${Xt$1++}`;function _t$1(er,s,tr){let nr=1,rr=0,ir=[],sr=[],or=s,ar=new Map,lr=new Set,cr=yr=>(lr.add(yr),()=>lr.delete(yr)),ur=()=>{sr=Array.from(ar.values()),lr.forEach(yr=>yr())},hr=({containerId:yr,toastId:gr,updateId:Er})=>{let kr=yr?yr!==er:er!==1,Mr=ar.has(gr)&&Er==null;return kr||Mr},dr=(yr,gr)=>{ar.forEach(Er=>{var kr;(gr==null||gr===Er.props.toastId)&&((kr=Er.toggle)==null||kr.call(Er,yr))})},pr=yr=>{var gr,Er;(Er=(gr=yr.props)==null?void 0:gr.onClose)==null||Er.call(gr,yr.removalReason),yr.isActive=!1},mr=yr=>{if(yr==null)ar.forEach(pr);else{let gr=ar.get(yr);gr&&pr(gr)}ur()},xr=()=>{rr-=ir.length,ir=[]},br=yr=>{var gr,Er;let{toastId:kr,updateId:Mr}=yr.props,Cr=Mr==null;yr.staleId&&ar.delete(yr.staleId),yr.isActive=!0,ar.set(kr,yr),ur(),tr(J$1(yr,Cr?"added":"updated")),Cr&&((Er=(gr=yr.props).onOpen)==null||Er.call(gr))};return{id:er,props:or,observe:cr,toggle:dr,removeToast:mr,toasts:ar,clearQueue:xr,buildToast:(yr,gr)=>{if(hr(gr))return;let{toastId:Er,updateId:kr,data:Mr,staleId:Cr,delay:Dr}=gr,zr=kr==null;zr&&rr++;let Wr={...or,style:or.toastStyle,key:nr++,...Object.fromEntries(Object.entries(gr).filter(([Kr,Lr])=>Lr!=null)),toastId:Er,updateId:kr,data:Mr,isIn:!1,className:B$1(gr.className||or.toastClassName),progressClassName:B$1(gr.progressClassName||or.progressClassName),autoClose:gr.isLoading?!1:pt$1(gr.autoClose,or.autoClose),closeToast(Kr){ar.get(Er).removalReason=Kr,mr(Er)},deleteToast(){let Kr=ar.get(Er);if(Kr!=null){if(tr(J$1(Kr,"removed")),ar.delete(Er),rr--,rr<0&&(rr=0),ir.length>0){br(ir.shift());return}ur()}}};Wr.closeButton=or.closeButton,gr.closeButton===!1||z$1(gr.closeButton)?Wr.closeButton=gr.closeButton:gr.closeButton===!0&&(Wr.closeButton=z$1(or.closeButton)?or.closeButton:!0);let Gr={content:yr,props:Wr,staleId:Cr};or.limit&&or.limit>0&&rr>or.limit&&zr?ir.push(Gr):L$1(Dr)?setTimeout(()=>{br(Gr)},Dr):br(Gr)},setProps(yr){or=yr},setToggle:(yr,gr)=>{let Er=ar.get(yr);Er&&(Er.toggle=gr)},isToastActive:yr=>{var gr;return(gr=ar.get(yr))==null?void 0:gr.isActive},getSnapshot:()=>sr}}var I$1=new Map,F$1=[],st$1=new Set,Vt$1=er=>st$1.forEach(s=>s(er)),bt$1=()=>I$1.size>0;function Qt$1(){F$1.forEach(er=>nt$1(er.content,er.options)),F$1=[]}var vt$1=(er,{containerId:s})=>{var tr;return(tr=I$1.get(s||1))==null?void 0:tr.toasts.get(er)};function X$1(er,s){var tr;if(s)return!!((tr=I$1.get(s))!=null&&tr.isToastActive(er));let nr=!1;return I$1.forEach(rr=>{rr.isToastActive(er)&&(nr=!0)}),nr}function ht$1(er){if(!bt$1()){F$1=F$1.filter(s=>er!=null&&s.options.toastId!==er);return}if(er==null||mt$1(er))I$1.forEach(s=>{s.removeToast(er)});else if(er&&("containerId"in er||"id"in er)){let s=I$1.get(er.containerId);s?s.removeToast(er.id):I$1.forEach(tr=>{tr.removeToast(er.id)})}}var Ct$1=(er={})=>{I$1.forEach(s=>{s.props.limit&&(!er.containerId||s.id===er.containerId)&&s.clearQueue()})};function nt$1(er,s){z$1(er)&&(bt$1()||F$1.push({content:er,options:s}),I$1.forEach(tr=>{tr.buildToast(er,s)}))}function xt$1(er){var s;(s=I$1.get(er.containerId||1))==null||s.setToggle(er.id,er.fn)}function rt$1(er,s){I$1.forEach(tr=>{(s==null||!(s!=null&&s.containerId)||(s==null?void 0:s.containerId)===tr.id)&&tr.toggle(er,s==null?void 0:s.id)})}function Et$1(er){let s=er.containerId||1;return{subscribe(tr){let nr=_t$1(s,er,Vt$1);I$1.set(s,nr);let rr=nr.observe(tr);return Qt$1(),()=>{rr(),I$1.delete(s)}},setProps(tr){var nr;(nr=I$1.get(s))==null||nr.setProps(tr)},getSnapshot(){var tr;return(tr=I$1.get(s))==null?void 0:tr.getSnapshot()}}}function Pt$1(er){return st$1.add(er),()=>{st$1.delete(er)}}function Wt$1(er){return er&&(N$1(er.toastId)||L$1(er.toastId))?er.toastId:at$1()}function U$1(er,s){return nt$1(er,s),s.toastId}function V$1(er,s){return{...s,type:s&&s.type||er,toastId:Wt$1(s)}}function Q$1(er){return(s,tr)=>U$1(s,V$1(er,tr))}function y$1(er,s){return U$1(er,V$1("default",s))}y$1.loading=(er,s)=>U$1(er,V$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s}));function Gt$1(er,{pending:s,error:tr,success:nr},rr){let ir;s&&(ir=N$1(s)?y$1.loading(s,rr):y$1.loading(s.render,{...rr,...s}));let sr={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},or=(lr,cr,ur)=>{if(cr==null){y$1.dismiss(ir);return}let hr={type:lr,...sr,...rr,data:ur},dr=N$1(cr)?{render:cr}:cr;return ir?y$1.update(ir,{...hr,...dr}):y$1(dr.render,{...hr,...dr}),ur},ar=P$1(er)?er():er;return ar.then(lr=>or("success",nr,lr)).catch(lr=>or("error",tr,lr)),ar}y$1.promise=Gt$1;y$1.success=Q$1("success");y$1.info=Q$1("info");y$1.error=Q$1("error");y$1.warning=Q$1("warning");y$1.warn=y$1.warning;y$1.dark=(er,s)=>U$1(er,V$1("default",{theme:"dark",...s}));function qt$1(er){ht$1(er)}y$1.dismiss=qt$1;y$1.clearWaitingQueue=Ct$1;y$1.isActive=X$1;y$1.update=(er,s={})=>{let tr=vt$1(er,s);if(tr){let{props:nr,content:rr}=tr,ir={delay:100,...nr,...s,toastId:s.toastId||er,updateId:at$1()};ir.toastId!==er&&(ir.staleId=er);let sr=ir.render||rr;delete ir.render,U$1(sr,ir)}};y$1.done=er=>{y$1.update(er,{progress:1})};y$1.onChange=Pt$1;y$1.play=er=>rt$1(!0,er);y$1.pause=er=>rt$1(!1,er);function It$1(er){var s;let{subscribe:tr,getSnapshot:nr,setProps:rr}=reactExports.useRef(Et$1(er)).current;rr(er);let ir=(s=reactExports.useSyncExternalStore(tr,nr,nr))==null?void 0:s.slice();function sr(or){if(!ir)return[];let ar=new Map;return er.newestOnTop&&ir.reverse(),ir.forEach(lr=>{let{position:cr}=lr.props;ar.has(cr)||ar.set(cr,[]),ar.get(cr).push(lr)}),Array.from(ar,lr=>or(lr[0],lr[1]))}return{getToastToRender:sr,isToastActive:X$1,count:ir==null?void 0:ir.length}}function At$1(er){let[s,tr]=reactExports.useState(!1),[nr,rr]=reactExports.useState(!1),ir=reactExports.useRef(null),sr=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:or,pauseOnHover:ar,closeToast:lr,onClick:cr,closeOnClick:ur}=er;xt$1({id:er.toastId,containerId:er.containerId,fn:tr}),reactExports.useEffect(()=>{if(er.pauseOnFocusLoss)return hr(),()=>{dr()}},[er.pauseOnFocusLoss]);function hr(){document.hasFocus()||br(),window.addEventListener("focus",xr),window.addEventListener("blur",br)}function dr(){window.removeEventListener("focus",xr),window.removeEventListener("blur",br)}function pr(Cr){if(er.draggable===!0||er.draggable===Cr.pointerType){yr();let Dr=ir.current;sr.canCloseOnClick=!0,sr.canDrag=!0,Dr.style.transition="none",er.draggableDirection==="x"?(sr.start=Cr.clientX,sr.removalDistance=Dr.offsetWidth*(er.draggablePercent/100)):(sr.start=Cr.clientY,sr.removalDistance=Dr.offsetHeight*(er.draggablePercent===80?er.draggablePercent*1.5:er.draggablePercent)/100)}}function mr(Cr){let{top:Dr,bottom:zr,left:Wr,right:Gr}=ir.current.getBoundingClientRect();Cr.nativeEvent.type!=="touchend"&&er.pauseOnHover&&Cr.clientX>=Wr&&Cr.clientX<=Gr&&Cr.clientY>=Dr&&Cr.clientY<=zr?br():xr()}function xr(){tr(!0)}function br(){tr(!1)}function yr(){sr.didMove=!1,document.addEventListener("pointermove",Er),document.addEventListener("pointerup",kr)}function gr(){document.removeEventListener("pointermove",Er),document.removeEventListener("pointerup",kr)}function Er(Cr){let Dr=ir.current;if(sr.canDrag&&Dr){sr.didMove=!0,s&&br(),er.draggableDirection==="x"?sr.delta=Cr.clientX-sr.start:sr.delta=Cr.clientY-sr.start,sr.start!==Cr.clientX&&(sr.canCloseOnClick=!1);let zr=er.draggableDirection==="x"?`${sr.delta}px, var(--y)`:`0, calc(${sr.delta}px + var(--y))`;Dr.style.transform=`translate3d(${zr},0)`,Dr.style.opacity=`${1-Math.abs(sr.delta/sr.removalDistance)}`}}function kr(){gr();let Cr=ir.current;if(sr.canDrag&&sr.didMove&&Cr){if(sr.canDrag=!1,Math.abs(sr.delta)>sr.removalDistance){rr(!0),er.closeToast(!0),er.collapseAll();return}Cr.style.transition="transform 0.2s, opacity 0.2s",Cr.style.removeProperty("transform"),Cr.style.removeProperty("opacity")}}let Mr={onPointerDown:pr,onPointerUp:mr};return or&&ar&&(Mr.onMouseEnter=br,er.stacked||(Mr.onMouseLeave=xr)),ur&&(Mr.onClick=Cr=>{cr&&cr(Cr),sr.canCloseOnClick&&lr(!0)}),{playToast:xr,pauseToast:br,isRunning:s,preventExitTransition:nr,toastRef:ir,eventHandlers:Mr}}var Ot$1=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G$1=({theme:er,type:s,isLoading:tr,...nr})=>React$1.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:er==="colored"?"currentColor":`var(--toastify-icon-color-${s})`,...nr});function ao(er){return React$1.createElement(G$1,{...er},React$1.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(er){return React$1.createElement(G$1,{...er},React$1.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(er){return React$1.createElement(G$1,{...er},React$1.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(er){return React$1.createElement(G$1,{...er},React$1.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React$1.createElement("div",{className:"Toastify__spinner"})}var W$1={info:so,warning:ao,success:no,error:ro,spinner:io},lo=er=>er in W$1;function Nt$1({theme:er,type:s,isLoading:tr,icon:nr}){let rr=null,ir={theme:er,type:s};return nr===!1||(P$1(nr)?rr=nr({...ir,isLoading:tr}):reactExports.isValidElement(nr)?rr=reactExports.cloneElement(nr,ir):tr?rr=W$1.spinner():lo(s)&&(rr=W$1[s](ir))),rr}var wt$1=er=>{let{isRunning:s,preventExitTransition:tr,toastRef:nr,eventHandlers:rr,playToast:ir}=At$1(er),{closeButton:sr,children:or,autoClose:ar,onClick:lr,type:cr,hideProgressBar:ur,closeToast:hr,transition:dr,position:pr,className:mr,style:xr,progressClassName:br,updateId:yr,role:gr,progress:Er,rtl:kr,toastId:Mr,deleteToast:Cr,isIn:Dr,isLoading:zr,closeOnClick:Wr,theme:Gr,ariaLabel:Kr}=er,Lr=clsx("Toastify__toast",`Toastify__toast-theme--${Gr}`,`Toastify__toast--${cr}`,{"Toastify__toast--rtl":kr},{"Toastify__toast--close-on-click":Wr}),fr=P$1(mr)?mr({rtl:kr,position:pr,type:cr,defaultClassName:Lr}):clsx(Lr,mr),vr=Nt$1(er),$r=!!Er||!ar,Tr={closeToast:hr,type:cr,theme:Gr},Ar=null;return sr===!1||(P$1(sr)?Ar=sr(Tr):reactExports.isValidElement(sr)?Ar=reactExports.cloneElement(sr,Tr):Ar=yt$1(Tr)),React$1.createElement(dr,{isIn:Dr,done:Cr,position:pr,preventExitTransition:tr,nodeRef:nr,playToast:ir},React$1.createElement("div",{id:Mr,tabIndex:0,onClick:lr,"data-in":Dr,className:fr,...rr,style:xr,ref:nr,...Dr&&{role:gr,"aria-label":Kr}},vr!=null&&React$1.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!zr})},vr),tt$1(or,er,!s),Ar,!er.customProgressBar&&React$1.createElement(gt$1,{...yr&&!$r?{key:`p-${yr}`}:{},rtl:kr,theme:Gr,delay:ar,isRunning:s,isIn:Dr,closeToast:hr,hide:ur,type:cr,className:br,controlledProgress:$r,progress:Er||0})))},K$1=(er,s=!1)=>({enter:`Toastify--animate Toastify__${er}-enter`,exit:`Toastify--animate Toastify__${er}-exit`,appendPosition:s}),lt$1=$$1(K$1("bounce",!0)),_o={position:"top-right",transition:lt$1,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:er=>er.altKey&&er.code==="KeyT"};function Lt$1(er){let s={..._o,...er},tr=er.stacked,[nr,rr]=reactExports.useState(!0),ir=reactExports.useRef(null),{getToastToRender:sr,isToastActive:or,count:ar}=It$1(s),{className:lr,style:cr,rtl:ur,containerId:hr,hotKeys:dr}=s;function pr(xr){let br=clsx("Toastify__toast-container",`Toastify__toast-container--${xr}`,{"Toastify__toast-container--rtl":ur});return P$1(lr)?lr({position:xr,rtl:ur,defaultClassName:br}):clsx(br,B$1(lr))}function mr(){tr&&(rr(!0),y$1.play())}return Ot$1(()=>{var xr;if(tr){let br=ir.current.querySelectorAll('[data-in="true"]'),yr=12,gr=(xr=s.position)==null?void 0:xr.includes("top"),Er=0,kr=0;Array.from(br).reverse().forEach((Mr,Cr)=>{let Dr=Mr;Dr.classList.add("Toastify__toast--stacked"),Cr>0&&(Dr.dataset.collapsed=`${nr}`),Dr.dataset.pos||(Dr.dataset.pos=gr?"top":"bot");let zr=Er*(nr?.2:1)+(nr?0:yr*Cr);Dr.style.setProperty("--y",`${gr?zr:zr*-1}px`),Dr.style.setProperty("--g",`${yr}`),Dr.style.setProperty("--s",`${1-(nr?kr:0)}`),Er+=Dr.offsetHeight,kr+=.025})}},[nr,ar,tr]),reactExports.useEffect(()=>{function xr(br){var yr;let gr=ir.current;dr(br)&&((yr=gr.querySelector('[tabIndex="0"]'))==null||yr.focus(),rr(!1),y$1.pause()),br.key==="Escape"&&(document.activeElement===gr||gr!=null&&gr.contains(document.activeElement))&&(rr(!0),y$1.play())}return document.addEventListener("keydown",xr),()=>{document.removeEventListener("keydown",xr)}},[dr]),React$1.createElement("section",{ref:ir,className:"Toastify",id:hr,onMouseEnter:()=>{tr&&(rr(!1),y$1.pause())},onMouseLeave:mr,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":s["aria-label"]},sr((xr,br)=>{let yr=br.length?{...cr}:{...cr,pointerEvents:"none"};return React$1.createElement("div",{tabIndex:-1,className:pr(xr),"data-stacked":tr,style:yr,key:`c-${xr}`},br.map(({content:gr,props:Er})=>React$1.createElement(wt$1,{...Er,stacked:tr,collapseAll:mr,isIn:or(Er.toastId,Er.containerId),key:`t-${Er.key}`},gr)))}))}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React$1.createContext&&React$1.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties$1(er,s){if(er==null)return{};var tr=_objectWithoutPropertiesLoose$1(er,s),nr,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)nr=ir[rr],!(s.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(er,nr)&&(tr[nr]=er[nr])}return tr}function _objectWithoutPropertiesLoose$1(er,s){if(er==null)return{};var tr={};for(var nr in er)if(Object.prototype.hasOwnProperty.call(er,nr)){if(s.indexOf(nr)>=0)continue;tr[nr]=er[nr]}return tr}function _extends(){return _extends=Object.assign?Object.assign.bind():function(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s];for(var nr in tr)Object.prototype.hasOwnProperty.call(tr,nr)&&(er[nr]=tr[nr])}return er},_extends.apply(this,arguments)}function ownKeys$3(er,s){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(er);s&&(nr=nr.filter(function(rr){return Object.getOwnPropertyDescriptor(er,rr).enumerable})),tr.push.apply(tr,nr)}return tr}function _objectSpread$3(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$3(Object(tr),!0).forEach(function(nr){_defineProperty$4(er,nr,tr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$3(Object(tr)).forEach(function(nr){Object.defineProperty(er,nr,Object.getOwnPropertyDescriptor(tr,nr))})}return er}function _defineProperty$4(er,s,tr){return s=_toPropertyKey(s),s in er?Object.defineProperty(er,s,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[s]=tr,er}function _toPropertyKey(er){var s=_toPrimitive(er,"string");return typeof s=="symbol"?s:s+""}function _toPrimitive(er,s){if(typeof er!="object"||!er)return er;var tr=er[Symbol.toPrimitive];if(tr!==void 0){var nr=tr.call(er,s||"default");if(typeof nr!="object")return nr;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(er)}function Tree2Element(er){return er&&er.map((s,tr)=>React$1.createElement(s.tag,_objectSpread$3({key:tr},s.attr),Tree2Element(s.child)))}function GenIcon(er){return s=>React$1.createElement(IconBase,_extends({attr:_objectSpread$3({},er.attr)},s),Tree2Element(er.child))}function IconBase(er){var s=tr=>{var{attr:nr,size:rr,title:ir}=er,sr=_objectWithoutProperties$1(er,_excluded),or=rr||tr.size||"1em",ar;return tr.className&&(ar=tr.className),er.className&&(ar=(ar?ar+" ":"")+er.className),React$1.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},tr.attr,nr,sr,{className:ar,style:_objectSpread$3(_objectSpread$3({color:er.color||tr.color},tr.style),er.style),height:or,width:or,xmlns:"http://www.w3.org/2000/svg"}),ir&&React$1.createElement("title",null,ir),er.children)};return IconContext!==void 0?React$1.createElement(IconContext.Consumer,null,tr=>s(tr)):s(DefaultContext)}function FaDiscord(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"},child:[]}]})(er)}function FaTelegram(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"},child:[]}]})(er)}function FaTwitter(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(er)}function FaArrowLeft(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(er)}function FaBars(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(er)}function FaBrain(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(er)}function FaCamera(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(er)}function FaChartLine(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(er)}function FaCheck(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(er)}function FaChevronDown(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(er)}function FaChevronLeft(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(er)}function FaClock(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(er)}function FaComments(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(er)}function FaCopy(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(er)}function FaDollarSign(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(er)}function FaEdit(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(er)}function FaEllipsisH(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"},child:[]}]})(er)}function FaFire(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(er)}function FaHeart(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(er)}function FaImage(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(er)}function FaInfoCircle(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(er)}function FaLock(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(er)}function FaMagic(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224 96l16-32 32-16-32-16-16-32-16 32-32 16 32 16 16 32zM80 160l26.66-53.33L160 80l-53.34-26.67L80 0 53.34 53.33 0 80l53.34 26.67L80 160zm352 128l-26.66 53.33L352 368l53.34 26.67L432 448l26.66-53.33L512 368l-53.34-26.67L432 288zm70.62-193.77L417.77 9.38C411.53 3.12 403.34 0 395.15 0c-8.19 0-16.38 3.12-22.63 9.38L9.38 372.52c-12.5 12.5-12.5 32.76 0 45.25l84.85 84.85c6.25 6.25 14.44 9.37 22.62 9.37 8.19 0 16.38-3.12 22.63-9.37l363.14-363.15c12.5-12.48 12.5-32.75 0-45.24zM359.45 203.46l-50.91-50.91 86.6-86.6 50.91 50.91-86.6 86.6z"},child:[]}]})(er)}function FaMicrophone(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"},child:[]}]})(er)}function FaPaperPlane(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(er)}function FaPlus(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(er)}function FaReply(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8.309 189.836L184.313 37.851C199.719 24.546 224 35.347 224 56.015v80.053c160.629 1.839 288 34.032 288 186.258 0 61.441-39.581 122.309-83.333 154.132-13.653 9.931-33.111-2.533-28.077-18.631 45.344-145.012-21.507-183.51-176.59-185.742V360c0 20.7-24.3 31.453-39.687 18.164l-176.004-152c-11.071-9.562-11.086-26.753 0-36.328z"},child:[]}]})(er)}function FaSearch(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(er)}function FaSpinner(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(er)}function FaStar(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(er)}function FaThumbsDown(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"},child:[]}]})(er)}function FaThumbsUp(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"},child:[]}]})(er)}function FaTimesCircle(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(er)}function FaTimes(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(er)}function FaTrash(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(er)}function FaUser(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(er)}function FaVideo(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(er)}function FaWallet(er){return GenIcon({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(er)}var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray$1;base64Js.fromByteArray=fromByteArray$1;var lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$2=0,len$1=code$1.length;i$2<len$1;++i$2)lookup$1[i$2]=code$1[i$2],revLookup$1[code$1.charCodeAt(i$2)]=i$2;revLookup$1[45]=62;revLookup$1[95]=63;function getLens$1(er){var s=er.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var tr=er.indexOf("=");tr===-1&&(tr=s);var nr=tr===s?0:4-tr%4;return[tr,nr]}function byteLength(er){var s=getLens$1(er),tr=s[0],nr=s[1];return(tr+nr)*3/4-nr}function _byteLength$1(er,s,tr){return(s+tr)*3/4-tr}function toByteArray$1(er){var s,tr=getLens$1(er),nr=tr[0],rr=tr[1],ir=new Arr$1(_byteLength$1(er,nr,rr)),sr=0,or=rr>0?nr-4:nr,ar;for(ar=0;ar<or;ar+=4)s=revLookup$1[er.charCodeAt(ar)]<<18|revLookup$1[er.charCodeAt(ar+1)]<<12|revLookup$1[er.charCodeAt(ar+2)]<<6|revLookup$1[er.charCodeAt(ar+3)],ir[sr++]=s>>16&255,ir[sr++]=s>>8&255,ir[sr++]=s&255;return rr===2&&(s=revLookup$1[er.charCodeAt(ar)]<<2|revLookup$1[er.charCodeAt(ar+1)]>>4,ir[sr++]=s&255),rr===1&&(s=revLookup$1[er.charCodeAt(ar)]<<10|revLookup$1[er.charCodeAt(ar+1)]<<4|revLookup$1[er.charCodeAt(ar+2)]>>2,ir[sr++]=s>>8&255,ir[sr++]=s&255),ir}function tripletToBase64$1(er){return lookup$1[er>>18&63]+lookup$1[er>>12&63]+lookup$1[er>>6&63]+lookup$1[er&63]}function encodeChunk$1(er,s,tr){for(var nr,rr=[],ir=s;ir<tr;ir+=3)nr=(er[ir]<<16&16711680)+(er[ir+1]<<8&65280)+(er[ir+2]&255),rr.push(tripletToBase64$1(nr));return rr.join("")}function fromByteArray$1(er){for(var s,tr=er.length,nr=tr%3,rr=[],ir=16383,sr=0,or=tr-nr;sr<or;sr+=ir)rr.push(encodeChunk$1(er,sr,sr+ir>or?or:sr+ir));return nr===1?(s=er[tr-1],rr.push(lookup$1[s>>2]+lookup$1[s<<4&63]+"==")):nr===2&&(s=(er[tr-2]<<8)+er[tr-1],rr.push(lookup$1[s>>10]+lookup$1[s>>4&63]+lookup$1[s<<2&63]+"=")),rr.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(er,s,tr,nr,rr){var ir,sr,or=rr*8-nr-1,ar=(1<<or)-1,lr=ar>>1,cr=-7,ur=tr?rr-1:0,hr=tr?-1:1,dr=er[s+ur];for(ur+=hr,ir=dr&(1<<-cr)-1,dr>>=-cr,cr+=or;cr>0;ir=ir*256+er[s+ur],ur+=hr,cr-=8);for(sr=ir&(1<<-cr)-1,ir>>=-cr,cr+=nr;cr>0;sr=sr*256+er[s+ur],ur+=hr,cr-=8);if(ir===0)ir=1-lr;else{if(ir===ar)return sr?NaN:(dr?-1:1)*(1/0);sr=sr+Math.pow(2,nr),ir=ir-lr}return(dr?-1:1)*sr*Math.pow(2,ir-nr)};ieee754.write=function(er,s,tr,nr,rr,ir){var sr,or,ar,lr=ir*8-rr-1,cr=(1<<lr)-1,ur=cr>>1,hr=rr===23?Math.pow(2,-24)-Math.pow(2,-77):0,dr=nr?0:ir-1,pr=nr?1:-1,mr=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(or=isNaN(s)?1:0,sr=cr):(sr=Math.floor(Math.log(s)/Math.LN2),s*(ar=Math.pow(2,-sr))<1&&(sr--,ar*=2),sr+ur>=1?s+=hr/ar:s+=hr*Math.pow(2,1-ur),s*ar>=2&&(sr++,ar/=2),sr+ur>=cr?(or=0,sr=cr):sr+ur>=1?(or=(s*ar-1)*Math.pow(2,rr),sr=sr+ur):(or=s*Math.pow(2,ur-1)*Math.pow(2,rr),sr=0));rr>=8;er[tr+dr]=or&255,dr+=pr,or/=256,rr-=8);for(sr=sr<<rr|or,lr+=rr;lr>0;er[tr+dr]=sr&255,dr+=pr,sr/=256,lr-=8);er[tr+dr-pr]|=mr*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(er){const s=base64Js,tr=ieee754,nr=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;er.Buffer=cr,er.SlowBuffer=kr,er.INSPECT_MAX_BYTES=50;const rr=2147483647;er.kMaxLength=rr;const{Uint8Array:ir,ArrayBuffer:sr,SharedArrayBuffer:or}=globalThis;cr.TYPED_ARRAY_SUPPORT=ar(),!cr.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ar(){try{const Ir=new ir(1),_r={foo:function(){return 42}};return Object.setPrototypeOf(_r,ir.prototype),Object.setPrototypeOf(Ir,_r),Ir.foo()===42}catch{return!1}}Object.defineProperty(cr.prototype,"parent",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.buffer}}),Object.defineProperty(cr.prototype,"offset",{enumerable:!0,get:function(){if(cr.isBuffer(this))return this.byteOffset}});function lr(Ir){if(Ir>rr)throw new RangeError('The value "'+Ir+'" is invalid for option "size"');const _r=new ir(Ir);return Object.setPrototypeOf(_r,cr.prototype),_r}function cr(Ir,_r,Sr){if(typeof Ir=="number"){if(typeof _r=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pr(Ir)}return ur(Ir,_r,Sr)}cr.poolSize=8192;function ur(Ir,_r,Sr){if(typeof Ir=="string")return mr(Ir,_r);if(sr.isView(Ir))return br(Ir);if(Ir==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ir);if(Xr(Ir,sr)||Ir&&Xr(Ir.buffer,sr)||typeof or<"u"&&(Xr(Ir,or)||Ir&&Xr(Ir.buffer,or)))return yr(Ir,_r,Sr);if(typeof Ir=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Fr=Ir.valueOf&&Ir.valueOf();if(Fr!=null&&Fr!==Ir)return cr.from(Fr,_r,Sr);const Hr=gr(Ir);if(Hr)return Hr;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Ir[Symbol.toPrimitive]=="function")return cr.from(Ir[Symbol.toPrimitive]("string"),_r,Sr);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Ir)}cr.from=function(Ir,_r,Sr){return ur(Ir,_r,Sr)},Object.setPrototypeOf(cr.prototype,ir.prototype),Object.setPrototypeOf(cr,ir);function hr(Ir){if(typeof Ir!="number")throw new TypeError('"size" argument must be of type number');if(Ir<0)throw new RangeError('The value "'+Ir+'" is invalid for option "size"')}function dr(Ir,_r,Sr){return hr(Ir),Ir<=0?lr(Ir):_r!==void 0?typeof Sr=="string"?lr(Ir).fill(_r,Sr):lr(Ir).fill(_r):lr(Ir)}cr.alloc=function(Ir,_r,Sr){return dr(Ir,_r,Sr)};function pr(Ir){return hr(Ir),lr(Ir<0?0:Er(Ir)|0)}cr.allocUnsafe=function(Ir){return pr(Ir)},cr.allocUnsafeSlow=function(Ir){return pr(Ir)};function mr(Ir,_r){if((typeof _r!="string"||_r==="")&&(_r="utf8"),!cr.isEncoding(_r))throw new TypeError("Unknown encoding: "+_r);const Sr=Mr(Ir,_r)|0;let Fr=lr(Sr);const Hr=Fr.write(Ir,_r);return Hr!==Sr&&(Fr=Fr.slice(0,Hr)),Fr}function xr(Ir){const _r=Ir.length<0?0:Er(Ir.length)|0,Sr=lr(_r);for(let Fr=0;Fr<_r;Fr+=1)Sr[Fr]=Ir[Fr]&255;return Sr}function br(Ir){if(Xr(Ir,ir)){const _r=new ir(Ir);return yr(_r.buffer,_r.byteOffset,_r.byteLength)}return xr(Ir)}function yr(Ir,_r,Sr){if(_r<0||Ir.byteLength<_r)throw new RangeError('"offset" is outside of buffer bounds');if(Ir.byteLength<_r+(Sr||0))throw new RangeError('"length" is outside of buffer bounds');let Fr;return _r===void 0&&Sr===void 0?Fr=new ir(Ir):Sr===void 0?Fr=new ir(Ir,_r):Fr=new ir(Ir,_r,Sr),Object.setPrototypeOf(Fr,cr.prototype),Fr}function gr(Ir){if(cr.isBuffer(Ir)){const _r=Er(Ir.length)|0,Sr=lr(_r);return Sr.length===0||Ir.copy(Sr,0,0,_r),Sr}if(Ir.length!==void 0)return typeof Ir.length!="number"||co(Ir.length)?lr(0):xr(Ir);if(Ir.type==="Buffer"&&Array.isArray(Ir.data))return xr(Ir.data)}function Er(Ir){if(Ir>=rr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+rr.toString(16)+" bytes");return Ir|0}function kr(Ir){return+Ir!=Ir&&(Ir=0),cr.alloc(+Ir)}cr.isBuffer=function(_r){return _r!=null&&_r._isBuffer===!0&&_r!==cr.prototype},cr.compare=function(_r,Sr){if(Xr(_r,ir)&&(_r=cr.from(_r,_r.offset,_r.byteLength)),Xr(Sr,ir)&&(Sr=cr.from(Sr,Sr.offset,Sr.byteLength)),!cr.isBuffer(_r)||!cr.isBuffer(Sr))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_r===Sr)return 0;let Fr=_r.length,Hr=Sr.length;for(let Yr=0,Qr=Math.min(Fr,Hr);Yr<Qr;++Yr)if(_r[Yr]!==Sr[Yr]){Fr=_r[Yr],Hr=Sr[Yr];break}return Fr<Hr?-1:Hr<Fr?1:0},cr.isEncoding=function(_r){switch(String(_r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},cr.concat=function(_r,Sr){if(!Array.isArray(_r))throw new TypeError('"list" argument must be an Array of Buffers');if(_r.length===0)return cr.alloc(0);let Fr;if(Sr===void 0)for(Sr=0,Fr=0;Fr<_r.length;++Fr)Sr+=_r[Fr].length;const Hr=cr.allocUnsafe(Sr);let Yr=0;for(Fr=0;Fr<_r.length;++Fr){let Qr=_r[Fr];if(Xr(Qr,ir))Yr+Qr.length>Hr.length?(cr.isBuffer(Qr)||(Qr=cr.from(Qr)),Qr.copy(Hr,Yr)):ir.prototype.set.call(Hr,Qr,Yr);else if(cr.isBuffer(Qr))Qr.copy(Hr,Yr);else throw new TypeError('"list" argument must be an Array of Buffers');Yr+=Qr.length}return Hr};function Mr(Ir,_r){if(cr.isBuffer(Ir))return Ir.length;if(sr.isView(Ir)||Xr(Ir,sr))return Ir.byteLength;if(typeof Ir!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Ir);const Sr=Ir.length,Fr=arguments.length>2&&arguments[2]===!0;if(!Fr&&Sr===0)return 0;let Hr=!1;for(;;)switch(_r){case"ascii":case"latin1":case"binary":return Sr;case"utf8":case"utf-8":return Ro(Ir).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Sr*2;case"hex":return Sr>>>1;case"base64":return Ao(Ir).length;default:if(Hr)return Fr?-1:Ro(Ir).length;_r=(""+_r).toLowerCase(),Hr=!0}}cr.byteLength=Mr;function Cr(Ir,_r,Sr){let Fr=!1;if((_r===void 0||_r<0)&&(_r=0),_r>this.length||((Sr===void 0||Sr>this.length)&&(Sr=this.length),Sr<=0)||(Sr>>>=0,_r>>>=0,Sr<=_r))return"";for(Ir||(Ir="utf8");;)switch(Ir){case"hex":return wr(this,_r,Sr);case"utf8":case"utf-8":return Tr(this,_r,Sr);case"ascii":return Or(this,_r,Sr);case"latin1":case"binary":return Nr(this,_r,Sr);case"base64":return $r(this,_r,Sr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rr(this,_r,Sr);default:if(Fr)throw new TypeError("Unknown encoding: "+Ir);Ir=(Ir+"").toLowerCase(),Fr=!0}}cr.prototype._isBuffer=!0;function Dr(Ir,_r,Sr){const Fr=Ir[_r];Ir[_r]=Ir[Sr],Ir[Sr]=Fr}cr.prototype.swap16=function(){const _r=this.length;if(_r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Sr=0;Sr<_r;Sr+=2)Dr(this,Sr,Sr+1);return this},cr.prototype.swap32=function(){const _r=this.length;if(_r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Sr=0;Sr<_r;Sr+=4)Dr(this,Sr,Sr+3),Dr(this,Sr+1,Sr+2);return this},cr.prototype.swap64=function(){const _r=this.length;if(_r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Sr=0;Sr<_r;Sr+=8)Dr(this,Sr,Sr+7),Dr(this,Sr+1,Sr+6),Dr(this,Sr+2,Sr+5),Dr(this,Sr+3,Sr+4);return this},cr.prototype.toString=function(){const _r=this.length;return _r===0?"":arguments.length===0?Tr(this,0,_r):Cr.apply(this,arguments)},cr.prototype.toLocaleString=cr.prototype.toString,cr.prototype.equals=function(_r){if(!cr.isBuffer(_r))throw new TypeError("Argument must be a Buffer");return this===_r?!0:cr.compare(this,_r)===0},cr.prototype.inspect=function(){let _r="";const Sr=er.INSPECT_MAX_BYTES;return _r=this.toString("hex",0,Sr).replace(/(.{2})/g,"$1 ").trim(),this.length>Sr&&(_r+=" ... "),"<Buffer "+_r+">"},nr&&(cr.prototype[nr]=cr.prototype.inspect),cr.prototype.compare=function(_r,Sr,Fr,Hr,Yr){if(Xr(_r,ir)&&(_r=cr.from(_r,_r.offset,_r.byteLength)),!cr.isBuffer(_r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _r);if(Sr===void 0&&(Sr=0),Fr===void 0&&(Fr=_r?_r.length:0),Hr===void 0&&(Hr=0),Yr===void 0&&(Yr=this.length),Sr<0||Fr>_r.length||Hr<0||Yr>this.length)throw new RangeError("out of range index");if(Hr>=Yr&&Sr>=Fr)return 0;if(Hr>=Yr)return-1;if(Sr>=Fr)return 1;if(Sr>>>=0,Fr>>>=0,Hr>>>=0,Yr>>>=0,this===_r)return 0;let Qr=Yr-Hr,Eo=Fr-Sr;const yo=Math.min(Qr,Eo),bo=this.slice(Hr,Yr),jo=_r.slice(Sr,Fr);for(let wo=0;wo<yo;++wo)if(bo[wo]!==jo[wo]){Qr=bo[wo],Eo=jo[wo];break}return Qr<Eo?-1:Eo<Qr?1:0};function zr(Ir,_r,Sr,Fr,Hr){if(Ir.length===0)return-1;if(typeof Sr=="string"?(Fr=Sr,Sr=0):Sr>2147483647?Sr=2147483647:Sr<-2147483648&&(Sr=-2147483648),Sr=+Sr,co(Sr)&&(Sr=Hr?0:Ir.length-1),Sr<0&&(Sr=Ir.length+Sr),Sr>=Ir.length){if(Hr)return-1;Sr=Ir.length-1}else if(Sr<0)if(Hr)Sr=0;else return-1;if(typeof _r=="string"&&(_r=cr.from(_r,Fr)),cr.isBuffer(_r))return _r.length===0?-1:Wr(Ir,_r,Sr,Fr,Hr);if(typeof _r=="number")return _r=_r&255,typeof ir.prototype.indexOf=="function"?Hr?ir.prototype.indexOf.call(Ir,_r,Sr):ir.prototype.lastIndexOf.call(Ir,_r,Sr):Wr(Ir,[_r],Sr,Fr,Hr);throw new TypeError("val must be string, number or Buffer")}function Wr(Ir,_r,Sr,Fr,Hr){let Yr=1,Qr=Ir.length,Eo=_r.length;if(Fr!==void 0&&(Fr=String(Fr).toLowerCase(),Fr==="ucs2"||Fr==="ucs-2"||Fr==="utf16le"||Fr==="utf-16le")){if(Ir.length<2||_r.length<2)return-1;Yr=2,Qr/=2,Eo/=2,Sr/=2}function yo(jo,wo){return Yr===1?jo[wo]:jo.readUInt16BE(wo*Yr)}let bo;if(Hr){let jo=-1;for(bo=Sr;bo<Qr;bo++)if(yo(Ir,bo)===yo(_r,jo===-1?0:bo-jo)){if(jo===-1&&(jo=bo),bo-jo+1===Eo)return jo*Yr}else jo!==-1&&(bo-=bo-jo),jo=-1}else for(Sr+Eo>Qr&&(Sr=Qr-Eo),bo=Sr;bo>=0;bo--){let jo=!0;for(let wo=0;wo<Eo;wo++)if(yo(Ir,bo+wo)!==yo(_r,wo)){jo=!1;break}if(jo)return bo}return-1}cr.prototype.includes=function(_r,Sr,Fr){return this.indexOf(_r,Sr,Fr)!==-1},cr.prototype.indexOf=function(_r,Sr,Fr){return zr(this,_r,Sr,Fr,!0)},cr.prototype.lastIndexOf=function(_r,Sr,Fr){return zr(this,_r,Sr,Fr,!1)};function Gr(Ir,_r,Sr,Fr){Sr=Number(Sr)||0;const Hr=Ir.length-Sr;Fr?(Fr=Number(Fr),Fr>Hr&&(Fr=Hr)):Fr=Hr;const Yr=_r.length;Fr>Yr/2&&(Fr=Yr/2);let Qr;for(Qr=0;Qr<Fr;++Qr){const Eo=parseInt(_r.substr(Qr*2,2),16);if(co(Eo))return Qr;Ir[Sr+Qr]=Eo}return Qr}function Kr(Ir,_r,Sr,Fr){return Vr(Ro(_r,Ir.length-Sr),Ir,Sr,Fr)}function Lr(Ir,_r,Sr,Fr){return Vr($o(_r),Ir,Sr,Fr)}function fr(Ir,_r,Sr,Fr){return Vr(Ao(_r),Ir,Sr,Fr)}function vr(Ir,_r,Sr,Fr){return Vr(Vo(_r,Ir.length-Sr),Ir,Sr,Fr)}cr.prototype.write=function(_r,Sr,Fr,Hr){if(Sr===void 0)Hr="utf8",Fr=this.length,Sr=0;else if(Fr===void 0&&typeof Sr=="string")Hr=Sr,Fr=this.length,Sr=0;else if(isFinite(Sr))Sr=Sr>>>0,isFinite(Fr)?(Fr=Fr>>>0,Hr===void 0&&(Hr="utf8")):(Hr=Fr,Fr=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Yr=this.length-Sr;if((Fr===void 0||Fr>Yr)&&(Fr=Yr),_r.length>0&&(Fr<0||Sr<0)||Sr>this.length)throw new RangeError("Attempt to write outside buffer bounds");Hr||(Hr="utf8");let Qr=!1;for(;;)switch(Hr){case"hex":return Gr(this,_r,Sr,Fr);case"utf8":case"utf-8":return Kr(this,_r,Sr,Fr);case"ascii":case"latin1":case"binary":return Lr(this,_r,Sr,Fr);case"base64":return fr(this,_r,Sr,Fr);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vr(this,_r,Sr,Fr);default:if(Qr)throw new TypeError("Unknown encoding: "+Hr);Hr=(""+Hr).toLowerCase(),Qr=!0}},cr.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $r(Ir,_r,Sr){return _r===0&&Sr===Ir.length?s.fromByteArray(Ir):s.fromByteArray(Ir.slice(_r,Sr))}function Tr(Ir,_r,Sr){Sr=Math.min(Ir.length,Sr);const Fr=[];let Hr=_r;for(;Hr<Sr;){const Yr=Ir[Hr];let Qr=null,Eo=Yr>239?4:Yr>223?3:Yr>191?2:1;if(Hr+Eo<=Sr){let yo,bo,jo,wo;switch(Eo){case 1:Yr<128&&(Qr=Yr);break;case 2:yo=Ir[Hr+1],(yo&192)===128&&(wo=(Yr&31)<<6|yo&63,wo>127&&(Qr=wo));break;case 3:yo=Ir[Hr+1],bo=Ir[Hr+2],(yo&192)===128&&(bo&192)===128&&(wo=(Yr&15)<<12|(yo&63)<<6|bo&63,wo>2047&&(wo<55296||wo>57343)&&(Qr=wo));break;case 4:yo=Ir[Hr+1],bo=Ir[Hr+2],jo=Ir[Hr+3],(yo&192)===128&&(bo&192)===128&&(jo&192)===128&&(wo=(Yr&15)<<18|(yo&63)<<12|(bo&63)<<6|jo&63,wo>65535&&wo<1114112&&(Qr=wo))}}Qr===null?(Qr=65533,Eo=1):Qr>65535&&(Qr-=65536,Fr.push(Qr>>>10&1023|55296),Qr=56320|Qr&1023),Fr.push(Qr),Hr+=Eo}return jr(Fr)}const Ar=4096;function jr(Ir){const _r=Ir.length;if(_r<=Ar)return String.fromCharCode.apply(String,Ir);let Sr="",Fr=0;for(;Fr<_r;)Sr+=String.fromCharCode.apply(String,Ir.slice(Fr,Fr+=Ar));return Sr}function Or(Ir,_r,Sr){let Fr="";Sr=Math.min(Ir.length,Sr);for(let Hr=_r;Hr<Sr;++Hr)Fr+=String.fromCharCode(Ir[Hr]&127);return Fr}function Nr(Ir,_r,Sr){let Fr="";Sr=Math.min(Ir.length,Sr);for(let Hr=_r;Hr<Sr;++Hr)Fr+=String.fromCharCode(Ir[Hr]);return Fr}function wr(Ir,_r,Sr){const Fr=Ir.length;(!_r||_r<0)&&(_r=0),(!Sr||Sr<0||Sr>Fr)&&(Sr=Fr);let Hr="";for(let Yr=_r;Yr<Sr;++Yr)Hr+=ho[Ir[Yr]];return Hr}function Rr(Ir,_r,Sr){const Fr=Ir.slice(_r,Sr);let Hr="";for(let Yr=0;Yr<Fr.length-1;Yr+=2)Hr+=String.fromCharCode(Fr[Yr]+Fr[Yr+1]*256);return Hr}cr.prototype.slice=function(_r,Sr){const Fr=this.length;_r=~~_r,Sr=Sr===void 0?Fr:~~Sr,_r<0?(_r+=Fr,_r<0&&(_r=0)):_r>Fr&&(_r=Fr),Sr<0?(Sr+=Fr,Sr<0&&(Sr=0)):Sr>Fr&&(Sr=Fr),Sr<_r&&(Sr=_r);const Hr=this.subarray(_r,Sr);return Object.setPrototypeOf(Hr,cr.prototype),Hr};function Pr(Ir,_r,Sr){if(Ir%1!==0||Ir<0)throw new RangeError("offset is not uint");if(Ir+_r>Sr)throw new RangeError("Trying to access beyond buffer length")}cr.prototype.readUintLE=cr.prototype.readUIntLE=function(_r,Sr,Fr){_r=_r>>>0,Sr=Sr>>>0,Fr||Pr(_r,Sr,this.length);let Hr=this[_r],Yr=1,Qr=0;for(;++Qr<Sr&&(Yr*=256);)Hr+=this[_r+Qr]*Yr;return Hr},cr.prototype.readUintBE=cr.prototype.readUIntBE=function(_r,Sr,Fr){_r=_r>>>0,Sr=Sr>>>0,Fr||Pr(_r,Sr,this.length);let Hr=this[_r+--Sr],Yr=1;for(;Sr>0&&(Yr*=256);)Hr+=this[_r+--Sr]*Yr;return Hr},cr.prototype.readUint8=cr.prototype.readUInt8=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,1,this.length),this[_r]},cr.prototype.readUint16LE=cr.prototype.readUInt16LE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,2,this.length),this[_r]|this[_r+1]<<8},cr.prototype.readUint16BE=cr.prototype.readUInt16BE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,2,this.length),this[_r]<<8|this[_r+1]},cr.prototype.readUint32LE=cr.prototype.readUInt32LE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,4,this.length),(this[_r]|this[_r+1]<<8|this[_r+2]<<16)+this[_r+3]*16777216},cr.prototype.readUint32BE=cr.prototype.readUInt32BE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,4,this.length),this[_r]*16777216+(this[_r+1]<<16|this[_r+2]<<8|this[_r+3])},cr.prototype.readBigUInt64LE=fo(function(_r){_r=_r>>>0,To(_r,"offset");const Sr=this[_r],Fr=this[_r+7];(Sr===void 0||Fr===void 0)&&po(_r,this.length-8);const Hr=Sr+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24,Yr=this[++_r]+this[++_r]*2**8+this[++_r]*2**16+Fr*2**24;return BigInt(Hr)+(BigInt(Yr)<<BigInt(32))}),cr.prototype.readBigUInt64BE=fo(function(_r){_r=_r>>>0,To(_r,"offset");const Sr=this[_r],Fr=this[_r+7];(Sr===void 0||Fr===void 0)&&po(_r,this.length-8);const Hr=Sr*2**24+this[++_r]*2**16+this[++_r]*2**8+this[++_r],Yr=this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Fr;return(BigInt(Hr)<<BigInt(32))+BigInt(Yr)}),cr.prototype.readIntLE=function(_r,Sr,Fr){_r=_r>>>0,Sr=Sr>>>0,Fr||Pr(_r,Sr,this.length);let Hr=this[_r],Yr=1,Qr=0;for(;++Qr<Sr&&(Yr*=256);)Hr+=this[_r+Qr]*Yr;return Yr*=128,Hr>=Yr&&(Hr-=Math.pow(2,8*Sr)),Hr},cr.prototype.readIntBE=function(_r,Sr,Fr){_r=_r>>>0,Sr=Sr>>>0,Fr||Pr(_r,Sr,this.length);let Hr=Sr,Yr=1,Qr=this[_r+--Hr];for(;Hr>0&&(Yr*=256);)Qr+=this[_r+--Hr]*Yr;return Yr*=128,Qr>=Yr&&(Qr-=Math.pow(2,8*Sr)),Qr},cr.prototype.readInt8=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,1,this.length),this[_r]&128?(255-this[_r]+1)*-1:this[_r]},cr.prototype.readInt16LE=function(_r,Sr){_r=_r>>>0,Sr||Pr(_r,2,this.length);const Fr=this[_r]|this[_r+1]<<8;return Fr&32768?Fr|4294901760:Fr},cr.prototype.readInt16BE=function(_r,Sr){_r=_r>>>0,Sr||Pr(_r,2,this.length);const Fr=this[_r+1]|this[_r]<<8;return Fr&32768?Fr|4294901760:Fr},cr.prototype.readInt32LE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,4,this.length),this[_r]|this[_r+1]<<8|this[_r+2]<<16|this[_r+3]<<24},cr.prototype.readInt32BE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,4,this.length),this[_r]<<24|this[_r+1]<<16|this[_r+2]<<8|this[_r+3]},cr.prototype.readBigInt64LE=fo(function(_r){_r=_r>>>0,To(_r,"offset");const Sr=this[_r],Fr=this[_r+7];(Sr===void 0||Fr===void 0)&&po(_r,this.length-8);const Hr=this[_r+4]+this[_r+5]*2**8+this[_r+6]*2**16+(Fr<<24);return(BigInt(Hr)<<BigInt(32))+BigInt(Sr+this[++_r]*2**8+this[++_r]*2**16+this[++_r]*2**24)}),cr.prototype.readBigInt64BE=fo(function(_r){_r=_r>>>0,To(_r,"offset");const Sr=this[_r],Fr=this[_r+7];(Sr===void 0||Fr===void 0)&&po(_r,this.length-8);const Hr=(Sr<<24)+this[++_r]*2**16+this[++_r]*2**8+this[++_r];return(BigInt(Hr)<<BigInt(32))+BigInt(this[++_r]*2**24+this[++_r]*2**16+this[++_r]*2**8+Fr)}),cr.prototype.readFloatLE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,4,this.length),tr.read(this,_r,!0,23,4)},cr.prototype.readFloatBE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,4,this.length),tr.read(this,_r,!1,23,4)},cr.prototype.readDoubleLE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,8,this.length),tr.read(this,_r,!0,52,8)},cr.prototype.readDoubleBE=function(_r,Sr){return _r=_r>>>0,Sr||Pr(_r,8,this.length),tr.read(this,_r,!1,52,8)};function Br(Ir,_r,Sr,Fr,Hr,Yr){if(!cr.isBuffer(Ir))throw new TypeError('"buffer" argument must be a Buffer instance');if(_r>Hr||_r<Yr)throw new RangeError('"value" argument is out of bounds');if(Sr+Fr>Ir.length)throw new RangeError("Index out of range")}cr.prototype.writeUintLE=cr.prototype.writeUIntLE=function(_r,Sr,Fr,Hr){if(_r=+_r,Sr=Sr>>>0,Fr=Fr>>>0,!Hr){const Eo=Math.pow(2,8*Fr)-1;Br(this,_r,Sr,Fr,Eo,0)}let Yr=1,Qr=0;for(this[Sr]=_r&255;++Qr<Fr&&(Yr*=256);)this[Sr+Qr]=_r/Yr&255;return Sr+Fr},cr.prototype.writeUintBE=cr.prototype.writeUIntBE=function(_r,Sr,Fr,Hr){if(_r=+_r,Sr=Sr>>>0,Fr=Fr>>>0,!Hr){const Eo=Math.pow(2,8*Fr)-1;Br(this,_r,Sr,Fr,Eo,0)}let Yr=Fr-1,Qr=1;for(this[Sr+Yr]=_r&255;--Yr>=0&&(Qr*=256);)this[Sr+Yr]=_r/Qr&255;return Sr+Fr},cr.prototype.writeUint8=cr.prototype.writeUInt8=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,1,255,0),this[Sr]=_r&255,Sr+1},cr.prototype.writeUint16LE=cr.prototype.writeUInt16LE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,2,65535,0),this[Sr]=_r&255,this[Sr+1]=_r>>>8,Sr+2},cr.prototype.writeUint16BE=cr.prototype.writeUInt16BE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,2,65535,0),this[Sr]=_r>>>8,this[Sr+1]=_r&255,Sr+2},cr.prototype.writeUint32LE=cr.prototype.writeUInt32LE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,4,4294967295,0),this[Sr+3]=_r>>>24,this[Sr+2]=_r>>>16,this[Sr+1]=_r>>>8,this[Sr]=_r&255,Sr+4},cr.prototype.writeUint32BE=cr.prototype.writeUInt32BE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,4,4294967295,0),this[Sr]=_r>>>24,this[Sr+1]=_r>>>16,this[Sr+2]=_r>>>8,this[Sr+3]=_r&255,Sr+4};function Ur(Ir,_r,Sr,Fr,Hr){xo(_r,Fr,Hr,Ir,Sr,7);let Yr=Number(_r&BigInt(4294967295));Ir[Sr++]=Yr,Yr=Yr>>8,Ir[Sr++]=Yr,Yr=Yr>>8,Ir[Sr++]=Yr,Yr=Yr>>8,Ir[Sr++]=Yr;let Qr=Number(_r>>BigInt(32)&BigInt(4294967295));return Ir[Sr++]=Qr,Qr=Qr>>8,Ir[Sr++]=Qr,Qr=Qr>>8,Ir[Sr++]=Qr,Qr=Qr>>8,Ir[Sr++]=Qr,Sr}function Jr(Ir,_r,Sr,Fr,Hr){xo(_r,Fr,Hr,Ir,Sr,7);let Yr=Number(_r&BigInt(4294967295));Ir[Sr+7]=Yr,Yr=Yr>>8,Ir[Sr+6]=Yr,Yr=Yr>>8,Ir[Sr+5]=Yr,Yr=Yr>>8,Ir[Sr+4]=Yr;let Qr=Number(_r>>BigInt(32)&BigInt(4294967295));return Ir[Sr+3]=Qr,Qr=Qr>>8,Ir[Sr+2]=Qr,Qr=Qr>>8,Ir[Sr+1]=Qr,Qr=Qr>>8,Ir[Sr]=Qr,Sr+8}cr.prototype.writeBigUInt64LE=fo(function(_r,Sr=0){return Ur(this,_r,Sr,BigInt(0),BigInt("0xffffffffffffffff"))}),cr.prototype.writeBigUInt64BE=fo(function(_r,Sr=0){return Jr(this,_r,Sr,BigInt(0),BigInt("0xffffffffffffffff"))}),cr.prototype.writeIntLE=function(_r,Sr,Fr,Hr){if(_r=+_r,Sr=Sr>>>0,!Hr){const yo=Math.pow(2,8*Fr-1);Br(this,_r,Sr,Fr,yo-1,-yo)}let Yr=0,Qr=1,Eo=0;for(this[Sr]=_r&255;++Yr<Fr&&(Qr*=256);)_r<0&&Eo===0&&this[Sr+Yr-1]!==0&&(Eo=1),this[Sr+Yr]=(_r/Qr>>0)-Eo&255;return Sr+Fr},cr.prototype.writeIntBE=function(_r,Sr,Fr,Hr){if(_r=+_r,Sr=Sr>>>0,!Hr){const yo=Math.pow(2,8*Fr-1);Br(this,_r,Sr,Fr,yo-1,-yo)}let Yr=Fr-1,Qr=1,Eo=0;for(this[Sr+Yr]=_r&255;--Yr>=0&&(Qr*=256);)_r<0&&Eo===0&&this[Sr+Yr+1]!==0&&(Eo=1),this[Sr+Yr]=(_r/Qr>>0)-Eo&255;return Sr+Fr},cr.prototype.writeInt8=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,1,127,-128),_r<0&&(_r=255+_r+1),this[Sr]=_r&255,Sr+1},cr.prototype.writeInt16LE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,2,32767,-32768),this[Sr]=_r&255,this[Sr+1]=_r>>>8,Sr+2},cr.prototype.writeInt16BE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,2,32767,-32768),this[Sr]=_r>>>8,this[Sr+1]=_r&255,Sr+2},cr.prototype.writeInt32LE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,4,2147483647,-2147483648),this[Sr]=_r&255,this[Sr+1]=_r>>>8,this[Sr+2]=_r>>>16,this[Sr+3]=_r>>>24,Sr+4},cr.prototype.writeInt32BE=function(_r,Sr,Fr){return _r=+_r,Sr=Sr>>>0,Fr||Br(this,_r,Sr,4,2147483647,-2147483648),_r<0&&(_r=4294967295+_r+1),this[Sr]=_r>>>24,this[Sr+1]=_r>>>16,this[Sr+2]=_r>>>8,this[Sr+3]=_r&255,Sr+4},cr.prototype.writeBigInt64LE=fo(function(_r,Sr=0){return Ur(this,_r,Sr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),cr.prototype.writeBigInt64BE=fo(function(_r,Sr=0){return Jr(this,_r,Sr,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qr(Ir,_r,Sr,Fr,Hr,Yr){if(Sr+Fr>Ir.length)throw new RangeError("Index out of range");if(Sr<0)throw new RangeError("Index out of range")}function Zr(Ir,_r,Sr,Fr,Hr){return _r=+_r,Sr=Sr>>>0,Hr||qr(Ir,_r,Sr,4),tr.write(Ir,_r,Sr,Fr,23,4),Sr+4}cr.prototype.writeFloatLE=function(_r,Sr,Fr){return Zr(this,_r,Sr,!0,Fr)},cr.prototype.writeFloatBE=function(_r,Sr,Fr){return Zr(this,_r,Sr,!1,Fr)};function oo(Ir,_r,Sr,Fr,Hr){return _r=+_r,Sr=Sr>>>0,Hr||qr(Ir,_r,Sr,8),tr.write(Ir,_r,Sr,Fr,52,8),Sr+8}cr.prototype.writeDoubleLE=function(_r,Sr,Fr){return oo(this,_r,Sr,!0,Fr)},cr.prototype.writeDoubleBE=function(_r,Sr,Fr){return oo(this,_r,Sr,!1,Fr)},cr.prototype.copy=function(_r,Sr,Fr,Hr){if(!cr.isBuffer(_r))throw new TypeError("argument should be a Buffer");if(Fr||(Fr=0),!Hr&&Hr!==0&&(Hr=this.length),Sr>=_r.length&&(Sr=_r.length),Sr||(Sr=0),Hr>0&&Hr<Fr&&(Hr=Fr),Hr===Fr||_r.length===0||this.length===0)return 0;if(Sr<0)throw new RangeError("targetStart out of bounds");if(Fr<0||Fr>=this.length)throw new RangeError("Index out of range");if(Hr<0)throw new RangeError("sourceEnd out of bounds");Hr>this.length&&(Hr=this.length),_r.length-Sr<Hr-Fr&&(Hr=_r.length-Sr+Fr);const Yr=Hr-Fr;return this===_r&&typeof ir.prototype.copyWithin=="function"?this.copyWithin(Sr,Fr,Hr):ir.prototype.set.call(_r,this.subarray(Fr,Hr),Sr),Yr},cr.prototype.fill=function(_r,Sr,Fr,Hr){if(typeof _r=="string"){if(typeof Sr=="string"?(Hr=Sr,Sr=0,Fr=this.length):typeof Fr=="string"&&(Hr=Fr,Fr=this.length),Hr!==void 0&&typeof Hr!="string")throw new TypeError("encoding must be a string");if(typeof Hr=="string"&&!cr.isEncoding(Hr))throw new TypeError("Unknown encoding: "+Hr);if(_r.length===1){const Qr=_r.charCodeAt(0);(Hr==="utf8"&&Qr<128||Hr==="latin1")&&(_r=Qr)}}else typeof _r=="number"?_r=_r&255:typeof _r=="boolean"&&(_r=Number(_r));if(Sr<0||this.length<Sr||this.length<Fr)throw new RangeError("Out of range index");if(Fr<=Sr)return this;Sr=Sr>>>0,Fr=Fr===void 0?this.length:Fr>>>0,_r||(_r=0);let Yr;if(typeof _r=="number")for(Yr=Sr;Yr<Fr;++Yr)this[Yr]=_r;else{const Qr=cr.isBuffer(_r)?_r:cr.from(_r,Hr),Eo=Qr.length;if(Eo===0)throw new TypeError('The value "'+_r+'" is invalid for argument "value"');for(Yr=0;Yr<Fr-Sr;++Yr)this[Yr+Sr]=Qr[Yr%Eo]}return this};const eo={};function uo(Ir,_r,Sr){eo[Ir]=class extends Sr{constructor(){super(),Object.defineProperty(this,"message",{value:_r.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Ir}]`,this.stack,delete this.name}get code(){return Ir}set code(Hr){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Hr,writable:!0})}toString(){return`${this.name} [${Ir}]: ${this.message}`}}}uo("ERR_BUFFER_OUT_OF_BOUNDS",function(Ir){return Ir?`${Ir} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),uo("ERR_INVALID_ARG_TYPE",function(Ir,_r){return`The "${Ir}" argument must be of type number. Received type ${typeof _r}`},TypeError),uo("ERR_OUT_OF_RANGE",function(Ir,_r,Sr){let Fr=`The value of "${Ir}" is out of range.`,Hr=Sr;return Number.isInteger(Sr)&&Math.abs(Sr)>2**32?Hr=vo(String(Sr)):typeof Sr=="bigint"&&(Hr=String(Sr),(Sr>BigInt(2)**BigInt(32)||Sr<-(BigInt(2)**BigInt(32)))&&(Hr=vo(Hr)),Hr+="n"),Fr+=` It must be ${_r}. Received ${Hr}`,Fr},RangeError);function vo(Ir){let _r="",Sr=Ir.length;const Fr=Ir[0]==="-"?1:0;for(;Sr>=Fr+4;Sr-=3)_r=`_${Ir.slice(Sr-3,Sr)}${_r}`;return`${Ir.slice(0,Sr)}${_r}`}function go(Ir,_r,Sr){To(_r,"offset"),(Ir[_r]===void 0||Ir[_r+Sr]===void 0)&&po(_r,Ir.length-(Sr+1))}function xo(Ir,_r,Sr,Fr,Hr,Yr){if(Ir>Sr||Ir<_r){const Qr=typeof _r=="bigint"?"n":"";let Eo;throw _r===0||_r===BigInt(0)?Eo=`>= 0${Qr} and < 2${Qr} ** ${(Yr+1)*8}${Qr}`:Eo=`>= -(2${Qr} ** ${(Yr+1)*8-1}${Qr}) and < 2 ** ${(Yr+1)*8-1}${Qr}`,new eo.ERR_OUT_OF_RANGE("value",Eo,Ir)}go(Fr,Hr,Yr)}function To(Ir,_r){if(typeof Ir!="number")throw new eo.ERR_INVALID_ARG_TYPE(_r,"number",Ir)}function po(Ir,_r,Sr){throw Math.floor(Ir)!==Ir?(To(Ir,Sr),new eo.ERR_OUT_OF_RANGE("offset","an integer",Ir)):_r<0?new eo.ERR_BUFFER_OUT_OF_BOUNDS:new eo.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_r}`,Ir)}const So=/[^+/0-9A-Za-z-_]/g;function to(Ir){if(Ir=Ir.split("=")[0],Ir=Ir.trim().replace(So,""),Ir.length<2)return"";for(;Ir.length%4!==0;)Ir=Ir+"=";return Ir}function Ro(Ir,_r){_r=_r||1/0;let Sr;const Fr=Ir.length;let Hr=null;const Yr=[];for(let Qr=0;Qr<Fr;++Qr){if(Sr=Ir.charCodeAt(Qr),Sr>55295&&Sr<57344){if(!Hr){if(Sr>56319){(_r-=3)>-1&&Yr.push(239,191,189);continue}else if(Qr+1===Fr){(_r-=3)>-1&&Yr.push(239,191,189);continue}Hr=Sr;continue}if(Sr<56320){(_r-=3)>-1&&Yr.push(239,191,189),Hr=Sr;continue}Sr=(Hr-55296<<10|Sr-56320)+65536}else Hr&&(_r-=3)>-1&&Yr.push(239,191,189);if(Hr=null,Sr<128){if((_r-=1)<0)break;Yr.push(Sr)}else if(Sr<2048){if((_r-=2)<0)break;Yr.push(Sr>>6|192,Sr&63|128)}else if(Sr<65536){if((_r-=3)<0)break;Yr.push(Sr>>12|224,Sr>>6&63|128,Sr&63|128)}else if(Sr<1114112){if((_r-=4)<0)break;Yr.push(Sr>>18|240,Sr>>12&63|128,Sr>>6&63|128,Sr&63|128)}else throw new Error("Invalid code point")}return Yr}function $o(Ir){const _r=[];for(let Sr=0;Sr<Ir.length;++Sr)_r.push(Ir.charCodeAt(Sr)&255);return _r}function Vo(Ir,_r){let Sr,Fr,Hr;const Yr=[];for(let Qr=0;Qr<Ir.length&&!((_r-=2)<0);++Qr)Sr=Ir.charCodeAt(Qr),Fr=Sr>>8,Hr=Sr%256,Yr.push(Hr),Yr.push(Fr);return Yr}function Ao(Ir){return s.toByteArray(to(Ir))}function Vr(Ir,_r,Sr,Fr){let Hr;for(Hr=0;Hr<Fr&&!(Hr+Sr>=_r.length||Hr>=Ir.length);++Hr)_r[Hr+Sr]=Ir[Hr];return Hr}function Xr(Ir,_r){return Ir instanceof _r||Ir!=null&&Ir.constructor!=null&&Ir.constructor.name!=null&&Ir.constructor.name===_r.name}function co(Ir){return Ir!==Ir}const ho=function(){const Ir="0123456789abcdef",_r=new Array(256);for(let Sr=0;Sr<16;++Sr){const Fr=Sr*16;for(let Hr=0;Hr<16;++Hr)_r[Fr+Hr]=Ir[Sr]+Ir[Hr]}return _r}();function fo(Ir){return typeof BigInt>"u"?mo:Ir}function mo(){throw new Error("BigInt not supported")}})(buffer);const Buffer=buffer.Buffer,Blob$5=buffer.Blob,BlobOptions=buffer.BlobOptions,Buffer$1=buffer.Buffer,File$1=buffer.File,FileOptions=buffer.FileOptions,INSPECT_MAX_BYTES=buffer.INSPECT_MAX_BYTES,SlowBuffer=buffer.SlowBuffer,TranscodeEncoding=buffer.TranscodeEncoding,atob=buffer.atob,btoa$1=buffer.btoa,constants$1=buffer.constants,isAscii=buffer.isAscii,isUtf8=buffer.isUtf8,kMaxLength=buffer.kMaxLength,kStringMaxLength=buffer.kStringMaxLength,resolveObjectURL=buffer.resolveObjectURL,transcode=buffer.transcode,dist$1=Object.freeze(Object.defineProperty({__proto__:null,Blob:Blob$5,BlobOptions,Buffer:Buffer$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob,btoa:btoa$1,constants:constants$1,default:Buffer,isAscii,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode},Symbol.toStringTag,{value:"Module"}));function anumber(er){if(!Number.isSafeInteger(er)||er<0)throw new Error("positive integer expected, got "+er)}function isBytes$1(er){return er instanceof Uint8Array||ArrayBuffer.isView(er)&&er.constructor.name==="Uint8Array"}function abytes$1(er,...s){if(!isBytes$1(er))throw new Error("Uint8Array expected");if(s.length>0&&!s.includes(er.length))throw new Error("Uint8Array expected of length "+s+", got length="+er.length)}function ahash(er){if(typeof er!="function"||typeof er.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");anumber(er.outputLen),anumber(er.blockLen)}function aexists(er,s=!0){if(er.destroyed)throw new Error("Hash instance has been destroyed");if(s&&er.finished)throw new Error("Hash#digest() has already been called")}function aoutput(er,s){abytes$1(er);const tr=s.outputLen;if(er.length<tr)throw new Error("digestInto() expects output buffer of length at least "+tr)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u32$2=er=>new Uint32Array(er.buffer,er.byteOffset,Math.floor(er.byteLength/4)),createView=er=>new DataView(er.buffer,er.byteOffset,er.byteLength),rotr=(er,s)=>er<<32-s|er>>>s,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,byteSwap=er=>er<<24&4278190080|er<<8&16711680|er>>>8&65280|er>>>24&255;function byteSwap32(er){for(let s=0;s<er.length;s++)er[s]=byteSwap(er[s])}function utf8ToBytes$1(er){if(typeof er!="string")throw new Error("utf8ToBytes expected string, got "+typeof er);return new Uint8Array(new TextEncoder().encode(er))}function toBytes(er){return typeof er=="string"&&(er=utf8ToBytes$1(er)),abytes$1(er),er}function concatBytes$1(...er){let s=0;for(let nr=0;nr<er.length;nr++){const rr=er[nr];abytes$1(rr),s+=rr.length}const tr=new Uint8Array(s);for(let nr=0,rr=0;nr<er.length;nr++){const ir=er[nr];tr.set(ir,rr),rr+=ir.length}return tr}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(er){const s=nr=>er().update(toBytes(nr)).digest(),tr=er();return s.outputLen=tr.outputLen,s.blockLen=tr.blockLen,s.create=()=>er(),s}function randomBytes(er=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(er));if(crypto$1&&typeof crypto$1.randomBytes=="function")return crypto$1.randomBytes(er);throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(er,s,tr,nr){if(typeof er.setBigUint64=="function")return er.setBigUint64(s,tr,nr);const rr=BigInt(32),ir=BigInt(4294967295),sr=Number(tr>>rr&ir),or=Number(tr&ir),ar=nr?4:0,lr=nr?0:4;er.setUint32(s+ar,sr,nr),er.setUint32(s+lr,or,nr)}const Chi=(er,s,tr)=>er&s^~er&tr,Maj=(er,s,tr)=>er&s^er&tr^s&tr;class HashMD extends Hash{constructor(s,tr,nr,rr){super(),this.blockLen=s,this.outputLen=tr,this.padOffset=nr,this.isLE=rr,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(s),this.view=createView(this.buffer)}update(s){aexists(this);const{view:tr,buffer:nr,blockLen:rr}=this;s=toBytes(s);const ir=s.length;for(let sr=0;sr<ir;){const or=Math.min(rr-this.pos,ir-sr);if(or===rr){const ar=createView(s);for(;rr<=ir-sr;sr+=rr)this.process(ar,sr);continue}nr.set(s.subarray(sr,sr+or),this.pos),this.pos+=or,sr+=or,this.pos===rr&&(this.process(tr,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){aexists(this),aoutput(s,this),this.finished=!0;const{buffer:tr,view:nr,blockLen:rr,isLE:ir}=this;let{pos:sr}=this;tr[sr++]=128,this.buffer.subarray(sr).fill(0),this.padOffset>rr-sr&&(this.process(nr,0),sr=0);for(let ur=sr;ur<rr;ur++)tr[ur]=0;setBigUint64(nr,rr-8,BigInt(this.length*8),ir),this.process(nr,0);const or=createView(s),ar=this.outputLen;if(ar%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const lr=ar/4,cr=this.get();if(lr>cr.length)throw new Error("_sha2: outputLen bigger than state");for(let ur=0;ur<lr;ur++)or.setUint32(4*ur,cr[ur],ir)}digest(){const{buffer:s,outputLen:tr}=this;this.digestInto(s);const nr=s.slice(0,tr);return this.destroy(),nr}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());const{blockLen:tr,buffer:nr,length:rr,finished:ir,destroyed:sr,pos:or}=this;return s.length=rr,s.pos=or,s.finished=ir,s.destroyed=sr,rr%tr&&s.buffer.set(nr),s}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(er,s=!1){return s?{h:Number(er&U32_MASK64),l:Number(er>>_32n&U32_MASK64)}:{h:Number(er>>_32n&U32_MASK64)|0,l:Number(er&U32_MASK64)|0}}function split(er,s=!1){let tr=new Uint32Array(er.length),nr=new Uint32Array(er.length);for(let rr=0;rr<er.length;rr++){const{h:ir,l:sr}=fromBig(er[rr],s);[tr[rr],nr[rr]]=[ir,sr]}return[tr,nr]}const toBig=(er,s)=>BigInt(er>>>0)<<_32n|BigInt(s>>>0),shrSH=(er,s,tr)=>er>>>tr,shrSL=(er,s,tr)=>er<<32-tr|s>>>tr,rotrSH=(er,s,tr)=>er>>>tr|s<<32-tr,rotrSL=(er,s,tr)=>er<<32-tr|s>>>tr,rotrBH=(er,s,tr)=>er<<64-tr|s>>>tr-32,rotrBL=(er,s,tr)=>er>>>tr-32|s<<64-tr,rotr32H=(er,s)=>s,rotr32L=(er,s)=>er,rotlSH=(er,s,tr)=>er<<tr|s>>>32-tr,rotlSL=(er,s,tr)=>s<<tr|er>>>32-tr,rotlBH=(er,s,tr)=>s<<tr-32|er>>>64-tr,rotlBL=(er,s,tr)=>er<<tr-32|s>>>64-tr;function add(er,s,tr,nr){const rr=(s>>>0)+(nr>>>0);return{h:er+tr+(rr/2**32|0)|0,l:rr|0}}const add3L=(er,s,tr)=>(er>>>0)+(s>>>0)+(tr>>>0),add3H=(er,s,tr,nr)=>s+tr+nr+(er/2**32|0)|0,add4L=(er,s,tr,nr)=>(er>>>0)+(s>>>0)+(tr>>>0)+(nr>>>0),add4H=(er,s,tr,nr,rr)=>s+tr+nr+rr+(er/2**32|0)|0,add5L=(er,s,tr,nr,rr)=>(er>>>0)+(s>>>0)+(tr>>>0)+(nr>>>0)+(rr>>>0),add5H=(er,s,tr,nr,rr,ir)=>s+tr+nr+rr+ir+(er/2**32|0)|0,u64$3={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L},[SHA512_Kh,SHA512_Kl]=u64$3.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(er=>BigInt(er))),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:s,Al:tr,Bh:nr,Bl:rr,Ch:ir,Cl:sr,Dh:or,Dl:ar,Eh:lr,El:cr,Fh:ur,Fl:hr,Gh:dr,Gl:pr,Hh:mr,Hl:xr}=this;return[s,tr,nr,rr,ir,sr,or,ar,lr,cr,ur,hr,dr,pr,mr,xr]}set(s,tr,nr,rr,ir,sr,or,ar,lr,cr,ur,hr,dr,pr,mr,xr){this.Ah=s|0,this.Al=tr|0,this.Bh=nr|0,this.Bl=rr|0,this.Ch=ir|0,this.Cl=sr|0,this.Dh=or|0,this.Dl=ar|0,this.Eh=lr|0,this.El=cr|0,this.Fh=ur|0,this.Fl=hr|0,this.Gh=dr|0,this.Gl=pr|0,this.Hh=mr|0,this.Hl=xr|0}process(s,tr){for(let gr=0;gr<16;gr++,tr+=4)SHA512_W_H[gr]=s.getUint32(tr),SHA512_W_L[gr]=s.getUint32(tr+=4);for(let gr=16;gr<80;gr++){const Er=SHA512_W_H[gr-15]|0,kr=SHA512_W_L[gr-15]|0,Mr=u64$3.rotrSH(Er,kr,1)^u64$3.rotrSH(Er,kr,8)^u64$3.shrSH(Er,kr,7),Cr=u64$3.rotrSL(Er,kr,1)^u64$3.rotrSL(Er,kr,8)^u64$3.shrSL(Er,kr,7),Dr=SHA512_W_H[gr-2]|0,zr=SHA512_W_L[gr-2]|0,Wr=u64$3.rotrSH(Dr,zr,19)^u64$3.rotrBH(Dr,zr,61)^u64$3.shrSH(Dr,zr,6),Gr=u64$3.rotrSL(Dr,zr,19)^u64$3.rotrBL(Dr,zr,61)^u64$3.shrSL(Dr,zr,6),Kr=u64$3.add4L(Cr,Gr,SHA512_W_L[gr-7],SHA512_W_L[gr-16]),Lr=u64$3.add4H(Kr,Mr,Wr,SHA512_W_H[gr-7],SHA512_W_H[gr-16]);SHA512_W_H[gr]=Lr|0,SHA512_W_L[gr]=Kr|0}let{Ah:nr,Al:rr,Bh:ir,Bl:sr,Ch:or,Cl:ar,Dh:lr,Dl:cr,Eh:ur,El:hr,Fh:dr,Fl:pr,Gh:mr,Gl:xr,Hh:br,Hl:yr}=this;for(let gr=0;gr<80;gr++){const Er=u64$3.rotrSH(ur,hr,14)^u64$3.rotrSH(ur,hr,18)^u64$3.rotrBH(ur,hr,41),kr=u64$3.rotrSL(ur,hr,14)^u64$3.rotrSL(ur,hr,18)^u64$3.rotrBL(ur,hr,41),Mr=ur&dr^~ur&mr,Cr=hr&pr^~hr&xr,Dr=u64$3.add5L(yr,kr,Cr,SHA512_Kl[gr],SHA512_W_L[gr]),zr=u64$3.add5H(Dr,br,Er,Mr,SHA512_Kh[gr],SHA512_W_H[gr]),Wr=Dr|0,Gr=u64$3.rotrSH(nr,rr,28)^u64$3.rotrBH(nr,rr,34)^u64$3.rotrBH(nr,rr,39),Kr=u64$3.rotrSL(nr,rr,28)^u64$3.rotrBL(nr,rr,34)^u64$3.rotrBL(nr,rr,39),Lr=nr&ir^nr&or^ir&or,fr=rr&sr^rr&ar^sr&ar;br=mr|0,yr=xr|0,mr=dr|0,xr=pr|0,dr=ur|0,pr=hr|0,{h:ur,l:hr}=u64$3.add(lr|0,cr|0,zr|0,Wr|0),lr=or|0,cr=ar|0,or=ir|0,ar=sr|0,ir=nr|0,sr=rr|0;const vr=u64$3.add3L(Wr,Kr,fr);nr=u64$3.add3H(vr,zr,Gr,Lr),rr=vr|0}({h:nr,l:rr}=u64$3.add(this.Ah|0,this.Al|0,nr|0,rr|0)),{h:ir,l:sr}=u64$3.add(this.Bh|0,this.Bl|0,ir|0,sr|0),{h:or,l:ar}=u64$3.add(this.Ch|0,this.Cl|0,or|0,ar|0),{h:lr,l:cr}=u64$3.add(this.Dh|0,this.Dl|0,lr|0,cr|0),{h:ur,l:hr}=u64$3.add(this.Eh|0,this.El|0,ur|0,hr|0),{h:dr,l:pr}=u64$3.add(this.Fh|0,this.Fl|0,dr|0,pr|0),{h:mr,l:xr}=u64$3.add(this.Gh|0,this.Gl|0,mr|0,xr|0),{h:br,l:yr}=u64$3.add(this.Hh|0,this.Hl|0,br|0,yr|0),this.set(nr,rr,ir,sr,or,ar,lr,cr,ur,hr,dr,pr,mr,xr,br,yr)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$7=BigInt(1),_2n$5=BigInt(2);function isBytes(er){return er instanceof Uint8Array||ArrayBuffer.isView(er)&&er.constructor.name==="Uint8Array"}function abytes(er){if(!isBytes(er))throw new Error("Uint8Array expected")}function abool(er,s){if(typeof s!="boolean")throw new Error(er+" boolean expected, got "+s)}const hexes=Array.from({length:256},(er,s)=>s.toString(16).padStart(2,"0"));function bytesToHex(er){abytes(er);let s="";for(let tr=0;tr<er.length;tr++)s+=hexes[er[tr]];return s}function numberToHexUnpadded(er){const s=er.toString(16);return s.length&1?"0"+s:s}function hexToNumber(er){if(typeof er!="string")throw new Error("hex string expected, got "+typeof er);return er===""?_0n$5:BigInt("0x"+er)}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(er){if(er>=asciis._0&&er<=asciis._9)return er-asciis._0;if(er>=asciis.A&&er<=asciis.F)return er-(asciis.A-10);if(er>=asciis.a&&er<=asciis.f)return er-(asciis.a-10)}function hexToBytes(er){if(typeof er!="string")throw new Error("hex string expected, got "+typeof er);const s=er.length,tr=s/2;if(s%2)throw new Error("hex string expected, got unpadded hex of length "+s);const nr=new Uint8Array(tr);for(let rr=0,ir=0;rr<tr;rr++,ir+=2){const sr=asciiToBase16(er.charCodeAt(ir)),or=asciiToBase16(er.charCodeAt(ir+1));if(sr===void 0||or===void 0){const ar=er[ir]+er[ir+1];throw new Error('hex string expected, got non-hex character "'+ar+'" at index '+ir)}nr[rr]=sr*16+or}return nr}function bytesToNumberBE(er){return hexToNumber(bytesToHex(er))}function bytesToNumberLE(er){return abytes(er),hexToNumber(bytesToHex(Uint8Array.from(er).reverse()))}function numberToBytesBE(er,s){return hexToBytes(er.toString(16).padStart(s*2,"0"))}function numberToBytesLE(er,s){return numberToBytesBE(er,s).reverse()}function numberToVarBytesBE(er){return hexToBytes(numberToHexUnpadded(er))}function ensureBytes(er,s,tr){let nr;if(typeof s=="string")try{nr=hexToBytes(s)}catch(ir){throw new Error(er+" must be hex string or Uint8Array, cause: "+ir)}else if(isBytes(s))nr=Uint8Array.from(s);else throw new Error(er+" must be hex string or Uint8Array");const rr=nr.length;if(typeof tr=="number"&&rr!==tr)throw new Error(er+" of length "+tr+" expected, got "+rr);return nr}function concatBytes(...er){let s=0;for(let nr=0;nr<er.length;nr++){const rr=er[nr];abytes(rr),s+=rr.length}const tr=new Uint8Array(s);for(let nr=0,rr=0;nr<er.length;nr++){const ir=er[nr];tr.set(ir,rr),rr+=ir.length}return tr}function equalBytes(er,s){if(er.length!==s.length)return!1;let tr=0;for(let nr=0;nr<er.length;nr++)tr|=er[nr]^s[nr];return tr===0}function utf8ToBytes(er){if(typeof er!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(er))}const isPosBig=er=>typeof er=="bigint"&&_0n$5<=er;function inRange$1(er,s,tr){return isPosBig(er)&&isPosBig(s)&&isPosBig(tr)&&s<=er&&er<tr}function aInRange(er,s,tr,nr){if(!inRange$1(s,tr,nr))throw new Error("expected valid "+er+": "+tr+" <= n < "+nr+", got "+s)}function bitLen(er){let s;for(s=0;er>_0n$5;er>>=_1n$7,s+=1);return s}function bitGet(er,s){return er>>BigInt(s)&_1n$7}function bitSet(er,s,tr){return er|(tr?_1n$7:_0n$5)<<BigInt(s)}const bitMask=er=>(_2n$5<<BigInt(er-1))-_1n$7,u8n=er=>new Uint8Array(er),u8fr=er=>Uint8Array.from(er);function createHmacDrbg(er,s,tr){if(typeof er!="number"||er<2)throw new Error("hashLen must be a number");if(typeof s!="number"||s<2)throw new Error("qByteLen must be a number");if(typeof tr!="function")throw new Error("hmacFn must be a function");let nr=u8n(er),rr=u8n(er),ir=0;const sr=()=>{nr.fill(1),rr.fill(0),ir=0},or=(...ur)=>tr(rr,nr,...ur),ar=(ur=u8n())=>{rr=or(u8fr([0]),ur),nr=or(),ur.length!==0&&(rr=or(u8fr([1]),ur),nr=or())},lr=()=>{if(ir++>=1e3)throw new Error("drbg: tried 1000 values");let ur=0;const hr=[];for(;ur<s;){nr=or();const dr=nr.slice();hr.push(dr),ur+=nr.length}return concatBytes(...hr)};return(ur,hr)=>{sr(),ar(ur);let dr;for(;!(dr=hr(lr()));)ar();return sr(),dr}}const validatorFns={bigint:er=>typeof er=="bigint",function:er=>typeof er=="function",boolean:er=>typeof er=="boolean",string:er=>typeof er=="string",stringOrUint8Array:er=>typeof er=="string"||isBytes(er),isSafeInteger:er=>Number.isSafeInteger(er),array:er=>Array.isArray(er),field:(er,s)=>s.Fp.isValid(er),hash:er=>typeof er=="function"&&Number.isSafeInteger(er.outputLen)};function validateObject(er,s,tr={}){const nr=(rr,ir,sr)=>{const or=validatorFns[ir];if(typeof or!="function")throw new Error("invalid validator function");const ar=er[rr];if(!(sr&&ar===void 0)&&!or(ar,er))throw new Error("param "+String(rr)+" is invalid. Expected "+ir+", got "+ar)};for(const[rr,ir]of Object.entries(s))nr(rr,ir,!1);for(const[rr,ir]of Object.entries(tr))nr(rr,ir,!0);return er}const notImplemented=()=>{throw new Error("not implemented")};function memoized(er){const s=new WeakMap;return(tr,...nr)=>{const rr=s.get(tr);if(rr!==void 0)return rr;const ir=er(tr,...nr);return s.set(tr,ir),ir}}const ut$1=Object.freeze(Object.defineProperty({__proto__:null,aInRange,abool,abytes,bitGet,bitLen,bitMask,bitSet,bytesToHex,bytesToNumberBE,bytesToNumberLE,concatBytes,createHmacDrbg,ensureBytes,equalBytes,hexToBytes,hexToNumber,inRange:inRange$1,isBytes,memoized,notImplemented,numberToBytesBE,numberToBytesLE,numberToHexUnpadded,numberToVarBytesBE,utf8ToBytes,validateObject},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod(er,s){const tr=er%s;return tr>=_0n$4?tr:s+tr}function pow$2(er,s,tr){if(s<_0n$4)throw new Error("invalid exponent, negatives unsupported");if(tr<=_0n$4)throw new Error("invalid modulus");if(tr===_1n$6)return _0n$4;let nr=_1n$6;for(;s>_0n$4;)s&_1n$6&&(nr=nr*er%tr),er=er*er%tr,s>>=_1n$6;return nr}function pow2(er,s,tr){let nr=er;for(;s-- >_0n$4;)nr*=nr,nr%=tr;return nr}function invert(er,s){if(er===_0n$4)throw new Error("invert: expected non-zero number");if(s<=_0n$4)throw new Error("invert: expected positive modulus, got "+s);let tr=mod(er,s),nr=s,rr=_0n$4,ir=_1n$6;for(;tr!==_0n$4;){const or=nr/tr,ar=nr%tr,lr=rr-ir*or;nr=tr,tr=ar,rr=ir,ir=lr}if(nr!==_1n$6)throw new Error("invert: does not exist");return mod(rr,s)}function tonelliShanks(er){const s=(er-_1n$6)/_2n$4;let tr,nr,rr;for(tr=er-_1n$6,nr=0;tr%_2n$4===_0n$4;tr/=_2n$4,nr++);for(rr=_2n$4;rr<er&&pow$2(rr,s,er)!==er-_1n$6;rr++)if(rr>1e3)throw new Error("Cannot find square root: likely non-prime P");if(nr===1){const sr=(er+_1n$6)/_4n;return function(ar,lr){const cr=ar.pow(lr,sr);if(!ar.eql(ar.sqr(cr),lr))throw new Error("Cannot find square root");return cr}}const ir=(tr+_1n$6)/_2n$4;return function(or,ar){if(or.pow(ar,s)===or.neg(or.ONE))throw new Error("Cannot find square root");let lr=nr,cr=or.pow(or.mul(or.ONE,rr),tr),ur=or.pow(ar,ir),hr=or.pow(ar,tr);for(;!or.eql(hr,or.ONE);){if(or.eql(hr,or.ZERO))return or.ZERO;let dr=1;for(let mr=or.sqr(hr);dr<lr&&!or.eql(mr,or.ONE);dr++)mr=or.sqr(mr);const pr=or.pow(cr,_1n$6<<BigInt(lr-dr-1));cr=or.sqr(pr),ur=or.mul(ur,pr),hr=or.mul(hr,cr),lr=dr}return ur}}function FpSqrt(er){if(er%_4n===_3n$1){const s=(er+_1n$6)/_4n;return function(nr,rr){const ir=nr.pow(rr,s);if(!nr.eql(nr.sqr(ir),rr))throw new Error("Cannot find square root");return ir}}if(er%_8n$2===_5n$1){const s=(er-_5n$1)/_8n$2;return function(nr,rr){const ir=nr.mul(rr,_2n$4),sr=nr.pow(ir,s),or=nr.mul(rr,sr),ar=nr.mul(nr.mul(or,_2n$4),sr),lr=nr.mul(or,nr.sub(ar,nr.ONE));if(!nr.eql(nr.sqr(lr),rr))throw new Error("Cannot find square root");return lr}}return tonelliShanks(er)}const isNegativeLE=(er,s)=>(mod(er,s)&_1n$6)===_1n$6,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(er){const s={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},tr=FIELD_FIELDS.reduce((nr,rr)=>(nr[rr]="function",nr),s);return validateObject(er,tr)}function FpPow(er,s,tr){if(tr<_0n$4)throw new Error("invalid exponent, negatives unsupported");if(tr===_0n$4)return er.ONE;if(tr===_1n$6)return s;let nr=er.ONE,rr=s;for(;tr>_0n$4;)tr&_1n$6&&(nr=er.mul(nr,rr)),rr=er.sqr(rr),tr>>=_1n$6;return nr}function FpInvertBatch(er,s){const tr=new Array(s.length),nr=s.reduce((ir,sr,or)=>er.is0(sr)?ir:(tr[or]=ir,er.mul(ir,sr)),er.ONE),rr=er.inv(nr);return s.reduceRight((ir,sr,or)=>er.is0(sr)?ir:(tr[or]=er.mul(ir,tr[or]),er.mul(ir,sr)),rr),tr}function nLength(er,s){const tr=s!==void 0?s:er.toString(2).length,nr=Math.ceil(tr/8);return{nBitLength:tr,nByteLength:nr}}function Field(er,s,tr=!1,nr={}){if(er<=_0n$4)throw new Error("invalid field: expected ORDER > 0, got "+er);const{nBitLength:rr,nByteLength:ir}=nLength(er,s);if(ir>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let sr;const or=Object.freeze({ORDER:er,BITS:rr,BYTES:ir,MASK:bitMask(rr),ZERO:_0n$4,ONE:_1n$6,create:ar=>mod(ar,er),isValid:ar=>{if(typeof ar!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof ar);return _0n$4<=ar&&ar<er},is0:ar=>ar===_0n$4,isOdd:ar=>(ar&_1n$6)===_1n$6,neg:ar=>mod(-ar,er),eql:(ar,lr)=>ar===lr,sqr:ar=>mod(ar*ar,er),add:(ar,lr)=>mod(ar+lr,er),sub:(ar,lr)=>mod(ar-lr,er),mul:(ar,lr)=>mod(ar*lr,er),pow:(ar,lr)=>FpPow(or,ar,lr),div:(ar,lr)=>mod(ar*invert(lr,er),er),sqrN:ar=>ar*ar,addN:(ar,lr)=>ar+lr,subN:(ar,lr)=>ar-lr,mulN:(ar,lr)=>ar*lr,inv:ar=>invert(ar,er),sqrt:nr.sqrt||(ar=>(sr||(sr=FpSqrt(er)),sr(or,ar))),invertBatch:ar=>FpInvertBatch(or,ar),cmov:(ar,lr,cr)=>cr?lr:ar,toBytes:ar=>tr?numberToBytesLE(ar,ir):numberToBytesBE(ar,ir),fromBytes:ar=>{if(ar.length!==ir)throw new Error("Field.fromBytes: expected "+ir+" bytes, got "+ar.length);return tr?bytesToNumberLE(ar):bytesToNumberBE(ar)}});return Object.freeze(or)}function getFieldBytesLength(er){if(typeof er!="bigint")throw new Error("field order must be bigint");const s=er.toString(2).length;return Math.ceil(s/8)}function getMinHashLength(er){const s=getFieldBytesLength(er);return s+Math.ceil(s/2)}function mapHashToField(er,s,tr=!1){const nr=er.length,rr=getFieldBytesLength(s),ir=getMinHashLength(s);if(nr<16||nr<ir||nr>1024)throw new Error("expected "+ir+"-1024 bytes of input, got "+nr);const sr=tr?bytesToNumberBE(er):bytesToNumberLE(er),or=mod(sr,s-_1n$6)+_1n$6;return tr?numberToBytesLE(or,rr):numberToBytesBE(or,rr)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$5=BigInt(1);function constTimeNegate(er,s){const tr=s.negate();return er?tr:s}function validateW(er,s){if(!Number.isSafeInteger(er)||er<=0||er>s)throw new Error("invalid window size, expected [1.."+s+"], got W="+er)}function calcWOpts(er,s){validateW(er,s);const tr=Math.ceil(s/er)+1,nr=2**(er-1);return{windows:tr,windowSize:nr}}function validateMSMPoints(er,s){if(!Array.isArray(er))throw new Error("array expected");er.forEach((tr,nr)=>{if(!(tr instanceof s))throw new Error("invalid point at index "+nr)})}function validateMSMScalars(er,s){if(!Array.isArray(er))throw new Error("array of scalars expected");er.forEach((tr,nr)=>{if(!s.isValid(tr))throw new Error("invalid scalar at index "+nr)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(er){return pointWindowSizes.get(er)||1}function wNAF(er,s){return{constTimeNegate,hasPrecomputes(tr){return getW(tr)!==1},unsafeLadder(tr,nr,rr=er.ZERO){let ir=tr;for(;nr>_0n$3;)nr&_1n$5&&(rr=rr.add(ir)),ir=ir.double(),nr>>=_1n$5;return rr},precomputeWindow(tr,nr){const{windows:rr,windowSize:ir}=calcWOpts(nr,s),sr=[];let or=tr,ar=or;for(let lr=0;lr<rr;lr++){ar=or,sr.push(ar);for(let cr=1;cr<ir;cr++)ar=ar.add(or),sr.push(ar);or=ar.double()}return sr},wNAF(tr,nr,rr){const{windows:ir,windowSize:sr}=calcWOpts(tr,s);let or=er.ZERO,ar=er.BASE;const lr=BigInt(2**tr-1),cr=2**tr,ur=BigInt(tr);for(let hr=0;hr<ir;hr++){const dr=hr*sr;let pr=Number(rr&lr);rr>>=ur,pr>sr&&(pr-=cr,rr+=_1n$5);const mr=dr,xr=dr+Math.abs(pr)-1,br=hr%2!==0,yr=pr<0;pr===0?ar=ar.add(constTimeNegate(br,nr[mr])):or=or.add(constTimeNegate(yr,nr[xr]))}return{p:or,f:ar}},wNAFUnsafe(tr,nr,rr,ir=er.ZERO){const{windows:sr,windowSize:or}=calcWOpts(tr,s),ar=BigInt(2**tr-1),lr=2**tr,cr=BigInt(tr);for(let ur=0;ur<sr;ur++){const hr=ur*or;if(rr===_0n$3)break;let dr=Number(rr&ar);if(rr>>=cr,dr>or&&(dr-=lr,rr+=_1n$5),dr===0)continue;let pr=nr[hr+Math.abs(dr)-1];dr<0&&(pr=pr.negate()),ir=ir.add(pr)}return ir},getPrecomputes(tr,nr,rr){let ir=pointPrecomputes.get(nr);return ir||(ir=this.precomputeWindow(nr,tr),tr!==1&&pointPrecomputes.set(nr,rr(ir))),ir},wNAFCached(tr,nr,rr){const ir=getW(tr);return this.wNAF(ir,this.getPrecomputes(ir,tr,rr),nr)},wNAFCachedUnsafe(tr,nr,rr,ir){const sr=getW(tr);return sr===1?this.unsafeLadder(tr,nr,ir):this.wNAFUnsafe(sr,this.getPrecomputes(sr,tr,rr),nr,ir)},setWindowSize(tr,nr){validateW(nr,s),pointWindowSizes.set(tr,nr),pointPrecomputes.delete(tr)}}}function pippenger(er,s,tr,nr){if(validateMSMPoints(tr,er),validateMSMScalars(nr,s),tr.length!==nr.length)throw new Error("arrays of points and scalars must have equal length");const rr=er.ZERO,ir=bitLen(BigInt(tr.length)),sr=ir>12?ir-3:ir>4?ir-2:ir?2:1,or=(1<<sr)-1,ar=new Array(or+1).fill(rr),lr=Math.floor((s.BITS-1)/sr)*sr;let cr=rr;for(let ur=lr;ur>=0;ur-=sr){ar.fill(rr);for(let dr=0;dr<nr.length;dr++){const pr=nr[dr],mr=Number(pr>>BigInt(ur)&BigInt(or));ar[mr]=ar[mr].add(tr[dr])}let hr=rr;for(let dr=ar.length-1,pr=rr;dr>0;dr--)pr=pr.add(ar[dr]),hr=hr.add(pr);if(cr=cr.add(hr),ur!==0)for(let dr=0;dr<sr;dr++)cr=cr.double()}return cr}function validateBasic(er){return validateField(er.Fp),validateObject(er,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(er.n,er.nBitLength),...er,p:er.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$4=BigInt(1),_2n$3=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(er){const s=validateBasic(er);return validateObject(er,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...s})}function twistedEdwards(er){const s=validateOpts$1(er),{Fp:tr,n:nr,prehash:rr,hash:ir,randomBytes:sr,nByteLength:or,h:ar}=s,lr=_2n$3<<BigInt(or*8)-_1n$4,cr=tr.create,ur=Field(s.n,s.nBitLength),hr=s.uvRatio||(($r,Tr)=>{try{return{isValid:!0,value:tr.sqrt($r*tr.inv(Tr))}}catch{return{isValid:!1,value:_0n$2}}}),dr=s.adjustScalarBytes||($r=>$r),pr=s.domain||(($r,Tr,Ar)=>{if(abool("phflag",Ar),Tr.length||Ar)throw new Error("Contexts/pre-hash are not supported");return $r});function mr($r,Tr){aInRange("coordinate "+$r,Tr,_0n$2,lr)}function xr($r){if(!($r instanceof gr))throw new Error("ExtendedPoint expected")}const br=memoized(($r,Tr)=>{const{ex:Ar,ey:jr,ez:Or}=$r,Nr=$r.is0();Tr==null&&(Tr=Nr?_8n$1:tr.inv(Or));const wr=cr(Ar*Tr),Rr=cr(jr*Tr),Pr=cr(Or*Tr);if(Nr)return{x:_0n$2,y:_1n$4};if(Pr!==_1n$4)throw new Error("invZ was invalid");return{x:wr,y:Rr}}),yr=memoized($r=>{const{a:Tr,d:Ar}=s;if($r.is0())throw new Error("bad point: ZERO");const{ex:jr,ey:Or,ez:Nr,et:wr}=$r,Rr=cr(jr*jr),Pr=cr(Or*Or),Br=cr(Nr*Nr),Ur=cr(Br*Br),Jr=cr(Rr*Tr),qr=cr(Br*cr(Jr+Pr)),Zr=cr(Ur+cr(Ar*cr(Rr*Pr)));if(qr!==Zr)throw new Error("bad point: equation left != right (1)");const oo=cr(jr*Or),eo=cr(Nr*wr);if(oo!==eo)throw new Error("bad point: equation left != right (2)");return!0});class gr{constructor(Tr,Ar,jr,Or){this.ex=Tr,this.ey=Ar,this.ez=jr,this.et=Or,mr("x",Tr),mr("y",Ar),mr("z",jr),mr("t",Or),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Tr){if(Tr instanceof gr)throw new Error("extended point not allowed");const{x:Ar,y:jr}=Tr||{};return mr("x",Ar),mr("y",jr),new gr(Ar,jr,_1n$4,cr(Ar*jr))}static normalizeZ(Tr){const Ar=tr.invertBatch(Tr.map(jr=>jr.ez));return Tr.map((jr,Or)=>jr.toAffine(Ar[Or])).map(gr.fromAffine)}static msm(Tr,Ar){return pippenger(gr,ur,Tr,Ar)}_setWindowSize(Tr){Mr.setWindowSize(this,Tr)}assertValidity(){yr(this)}equals(Tr){xr(Tr);const{ex:Ar,ey:jr,ez:Or}=this,{ex:Nr,ey:wr,ez:Rr}=Tr,Pr=cr(Ar*Rr),Br=cr(Nr*Or),Ur=cr(jr*Rr),Jr=cr(wr*Or);return Pr===Br&&Ur===Jr}is0(){return this.equals(gr.ZERO)}negate(){return new gr(cr(-this.ex),this.ey,this.ez,cr(-this.et))}double(){const{a:Tr}=s,{ex:Ar,ey:jr,ez:Or}=this,Nr=cr(Ar*Ar),wr=cr(jr*jr),Rr=cr(_2n$3*cr(Or*Or)),Pr=cr(Tr*Nr),Br=Ar+jr,Ur=cr(cr(Br*Br)-Nr-wr),Jr=Pr+wr,qr=Jr-Rr,Zr=Pr-wr,oo=cr(Ur*qr),eo=cr(Jr*Zr),uo=cr(Ur*Zr),vo=cr(qr*Jr);return new gr(oo,eo,vo,uo)}add(Tr){xr(Tr);const{a:Ar,d:jr}=s,{ex:Or,ey:Nr,ez:wr,et:Rr}=this,{ex:Pr,ey:Br,ez:Ur,et:Jr}=Tr;if(Ar===BigInt(-1)){const Ro=cr((Nr-Or)*(Br+Pr)),$o=cr((Nr+Or)*(Br-Pr)),Vo=cr($o-Ro);if(Vo===_0n$2)return this.double();const Ao=cr(wr*_2n$3*Jr),Vr=cr(Rr*_2n$3*Ur),Xr=Vr+Ao,co=$o+Ro,ho=Vr-Ao,fo=cr(Xr*Vo),mo=cr(co*ho),Ir=cr(Xr*ho),_r=cr(Vo*co);return new gr(fo,mo,_r,Ir)}const qr=cr(Or*Pr),Zr=cr(Nr*Br),oo=cr(Rr*jr*Jr),eo=cr(wr*Ur),uo=cr((Or+Nr)*(Pr+Br)-qr-Zr),vo=eo-oo,go=eo+oo,xo=cr(Zr-Ar*qr),To=cr(uo*vo),po=cr(go*xo),So=cr(uo*xo),to=cr(vo*go);return new gr(To,po,to,So)}subtract(Tr){return this.add(Tr.negate())}wNAF(Tr){return Mr.wNAFCached(this,Tr,gr.normalizeZ)}multiply(Tr){const Ar=Tr;aInRange("scalar",Ar,_1n$4,nr);const{p:jr,f:Or}=this.wNAF(Ar);return gr.normalizeZ([jr,Or])[0]}multiplyUnsafe(Tr,Ar=gr.ZERO){const jr=Tr;return aInRange("scalar",jr,_0n$2,nr),jr===_0n$2?kr:this.is0()||jr===_1n$4?this:Mr.wNAFCachedUnsafe(this,jr,gr.normalizeZ,Ar)}isSmallOrder(){return this.multiplyUnsafe(ar).is0()}isTorsionFree(){return Mr.unsafeLadder(this,nr).is0()}toAffine(Tr){return br(this,Tr)}clearCofactor(){const{h:Tr}=s;return Tr===_1n$4?this:this.multiplyUnsafe(Tr)}static fromHex(Tr,Ar=!1){const{d:jr,a:Or}=s,Nr=tr.BYTES;Tr=ensureBytes("pointHex",Tr,Nr),abool("zip215",Ar);const wr=Tr.slice(),Rr=Tr[Nr-1];wr[Nr-1]=Rr&-129;const Pr=bytesToNumberLE(wr),Br=Ar?lr:tr.ORDER;aInRange("pointHex.y",Pr,_0n$2,Br);const Ur=cr(Pr*Pr),Jr=cr(Ur-_1n$4),qr=cr(jr*Ur-Or);let{isValid:Zr,value:oo}=hr(Jr,qr);if(!Zr)throw new Error("Point.fromHex: invalid y coordinate");const eo=(oo&_1n$4)===_1n$4,uo=(Rr&128)!==0;if(!Ar&&oo===_0n$2&&uo)throw new Error("Point.fromHex: x=0 and x_0=1");return uo!==eo&&(oo=cr(-oo)),gr.fromAffine({x:oo,y:Pr})}static fromPrivateKey(Tr){return zr(Tr).point}toRawBytes(){const{x:Tr,y:Ar}=this.toAffine(),jr=numberToBytesLE(Ar,tr.BYTES);return jr[jr.length-1]|=Tr&_1n$4?128:0,jr}toHex(){return bytesToHex(this.toRawBytes())}}gr.BASE=new gr(s.Gx,s.Gy,_1n$4,cr(s.Gx*s.Gy)),gr.ZERO=new gr(_0n$2,_1n$4,_1n$4,_0n$2);const{BASE:Er,ZERO:kr}=gr,Mr=wNAF(gr,or*8);function Cr($r){return mod($r,nr)}function Dr($r){return Cr(bytesToNumberLE($r))}function zr($r){const Tr=tr.BYTES;$r=ensureBytes("private key",$r,Tr);const Ar=ensureBytes("hashed private key",ir($r),2*Tr),jr=dr(Ar.slice(0,Tr)),Or=Ar.slice(Tr,2*Tr),Nr=Dr(jr),wr=Er.multiply(Nr),Rr=wr.toRawBytes();return{head:jr,prefix:Or,scalar:Nr,point:wr,pointBytes:Rr}}function Wr($r){return zr($r).pointBytes}function Gr($r=new Uint8Array,...Tr){const Ar=concatBytes(...Tr);return Dr(ir(pr(Ar,ensureBytes("context",$r),!!rr)))}function Kr($r,Tr,Ar={}){$r=ensureBytes("message",$r),rr&&($r=rr($r));const{prefix:jr,scalar:Or,pointBytes:Nr}=zr(Tr),wr=Gr(Ar.context,jr,$r),Rr=Er.multiply(wr).toRawBytes(),Pr=Gr(Ar.context,Rr,Nr,$r),Br=Cr(wr+Pr*Or);aInRange("signature.s",Br,_0n$2,nr);const Ur=concatBytes(Rr,numberToBytesLE(Br,tr.BYTES));return ensureBytes("result",Ur,tr.BYTES*2)}const Lr=VERIFY_DEFAULT;function fr($r,Tr,Ar,jr=Lr){const{context:Or,zip215:Nr}=jr,wr=tr.BYTES;$r=ensureBytes("signature",$r,2*wr),Tr=ensureBytes("message",Tr),Ar=ensureBytes("publicKey",Ar,wr),Nr!==void 0&&abool("zip215",Nr),rr&&(Tr=rr(Tr));const Rr=bytesToNumberLE($r.slice(wr,2*wr));let Pr,Br,Ur;try{Pr=gr.fromHex(Ar,Nr),Br=gr.fromHex($r.slice(0,wr),Nr),Ur=Er.multiplyUnsafe(Rr)}catch{return!1}if(!Nr&&Pr.isSmallOrder())return!1;const Jr=Gr(Or,Br.toRawBytes(),Pr.toRawBytes(),Tr);return Br.add(Pr.multiplyUnsafe(Jr)).subtract(Ur).clearCofactor().equals(gr.ZERO)}return Er._setWindowSize(8),{CURVE:s,getPublicKey:Wr,sign:Kr,verify:fr,ExtendedPoint:gr,utils:{getExtendedPublicKey:zr,randomPrivateKey:()=>sr(tr.BYTES),precompute($r=8,Tr=gr.BASE){return Tr._setWindowSize($r),Tr.multiply(BigInt(3)),Tr}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$3=BigInt(1),_2n$2=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(er){const s=BigInt(10),tr=BigInt(20),nr=BigInt(40),rr=BigInt(80),ir=ED25519_P,or=er*er%ir*er%ir,ar=pow2(or,_2n$2,ir)*or%ir,lr=pow2(ar,_1n$3,ir)*er%ir,cr=pow2(lr,_5n,ir)*lr%ir,ur=pow2(cr,s,ir)*cr%ir,hr=pow2(ur,tr,ir)*ur%ir,dr=pow2(hr,nr,ir)*hr%ir,pr=pow2(dr,rr,ir)*dr%ir,mr=pow2(pr,rr,ir)*dr%ir,xr=pow2(mr,s,ir)*cr%ir;return{pow_p_5_8:pow2(xr,_2n$2,ir)*er%ir,b2:or}}function adjustScalarBytes(er){return er[0]&=248,er[31]&=127,er[31]|=64,er}function uvRatio(er,s){const tr=ED25519_P,nr=mod(s*s*s,tr),rr=mod(nr*nr*s,tr),ir=ed25519_pow_2_252_3(er*rr).pow_p_5_8;let sr=mod(er*nr*ir,tr);const or=mod(s*sr*sr,tr),ar=sr,lr=mod(sr*ED25519_SQRT_M1,tr),cr=or===er,ur=or===mod(-er,tr),hr=or===mod(-er*ED25519_SQRT_M1,tr);return cr&&(sr=ar),(ur||hr)&&(sr=lr),isNegativeLE(sr,tr)&&(sr=mod(-sr,tr)),{isValid:cr||ur,value:sr}}const Fp=Field(ED25519_P,void 0,!0),ed25519Defaults={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio},ed25519=twistedEdwards(ed25519Defaults);var bn$1={exports:{}};const require$$2$1=getAugmentedNamespace(dist$1);bn$1.exports;(function(er){(function(s,tr){function nr(Lr,fr){if(!Lr)throw new Error(fr||"Assertion failed")}function rr(Lr,fr){Lr.super_=fr;var vr=function(){};vr.prototype=fr.prototype,Lr.prototype=new vr,Lr.prototype.constructor=Lr}function ir(Lr,fr,vr){if(ir.isBN(Lr))return Lr;this.negative=0,this.words=null,this.length=0,this.red=null,Lr!==null&&((fr==="le"||fr==="be")&&(vr=fr,fr=10),this._init(Lr||0,fr||10,vr||"be"))}typeof s=="object"?s.exports=ir:tr.BN=ir,ir.BN=ir,ir.wordSize=26;var sr;try{typeof window<"u"&&typeof window.Buffer<"u"?sr=window.Buffer:sr=require$$2$1.Buffer}catch{}ir.isBN=function(fr){return fr instanceof ir?!0:fr!==null&&typeof fr=="object"&&fr.constructor.wordSize===ir.wordSize&&Array.isArray(fr.words)},ir.max=function(fr,vr){return fr.cmp(vr)>0?fr:vr},ir.min=function(fr,vr){return fr.cmp(vr)<0?fr:vr},ir.prototype._init=function(fr,vr,$r){if(typeof fr=="number")return this._initNumber(fr,vr,$r);if(typeof fr=="object")return this._initArray(fr,vr,$r);vr==="hex"&&(vr=16),nr(vr===(vr|0)&&vr>=2&&vr<=36),fr=fr.toString().replace(/\s+/g,"");var Tr=0;fr[0]==="-"&&(Tr++,this.negative=1),Tr<fr.length&&(vr===16?this._parseHex(fr,Tr,$r):(this._parseBase(fr,vr,Tr),$r==="le"&&this._initArray(this.toArray(),vr,$r)))},ir.prototype._initNumber=function(fr,vr,$r){fr<0&&(this.negative=1,fr=-fr),fr<67108864?(this.words=[fr&67108863],this.length=1):fr<4503599627370496?(this.words=[fr&67108863,fr/67108864&67108863],this.length=2):(nr(fr<9007199254740992),this.words=[fr&67108863,fr/67108864&67108863,1],this.length=3),$r==="le"&&this._initArray(this.toArray(),vr,$r)},ir.prototype._initArray=function(fr,vr,$r){if(nr(typeof fr.length=="number"),fr.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(fr.length/3),this.words=new Array(this.length);for(var Tr=0;Tr<this.length;Tr++)this.words[Tr]=0;var Ar,jr,Or=0;if($r==="be")for(Tr=fr.length-1,Ar=0;Tr>=0;Tr-=3)jr=fr[Tr]|fr[Tr-1]<<8|fr[Tr-2]<<16,this.words[Ar]|=jr<<Or&67108863,this.words[Ar+1]=jr>>>26-Or&67108863,Or+=24,Or>=26&&(Or-=26,Ar++);else if($r==="le")for(Tr=0,Ar=0;Tr<fr.length;Tr+=3)jr=fr[Tr]|fr[Tr+1]<<8|fr[Tr+2]<<16,this.words[Ar]|=jr<<Or&67108863,this.words[Ar+1]=jr>>>26-Or&67108863,Or+=24,Or>=26&&(Or-=26,Ar++);return this._strip()};function or(Lr,fr){var vr=Lr.charCodeAt(fr);if(vr>=48&&vr<=57)return vr-48;if(vr>=65&&vr<=70)return vr-55;if(vr>=97&&vr<=102)return vr-87;nr(!1,"Invalid character in "+Lr)}function ar(Lr,fr,vr){var $r=or(Lr,vr);return vr-1>=fr&&($r|=or(Lr,vr-1)<<4),$r}ir.prototype._parseHex=function(fr,vr,$r){this.length=Math.ceil((fr.length-vr)/6),this.words=new Array(this.length);for(var Tr=0;Tr<this.length;Tr++)this.words[Tr]=0;var Ar=0,jr=0,Or;if($r==="be")for(Tr=fr.length-1;Tr>=vr;Tr-=2)Or=ar(fr,vr,Tr)<<Ar,this.words[jr]|=Or&67108863,Ar>=18?(Ar-=18,jr+=1,this.words[jr]|=Or>>>26):Ar+=8;else{var Nr=fr.length-vr;for(Tr=Nr%2===0?vr+1:vr;Tr<fr.length;Tr+=2)Or=ar(fr,vr,Tr)<<Ar,this.words[jr]|=Or&67108863,Ar>=18?(Ar-=18,jr+=1,this.words[jr]|=Or>>>26):Ar+=8}this._strip()};function lr(Lr,fr,vr,$r){for(var Tr=0,Ar=0,jr=Math.min(Lr.length,vr),Or=fr;Or<jr;Or++){var Nr=Lr.charCodeAt(Or)-48;Tr*=$r,Nr>=49?Ar=Nr-49+10:Nr>=17?Ar=Nr-17+10:Ar=Nr,nr(Nr>=0&&Ar<$r,"Invalid character"),Tr+=Ar}return Tr}ir.prototype._parseBase=function(fr,vr,$r){this.words=[0],this.length=1;for(var Tr=0,Ar=1;Ar<=67108863;Ar*=vr)Tr++;Tr--,Ar=Ar/vr|0;for(var jr=fr.length-$r,Or=jr%Tr,Nr=Math.min(jr,jr-Or)+$r,wr=0,Rr=$r;Rr<Nr;Rr+=Tr)wr=lr(fr,Rr,Rr+Tr,vr),this.imuln(Ar),this.words[0]+wr<67108864?this.words[0]+=wr:this._iaddn(wr);if(Or!==0){var Pr=1;for(wr=lr(fr,Rr,fr.length,vr),Rr=0;Rr<Or;Rr++)Pr*=vr;this.imuln(Pr),this.words[0]+wr<67108864?this.words[0]+=wr:this._iaddn(wr)}this._strip()},ir.prototype.copy=function(fr){fr.words=new Array(this.length);for(var vr=0;vr<this.length;vr++)fr.words[vr]=this.words[vr];fr.length=this.length,fr.negative=this.negative,fr.red=this.red};function cr(Lr,fr){Lr.words=fr.words,Lr.length=fr.length,Lr.negative=fr.negative,Lr.red=fr.red}if(ir.prototype._move=function(fr){cr(fr,this)},ir.prototype.clone=function(){var fr=new ir(null);return this.copy(fr),fr},ir.prototype._expand=function(fr){for(;this.length<fr;)this.words[this.length++]=0;return this},ir.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ir.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ir.prototype[Symbol.for("nodejs.util.inspect.custom")]=ur}catch{ir.prototype.inspect=ur}else ir.prototype.inspect=ur;function ur(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var hr=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],dr=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],pr=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ir.prototype.toString=function(fr,vr){fr=fr||10,vr=vr|0||1;var $r;if(fr===16||fr==="hex"){$r="";for(var Tr=0,Ar=0,jr=0;jr<this.length;jr++){var Or=this.words[jr],Nr=((Or<<Tr|Ar)&16777215).toString(16);Ar=Or>>>24-Tr&16777215,Tr+=2,Tr>=26&&(Tr-=26,jr--),Ar!==0||jr!==this.length-1?$r=hr[6-Nr.length]+Nr+$r:$r=Nr+$r}for(Ar!==0&&($r=Ar.toString(16)+$r);$r.length%vr!==0;)$r="0"+$r;return this.negative!==0&&($r="-"+$r),$r}if(fr===(fr|0)&&fr>=2&&fr<=36){var wr=dr[fr],Rr=pr[fr];$r="";var Pr=this.clone();for(Pr.negative=0;!Pr.isZero();){var Br=Pr.modrn(Rr).toString(fr);Pr=Pr.idivn(Rr),Pr.isZero()?$r=Br+$r:$r=hr[wr-Br.length]+Br+$r}for(this.isZero()&&($r="0"+$r);$r.length%vr!==0;)$r="0"+$r;return this.negative!==0&&($r="-"+$r),$r}nr(!1,"Base should be between 2 and 36")},ir.prototype.toNumber=function(){var fr=this.words[0];return this.length===2?fr+=this.words[1]*67108864:this.length===3&&this.words[2]===1?fr+=4503599627370496+this.words[1]*67108864:this.length>2&&nr(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-fr:fr},ir.prototype.toJSON=function(){return this.toString(16,2)},sr&&(ir.prototype.toBuffer=function(fr,vr){return this.toArrayLike(sr,fr,vr)}),ir.prototype.toArray=function(fr,vr){return this.toArrayLike(Array,fr,vr)};var mr=function(fr,vr){return fr.allocUnsafe?fr.allocUnsafe(vr):new fr(vr)};ir.prototype.toArrayLike=function(fr,vr,$r){this._strip();var Tr=this.byteLength(),Ar=$r||Math.max(1,Tr);nr(Tr<=Ar,"byte array longer than desired length"),nr(Ar>0,"Requested array length <= 0");var jr=mr(fr,Ar),Or=vr==="le"?"LE":"BE";return this["_toArrayLike"+Or](jr,Tr),jr},ir.prototype._toArrayLikeLE=function(fr,vr){for(var $r=0,Tr=0,Ar=0,jr=0;Ar<this.length;Ar++){var Or=this.words[Ar]<<jr|Tr;fr[$r++]=Or&255,$r<fr.length&&(fr[$r++]=Or>>8&255),$r<fr.length&&(fr[$r++]=Or>>16&255),jr===6?($r<fr.length&&(fr[$r++]=Or>>24&255),Tr=0,jr=0):(Tr=Or>>>24,jr+=2)}if($r<fr.length)for(fr[$r++]=Tr;$r<fr.length;)fr[$r++]=0},ir.prototype._toArrayLikeBE=function(fr,vr){for(var $r=fr.length-1,Tr=0,Ar=0,jr=0;Ar<this.length;Ar++){var Or=this.words[Ar]<<jr|Tr;fr[$r--]=Or&255,$r>=0&&(fr[$r--]=Or>>8&255),$r>=0&&(fr[$r--]=Or>>16&255),jr===6?($r>=0&&(fr[$r--]=Or>>24&255),Tr=0,jr=0):(Tr=Or>>>24,jr+=2)}if($r>=0)for(fr[$r--]=Tr;$r>=0;)fr[$r--]=0},Math.clz32?ir.prototype._countBits=function(fr){return 32-Math.clz32(fr)}:ir.prototype._countBits=function(fr){var vr=fr,$r=0;return vr>=4096&&($r+=13,vr>>>=13),vr>=64&&($r+=7,vr>>>=7),vr>=8&&($r+=4,vr>>>=4),vr>=2&&($r+=2,vr>>>=2),$r+vr},ir.prototype._zeroBits=function(fr){if(fr===0)return 26;var vr=fr,$r=0;return vr&8191||($r+=13,vr>>>=13),vr&127||($r+=7,vr>>>=7),vr&15||($r+=4,vr>>>=4),vr&3||($r+=2,vr>>>=2),vr&1||$r++,$r},ir.prototype.bitLength=function(){var fr=this.words[this.length-1],vr=this._countBits(fr);return(this.length-1)*26+vr};function xr(Lr){for(var fr=new Array(Lr.bitLength()),vr=0;vr<fr.length;vr++){var $r=vr/26|0,Tr=vr%26;fr[vr]=Lr.words[$r]>>>Tr&1}return fr}ir.prototype.zeroBits=function(){if(this.isZero())return 0;for(var fr=0,vr=0;vr<this.length;vr++){var $r=this._zeroBits(this.words[vr]);if(fr+=$r,$r!==26)break}return fr},ir.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ir.prototype.toTwos=function(fr){return this.negative!==0?this.abs().inotn(fr).iaddn(1):this.clone()},ir.prototype.fromTwos=function(fr){return this.testn(fr-1)?this.notn(fr).iaddn(1).ineg():this.clone()},ir.prototype.isNeg=function(){return this.negative!==0},ir.prototype.neg=function(){return this.clone().ineg()},ir.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ir.prototype.iuor=function(fr){for(;this.length<fr.length;)this.words[this.length++]=0;for(var vr=0;vr<fr.length;vr++)this.words[vr]=this.words[vr]|fr.words[vr];return this._strip()},ir.prototype.ior=function(fr){return nr((this.negative|fr.negative)===0),this.iuor(fr)},ir.prototype.or=function(fr){return this.length>fr.length?this.clone().ior(fr):fr.clone().ior(this)},ir.prototype.uor=function(fr){return this.length>fr.length?this.clone().iuor(fr):fr.clone().iuor(this)},ir.prototype.iuand=function(fr){var vr;this.length>fr.length?vr=fr:vr=this;for(var $r=0;$r<vr.length;$r++)this.words[$r]=this.words[$r]&fr.words[$r];return this.length=vr.length,this._strip()},ir.prototype.iand=function(fr){return nr((this.negative|fr.negative)===0),this.iuand(fr)},ir.prototype.and=function(fr){return this.length>fr.length?this.clone().iand(fr):fr.clone().iand(this)},ir.prototype.uand=function(fr){return this.length>fr.length?this.clone().iuand(fr):fr.clone().iuand(this)},ir.prototype.iuxor=function(fr){var vr,$r;this.length>fr.length?(vr=this,$r=fr):(vr=fr,$r=this);for(var Tr=0;Tr<$r.length;Tr++)this.words[Tr]=vr.words[Tr]^$r.words[Tr];if(this!==vr)for(;Tr<vr.length;Tr++)this.words[Tr]=vr.words[Tr];return this.length=vr.length,this._strip()},ir.prototype.ixor=function(fr){return nr((this.negative|fr.negative)===0),this.iuxor(fr)},ir.prototype.xor=function(fr){return this.length>fr.length?this.clone().ixor(fr):fr.clone().ixor(this)},ir.prototype.uxor=function(fr){return this.length>fr.length?this.clone().iuxor(fr):fr.clone().iuxor(this)},ir.prototype.inotn=function(fr){nr(typeof fr=="number"&&fr>=0);var vr=Math.ceil(fr/26)|0,$r=fr%26;this._expand(vr),$r>0&&vr--;for(var Tr=0;Tr<vr;Tr++)this.words[Tr]=~this.words[Tr]&67108863;return $r>0&&(this.words[Tr]=~this.words[Tr]&67108863>>26-$r),this._strip()},ir.prototype.notn=function(fr){return this.clone().inotn(fr)},ir.prototype.setn=function(fr,vr){nr(typeof fr=="number"&&fr>=0);var $r=fr/26|0,Tr=fr%26;return this._expand($r+1),vr?this.words[$r]=this.words[$r]|1<<Tr:this.words[$r]=this.words[$r]&~(1<<Tr),this._strip()},ir.prototype.iadd=function(fr){var vr;if(this.negative!==0&&fr.negative===0)return this.negative=0,vr=this.isub(fr),this.negative^=1,this._normSign();if(this.negative===0&&fr.negative!==0)return fr.negative=0,vr=this.isub(fr),fr.negative=1,vr._normSign();var $r,Tr;this.length>fr.length?($r=this,Tr=fr):($r=fr,Tr=this);for(var Ar=0,jr=0;jr<Tr.length;jr++)vr=($r.words[jr]|0)+(Tr.words[jr]|0)+Ar,this.words[jr]=vr&67108863,Ar=vr>>>26;for(;Ar!==0&&jr<$r.length;jr++)vr=($r.words[jr]|0)+Ar,this.words[jr]=vr&67108863,Ar=vr>>>26;if(this.length=$r.length,Ar!==0)this.words[this.length]=Ar,this.length++;else if($r!==this)for(;jr<$r.length;jr++)this.words[jr]=$r.words[jr];return this},ir.prototype.add=function(fr){var vr;return fr.negative!==0&&this.negative===0?(fr.negative=0,vr=this.sub(fr),fr.negative^=1,vr):fr.negative===0&&this.negative!==0?(this.negative=0,vr=fr.sub(this),this.negative=1,vr):this.length>fr.length?this.clone().iadd(fr):fr.clone().iadd(this)},ir.prototype.isub=function(fr){if(fr.negative!==0){fr.negative=0;var vr=this.iadd(fr);return fr.negative=1,vr._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(fr),this.negative=1,this._normSign();var $r=this.cmp(fr);if($r===0)return this.negative=0,this.length=1,this.words[0]=0,this;var Tr,Ar;$r>0?(Tr=this,Ar=fr):(Tr=fr,Ar=this);for(var jr=0,Or=0;Or<Ar.length;Or++)vr=(Tr.words[Or]|0)-(Ar.words[Or]|0)+jr,jr=vr>>26,this.words[Or]=vr&67108863;for(;jr!==0&&Or<Tr.length;Or++)vr=(Tr.words[Or]|0)+jr,jr=vr>>26,this.words[Or]=vr&67108863;if(jr===0&&Or<Tr.length&&Tr!==this)for(;Or<Tr.length;Or++)this.words[Or]=Tr.words[Or];return this.length=Math.max(this.length,Or),Tr!==this&&(this.negative=1),this._strip()},ir.prototype.sub=function(fr){return this.clone().isub(fr)};function br(Lr,fr,vr){vr.negative=fr.negative^Lr.negative;var $r=Lr.length+fr.length|0;vr.length=$r,$r=$r-1|0;var Tr=Lr.words[0]|0,Ar=fr.words[0]|0,jr=Tr*Ar,Or=jr&67108863,Nr=jr/67108864|0;vr.words[0]=Or;for(var wr=1;wr<$r;wr++){for(var Rr=Nr>>>26,Pr=Nr&67108863,Br=Math.min(wr,fr.length-1),Ur=Math.max(0,wr-Lr.length+1);Ur<=Br;Ur++){var Jr=wr-Ur|0;Tr=Lr.words[Jr]|0,Ar=fr.words[Ur]|0,jr=Tr*Ar+Pr,Rr+=jr/67108864|0,Pr=jr&67108863}vr.words[wr]=Pr|0,Nr=Rr|0}return Nr!==0?vr.words[wr]=Nr|0:vr.length--,vr._strip()}var yr=function(fr,vr,$r){var Tr=fr.words,Ar=vr.words,jr=$r.words,Or=0,Nr,wr,Rr,Pr=Tr[0]|0,Br=Pr&8191,Ur=Pr>>>13,Jr=Tr[1]|0,qr=Jr&8191,Zr=Jr>>>13,oo=Tr[2]|0,eo=oo&8191,uo=oo>>>13,vo=Tr[3]|0,go=vo&8191,xo=vo>>>13,To=Tr[4]|0,po=To&8191,So=To>>>13,to=Tr[5]|0,Ro=to&8191,$o=to>>>13,Vo=Tr[6]|0,Ao=Vo&8191,Vr=Vo>>>13,Xr=Tr[7]|0,co=Xr&8191,ho=Xr>>>13,fo=Tr[8]|0,mo=fo&8191,Ir=fo>>>13,_r=Tr[9]|0,Sr=_r&8191,Fr=_r>>>13,Hr=Ar[0]|0,Yr=Hr&8191,Qr=Hr>>>13,Eo=Ar[1]|0,yo=Eo&8191,bo=Eo>>>13,jo=Ar[2]|0,wo=jo&8191,ko=jo>>>13,$l=Ar[3]|0,Io=$l&8191,Co=$l>>>13,Rl=Ar[4]|0,No=Rl&8191,Mo=Rl>>>13,Al=Ar[5]|0,Lo=Al&8191,Po=Al>>>13,Tl=Ar[6]|0,Oo=Tl&8191,Bo=Tl>>>13,jl=Ar[7]|0,Do=jl&8191,Fo=jl>>>13,Il=Ar[8]|0,Uo=Il&8191,zo=Il>>>13,Cl=Ar[9]|0,Wo=Cl&8191,Ko=Cl>>>13;$r.negative=fr.negative^vr.negative,$r.length=19,Nr=Math.imul(Br,Yr),wr=Math.imul(Br,Qr),wr=wr+Math.imul(Ur,Yr)|0,Rr=Math.imul(Ur,Qr);var Go=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(Go>>>26)|0,Go&=67108863,Nr=Math.imul(qr,Yr),wr=Math.imul(qr,Qr),wr=wr+Math.imul(Zr,Yr)|0,Rr=Math.imul(Zr,Qr),Nr=Nr+Math.imul(Br,yo)|0,wr=wr+Math.imul(Br,bo)|0,wr=wr+Math.imul(Ur,yo)|0,Rr=Rr+Math.imul(Ur,bo)|0;var qo=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(qo>>>26)|0,qo&=67108863,Nr=Math.imul(eo,Yr),wr=Math.imul(eo,Qr),wr=wr+Math.imul(uo,Yr)|0,Rr=Math.imul(uo,Qr),Nr=Nr+Math.imul(qr,yo)|0,wr=wr+Math.imul(qr,bo)|0,wr=wr+Math.imul(Zr,yo)|0,Rr=Rr+Math.imul(Zr,bo)|0,Nr=Nr+Math.imul(Br,wo)|0,wr=wr+Math.imul(Br,ko)|0,wr=wr+Math.imul(Ur,wo)|0,Rr=Rr+Math.imul(Ur,ko)|0;var Yo=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(Yo>>>26)|0,Yo&=67108863,Nr=Math.imul(go,Yr),wr=Math.imul(go,Qr),wr=wr+Math.imul(xo,Yr)|0,Rr=Math.imul(xo,Qr),Nr=Nr+Math.imul(eo,yo)|0,wr=wr+Math.imul(eo,bo)|0,wr=wr+Math.imul(uo,yo)|0,Rr=Rr+Math.imul(uo,bo)|0,Nr=Nr+Math.imul(qr,wo)|0,wr=wr+Math.imul(qr,ko)|0,wr=wr+Math.imul(Zr,wo)|0,Rr=Rr+Math.imul(Zr,ko)|0,Nr=Nr+Math.imul(Br,Io)|0,wr=wr+Math.imul(Br,Co)|0,wr=wr+Math.imul(Ur,Io)|0,Rr=Rr+Math.imul(Ur,Co)|0;var Zo=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,Nr=Math.imul(po,Yr),wr=Math.imul(po,Qr),wr=wr+Math.imul(So,Yr)|0,Rr=Math.imul(So,Qr),Nr=Nr+Math.imul(go,yo)|0,wr=wr+Math.imul(go,bo)|0,wr=wr+Math.imul(xo,yo)|0,Rr=Rr+Math.imul(xo,bo)|0,Nr=Nr+Math.imul(eo,wo)|0,wr=wr+Math.imul(eo,ko)|0,wr=wr+Math.imul(uo,wo)|0,Rr=Rr+Math.imul(uo,ko)|0,Nr=Nr+Math.imul(qr,Io)|0,wr=wr+Math.imul(qr,Co)|0,wr=wr+Math.imul(Zr,Io)|0,Rr=Rr+Math.imul(Zr,Co)|0,Nr=Nr+Math.imul(Br,No)|0,wr=wr+Math.imul(Br,Mo)|0,wr=wr+Math.imul(Ur,No)|0,Rr=Rr+Math.imul(Ur,Mo)|0;var Xo=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(Xo>>>26)|0,Xo&=67108863,Nr=Math.imul(Ro,Yr),wr=Math.imul(Ro,Qr),wr=wr+Math.imul($o,Yr)|0,Rr=Math.imul($o,Qr),Nr=Nr+Math.imul(po,yo)|0,wr=wr+Math.imul(po,bo)|0,wr=wr+Math.imul(So,yo)|0,Rr=Rr+Math.imul(So,bo)|0,Nr=Nr+Math.imul(go,wo)|0,wr=wr+Math.imul(go,ko)|0,wr=wr+Math.imul(xo,wo)|0,Rr=Rr+Math.imul(xo,ko)|0,Nr=Nr+Math.imul(eo,Io)|0,wr=wr+Math.imul(eo,Co)|0,wr=wr+Math.imul(uo,Io)|0,Rr=Rr+Math.imul(uo,Co)|0,Nr=Nr+Math.imul(qr,No)|0,wr=wr+Math.imul(qr,Mo)|0,wr=wr+Math.imul(Zr,No)|0,Rr=Rr+Math.imul(Zr,Mo)|0,Nr=Nr+Math.imul(Br,Lo)|0,wr=wr+Math.imul(Br,Po)|0,wr=wr+Math.imul(Ur,Lo)|0,Rr=Rr+Math.imul(Ur,Po)|0;var Jo=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(Jo>>>26)|0,Jo&=67108863,Nr=Math.imul(Ao,Yr),wr=Math.imul(Ao,Qr),wr=wr+Math.imul(Vr,Yr)|0,Rr=Math.imul(Vr,Qr),Nr=Nr+Math.imul(Ro,yo)|0,wr=wr+Math.imul(Ro,bo)|0,wr=wr+Math.imul($o,yo)|0,Rr=Rr+Math.imul($o,bo)|0,Nr=Nr+Math.imul(po,wo)|0,wr=wr+Math.imul(po,ko)|0,wr=wr+Math.imul(So,wo)|0,Rr=Rr+Math.imul(So,ko)|0,Nr=Nr+Math.imul(go,Io)|0,wr=wr+Math.imul(go,Co)|0,wr=wr+Math.imul(xo,Io)|0,Rr=Rr+Math.imul(xo,Co)|0,Nr=Nr+Math.imul(eo,No)|0,wr=wr+Math.imul(eo,Mo)|0,wr=wr+Math.imul(uo,No)|0,Rr=Rr+Math.imul(uo,Mo)|0,Nr=Nr+Math.imul(qr,Lo)|0,wr=wr+Math.imul(qr,Po)|0,wr=wr+Math.imul(Zr,Lo)|0,Rr=Rr+Math.imul(Zr,Po)|0,Nr=Nr+Math.imul(Br,Oo)|0,wr=wr+Math.imul(Br,Bo)|0,wr=wr+Math.imul(Ur,Oo)|0,Rr=Rr+Math.imul(Ur,Bo)|0;var Qo=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(Qo>>>26)|0,Qo&=67108863,Nr=Math.imul(co,Yr),wr=Math.imul(co,Qr),wr=wr+Math.imul(ho,Yr)|0,Rr=Math.imul(ho,Qr),Nr=Nr+Math.imul(Ao,yo)|0,wr=wr+Math.imul(Ao,bo)|0,wr=wr+Math.imul(Vr,yo)|0,Rr=Rr+Math.imul(Vr,bo)|0,Nr=Nr+Math.imul(Ro,wo)|0,wr=wr+Math.imul(Ro,ko)|0,wr=wr+Math.imul($o,wo)|0,Rr=Rr+Math.imul($o,ko)|0,Nr=Nr+Math.imul(po,Io)|0,wr=wr+Math.imul(po,Co)|0,wr=wr+Math.imul(So,Io)|0,Rr=Rr+Math.imul(So,Co)|0,Nr=Nr+Math.imul(go,No)|0,wr=wr+Math.imul(go,Mo)|0,wr=wr+Math.imul(xo,No)|0,Rr=Rr+Math.imul(xo,Mo)|0,Nr=Nr+Math.imul(eo,Lo)|0,wr=wr+Math.imul(eo,Po)|0,wr=wr+Math.imul(uo,Lo)|0,Rr=Rr+Math.imul(uo,Po)|0,Nr=Nr+Math.imul(qr,Oo)|0,wr=wr+Math.imul(qr,Bo)|0,wr=wr+Math.imul(Zr,Oo)|0,Rr=Rr+Math.imul(Zr,Bo)|0,Nr=Nr+Math.imul(Br,Do)|0,wr=wr+Math.imul(Br,Fo)|0,wr=wr+Math.imul(Ur,Do)|0,Rr=Rr+Math.imul(Ur,Fo)|0;var na=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(na>>>26)|0,na&=67108863,Nr=Math.imul(mo,Yr),wr=Math.imul(mo,Qr),wr=wr+Math.imul(Ir,Yr)|0,Rr=Math.imul(Ir,Qr),Nr=Nr+Math.imul(co,yo)|0,wr=wr+Math.imul(co,bo)|0,wr=wr+Math.imul(ho,yo)|0,Rr=Rr+Math.imul(ho,bo)|0,Nr=Nr+Math.imul(Ao,wo)|0,wr=wr+Math.imul(Ao,ko)|0,wr=wr+Math.imul(Vr,wo)|0,Rr=Rr+Math.imul(Vr,ko)|0,Nr=Nr+Math.imul(Ro,Io)|0,wr=wr+Math.imul(Ro,Co)|0,wr=wr+Math.imul($o,Io)|0,Rr=Rr+Math.imul($o,Co)|0,Nr=Nr+Math.imul(po,No)|0,wr=wr+Math.imul(po,Mo)|0,wr=wr+Math.imul(So,No)|0,Rr=Rr+Math.imul(So,Mo)|0,Nr=Nr+Math.imul(go,Lo)|0,wr=wr+Math.imul(go,Po)|0,wr=wr+Math.imul(xo,Lo)|0,Rr=Rr+Math.imul(xo,Po)|0,Nr=Nr+Math.imul(eo,Oo)|0,wr=wr+Math.imul(eo,Bo)|0,wr=wr+Math.imul(uo,Oo)|0,Rr=Rr+Math.imul(uo,Bo)|0,Nr=Nr+Math.imul(qr,Do)|0,wr=wr+Math.imul(qr,Fo)|0,wr=wr+Math.imul(Zr,Do)|0,Rr=Rr+Math.imul(Zr,Fo)|0,Nr=Nr+Math.imul(Br,Uo)|0,wr=wr+Math.imul(Br,zo)|0,wr=wr+Math.imul(Ur,Uo)|0,Rr=Rr+Math.imul(Ur,zo)|0;var ga=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(ga>>>26)|0,ga&=67108863,Nr=Math.imul(Sr,Yr),wr=Math.imul(Sr,Qr),wr=wr+Math.imul(Fr,Yr)|0,Rr=Math.imul(Fr,Qr),Nr=Nr+Math.imul(mo,yo)|0,wr=wr+Math.imul(mo,bo)|0,wr=wr+Math.imul(Ir,yo)|0,Rr=Rr+Math.imul(Ir,bo)|0,Nr=Nr+Math.imul(co,wo)|0,wr=wr+Math.imul(co,ko)|0,wr=wr+Math.imul(ho,wo)|0,Rr=Rr+Math.imul(ho,ko)|0,Nr=Nr+Math.imul(Ao,Io)|0,wr=wr+Math.imul(Ao,Co)|0,wr=wr+Math.imul(Vr,Io)|0,Rr=Rr+Math.imul(Vr,Co)|0,Nr=Nr+Math.imul(Ro,No)|0,wr=wr+Math.imul(Ro,Mo)|0,wr=wr+Math.imul($o,No)|0,Rr=Rr+Math.imul($o,Mo)|0,Nr=Nr+Math.imul(po,Lo)|0,wr=wr+Math.imul(po,Po)|0,wr=wr+Math.imul(So,Lo)|0,Rr=Rr+Math.imul(So,Po)|0,Nr=Nr+Math.imul(go,Oo)|0,wr=wr+Math.imul(go,Bo)|0,wr=wr+Math.imul(xo,Oo)|0,Rr=Rr+Math.imul(xo,Bo)|0,Nr=Nr+Math.imul(eo,Do)|0,wr=wr+Math.imul(eo,Fo)|0,wr=wr+Math.imul(uo,Do)|0,Rr=Rr+Math.imul(uo,Fo)|0,Nr=Nr+Math.imul(qr,Uo)|0,wr=wr+Math.imul(qr,zo)|0,wr=wr+Math.imul(Zr,Uo)|0,Rr=Rr+Math.imul(Zr,zo)|0,Nr=Nr+Math.imul(Br,Wo)|0,wr=wr+Math.imul(Br,Ko)|0,wr=wr+Math.imul(Ur,Wo)|0,Rr=Rr+Math.imul(Ur,Ko)|0;var xa=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(xa>>>26)|0,xa&=67108863,Nr=Math.imul(Sr,yo),wr=Math.imul(Sr,bo),wr=wr+Math.imul(Fr,yo)|0,Rr=Math.imul(Fr,bo),Nr=Nr+Math.imul(mo,wo)|0,wr=wr+Math.imul(mo,ko)|0,wr=wr+Math.imul(Ir,wo)|0,Rr=Rr+Math.imul(Ir,ko)|0,Nr=Nr+Math.imul(co,Io)|0,wr=wr+Math.imul(co,Co)|0,wr=wr+Math.imul(ho,Io)|0,Rr=Rr+Math.imul(ho,Co)|0,Nr=Nr+Math.imul(Ao,No)|0,wr=wr+Math.imul(Ao,Mo)|0,wr=wr+Math.imul(Vr,No)|0,Rr=Rr+Math.imul(Vr,Mo)|0,Nr=Nr+Math.imul(Ro,Lo)|0,wr=wr+Math.imul(Ro,Po)|0,wr=wr+Math.imul($o,Lo)|0,Rr=Rr+Math.imul($o,Po)|0,Nr=Nr+Math.imul(po,Oo)|0,wr=wr+Math.imul(po,Bo)|0,wr=wr+Math.imul(So,Oo)|0,Rr=Rr+Math.imul(So,Bo)|0,Nr=Nr+Math.imul(go,Do)|0,wr=wr+Math.imul(go,Fo)|0,wr=wr+Math.imul(xo,Do)|0,Rr=Rr+Math.imul(xo,Fo)|0,Nr=Nr+Math.imul(eo,Uo)|0,wr=wr+Math.imul(eo,zo)|0,wr=wr+Math.imul(uo,Uo)|0,Rr=Rr+Math.imul(uo,zo)|0,Nr=Nr+Math.imul(qr,Wo)|0,wr=wr+Math.imul(qr,Ko)|0,wr=wr+Math.imul(Zr,Wo)|0,Rr=Rr+Math.imul(Zr,Ko)|0;var ba=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(ba>>>26)|0,ba&=67108863,Nr=Math.imul(Sr,wo),wr=Math.imul(Sr,ko),wr=wr+Math.imul(Fr,wo)|0,Rr=Math.imul(Fr,ko),Nr=Nr+Math.imul(mo,Io)|0,wr=wr+Math.imul(mo,Co)|0,wr=wr+Math.imul(Ir,Io)|0,Rr=Rr+Math.imul(Ir,Co)|0,Nr=Nr+Math.imul(co,No)|0,wr=wr+Math.imul(co,Mo)|0,wr=wr+Math.imul(ho,No)|0,Rr=Rr+Math.imul(ho,Mo)|0,Nr=Nr+Math.imul(Ao,Lo)|0,wr=wr+Math.imul(Ao,Po)|0,wr=wr+Math.imul(Vr,Lo)|0,Rr=Rr+Math.imul(Vr,Po)|0,Nr=Nr+Math.imul(Ro,Oo)|0,wr=wr+Math.imul(Ro,Bo)|0,wr=wr+Math.imul($o,Oo)|0,Rr=Rr+Math.imul($o,Bo)|0,Nr=Nr+Math.imul(po,Do)|0,wr=wr+Math.imul(po,Fo)|0,wr=wr+Math.imul(So,Do)|0,Rr=Rr+Math.imul(So,Fo)|0,Nr=Nr+Math.imul(go,Uo)|0,wr=wr+Math.imul(go,zo)|0,wr=wr+Math.imul(xo,Uo)|0,Rr=Rr+Math.imul(xo,zo)|0,Nr=Nr+Math.imul(eo,Wo)|0,wr=wr+Math.imul(eo,Ko)|0,wr=wr+Math.imul(uo,Wo)|0,Rr=Rr+Math.imul(uo,Ko)|0;var _a=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(_a>>>26)|0,_a&=67108863,Nr=Math.imul(Sr,Io),wr=Math.imul(Sr,Co),wr=wr+Math.imul(Fr,Io)|0,Rr=Math.imul(Fr,Co),Nr=Nr+Math.imul(mo,No)|0,wr=wr+Math.imul(mo,Mo)|0,wr=wr+Math.imul(Ir,No)|0,Rr=Rr+Math.imul(Ir,Mo)|0,Nr=Nr+Math.imul(co,Lo)|0,wr=wr+Math.imul(co,Po)|0,wr=wr+Math.imul(ho,Lo)|0,Rr=Rr+Math.imul(ho,Po)|0,Nr=Nr+Math.imul(Ao,Oo)|0,wr=wr+Math.imul(Ao,Bo)|0,wr=wr+Math.imul(Vr,Oo)|0,Rr=Rr+Math.imul(Vr,Bo)|0,Nr=Nr+Math.imul(Ro,Do)|0,wr=wr+Math.imul(Ro,Fo)|0,wr=wr+Math.imul($o,Do)|0,Rr=Rr+Math.imul($o,Fo)|0,Nr=Nr+Math.imul(po,Uo)|0,wr=wr+Math.imul(po,zo)|0,wr=wr+Math.imul(So,Uo)|0,Rr=Rr+Math.imul(So,zo)|0,Nr=Nr+Math.imul(go,Wo)|0,wr=wr+Math.imul(go,Ko)|0,wr=wr+Math.imul(xo,Wo)|0,Rr=Rr+Math.imul(xo,Ko)|0;var $a=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+($a>>>26)|0,$a&=67108863,Nr=Math.imul(Sr,No),wr=Math.imul(Sr,Mo),wr=wr+Math.imul(Fr,No)|0,Rr=Math.imul(Fr,Mo),Nr=Nr+Math.imul(mo,Lo)|0,wr=wr+Math.imul(mo,Po)|0,wr=wr+Math.imul(Ir,Lo)|0,Rr=Rr+Math.imul(Ir,Po)|0,Nr=Nr+Math.imul(co,Oo)|0,wr=wr+Math.imul(co,Bo)|0,wr=wr+Math.imul(ho,Oo)|0,Rr=Rr+Math.imul(ho,Bo)|0,Nr=Nr+Math.imul(Ao,Do)|0,wr=wr+Math.imul(Ao,Fo)|0,wr=wr+Math.imul(Vr,Do)|0,Rr=Rr+Math.imul(Vr,Fo)|0,Nr=Nr+Math.imul(Ro,Uo)|0,wr=wr+Math.imul(Ro,zo)|0,wr=wr+Math.imul($o,Uo)|0,Rr=Rr+Math.imul($o,zo)|0,Nr=Nr+Math.imul(po,Wo)|0,wr=wr+Math.imul(po,Ko)|0,wr=wr+Math.imul(So,Wo)|0,Rr=Rr+Math.imul(So,Ko)|0;var yl=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(yl>>>26)|0,yl&=67108863,Nr=Math.imul(Sr,Lo),wr=Math.imul(Sr,Po),wr=wr+Math.imul(Fr,Lo)|0,Rr=Math.imul(Fr,Po),Nr=Nr+Math.imul(mo,Oo)|0,wr=wr+Math.imul(mo,Bo)|0,wr=wr+Math.imul(Ir,Oo)|0,Rr=Rr+Math.imul(Ir,Bo)|0,Nr=Nr+Math.imul(co,Do)|0,wr=wr+Math.imul(co,Fo)|0,wr=wr+Math.imul(ho,Do)|0,Rr=Rr+Math.imul(ho,Fo)|0,Nr=Nr+Math.imul(Ao,Uo)|0,wr=wr+Math.imul(Ao,zo)|0,wr=wr+Math.imul(Vr,Uo)|0,Rr=Rr+Math.imul(Vr,zo)|0,Nr=Nr+Math.imul(Ro,Wo)|0,wr=wr+Math.imul(Ro,Ko)|0,wr=wr+Math.imul($o,Wo)|0,Rr=Rr+Math.imul($o,Ko)|0;var xl=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(xl>>>26)|0,xl&=67108863,Nr=Math.imul(Sr,Oo),wr=Math.imul(Sr,Bo),wr=wr+Math.imul(Fr,Oo)|0,Rr=Math.imul(Fr,Bo),Nr=Nr+Math.imul(mo,Do)|0,wr=wr+Math.imul(mo,Fo)|0,wr=wr+Math.imul(Ir,Do)|0,Rr=Rr+Math.imul(Ir,Fo)|0,Nr=Nr+Math.imul(co,Uo)|0,wr=wr+Math.imul(co,zo)|0,wr=wr+Math.imul(ho,Uo)|0,Rr=Rr+Math.imul(ho,zo)|0,Nr=Nr+Math.imul(Ao,Wo)|0,wr=wr+Math.imul(Ao,Ko)|0,wr=wr+Math.imul(Vr,Wo)|0,Rr=Rr+Math.imul(Vr,Ko)|0;var wl=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(wl>>>26)|0,wl&=67108863,Nr=Math.imul(Sr,Do),wr=Math.imul(Sr,Fo),wr=wr+Math.imul(Fr,Do)|0,Rr=Math.imul(Fr,Fo),Nr=Nr+Math.imul(mo,Uo)|0,wr=wr+Math.imul(mo,zo)|0,wr=wr+Math.imul(Ir,Uo)|0,Rr=Rr+Math.imul(Ir,zo)|0,Nr=Nr+Math.imul(co,Wo)|0,wr=wr+Math.imul(co,Ko)|0,wr=wr+Math.imul(ho,Wo)|0,Rr=Rr+Math.imul(ho,Ko)|0;var El=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(El>>>26)|0,El&=67108863,Nr=Math.imul(Sr,Uo),wr=Math.imul(Sr,zo),wr=wr+Math.imul(Fr,Uo)|0,Rr=Math.imul(Fr,zo),Nr=Nr+Math.imul(mo,Wo)|0,wr=wr+Math.imul(mo,Ko)|0,wr=wr+Math.imul(Ir,Wo)|0,Rr=Rr+Math.imul(Ir,Ko)|0;var _l=(Or+Nr|0)+((wr&8191)<<13)|0;Or=(Rr+(wr>>>13)|0)+(_l>>>26)|0,_l&=67108863,Nr=Math.imul(Sr,Wo),wr=Math.imul(Sr,Ko),wr=wr+Math.imul(Fr,Wo)|0,Rr=Math.imul(Fr,Ko);var Sl=(Or+Nr|0)+((wr&8191)<<13)|0;return Or=(Rr+(wr>>>13)|0)+(Sl>>>26)|0,Sl&=67108863,jr[0]=Go,jr[1]=qo,jr[2]=Yo,jr[3]=Zo,jr[4]=Xo,jr[5]=Jo,jr[6]=Qo,jr[7]=na,jr[8]=ga,jr[9]=xa,jr[10]=ba,jr[11]=_a,jr[12]=$a,jr[13]=yl,jr[14]=xl,jr[15]=wl,jr[16]=El,jr[17]=_l,jr[18]=Sl,Or!==0&&(jr[19]=Or,$r.length++),$r};Math.imul||(yr=br);function gr(Lr,fr,vr){vr.negative=fr.negative^Lr.negative,vr.length=Lr.length+fr.length;for(var $r=0,Tr=0,Ar=0;Ar<vr.length-1;Ar++){var jr=Tr;Tr=0;for(var Or=$r&67108863,Nr=Math.min(Ar,fr.length-1),wr=Math.max(0,Ar-Lr.length+1);wr<=Nr;wr++){var Rr=Ar-wr,Pr=Lr.words[Rr]|0,Br=fr.words[wr]|0,Ur=Pr*Br,Jr=Ur&67108863;jr=jr+(Ur/67108864|0)|0,Jr=Jr+Or|0,Or=Jr&67108863,jr=jr+(Jr>>>26)|0,Tr+=jr>>>26,jr&=67108863}vr.words[Ar]=Or,$r=jr,jr=Tr}return $r!==0?vr.words[Ar]=$r:vr.length--,vr._strip()}function Er(Lr,fr,vr){return gr(Lr,fr,vr)}ir.prototype.mulTo=function(fr,vr){var $r,Tr=this.length+fr.length;return this.length===10&&fr.length===10?$r=yr(this,fr,vr):Tr<63?$r=br(this,fr,vr):Tr<1024?$r=gr(this,fr,vr):$r=Er(this,fr,vr),$r},ir.prototype.mul=function(fr){var vr=new ir(null);return vr.words=new Array(this.length+fr.length),this.mulTo(fr,vr)},ir.prototype.mulf=function(fr){var vr=new ir(null);return vr.words=new Array(this.length+fr.length),Er(this,fr,vr)},ir.prototype.imul=function(fr){return this.clone().mulTo(fr,this)},ir.prototype.imuln=function(fr){var vr=fr<0;vr&&(fr=-fr),nr(typeof fr=="number"),nr(fr<67108864);for(var $r=0,Tr=0;Tr<this.length;Tr++){var Ar=(this.words[Tr]|0)*fr,jr=(Ar&67108863)+($r&67108863);$r>>=26,$r+=Ar/67108864|0,$r+=jr>>>26,this.words[Tr]=jr&67108863}return $r!==0&&(this.words[Tr]=$r,this.length++),vr?this.ineg():this},ir.prototype.muln=function(fr){return this.clone().imuln(fr)},ir.prototype.sqr=function(){return this.mul(this)},ir.prototype.isqr=function(){return this.imul(this.clone())},ir.prototype.pow=function(fr){var vr=xr(fr);if(vr.length===0)return new ir(1);for(var $r=this,Tr=0;Tr<vr.length&&vr[Tr]===0;Tr++,$r=$r.sqr());if(++Tr<vr.length)for(var Ar=$r.sqr();Tr<vr.length;Tr++,Ar=Ar.sqr())vr[Tr]!==0&&($r=$r.mul(Ar));return $r},ir.prototype.iushln=function(fr){nr(typeof fr=="number"&&fr>=0);var vr=fr%26,$r=(fr-vr)/26,Tr=67108863>>>26-vr<<26-vr,Ar;if(vr!==0){var jr=0;for(Ar=0;Ar<this.length;Ar++){var Or=this.words[Ar]&Tr,Nr=(this.words[Ar]|0)-Or<<vr;this.words[Ar]=Nr|jr,jr=Or>>>26-vr}jr&&(this.words[Ar]=jr,this.length++)}if($r!==0){for(Ar=this.length-1;Ar>=0;Ar--)this.words[Ar+$r]=this.words[Ar];for(Ar=0;Ar<$r;Ar++)this.words[Ar]=0;this.length+=$r}return this._strip()},ir.prototype.ishln=function(fr){return nr(this.negative===0),this.iushln(fr)},ir.prototype.iushrn=function(fr,vr,$r){nr(typeof fr=="number"&&fr>=0);var Tr;vr?Tr=(vr-vr%26)/26:Tr=0;var Ar=fr%26,jr=Math.min((fr-Ar)/26,this.length),Or=67108863^67108863>>>Ar<<Ar,Nr=$r;if(Tr-=jr,Tr=Math.max(0,Tr),Nr){for(var wr=0;wr<jr;wr++)Nr.words[wr]=this.words[wr];Nr.length=jr}if(jr!==0)if(this.length>jr)for(this.length-=jr,wr=0;wr<this.length;wr++)this.words[wr]=this.words[wr+jr];else this.words[0]=0,this.length=1;var Rr=0;for(wr=this.length-1;wr>=0&&(Rr!==0||wr>=Tr);wr--){var Pr=this.words[wr]|0;this.words[wr]=Rr<<26-Ar|Pr>>>Ar,Rr=Pr&Or}return Nr&&Rr!==0&&(Nr.words[Nr.length++]=Rr),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ir.prototype.ishrn=function(fr,vr,$r){return nr(this.negative===0),this.iushrn(fr,vr,$r)},ir.prototype.shln=function(fr){return this.clone().ishln(fr)},ir.prototype.ushln=function(fr){return this.clone().iushln(fr)},ir.prototype.shrn=function(fr){return this.clone().ishrn(fr)},ir.prototype.ushrn=function(fr){return this.clone().iushrn(fr)},ir.prototype.testn=function(fr){nr(typeof fr=="number"&&fr>=0);var vr=fr%26,$r=(fr-vr)/26,Tr=1<<vr;if(this.length<=$r)return!1;var Ar=this.words[$r];return!!(Ar&Tr)},ir.prototype.imaskn=function(fr){nr(typeof fr=="number"&&fr>=0);var vr=fr%26,$r=(fr-vr)/26;if(nr(this.negative===0,"imaskn works only with positive numbers"),this.length<=$r)return this;if(vr!==0&&$r++,this.length=Math.min($r,this.length),vr!==0){var Tr=67108863^67108863>>>vr<<vr;this.words[this.length-1]&=Tr}return this._strip()},ir.prototype.maskn=function(fr){return this.clone().imaskn(fr)},ir.prototype.iaddn=function(fr){return nr(typeof fr=="number"),nr(fr<67108864),fr<0?this.isubn(-fr):this.negative!==0?this.length===1&&(this.words[0]|0)<=fr?(this.words[0]=fr-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(fr),this.negative=1,this):this._iaddn(fr)},ir.prototype._iaddn=function(fr){this.words[0]+=fr;for(var vr=0;vr<this.length&&this.words[vr]>=67108864;vr++)this.words[vr]-=67108864,vr===this.length-1?this.words[vr+1]=1:this.words[vr+1]++;return this.length=Math.max(this.length,vr+1),this},ir.prototype.isubn=function(fr){if(nr(typeof fr=="number"),nr(fr<67108864),fr<0)return this.iaddn(-fr);if(this.negative!==0)return this.negative=0,this.iaddn(fr),this.negative=1,this;if(this.words[0]-=fr,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var vr=0;vr<this.length&&this.words[vr]<0;vr++)this.words[vr]+=67108864,this.words[vr+1]-=1;return this._strip()},ir.prototype.addn=function(fr){return this.clone().iaddn(fr)},ir.prototype.subn=function(fr){return this.clone().isubn(fr)},ir.prototype.iabs=function(){return this.negative=0,this},ir.prototype.abs=function(){return this.clone().iabs()},ir.prototype._ishlnsubmul=function(fr,vr,$r){var Tr=fr.length+$r,Ar;this._expand(Tr);var jr,Or=0;for(Ar=0;Ar<fr.length;Ar++){jr=(this.words[Ar+$r]|0)+Or;var Nr=(fr.words[Ar]|0)*vr;jr-=Nr&67108863,Or=(jr>>26)-(Nr/67108864|0),this.words[Ar+$r]=jr&67108863}for(;Ar<this.length-$r;Ar++)jr=(this.words[Ar+$r]|0)+Or,Or=jr>>26,this.words[Ar+$r]=jr&67108863;if(Or===0)return this._strip();for(nr(Or===-1),Or=0,Ar=0;Ar<this.length;Ar++)jr=-(this.words[Ar]|0)+Or,Or=jr>>26,this.words[Ar]=jr&67108863;return this.negative=1,this._strip()},ir.prototype._wordDiv=function(fr,vr){var $r=this.length-fr.length,Tr=this.clone(),Ar=fr,jr=Ar.words[Ar.length-1]|0,Or=this._countBits(jr);$r=26-Or,$r!==0&&(Ar=Ar.ushln($r),Tr.iushln($r),jr=Ar.words[Ar.length-1]|0);var Nr=Tr.length-Ar.length,wr;if(vr!=="mod"){wr=new ir(null),wr.length=Nr+1,wr.words=new Array(wr.length);for(var Rr=0;Rr<wr.length;Rr++)wr.words[Rr]=0}var Pr=Tr.clone()._ishlnsubmul(Ar,1,Nr);Pr.negative===0&&(Tr=Pr,wr&&(wr.words[Nr]=1));for(var Br=Nr-1;Br>=0;Br--){var Ur=(Tr.words[Ar.length+Br]|0)*67108864+(Tr.words[Ar.length+Br-1]|0);for(Ur=Math.min(Ur/jr|0,67108863),Tr._ishlnsubmul(Ar,Ur,Br);Tr.negative!==0;)Ur--,Tr.negative=0,Tr._ishlnsubmul(Ar,1,Br),Tr.isZero()||(Tr.negative^=1);wr&&(wr.words[Br]=Ur)}return wr&&wr._strip(),Tr._strip(),vr!=="div"&&$r!==0&&Tr.iushrn($r),{div:wr||null,mod:Tr}},ir.prototype.divmod=function(fr,vr,$r){if(nr(!fr.isZero()),this.isZero())return{div:new ir(0),mod:new ir(0)};var Tr,Ar,jr;return this.negative!==0&&fr.negative===0?(jr=this.neg().divmod(fr,vr),vr!=="mod"&&(Tr=jr.div.neg()),vr!=="div"&&(Ar=jr.mod.neg(),$r&&Ar.negative!==0&&Ar.iadd(fr)),{div:Tr,mod:Ar}):this.negative===0&&fr.negative!==0?(jr=this.divmod(fr.neg(),vr),vr!=="mod"&&(Tr=jr.div.neg()),{div:Tr,mod:jr.mod}):this.negative&fr.negative?(jr=this.neg().divmod(fr.neg(),vr),vr!=="div"&&(Ar=jr.mod.neg(),$r&&Ar.negative!==0&&Ar.isub(fr)),{div:jr.div,mod:Ar}):fr.length>this.length||this.cmp(fr)<0?{div:new ir(0),mod:this}:fr.length===1?vr==="div"?{div:this.divn(fr.words[0]),mod:null}:vr==="mod"?{div:null,mod:new ir(this.modrn(fr.words[0]))}:{div:this.divn(fr.words[0]),mod:new ir(this.modrn(fr.words[0]))}:this._wordDiv(fr,vr)},ir.prototype.div=function(fr){return this.divmod(fr,"div",!1).div},ir.prototype.mod=function(fr){return this.divmod(fr,"mod",!1).mod},ir.prototype.umod=function(fr){return this.divmod(fr,"mod",!0).mod},ir.prototype.divRound=function(fr){var vr=this.divmod(fr);if(vr.mod.isZero())return vr.div;var $r=vr.div.negative!==0?vr.mod.isub(fr):vr.mod,Tr=fr.ushrn(1),Ar=fr.andln(1),jr=$r.cmp(Tr);return jr<0||Ar===1&&jr===0?vr.div:vr.div.negative!==0?vr.div.isubn(1):vr.div.iaddn(1)},ir.prototype.modrn=function(fr){var vr=fr<0;vr&&(fr=-fr),nr(fr<=67108863);for(var $r=(1<<26)%fr,Tr=0,Ar=this.length-1;Ar>=0;Ar--)Tr=($r*Tr+(this.words[Ar]|0))%fr;return vr?-Tr:Tr},ir.prototype.modn=function(fr){return this.modrn(fr)},ir.prototype.idivn=function(fr){var vr=fr<0;vr&&(fr=-fr),nr(fr<=67108863);for(var $r=0,Tr=this.length-1;Tr>=0;Tr--){var Ar=(this.words[Tr]|0)+$r*67108864;this.words[Tr]=Ar/fr|0,$r=Ar%fr}return this._strip(),vr?this.ineg():this},ir.prototype.divn=function(fr){return this.clone().idivn(fr)},ir.prototype.egcd=function(fr){nr(fr.negative===0),nr(!fr.isZero());var vr=this,$r=fr.clone();vr.negative!==0?vr=vr.umod(fr):vr=vr.clone();for(var Tr=new ir(1),Ar=new ir(0),jr=new ir(0),Or=new ir(1),Nr=0;vr.isEven()&&$r.isEven();)vr.iushrn(1),$r.iushrn(1),++Nr;for(var wr=$r.clone(),Rr=vr.clone();!vr.isZero();){for(var Pr=0,Br=1;!(vr.words[0]&Br)&&Pr<26;++Pr,Br<<=1);if(Pr>0)for(vr.iushrn(Pr);Pr-- >0;)(Tr.isOdd()||Ar.isOdd())&&(Tr.iadd(wr),Ar.isub(Rr)),Tr.iushrn(1),Ar.iushrn(1);for(var Ur=0,Jr=1;!($r.words[0]&Jr)&&Ur<26;++Ur,Jr<<=1);if(Ur>0)for($r.iushrn(Ur);Ur-- >0;)(jr.isOdd()||Or.isOdd())&&(jr.iadd(wr),Or.isub(Rr)),jr.iushrn(1),Or.iushrn(1);vr.cmp($r)>=0?(vr.isub($r),Tr.isub(jr),Ar.isub(Or)):($r.isub(vr),jr.isub(Tr),Or.isub(Ar))}return{a:jr,b:Or,gcd:$r.iushln(Nr)}},ir.prototype._invmp=function(fr){nr(fr.negative===0),nr(!fr.isZero());var vr=this,$r=fr.clone();vr.negative!==0?vr=vr.umod(fr):vr=vr.clone();for(var Tr=new ir(1),Ar=new ir(0),jr=$r.clone();vr.cmpn(1)>0&&$r.cmpn(1)>0;){for(var Or=0,Nr=1;!(vr.words[0]&Nr)&&Or<26;++Or,Nr<<=1);if(Or>0)for(vr.iushrn(Or);Or-- >0;)Tr.isOdd()&&Tr.iadd(jr),Tr.iushrn(1);for(var wr=0,Rr=1;!($r.words[0]&Rr)&&wr<26;++wr,Rr<<=1);if(wr>0)for($r.iushrn(wr);wr-- >0;)Ar.isOdd()&&Ar.iadd(jr),Ar.iushrn(1);vr.cmp($r)>=0?(vr.isub($r),Tr.isub(Ar)):($r.isub(vr),Ar.isub(Tr))}var Pr;return vr.cmpn(1)===0?Pr=Tr:Pr=Ar,Pr.cmpn(0)<0&&Pr.iadd(fr),Pr},ir.prototype.gcd=function(fr){if(this.isZero())return fr.abs();if(fr.isZero())return this.abs();var vr=this.clone(),$r=fr.clone();vr.negative=0,$r.negative=0;for(var Tr=0;vr.isEven()&&$r.isEven();Tr++)vr.iushrn(1),$r.iushrn(1);do{for(;vr.isEven();)vr.iushrn(1);for(;$r.isEven();)$r.iushrn(1);var Ar=vr.cmp($r);if(Ar<0){var jr=vr;vr=$r,$r=jr}else if(Ar===0||$r.cmpn(1)===0)break;vr.isub($r)}while(!0);return $r.iushln(Tr)},ir.prototype.invm=function(fr){return this.egcd(fr).a.umod(fr)},ir.prototype.isEven=function(){return(this.words[0]&1)===0},ir.prototype.isOdd=function(){return(this.words[0]&1)===1},ir.prototype.andln=function(fr){return this.words[0]&fr},ir.prototype.bincn=function(fr){nr(typeof fr=="number");var vr=fr%26,$r=(fr-vr)/26,Tr=1<<vr;if(this.length<=$r)return this._expand($r+1),this.words[$r]|=Tr,this;for(var Ar=Tr,jr=$r;Ar!==0&&jr<this.length;jr++){var Or=this.words[jr]|0;Or+=Ar,Ar=Or>>>26,Or&=67108863,this.words[jr]=Or}return Ar!==0&&(this.words[jr]=Ar,this.length++),this},ir.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ir.prototype.cmpn=function(fr){var vr=fr<0;if(this.negative!==0&&!vr)return-1;if(this.negative===0&&vr)return 1;this._strip();var $r;if(this.length>1)$r=1;else{vr&&(fr=-fr),nr(fr<=67108863,"Number is too big");var Tr=this.words[0]|0;$r=Tr===fr?0:Tr<fr?-1:1}return this.negative!==0?-$r|0:$r},ir.prototype.cmp=function(fr){if(this.negative!==0&&fr.negative===0)return-1;if(this.negative===0&&fr.negative!==0)return 1;var vr=this.ucmp(fr);return this.negative!==0?-vr|0:vr},ir.prototype.ucmp=function(fr){if(this.length>fr.length)return 1;if(this.length<fr.length)return-1;for(var vr=0,$r=this.length-1;$r>=0;$r--){var Tr=this.words[$r]|0,Ar=fr.words[$r]|0;if(Tr!==Ar){Tr<Ar?vr=-1:Tr>Ar&&(vr=1);break}}return vr},ir.prototype.gtn=function(fr){return this.cmpn(fr)===1},ir.prototype.gt=function(fr){return this.cmp(fr)===1},ir.prototype.gten=function(fr){return this.cmpn(fr)>=0},ir.prototype.gte=function(fr){return this.cmp(fr)>=0},ir.prototype.ltn=function(fr){return this.cmpn(fr)===-1},ir.prototype.lt=function(fr){return this.cmp(fr)===-1},ir.prototype.lten=function(fr){return this.cmpn(fr)<=0},ir.prototype.lte=function(fr){return this.cmp(fr)<=0},ir.prototype.eqn=function(fr){return this.cmpn(fr)===0},ir.prototype.eq=function(fr){return this.cmp(fr)===0},ir.red=function(fr){return new Gr(fr)},ir.prototype.toRed=function(fr){return nr(!this.red,"Already a number in reduction context"),nr(this.negative===0,"red works only with positives"),fr.convertTo(this)._forceRed(fr)},ir.prototype.fromRed=function(){return nr(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ir.prototype._forceRed=function(fr){return this.red=fr,this},ir.prototype.forceRed=function(fr){return nr(!this.red,"Already a number in reduction context"),this._forceRed(fr)},ir.prototype.redAdd=function(fr){return nr(this.red,"redAdd works only with red numbers"),this.red.add(this,fr)},ir.prototype.redIAdd=function(fr){return nr(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,fr)},ir.prototype.redSub=function(fr){return nr(this.red,"redSub works only with red numbers"),this.red.sub(this,fr)},ir.prototype.redISub=function(fr){return nr(this.red,"redISub works only with red numbers"),this.red.isub(this,fr)},ir.prototype.redShl=function(fr){return nr(this.red,"redShl works only with red numbers"),this.red.shl(this,fr)},ir.prototype.redMul=function(fr){return nr(this.red,"redMul works only with red numbers"),this.red._verify2(this,fr),this.red.mul(this,fr)},ir.prototype.redIMul=function(fr){return nr(this.red,"redMul works only with red numbers"),this.red._verify2(this,fr),this.red.imul(this,fr)},ir.prototype.redSqr=function(){return nr(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ir.prototype.redISqr=function(){return nr(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ir.prototype.redSqrt=function(){return nr(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ir.prototype.redInvm=function(){return nr(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ir.prototype.redNeg=function(){return nr(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ir.prototype.redPow=function(fr){return nr(this.red&&!fr.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,fr)};var kr={k256:null,p224:null,p192:null,p25519:null};function Mr(Lr,fr){this.name=Lr,this.p=new ir(fr,16),this.n=this.p.bitLength(),this.k=new ir(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Mr.prototype._tmp=function(){var fr=new ir(null);return fr.words=new Array(Math.ceil(this.n/13)),fr},Mr.prototype.ireduce=function(fr){var vr=fr,$r;do this.split(vr,this.tmp),vr=this.imulK(vr),vr=vr.iadd(this.tmp),$r=vr.bitLength();while($r>this.n);var Tr=$r<this.n?-1:vr.ucmp(this.p);return Tr===0?(vr.words[0]=0,vr.length=1):Tr>0?vr.isub(this.p):vr.strip!==void 0?vr.strip():vr._strip(),vr},Mr.prototype.split=function(fr,vr){fr.iushrn(this.n,0,vr)},Mr.prototype.imulK=function(fr){return fr.imul(this.k)};function Cr(){Mr.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}rr(Cr,Mr),Cr.prototype.split=function(fr,vr){for(var $r=4194303,Tr=Math.min(fr.length,9),Ar=0;Ar<Tr;Ar++)vr.words[Ar]=fr.words[Ar];if(vr.length=Tr,fr.length<=9){fr.words[0]=0,fr.length=1;return}var jr=fr.words[9];for(vr.words[vr.length++]=jr&$r,Ar=10;Ar<fr.length;Ar++){var Or=fr.words[Ar]|0;fr.words[Ar-10]=(Or&$r)<<4|jr>>>22,jr=Or}jr>>>=22,fr.words[Ar-10]=jr,jr===0&&fr.length>10?fr.length-=10:fr.length-=9},Cr.prototype.imulK=function(fr){fr.words[fr.length]=0,fr.words[fr.length+1]=0,fr.length+=2;for(var vr=0,$r=0;$r<fr.length;$r++){var Tr=fr.words[$r]|0;vr+=Tr*977,fr.words[$r]=vr&67108863,vr=Tr*64+(vr/67108864|0)}return fr.words[fr.length-1]===0&&(fr.length--,fr.words[fr.length-1]===0&&fr.length--),fr};function Dr(){Mr.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}rr(Dr,Mr);function zr(){Mr.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}rr(zr,Mr);function Wr(){Mr.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}rr(Wr,Mr),Wr.prototype.imulK=function(fr){for(var vr=0,$r=0;$r<fr.length;$r++){var Tr=(fr.words[$r]|0)*19+vr,Ar=Tr&67108863;Tr>>>=26,fr.words[$r]=Ar,vr=Tr}return vr!==0&&(fr.words[fr.length++]=vr),fr},ir._prime=function(fr){if(kr[fr])return kr[fr];var vr;if(fr==="k256")vr=new Cr;else if(fr==="p224")vr=new Dr;else if(fr==="p192")vr=new zr;else if(fr==="p25519")vr=new Wr;else throw new Error("Unknown prime "+fr);return kr[fr]=vr,vr};function Gr(Lr){if(typeof Lr=="string"){var fr=ir._prime(Lr);this.m=fr.p,this.prime=fr}else nr(Lr.gtn(1),"modulus must be greater than 1"),this.m=Lr,this.prime=null}Gr.prototype._verify1=function(fr){nr(fr.negative===0,"red works only with positives"),nr(fr.red,"red works only with red numbers")},Gr.prototype._verify2=function(fr,vr){nr((fr.negative|vr.negative)===0,"red works only with positives"),nr(fr.red&&fr.red===vr.red,"red works only with red numbers")},Gr.prototype.imod=function(fr){return this.prime?this.prime.ireduce(fr)._forceRed(this):(cr(fr,fr.umod(this.m)._forceRed(this)),fr)},Gr.prototype.neg=function(fr){return fr.isZero()?fr.clone():this.m.sub(fr)._forceRed(this)},Gr.prototype.add=function(fr,vr){this._verify2(fr,vr);var $r=fr.add(vr);return $r.cmp(this.m)>=0&&$r.isub(this.m),$r._forceRed(this)},Gr.prototype.iadd=function(fr,vr){this._verify2(fr,vr);var $r=fr.iadd(vr);return $r.cmp(this.m)>=0&&$r.isub(this.m),$r},Gr.prototype.sub=function(fr,vr){this._verify2(fr,vr);var $r=fr.sub(vr);return $r.cmpn(0)<0&&$r.iadd(this.m),$r._forceRed(this)},Gr.prototype.isub=function(fr,vr){this._verify2(fr,vr);var $r=fr.isub(vr);return $r.cmpn(0)<0&&$r.iadd(this.m),$r},Gr.prototype.shl=function(fr,vr){return this._verify1(fr),this.imod(fr.ushln(vr))},Gr.prototype.imul=function(fr,vr){return this._verify2(fr,vr),this.imod(fr.imul(vr))},Gr.prototype.mul=function(fr,vr){return this._verify2(fr,vr),this.imod(fr.mul(vr))},Gr.prototype.isqr=function(fr){return this.imul(fr,fr.clone())},Gr.prototype.sqr=function(fr){return this.mul(fr,fr)},Gr.prototype.sqrt=function(fr){if(fr.isZero())return fr.clone();var vr=this.m.andln(3);if(nr(vr%2===1),vr===3){var $r=this.m.add(new ir(1)).iushrn(2);return this.pow(fr,$r)}for(var Tr=this.m.subn(1),Ar=0;!Tr.isZero()&&Tr.andln(1)===0;)Ar++,Tr.iushrn(1);nr(!Tr.isZero());var jr=new ir(1).toRed(this),Or=jr.redNeg(),Nr=this.m.subn(1).iushrn(1),wr=this.m.bitLength();for(wr=new ir(2*wr*wr).toRed(this);this.pow(wr,Nr).cmp(Or)!==0;)wr.redIAdd(Or);for(var Rr=this.pow(wr,Tr),Pr=this.pow(fr,Tr.addn(1).iushrn(1)),Br=this.pow(fr,Tr),Ur=Ar;Br.cmp(jr)!==0;){for(var Jr=Br,qr=0;Jr.cmp(jr)!==0;qr++)Jr=Jr.redSqr();nr(qr<Ur);var Zr=this.pow(Rr,new ir(1).iushln(Ur-qr-1));Pr=Pr.redMul(Zr),Rr=Zr.redSqr(),Br=Br.redMul(Rr),Ur=qr}return Pr},Gr.prototype.invm=function(fr){var vr=fr._invmp(this.m);return vr.negative!==0?(vr.negative=0,this.imod(vr).redNeg()):this.imod(vr)},Gr.prototype.pow=function(fr,vr){if(vr.isZero())return new ir(1).toRed(this);if(vr.cmpn(1)===0)return fr.clone();var $r=4,Tr=new Array(1<<$r);Tr[0]=new ir(1).toRed(this),Tr[1]=fr;for(var Ar=2;Ar<Tr.length;Ar++)Tr[Ar]=this.mul(Tr[Ar-1],fr);var jr=Tr[0],Or=0,Nr=0,wr=vr.bitLength()%26;for(wr===0&&(wr=26),Ar=vr.length-1;Ar>=0;Ar--){for(var Rr=vr.words[Ar],Pr=wr-1;Pr>=0;Pr--){var Br=Rr>>Pr&1;if(jr!==Tr[0]&&(jr=this.sqr(jr)),Br===0&&Or===0){Nr=0;continue}Or<<=1,Or|=Br,Nr++,!(Nr!==$r&&(Ar!==0||Pr!==0))&&(jr=this.mul(jr,Tr[Or]),Nr=0,Or=0)}wr=26}return jr},Gr.prototype.convertTo=function(fr){var vr=fr.umod(this.m);return vr===fr?vr.clone():vr},Gr.prototype.convertFrom=function(fr){var vr=fr.clone();return vr.red=null,vr},ir.mont=function(fr){return new Kr(fr)};function Kr(Lr){Gr.call(this,Lr),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ir(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}rr(Kr,Gr),Kr.prototype.convertTo=function(fr){return this.imod(fr.ushln(this.shift))},Kr.prototype.convertFrom=function(fr){var vr=this.imod(fr.mul(this.rinv));return vr.red=null,vr},Kr.prototype.imul=function(fr,vr){if(fr.isZero()||vr.isZero())return fr.words[0]=0,fr.length=1,fr;var $r=fr.imul(vr),Tr=$r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ar=$r.isub(Tr).iushrn(this.shift),jr=Ar;return Ar.cmp(this.m)>=0?jr=Ar.isub(this.m):Ar.cmpn(0)<0&&(jr=Ar.iadd(this.m)),jr._forceRed(this)},Kr.prototype.mul=function(fr,vr){if(fr.isZero()||vr.isZero())return new ir(0)._forceRed(this);var $r=fr.mul(vr),Tr=$r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Ar=$r.isub(Tr).iushrn(this.shift),jr=Ar;return Ar.cmp(this.m)>=0?jr=Ar.isub(this.m):Ar.cmpn(0)<0&&(jr=Ar.iadd(this.m)),jr._forceRed(this)},Kr.prototype.invm=function(fr){var vr=this.imod(fr._invmp(this.m).mul(this.r2));return vr._forceRed(this)}})(er,commonjsGlobal$1)})(bn$1);var bnExports=bn$1.exports;const BN=getDefaultExportFromCjs$2(bnExports);var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(er,s){var tr=require$$2$1,nr=tr.Buffer;function rr(sr,or){for(var ar in sr)or[ar]=sr[ar]}nr.from&&nr.alloc&&nr.allocUnsafe&&nr.allocUnsafeSlow?er.exports=tr:(rr(tr,s),s.Buffer=ir);function ir(sr,or,ar){return nr(sr,or,ar)}ir.prototype=Object.create(nr.prototype),rr(nr,ir),ir.from=function(sr,or,ar){if(typeof sr=="number")throw new TypeError("Argument must not be a number");return nr(sr,or,ar)},ir.alloc=function(sr,or,ar){if(typeof sr!="number")throw new TypeError("Argument must be a number");var lr=nr(sr);return or!==void 0?typeof ar=="string"?lr.fill(or,ar):lr.fill(or):lr.fill(0),lr},ir.allocUnsafe=function(sr){if(typeof sr!="number")throw new TypeError("Argument must be a number");return nr(sr)},ir.allocUnsafeSlow=function(sr){if(typeof sr!="number")throw new TypeError("Argument must be a number");return tr.SlowBuffer(sr)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,_Buffer$2=safeBufferExports.Buffer;function base$3(er){if(er.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),tr=0;tr<s.length;tr++)s[tr]=255;for(var nr=0;nr<er.length;nr++){var rr=er.charAt(nr),ir=rr.charCodeAt(0);if(s[ir]!==255)throw new TypeError(rr+" is ambiguous");s[ir]=nr}var sr=er.length,or=er.charAt(0),ar=Math.log(sr)/Math.log(256),lr=Math.log(256)/Math.log(sr);function cr(dr){if((Array.isArray(dr)||dr instanceof Uint8Array)&&(dr=_Buffer$2.from(dr)),!_Buffer$2.isBuffer(dr))throw new TypeError("Expected Buffer");if(dr.length===0)return"";for(var pr=0,mr=0,xr=0,br=dr.length;xr!==br&&dr[xr]===0;)xr++,pr++;for(var yr=(br-xr)*lr+1>>>0,gr=new Uint8Array(yr);xr!==br;){for(var Er=dr[xr],kr=0,Mr=yr-1;(Er!==0||kr<mr)&&Mr!==-1;Mr--,kr++)Er+=256*gr[Mr]>>>0,gr[Mr]=Er%sr>>>0,Er=Er/sr>>>0;if(Er!==0)throw new Error("Non-zero carry");mr=kr,xr++}for(var Cr=yr-mr;Cr!==yr&&gr[Cr]===0;)Cr++;for(var Dr=or.repeat(pr);Cr<yr;++Cr)Dr+=er.charAt(gr[Cr]);return Dr}function ur(dr){if(typeof dr!="string")throw new TypeError("Expected String");if(dr.length===0)return _Buffer$2.alloc(0);for(var pr=0,mr=0,xr=0;dr[pr]===or;)mr++,pr++;for(var br=(dr.length-pr)*ar+1>>>0,yr=new Uint8Array(br);pr<dr.length;){var gr=s[dr.charCodeAt(pr)];if(gr===255)return;for(var Er=0,kr=br-1;(gr!==0||Er<xr)&&kr!==-1;kr--,Er++)gr+=sr*yr[kr]>>>0,yr[kr]=gr%256>>>0,gr=gr/256>>>0;if(gr!==0)throw new Error("Non-zero carry");xr=Er,pr++}for(var Mr=br-xr;Mr!==br&&yr[Mr]===0;)Mr++;var Cr=_Buffer$2.allocUnsafe(mr+(br-Mr));Cr.fill(0,0,mr);for(var Dr=mr;Mr!==br;)Cr[Dr++]=yr[Mr++];return Cr}function hr(dr){var pr=ur(dr);if(pr)return pr;throw new Error("Non-base"+sr+" character")}return{encode:cr,decodeUnsafe:ur,decode:hr}}var src$3=base$3,basex$3=src$3,ALPHABET$4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$4=basex$3(ALPHABET$4);const bs58$5=getDefaultExportFromCjs$2(bs58$4),SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:s,B:tr,C:nr,D:rr,E:ir,F:sr,G:or,H:ar}=this;return[s,tr,nr,rr,ir,sr,or,ar]}set(s,tr,nr,rr,ir,sr,or,ar){this.A=s|0,this.B=tr|0,this.C=nr|0,this.D=rr|0,this.E=ir|0,this.F=sr|0,this.G=or|0,this.H=ar|0}process(s,tr){for(let ur=0;ur<16;ur++,tr+=4)SHA256_W[ur]=s.getUint32(tr,!1);for(let ur=16;ur<64;ur++){const hr=SHA256_W[ur-15],dr=SHA256_W[ur-2],pr=rotr(hr,7)^rotr(hr,18)^hr>>>3,mr=rotr(dr,17)^rotr(dr,19)^dr>>>10;SHA256_W[ur]=mr+SHA256_W[ur-7]+pr+SHA256_W[ur-16]|0}let{A:nr,B:rr,C:ir,D:sr,E:or,F:ar,G:lr,H:cr}=this;for(let ur=0;ur<64;ur++){const hr=rotr(or,6)^rotr(or,11)^rotr(or,25),dr=cr+hr+Chi(or,ar,lr)+SHA256_K[ur]+SHA256_W[ur]|0,mr=(rotr(nr,2)^rotr(nr,13)^rotr(nr,22))+Maj(nr,rr,ir)|0;cr=lr,lr=ar,ar=or,or=sr+dr|0,sr=ir,ir=rr,rr=nr,nr=dr+mr|0}nr=nr+this.A|0,rr=rr+this.B|0,ir=ir+this.C|0,sr=sr+this.D|0,or=or+this.E|0,ar=ar+this.F|0,lr=lr+this.G|0,cr=cr+this.H|0,this.set(nr,rr,ir,sr,or,ar,lr,cr)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);var lib={},_Buffer$1=safeBufferExports.Buffer;function base$2(er){if(er.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),tr=0;tr<s.length;tr++)s[tr]=255;for(var nr=0;nr<er.length;nr++){var rr=er.charAt(nr),ir=rr.charCodeAt(0);if(s[ir]!==255)throw new TypeError(rr+" is ambiguous");s[ir]=nr}var sr=er.length,or=er.charAt(0),ar=Math.log(sr)/Math.log(256),lr=Math.log(256)/Math.log(sr);function cr(dr){if((Array.isArray(dr)||dr instanceof Uint8Array)&&(dr=_Buffer$1.from(dr)),!_Buffer$1.isBuffer(dr))throw new TypeError("Expected Buffer");if(dr.length===0)return"";for(var pr=0,mr=0,xr=0,br=dr.length;xr!==br&&dr[xr]===0;)xr++,pr++;for(var yr=(br-xr)*lr+1>>>0,gr=new Uint8Array(yr);xr!==br;){for(var Er=dr[xr],kr=0,Mr=yr-1;(Er!==0||kr<mr)&&Mr!==-1;Mr--,kr++)Er+=256*gr[Mr]>>>0,gr[Mr]=Er%sr>>>0,Er=Er/sr>>>0;if(Er!==0)throw new Error("Non-zero carry");mr=kr,xr++}for(var Cr=yr-mr;Cr!==yr&&gr[Cr]===0;)Cr++;for(var Dr=or.repeat(pr);Cr<yr;++Cr)Dr+=er.charAt(gr[Cr]);return Dr}function ur(dr){if(typeof dr!="string")throw new TypeError("Expected String");if(dr.length===0)return _Buffer$1.alloc(0);for(var pr=0,mr=0,xr=0;dr[pr]===or;)mr++,pr++;for(var br=(dr.length-pr)*ar+1>>>0,yr=new Uint8Array(br);pr<dr.length;){var gr=s[dr.charCodeAt(pr)];if(gr===255)return;for(var Er=0,kr=br-1;(gr!==0||Er<xr)&&kr!==-1;kr--,Er++)gr+=sr*yr[kr]>>>0,yr[kr]=gr%256>>>0,gr=gr/256>>>0;if(gr!==0)throw new Error("Non-zero carry");xr=Er,pr++}for(var Mr=br-xr;Mr!==br&&yr[Mr]===0;)Mr++;var Cr=_Buffer$1.allocUnsafe(mr+(br-Mr));Cr.fill(0,0,mr);for(var Dr=mr;Mr!==br;)Cr[Dr++]=yr[Mr++];return Cr}function hr(dr){var pr=ur(dr);if(pr)return pr;throw new Error("Non-base"+sr+" character")}return{encode:cr,decodeUnsafe:ur,decode:hr}}var src$2=base$2,basex$2=src$2,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$3=basex$2(ALPHABET$3);function inRange(er,s,tr){return s<=er&&er<=tr}function ToDictionary(er){if(er===void 0)return{};if(er===Object(er))return er;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(er){for(var s=String(er),tr=s.length,nr=0,rr=[];nr<tr;){var ir=s.charCodeAt(nr);if(ir<55296||ir>57343)rr.push(ir);else if(56320<=ir&&ir<=57343)rr.push(65533);else if(55296<=ir&&ir<=56319)if(nr===tr-1)rr.push(65533);else{var sr=er.charCodeAt(nr+1);if(56320<=sr&&sr<=57343){var or=ir&1023,ar=sr&1023;rr.push(65536+(or<<10)+ar),nr+=1}else rr.push(65533)}nr+=1}return rr}function codePointsToString(er){for(var s="",tr=0;tr<er.length;++tr){var nr=er[tr];nr<=65535?s+=String.fromCharCode(nr):(nr-=65536,s+=String.fromCharCode((nr>>10)+55296,(nr&1023)+56320))}return s}var end_of_stream=-1;function Stream(er){this.tokens=[].slice.call(er)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(er){if(Array.isArray(er))for(var s=er;s.length;)this.tokens.unshift(s.pop());else this.tokens.unshift(er)},push:function(er){if(Array.isArray(er))for(var s=er;s.length;)this.tokens.push(s.shift());else this.tokens.push(er)}};var finished=-1;function decoderError(er,s){if(er)throw TypeError("Decoder error");return s||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(er,s){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(er,s);if(er=er!==void 0?String(er).toLowerCase():DEFAULT_ENCODING,er!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");s=ToDictionary(s),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!s.fatal,this._ignoreBOM=!!s.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(s,tr){var nr;typeof s=="object"&&s instanceof ArrayBuffer?nr=new Uint8Array(s):typeof s=="object"&&"buffer"in s&&s.buffer instanceof ArrayBuffer?nr=new Uint8Array(s.buffer,s.byteOffset,s.byteLength):nr=new Uint8Array(0),tr=ToDictionary(tr),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!tr.stream;for(var rr=new Stream(nr),ir=[],sr;!rr.endOfStream()&&(sr=this._decoder.handler(rr,rr.read()),sr!==finished);)sr!==null&&(Array.isArray(sr)?ir.push.apply(ir,sr):ir.push(sr));if(!this._streaming){do{if(sr=this._decoder.handler(rr,rr.read()),sr===finished)break;sr!==null&&(Array.isArray(sr)?ir.push.apply(ir,sr):ir.push(sr))}while(!rr.endOfStream());this._decoder=null}return ir.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(ir[0]===65279?(this._BOMseen=!0,ir.shift()):this._BOMseen=!0),codePointsToString(ir)}};function TextEncoder$1(er,s){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(er,s);if(er=er!==void 0?String(er).toLowerCase():DEFAULT_ENCODING,er!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");s=ToDictionary(s),this._streaming=!1,this._encoder=null,this._options={fatal:!!s.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(s,tr){s=s?String(s):"",tr=ToDictionary(tr),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!tr.stream;for(var nr=[],rr=new Stream(stringToCodePoints(s)),ir;!rr.endOfStream()&&(ir=this._encoder.handler(rr,rr.read()),ir!==finished);)Array.isArray(ir)?nr.push.apply(nr,ir):nr.push(ir);if(!this._streaming){for(;ir=this._encoder.handler(rr,rr.read()),ir!==finished;)Array.isArray(ir)?nr.push.apply(nr,ir):nr.push(ir);this._encoder=null}return new Uint8Array(nr)}};function UTF8Decoder(er){var s=er.fatal,tr=0,nr=0,rr=0,ir=128,sr=191;this.handler=function(or,ar){if(ar===end_of_stream&&rr!==0)return rr=0,decoderError(s);if(ar===end_of_stream)return finished;if(rr===0){if(inRange(ar,0,127))return ar;if(inRange(ar,194,223))rr=1,tr=ar-192;else if(inRange(ar,224,239))ar===224&&(ir=160),ar===237&&(sr=159),rr=2,tr=ar-224;else if(inRange(ar,240,244))ar===240&&(ir=144),ar===244&&(sr=143),rr=3,tr=ar-240;else return decoderError(s);return tr=tr<<6*rr,null}if(!inRange(ar,ir,sr))return tr=rr=nr=0,ir=128,sr=191,or.prepend(ar),decoderError(s);if(ir=128,sr=191,nr+=1,tr+=ar-128<<6*(rr-nr),nr!==rr)return null;var lr=tr;return tr=rr=nr=0,lr}}function UTF8Encoder(er){er.fatal,this.handler=function(s,tr){if(tr===end_of_stream)return finished;if(inRange(tr,0,127))return tr;var nr,rr;inRange(tr,128,2047)?(nr=1,rr=192):inRange(tr,2048,65535)?(nr=2,rr=224):inRange(tr,65536,1114111)&&(nr=3,rr=240);for(var ir=[(tr>>6*nr)+rr];nr>0;){var sr=tr>>6*(nr-1);ir.push(128|sr&63),nr-=1}return ir}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:TextDecoder$1,TextEncoder:TextEncoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1);var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(er,s,tr,nr){nr===void 0&&(nr=tr),Object.defineProperty(er,nr,{enumerable:!0,get:function(){return s[tr]}})}:function(er,s,tr,nr){nr===void 0&&(nr=tr),er[nr]=s[tr]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(er,s){Object.defineProperty(er,"default",{enumerable:!0,value:s})}:function(er,s){er.default=s}),__decorate=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(er,s,tr,nr){var rr=arguments.length,ir=rr<3?s:nr===null?nr=Object.getOwnPropertyDescriptor(s,tr):nr,sr;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ir=Reflect.decorate(er,s,tr,nr);else for(var or=er.length-1;or>=0;or--)(sr=er[or])&&(ir=(rr<3?sr(ir):rr>3?sr(s,tr,ir):sr(s,tr))||ir);return rr>3&&ir&&Object.defineProperty(s,tr,ir),ir},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(er){if(er&&er.__esModule)return er;var s={};if(er!=null)for(var tr in er)tr!=="default"&&Object.hasOwnProperty.call(er,tr)&&__createBinding(s,er,tr);return __setModuleDefault(s,er),s},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};Object.defineProperty(lib,"__esModule",{value:!0});var deserializeUnchecked_1=lib.deserializeUnchecked=deserialize_1=lib.deserialize=serialize_1=lib.serialize=lib.BinaryReader=lib.BinaryWriter=lib.BorshError=lib.baseDecode=lib.baseEncode=void 0;const bn_js_1=__importDefault(bnExports),bs58_1=__importDefault(bs58$3),encoding=__importStar(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(er){return typeof er=="string"&&(er=Buffer.from(er,"utf8")),bs58_1.default.encode(Buffer.from(er))}lib.baseEncode=baseEncode;function baseDecode(er){return Buffer.from(bs58_1.default.decode(er))}lib.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(s){super(s),this.fieldPath=[],this.originalMessage=s}addToFieldPath(s){this.fieldPath.splice(0,0,s),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(s){this.maybeResize(),this.buf.writeUInt8(s,this.length),this.length+=1}writeU16(s){this.maybeResize(),this.buf.writeUInt16LE(s,this.length),this.length+=2}writeU32(s){this.maybeResize(),this.buf.writeUInt32LE(s,this.length),this.length+=4}writeU64(s){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(s).toArray("le",8)))}writeU128(s){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(s).toArray("le",16)))}writeU256(s){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(s).toArray("le",32)))}writeU512(s){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(s).toArray("le",64)))}writeBuffer(s){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),s,Buffer.alloc(INITIAL_LENGTH)]),this.length+=s.length}writeString(s){this.maybeResize();const tr=Buffer.from(s,"utf8");this.writeU32(tr.length),this.writeBuffer(tr)}writeFixedArray(s){this.writeBuffer(Buffer.from(s))}writeArray(s,tr){this.maybeResize(),this.writeU32(s.length);for(const nr of s)this.maybeResize(),tr(nr)}toArray(){return this.buf.subarray(0,this.length)}}lib.BinaryWriter=BinaryWriter;function handlingRangeError(er,s,tr){const nr=tr.value;tr.value=function(...rr){try{return nr.apply(this,rr)}catch(ir){if(ir instanceof RangeError){const sr=ir.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(sr)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw ir}}}class BinaryReader{constructor(s){this.buf=s,this.offset=0}readU8(){const s=this.buf.readUInt8(this.offset);return this.offset+=1,s}readU16(){const s=this.buf.readUInt16LE(this.offset);return this.offset+=2,s}readU32(){const s=this.buf.readUInt32LE(this.offset);return this.offset+=4,s}readU64(){const s=this.readBuffer(8);return new bn_js_1.default(s,"le")}readU128(){const s=this.readBuffer(16);return new bn_js_1.default(s,"le")}readU256(){const s=this.readBuffer(32);return new bn_js_1.default(s,"le")}readU512(){const s=this.readBuffer(64);return new bn_js_1.default(s,"le")}readBuffer(s){if(this.offset+s>this.buf.length)throw new BorshError(`Expected buffer length ${s} isn't within bounds`);const tr=this.buf.slice(this.offset,this.offset+s);return this.offset+=s,tr}readString(){const s=this.readU32(),tr=this.readBuffer(s);try{return textDecoder.decode(tr)}catch(nr){throw new BorshError(`Error decoding UTF-8 string: ${nr}`)}}readFixedArray(s){return new Uint8Array(this.readBuffer(s))}readArray(s){const tr=this.readU32(),nr=Array();for(let rr=0;rr<tr;++rr)nr.push(s());return nr}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null);lib.BinaryReader=BinaryReader;function capitalizeFirstLetter(er){return er.charAt(0).toUpperCase()+er.slice(1)}function serializeField(er,s,tr,nr,rr){try{if(typeof nr=="string")rr[`write${capitalizeFirstLetter(nr)}`](tr);else if(nr instanceof Array)if(typeof nr[0]=="number"){if(tr.length!==nr[0])throw new BorshError(`Expecting byte array of length ${nr[0]}, but got ${tr.length} bytes`);rr.writeFixedArray(tr)}else if(nr.length===2&&typeof nr[1]=="number"){if(tr.length!==nr[1])throw new BorshError(`Expecting byte array of length ${nr[1]}, but got ${tr.length} bytes`);for(let ir=0;ir<nr[1];ir++)serializeField(er,null,tr[ir],nr[0],rr)}else rr.writeArray(tr,ir=>{serializeField(er,s,ir,nr[0],rr)});else if(nr.kind!==void 0)switch(nr.kind){case"option":{tr==null?rr.writeU8(0):(rr.writeU8(1),serializeField(er,s,tr,nr.type,rr));break}case"map":{rr.writeU32(tr.size),tr.forEach((ir,sr)=>{serializeField(er,s,sr,nr.key,rr),serializeField(er,s,ir,nr.value,rr)});break}default:throw new BorshError(`FieldType ${nr} unrecognized`)}else serializeStruct(er,tr,rr)}catch(ir){throw ir instanceof BorshError&&ir.addToFieldPath(s),ir}}function serializeStruct(er,s,tr){if(typeof s.borshSerialize=="function"){s.borshSerialize(tr);return}const nr=er.get(s.constructor);if(!nr)throw new BorshError(`Class ${s.constructor.name} is missing in schema`);if(nr.kind==="struct")nr.fields.map(([rr,ir])=>{serializeField(er,rr,s[rr],ir,tr)});else if(nr.kind==="enum"){const rr=s[nr.field];for(let ir=0;ir<nr.values.length;++ir){const[sr,or]=nr.values[ir];if(sr===rr){tr.writeU8(ir),serializeField(er,sr,s[sr],or,tr);break}}}else throw new BorshError(`Unexpected schema kind: ${nr.kind} for ${s.constructor.name}`)}function serialize(er,s,tr=BinaryWriter){const nr=new tr;return serializeStruct(er,s,nr),nr.toArray()}var serialize_1=lib.serialize=serialize;function deserializeField(er,s,tr,nr){try{if(typeof tr=="string")return nr[`read${capitalizeFirstLetter(tr)}`]();if(tr instanceof Array){if(typeof tr[0]=="number")return nr.readFixedArray(tr[0]);if(typeof tr[1]=="number"){const rr=[];for(let ir=0;ir<tr[1];ir++)rr.push(deserializeField(er,null,tr[0],nr));return rr}else return nr.readArray(()=>deserializeField(er,s,tr[0],nr))}if(tr.kind==="option")return nr.readU8()?deserializeField(er,s,tr.type,nr):void 0;if(tr.kind==="map"){let rr=new Map;const ir=nr.readU32();for(let sr=0;sr<ir;sr++){const or=deserializeField(er,s,tr.key,nr),ar=deserializeField(er,s,tr.value,nr);rr.set(or,ar)}return rr}return deserializeStruct(er,tr,nr)}catch(rr){throw rr instanceof BorshError&&rr.addToFieldPath(s),rr}}function deserializeStruct(er,s,tr){if(typeof s.borshDeserialize=="function")return s.borshDeserialize(tr);const nr=er.get(s);if(!nr)throw new BorshError(`Class ${s.name} is missing in schema`);if(nr.kind==="struct"){const rr={};for(const[ir,sr]of er.get(s).fields)rr[ir]=deserializeField(er,ir,sr,tr);return new s(rr)}if(nr.kind==="enum"){const rr=tr.readU8();if(rr>=nr.values.length)throw new BorshError(`Enum index: ${rr} is out of range`);const[ir,sr]=nr.values[rr],or=deserializeField(er,ir,sr,tr);return new s({[ir]:or})}throw new BorshError(`Unexpected schema kind: ${nr.kind} for ${s.constructor.name}`)}function deserialize(er,s,tr,nr=BinaryReader){const rr=new nr(tr),ir=deserializeStruct(er,s,rr);if(rr.offset<tr.length)throw new BorshError(`Unexpected ${tr.length-rr.offset} bytes after deserialized data`);return ir}var deserialize_1=lib.deserialize=deserialize;function deserializeUnchecked(er,s,tr,nr=BinaryReader){const rr=new nr(tr);return deserializeStruct(er,s,rr)}deserializeUnchecked_1=lib.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64$1=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$1=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$1=Layout$4.u8=offset$1=Layout$4.offset=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$1=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$1=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64$1=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=require$$2$1;function checkUint8Array(er){if(!(er instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(er){return checkUint8Array(er),buffer_1.Buffer.from(er.buffer,er.byteOffset,er.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;let Layout$3=class{constructor(s,tr){if(!Number.isInteger(s))throw new TypeError("span must be an integer");this.span=s,this.property=tr}makeDestinationObject(){return{}}getSpan(s,tr){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(s){const tr=Object.create(this.constructor.prototype);return Object.assign(tr,this),tr.property=s,tr}fromArray(s){}};Layout$4.Layout=Layout$3;function nameWithProperty$2(er,s){return s.property?er+"["+s.property+"]":er}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(er,s){if(typeof er!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(er,"layout_"))throw new Error("Class is already bound to a layout");if(!(s&&s instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(s,"boundConstructor_"))throw new Error("layout is already bound to a constructor");er.layout_=s,s.boundConstructor_=er,s.makeDestinationObject=()=>new er,Object.defineProperty(er.prototype,"encode",{value(tr,nr){return s.encode(this,tr,nr)},writable:!0}),Object.defineProperty(er,"decode",{value(tr,nr){return s.decode(tr,nr)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;let ExternalLayout$2=class extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}};Layout$4.ExternalLayout=ExternalLayout$2;let GreedyCount$1=class extends ExternalLayout$2{constructor(s=1,tr){if(!Number.isInteger(s)||0>=s)throw new TypeError("elementSpan must be a (positive) integer");super(-1,tr),this.elementSpan=s}isCount(){return!0}decode(s,tr=0){checkUint8Array(s);const nr=s.length-tr;return Math.floor(nr/this.elementSpan)}encode(s,tr,nr){return 0}};Layout$4.GreedyCount=GreedyCount$1;let OffsetLayout$2=class extends ExternalLayout$2{constructor(s,tr=0,nr){if(!(s instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(tr))throw new TypeError("offset must be integer or undefined");super(s.span,nr||s.property),this.layout=s,this.offset=tr}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$2}decode(s,tr=0){return this.layout.decode(s,tr+this.offset)}encode(s,tr,nr=0){return this.layout.encode(s,tr,nr+this.offset)}};Layout$4.OffsetLayout=OffsetLayout$2;let UInt$2=class extends Layout$3{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr=0){return uint8ArrayToBuffer(s).readUIntLE(tr,this.span)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeUIntLE(s,nr,this.span),this.span}};Layout$4.UInt=UInt$2;let UIntBE$2=class extends Layout$3{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr=0){return uint8ArrayToBuffer(s).readUIntBE(tr,this.span)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeUIntBE(s,nr,this.span),this.span}};Layout$4.UIntBE=UIntBE$2;let Int$1=class extends Layout$3{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr=0){return uint8ArrayToBuffer(s).readIntLE(tr,this.span)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeIntLE(s,nr,this.span),this.span}};Layout$4.Int=Int$1;let IntBE$1=class extends Layout$3{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr=0){return uint8ArrayToBuffer(s).readIntBE(tr,this.span)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeIntBE(s,nr,this.span),this.span}};Layout$4.IntBE=IntBE$1;const V2E32$2=Math.pow(2,32);function divmodInt64$2(er){const s=Math.floor(er/V2E32$2),tr=er-s*V2E32$2;return{hi32:s,lo32:tr}}function roundedInt64$2(er,s){return er*V2E32$2+s}let NearUInt64$2=class extends Layout$3{constructor(s){super(8,s)}decode(s,tr=0){const nr=uint8ArrayToBuffer(s),rr=nr.readUInt32LE(tr),ir=nr.readUInt32LE(tr+4);return roundedInt64$2(ir,rr)}encode(s,tr,nr=0){const rr=divmodInt64$2(s),ir=uint8ArrayToBuffer(tr);return ir.writeUInt32LE(rr.lo32,nr),ir.writeUInt32LE(rr.hi32,nr+4),8}};Layout$4.NearUInt64=NearUInt64$2;let NearUInt64BE$1=class extends Layout$3{constructor(s){super(8,s)}decode(s,tr=0){const nr=uint8ArrayToBuffer(s),rr=nr.readUInt32BE(tr),ir=nr.readUInt32BE(tr+4);return roundedInt64$2(rr,ir)}encode(s,tr,nr=0){const rr=divmodInt64$2(s),ir=uint8ArrayToBuffer(tr);return ir.writeUInt32BE(rr.hi32,nr),ir.writeUInt32BE(rr.lo32,nr+4),8}};Layout$4.NearUInt64BE=NearUInt64BE$1;let NearInt64$2=class extends Layout$3{constructor(s){super(8,s)}decode(s,tr=0){const nr=uint8ArrayToBuffer(s),rr=nr.readUInt32LE(tr),ir=nr.readInt32LE(tr+4);return roundedInt64$2(ir,rr)}encode(s,tr,nr=0){const rr=divmodInt64$2(s),ir=uint8ArrayToBuffer(tr);return ir.writeUInt32LE(rr.lo32,nr),ir.writeInt32LE(rr.hi32,nr+4),8}};Layout$4.NearInt64=NearInt64$2;let NearInt64BE$1=class extends Layout$3{constructor(s){super(8,s)}decode(s,tr=0){const nr=uint8ArrayToBuffer(s),rr=nr.readInt32BE(tr),ir=nr.readUInt32BE(tr+4);return roundedInt64$2(rr,ir)}encode(s,tr,nr=0){const rr=divmodInt64$2(s),ir=uint8ArrayToBuffer(tr);return ir.writeInt32BE(rr.hi32,nr),ir.writeUInt32BE(rr.lo32,nr+4),8}};Layout$4.NearInt64BE=NearInt64BE$1;let Float$1=class extends Layout$3{constructor(s){super(4,s)}decode(s,tr=0){return uint8ArrayToBuffer(s).readFloatLE(tr)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeFloatLE(s,nr),4}};Layout$4.Float=Float$1;let FloatBE$1=class extends Layout$3{constructor(s){super(4,s)}decode(s,tr=0){return uint8ArrayToBuffer(s).readFloatBE(tr)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeFloatBE(s,nr),4}};Layout$4.FloatBE=FloatBE$1;let Double$1=class extends Layout$3{constructor(s){super(8,s)}decode(s,tr=0){return uint8ArrayToBuffer(s).readDoubleLE(tr)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeDoubleLE(s,nr),8}};Layout$4.Double=Double$1;let DoubleBE$1=class extends Layout$3{constructor(s){super(8,s)}decode(s,tr=0){return uint8ArrayToBuffer(s).readDoubleBE(tr)}encode(s,tr,nr=0){return uint8ArrayToBuffer(tr).writeDoubleBE(s,nr),8}};Layout$4.DoubleBE=DoubleBE$1;let Sequence$1=class extends Layout$3{constructor(s,tr,nr){if(!(s instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(tr instanceof ExternalLayout$2&&tr.isCount()||Number.isInteger(tr)&&0<=tr))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let rr=-1;!(tr instanceof ExternalLayout$2)&&0<s.span&&(rr=tr*s.span),super(rr,nr),this.elementLayout=s,this.count=tr}getSpan(s,tr=0){if(0<=this.span)return this.span;let nr=0,rr=this.count;if(rr instanceof ExternalLayout$2&&(rr=rr.decode(s,tr)),0<this.elementLayout.span)nr=rr*this.elementLayout.span;else{let ir=0;for(;ir<rr;)nr+=this.elementLayout.getSpan(s,tr+nr),++ir}return nr}decode(s,tr=0){const nr=[];let rr=0,ir=this.count;for(ir instanceof ExternalLayout$2&&(ir=ir.decode(s,tr));rr<ir;)nr.push(this.elementLayout.decode(s,tr)),tr+=this.elementLayout.getSpan(s,tr),rr+=1;return nr}encode(s,tr,nr=0){const rr=this.elementLayout,ir=s.reduce((sr,or)=>sr+rr.encode(or,tr,nr+sr),0);return this.count instanceof ExternalLayout$2&&this.count.encode(s.length,tr,nr),ir}};Layout$4.Sequence=Sequence$1;let Structure$2=class extends Layout$3{constructor(s,tr,nr){if(!(Array.isArray(s)&&s.reduce((ir,sr)=>ir&&sr instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof tr=="boolean"&&nr===void 0&&(nr=tr,tr=void 0);for(const ir of s)if(0>ir.span&&ir.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let rr=-1;try{rr=s.reduce((ir,sr)=>ir+sr.getSpan(),0)}catch{}super(rr,tr),this.fields=s,this.decodePrefixes=!!nr}getSpan(s,tr=0){if(0<=this.span)return this.span;let nr=0;try{nr=this.fields.reduce((rr,ir)=>{const sr=ir.getSpan(s,tr);return tr+=sr,rr+sr},0)}catch{throw new RangeError("indeterminate span")}return nr}decode(s,tr=0){checkUint8Array(s);const nr=this.makeDestinationObject();for(const rr of this.fields)if(rr.property!==void 0&&(nr[rr.property]=rr.decode(s,tr)),tr+=rr.getSpan(s,tr),this.decodePrefixes&&s.length===tr)break;return nr}encode(s,tr,nr=0){const rr=nr;let ir=0,sr=0;for(const or of this.fields){let ar=or.span;if(sr=0<ar?ar:0,or.property!==void 0){const lr=s[or.property];lr!==void 0&&(sr=or.encode(lr,tr,nr),0>ar&&(ar=or.getSpan(tr,nr)))}ir=nr,nr+=ar}return ir+sr-rr}fromArray(s){const tr=this.makeDestinationObject();for(const nr of this.fields)nr.property!==void 0&&0<s.length&&(tr[nr.property]=s.shift());return tr}layoutFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const tr of this.fields)if(tr.property===s)return tr}offsetOf(s){if(typeof s!="string")throw new TypeError("property must be string");let tr=0;for(const nr of this.fields){if(nr.property===s)return tr;0>nr.span?tr=-1:0<=tr&&(tr+=nr.span)}}};Layout$4.Structure=Structure$2;let UnionDiscriminator$2=class{constructor(s){this.property=s}decode(s,tr){throw new Error("UnionDiscriminator is abstract")}encode(s,tr,nr){throw new Error("UnionDiscriminator is abstract")}};Layout$4.UnionDiscriminator=UnionDiscriminator$2;let UnionLayoutDiscriminator$2=class extends UnionDiscriminator$2{constructor(s,tr){if(!(s instanceof ExternalLayout$2&&s.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(tr||s.property||"variant"),this.layout=s}decode(s,tr){return this.layout.decode(s,tr)}encode(s,tr,nr){return this.layout.encode(s,tr,nr)}};Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$2;let Union$2=class extends Layout$3{constructor(s,tr,nr){let rr;if(s instanceof UInt$2||s instanceof UIntBE$2)rr=new UnionLayoutDiscriminator$2(new OffsetLayout$2(s));else if(s instanceof ExternalLayout$2&&s.isCount())rr=new UnionLayoutDiscriminator$2(s);else if(s instanceof UnionDiscriminator$2)rr=s;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(tr===void 0&&(tr=null),!(tr===null||tr instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(tr!==null){if(0>tr.span)throw new Error("defaultLayout must have constant span");tr.property===void 0&&(tr=tr.replicate("content"))}let ir=-1;tr&&(ir=tr.span,0<=ir&&(s instanceof UInt$2||s instanceof UIntBE$2)&&(ir+=rr.layout.span)),super(ir,nr),this.discriminator=rr,this.usesPrefixDiscriminator=s instanceof UInt$2||s instanceof UIntBE$2,this.defaultLayout=tr,this.registry={};let sr=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(or){return sr(or)},this.configGetSourceVariant=function(or){sr=or.bind(this)}}getSpan(s,tr=0){if(0<=this.span)return this.span;const nr=this.getVariant(s,tr);if(!nr)throw new Error("unable to determine span for unrecognized variant");return nr.getSpan(s,tr)}defaultGetSourceVariant(s){if(Object.prototype.hasOwnProperty.call(s,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(s,this.defaultLayout.property))return;const tr=this.registry[s[this.discriminator.property]];if(tr&&(!tr.layout||tr.property&&Object.prototype.hasOwnProperty.call(s,tr.property)))return tr}else for(const tr in this.registry){const nr=this.registry[tr];if(nr.property&&Object.prototype.hasOwnProperty.call(s,nr.property))return nr}throw new Error("unable to infer src variant")}decode(s,tr=0){let nr;const rr=this.discriminator,ir=rr.decode(s,tr),sr=this.registry[ir];if(sr===void 0){const or=this.defaultLayout;let ar=0;this.usesPrefixDiscriminator&&(ar=rr.layout.span),nr=this.makeDestinationObject(),nr[rr.property]=ir,nr[or.property]=or.decode(s,tr+ar)}else nr=sr.decode(s,tr);return nr}encode(s,tr,nr=0){const rr=this.getSourceVariant(s);if(rr===void 0){const ir=this.discriminator,sr=this.defaultLayout;let or=0;return this.usesPrefixDiscriminator&&(or=ir.layout.span),ir.encode(s[ir.property],tr,nr),or+sr.encode(s[sr.property],tr,nr+or)}return rr.encode(s,tr,nr)}addVariant(s,tr,nr){const rr=new VariantLayout$2(this,s,tr,nr);return this.registry[s]=rr,rr}getVariant(s,tr=0){let nr;return s instanceof Uint8Array?nr=this.discriminator.decode(s,tr):nr=s,this.registry[nr]}};Layout$4.Union=Union$2;let VariantLayout$2=class extends Layout$3{constructor(s,tr,nr,rr){if(!(s instanceof Union$2))throw new TypeError("union must be a Union");if(!Number.isInteger(tr)||0>tr)throw new TypeError("variant must be a (non-negative) integer");if(typeof nr=="string"&&rr===void 0&&(rr=nr,nr=null),nr){if(!(nr instanceof Layout$3))throw new TypeError("layout must be a Layout");if(s.defaultLayout!==null&&0<=nr.span&&nr.span>s.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof rr!="string")throw new TypeError("variant must have a String property")}let ir=s.span;0>s.span&&(ir=nr?nr.span:0,0<=ir&&s.usesPrefixDiscriminator&&(ir+=s.discriminator.layout.span)),super(ir,rr),this.union=s,this.variant=tr,this.layout=nr||null}getSpan(s,tr=0){if(0<=this.span)return this.span;let nr=0;this.union.usesPrefixDiscriminator&&(nr=this.union.discriminator.layout.span);let rr=0;return this.layout&&(rr=this.layout.getSpan(s,tr+nr)),nr+rr}decode(s,tr=0){const nr=this.makeDestinationObject();if(this!==this.union.getVariant(s,tr))throw new Error("variant mismatch");let rr=0;return this.union.usesPrefixDiscriminator&&(rr=this.union.discriminator.layout.span),this.layout?nr[this.property]=this.layout.decode(s,tr+rr):this.property?nr[this.property]=!0:this.union.usesPrefixDiscriminator&&(nr[this.union.discriminator.property]=this.variant),nr}encode(s,tr,nr=0){let rr=0;if(this.union.usesPrefixDiscriminator&&(rr=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(s,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,tr,nr);let ir=rr;if(this.layout&&(this.layout.encode(s[this.property],tr,nr+rr),ir+=this.layout.getSpan(tr,nr+rr),0<=this.union.span&&ir>this.union.span))throw new Error("encoded variant overruns containing union");return ir}fromArray(s){if(this.layout)return this.layout.fromArray(s)}};Layout$4.VariantLayout=VariantLayout$2;function fixBitwiseResult$1(er){return 0>er&&(er+=4294967296),er}let BitStructure$1=class extends Layout$3{constructor(s,tr,nr){if(!(s instanceof UInt$2||s instanceof UIntBE$2))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof tr=="string"&&nr===void 0&&(nr=tr,tr=!1),4<s.span)throw new RangeError("word cannot exceed 32 bits");super(s.span,nr),this.word=s,this.msb=!!tr,this.fields=[];let rr=0;this._packedSetValue=function(ir){return rr=fixBitwiseResult$1(ir),this},this._packedGetValue=function(){return rr}}decode(s,tr=0){const nr=this.makeDestinationObject(),rr=this.word.decode(s,tr);this._packedSetValue(rr);for(const ir of this.fields)ir.property!==void 0&&(nr[ir.property]=ir.decode(s));return nr}encode(s,tr,nr=0){const rr=this.word.decode(tr,nr);this._packedSetValue(rr);for(const ir of this.fields)if(ir.property!==void 0){const sr=s[ir.property];sr!==void 0&&ir.encode(sr)}return this.word.encode(this._packedGetValue(),tr,nr)}addField(s,tr){const nr=new BitField$1(this,s,tr);return this.fields.push(nr),nr}addBoolean(s){const tr=new Boolean$2(this,s);return this.fields.push(tr),tr}fieldFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const tr of this.fields)if(tr.property===s)return tr}};Layout$4.BitStructure=BitStructure$1;let BitField$1=class{constructor(s,tr,nr){if(!(s instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(tr)||0>=tr)throw new TypeError("bits must be positive integer");const rr=8*s.span,ir=s.fields.reduce((sr,or)=>sr+or.bits,0);if(tr+ir>rr)throw new Error("bits too long for span remainder ("+(rr-ir)+" of "+rr+" remain)");this.container=s,this.bits=tr,this.valueMask=(1<<tr)-1,tr===32&&(this.valueMask=4294967295),this.start=ir,this.container.msb&&(this.start=rr-ir-tr),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=nr}decode(s,tr){const nr=this.container._packedGetValue();return fixBitwiseResult$1(nr&this.wordMask)>>>this.start}encode(s){if(typeof s!="number"||!Number.isInteger(s)||s!==fixBitwiseResult$1(s&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const tr=this.container._packedGetValue(),nr=fixBitwiseResult$1(s<<this.start);this.container._packedSetValue(fixBitwiseResult$1(tr&~this.wordMask)|nr)}};Layout$4.BitField=BitField$1;let Boolean$2=class extends BitField$1{constructor(s,tr){super(s,1,tr)}decode(s,tr){return!!super.decode(s,tr)}encode(s){typeof s=="boolean"&&(s=+s),super.encode(s)}};Layout$4.Boolean=Boolean$2;let Blob$4=class extends Layout$3{constructor(s,tr){if(!(s instanceof ExternalLayout$2&&s.isCount()||Number.isInteger(s)&&0<=s))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let nr=-1;s instanceof ExternalLayout$2||(nr=s),super(nr,tr),this.length=s}getSpan(s,tr){let nr=this.span;return 0>nr&&(nr=this.length.decode(s,tr)),nr}decode(s,tr=0){let nr=this.span;return 0>nr&&(nr=this.length.decode(s,tr)),uint8ArrayToBuffer(s).slice(tr,tr+nr)}encode(s,tr,nr){let rr=this.length;if(this.length instanceof ExternalLayout$2&&(rr=s.length),!(s instanceof Uint8Array&&rr===s.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+rr+") Uint8Array as src");if(nr+rr>tr.length)throw new RangeError("encoding overruns Uint8Array");const ir=uint8ArrayToBuffer(s);return uint8ArrayToBuffer(tr).write(ir.toString("hex"),nr,rr,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(rr,tr,nr),rr}};Layout$4.Blob=Blob$4;let CString$1=class extends Layout$3{constructor(s){super(-1,s)}getSpan(s,tr=0){checkUint8Array(s);let nr=tr;for(;nr<s.length&&s[nr]!==0;)nr+=1;return 1+nr-tr}decode(s,tr=0){const nr=this.getSpan(s,tr);return uint8ArrayToBuffer(s).slice(tr,tr+nr-1).toString("utf-8")}encode(s,tr,nr=0){typeof s!="string"&&(s=String(s));const rr=buffer_1.Buffer.from(s,"utf8"),ir=rr.length;if(nr+ir>tr.length)throw new RangeError("encoding overruns Buffer");const sr=uint8ArrayToBuffer(tr);return rr.copy(sr,nr),sr[nr+ir]=0,ir+1}};Layout$4.CString=CString$1;let UTF8$1=class extends Layout$3{constructor(s,tr){if(typeof s=="string"&&tr===void 0&&(tr=s,s=void 0),s===void 0)s=-1;else if(!Number.isInteger(s))throw new TypeError("maxSpan must be an integer");super(-1,tr),this.maxSpan=s}getSpan(s,tr=0){return checkUint8Array(s),s.length-tr}decode(s,tr=0){const nr=this.getSpan(s,tr);if(0<=this.maxSpan&&this.maxSpan<nr)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(s).slice(tr,tr+nr).toString("utf-8")}encode(s,tr,nr=0){typeof s!="string"&&(s=String(s));const rr=buffer_1.Buffer.from(s,"utf8"),ir=rr.length;if(0<=this.maxSpan&&this.maxSpan<ir)throw new RangeError("text length exceeds maxSpan");if(nr+ir>tr.length)throw new RangeError("encoding overruns Buffer");return rr.copy(uint8ArrayToBuffer(tr),nr),ir}};Layout$4.UTF8=UTF8$1;let Constant$1=class extends Layout$3{constructor(s,tr){super(0,tr),this.value=s}decode(s,tr){return this.value}encode(s,tr,nr){return 0}};Layout$4.Constant=Constant$1;Layout$4.greedy=(er,s)=>new GreedyCount$1(er,s);var offset$1=Layout$4.offset=(er,s,tr)=>new OffsetLayout$2(er,s,tr),u8$1=Layout$4.u8=er=>new UInt$2(1,er),u16=Layout$4.u16=er=>new UInt$2(2,er);Layout$4.u24=er=>new UInt$2(3,er);var u32$1=Layout$4.u32=er=>new UInt$2(4,er);Layout$4.u40=er=>new UInt$2(5,er);Layout$4.u48=er=>new UInt$2(6,er);var nu64$1=Layout$4.nu64=er=>new NearUInt64$2(er);Layout$4.u16be=er=>new UIntBE$2(2,er);Layout$4.u24be=er=>new UIntBE$2(3,er);Layout$4.u32be=er=>new UIntBE$2(4,er);Layout$4.u40be=er=>new UIntBE$2(5,er);Layout$4.u48be=er=>new UIntBE$2(6,er);Layout$4.nu64be=er=>new NearUInt64BE$1(er);Layout$4.s8=er=>new Int$1(1,er);Layout$4.s16=er=>new Int$1(2,er);Layout$4.s24=er=>new Int$1(3,er);Layout$4.s32=er=>new Int$1(4,er);Layout$4.s40=er=>new Int$1(5,er);Layout$4.s48=er=>new Int$1(6,er);var ns64$1=Layout$4.ns64=er=>new NearInt64$2(er);Layout$4.s16be=er=>new IntBE$1(2,er);Layout$4.s24be=er=>new IntBE$1(3,er);Layout$4.s32be=er=>new IntBE$1(4,er);Layout$4.s40be=er=>new IntBE$1(5,er);Layout$4.s48be=er=>new IntBE$1(6,er);Layout$4.ns64be=er=>new NearInt64BE$1(er);Layout$4.f32=er=>new Float$1(er);Layout$4.f32be=er=>new FloatBE$1(er);Layout$4.f64=er=>new Double$1(er);Layout$4.f64be=er=>new DoubleBE$1(er);var struct$1=Layout$4.struct=(er,s,tr)=>new Structure$2(er,s,tr);Layout$4.bits=(er,s,tr)=>new BitStructure$1(er,s,tr);var seq=Layout$4.seq=(er,s,tr)=>new Sequence$1(er,s,tr);Layout$4.union=(er,s,tr)=>new Union$2(er,s,tr);Layout$4.unionLayoutDiscriminator=(er,s)=>new UnionLayoutDiscriminator$2(er,s);var blob$1=Layout$4.blob=(er,s)=>new Blob$4(er,s);Layout$4.cstr=er=>new CString$1(er);Layout$4.utf8=(er,s)=>new UTF8$1(er,s);Layout$4.constant=(er,s)=>new Constant$1(er,s);var browser$2={};Object.defineProperty(browser$2,"__esModule",{value:!0});function toBigIntLE(er){{const s=Buffer.from(er);s.reverse();const tr=s.toString("hex");return tr.length===0?BigInt(0):BigInt(`0x${tr}`)}}var toBigIntLE_1=browser$2.toBigIntLE=toBigIntLE;function toBigIntBE(er){{const s=er.toString("hex");return s.length===0?BigInt(0):BigInt(`0x${s}`)}}browser$2.toBigIntBE=toBigIntBE;function toBufferLE(er,s){{const tr=er.toString(16),nr=Buffer.from(tr.padStart(s*2,"0").slice(0,s*2),"hex");return nr.reverse(),nr}}var toBufferLE_1=browser$2.toBufferLE=toBufferLE;function toBufferBE(er,s){{const tr=er.toString(16);return Buffer.from(tr.padStart(s*2,"0").slice(0,s*2),"hex")}}browser$2.toBufferBE=toBufferBE;let StructError$1=class extends TypeError{constructor(s,tr){let nr;const{message:rr,explanation:ir,...sr}=s,{path:or}=s,ar=or.length===0?rr:`At path: ${or.join(".")} -- ${rr}`;super(ir??ar),ir!=null&&(this.cause=ar),Object.assign(this,sr),this.name=this.constructor.name,this.failures=()=>nr??(nr=[s,...tr()])}};function isIterable$1(er){return isObject$2(er)&&typeof er[Symbol.iterator]=="function"}function isObject$2(er){return typeof er=="object"&&er!=null}function isNonArrayObject(er){return isObject$2(er)&&!Array.isArray(er)}function print$1(er){return typeof er=="symbol"?er.toString():typeof er=="string"?JSON.stringify(er):`${er}`}function shiftIterator$1(er){const{done:s,value:tr}=er.next();return s?void 0:tr}function toFailure$1(er,s,tr,nr){if(er===!0)return;er===!1?er={}:typeof er=="string"&&(er={message:er});const{path:rr,branch:ir}=s,{type:sr}=tr,{refinement:or,message:ar=`Expected a value of type \`${sr}\`${or?` with refinement \`${or}\``:""}, but received: \`${print$1(nr)}\``}=er;return{value:nr,type:sr,refinement:or,key:rr[rr.length-1],path:rr,branch:ir,...er,message:ar}}function*toFailures$1(er,s,tr,nr){isIterable$1(er)||(er=[er]);for(const rr of er){const ir=toFailure$1(rr,s,tr,nr);ir&&(yield ir)}}function*run$1(er,s,tr={}){const{path:nr=[],branch:rr=[er],coerce:ir=!1,mask:sr=!1}=tr,or={path:nr,branch:rr,mask:sr};ir&&(er=s.coercer(er,or));let ar="valid";for(const lr of s.validator(er,or))lr.explanation=tr.message,ar="not_valid",yield[lr,void 0];for(let[lr,cr,ur]of s.entries(er,or)){const hr=run$1(cr,ur,{path:lr===void 0?nr:[...nr,lr],branch:lr===void 0?rr:[...rr,cr],coerce:ir,mask:sr,message:tr.message});for(const dr of hr)dr[0]?(ar=dr[0].refinement!=null?"not_refined":"not_valid",yield[dr[0],void 0]):ir&&(cr=dr[1],lr===void 0?er=cr:er instanceof Map?er.set(lr,cr):er instanceof Set?er.add(cr):isObject$2(er)&&(cr!==void 0||lr in er)&&(er[lr]=cr))}if(ar!=="not_valid")for(const lr of s.refiner(er,or))lr.explanation=tr.message,ar="not_refined",yield[lr,void 0];ar==="valid"&&(yield[void 0,er])}let Struct$2=class{constructor(s){const{type:tr,schema:nr,validator:rr,refiner:ir,coercer:sr=ar=>ar,entries:or=function*(){}}=s;this.type=tr,this.schema=nr,this.entries=or,this.coercer=sr,rr?this.validator=(ar,lr)=>{const cr=rr(ar,lr);return toFailures$1(cr,lr,this,ar)}:this.validator=()=>[],ir?this.refiner=(ar,lr)=>{const cr=ir(ar,lr);return toFailures$1(cr,lr,this,ar)}:this.refiner=()=>[]}assert(s,tr){return assert$3(s,this,tr)}create(s,tr){return create$1(s,this,tr)}is(s){return is$2(s,this)}mask(s,tr){return mask$1(s,this,tr)}validate(s,tr={}){return validate$2(s,this,tr)}};function assert$3(er,s,tr){const nr=validate$2(er,s,{message:tr});if(nr[0])throw nr[0]}function create$1(er,s,tr){const nr=validate$2(er,s,{coerce:!0,message:tr});if(nr[0])throw nr[0];return nr[1]}function mask$1(er,s,tr){const nr=validate$2(er,s,{coerce:!0,mask:!0,message:tr});if(nr[0])throw nr[0];return nr[1]}function is$2(er,s){return!validate$2(er,s)[0]}function validate$2(er,s,tr={}){const nr=run$1(er,s,tr),rr=shiftIterator$1(nr);return rr[0]?[new StructError$1(rr[0],function*(){for(const sr of nr)sr[0]&&(yield sr[0])}),void 0]:[void 0,rr[1]]}function define$2(er,s){return new Struct$2({type:er,schema:null,validator:s})}function any$1(){return define$2("any",()=>!0)}function array$1(er){return new Struct$2({type:"array",schema:er,*entries(s){if(er&&Array.isArray(s))for(const[tr,nr]of s.entries())yield[tr,nr,er]},coercer(s){return Array.isArray(s)?s.slice():s},validator(s){return Array.isArray(s)||`Expected an array value, but received: ${print$1(s)}`}})}function boolean$1(){return define$2("boolean",er=>typeof er=="boolean")}function instance(er){return define$2("instance",s=>s instanceof er||`Expected a \`${er.name}\` instance, but received: ${print$1(s)}`)}function literal$1(er){const s=print$1(er),tr=typeof er;return new Struct$2({type:"literal",schema:tr==="string"||tr==="number"||tr==="boolean"?er:null,validator(nr){return nr===er||`Expected the literal \`${s}\`, but received: ${print$1(nr)}`}})}function never(){return define$2("never",()=>!1)}function nullable$1(er){return new Struct$2({...er,validator:(s,tr)=>s===null||er.validator(s,tr),refiner:(s,tr)=>s===null||er.refiner(s,tr)})}function number$1(){return define$2("number",er=>typeof er=="number"&&!isNaN(er)||`Expected a number, but received: ${print$1(er)}`)}function optional$1(er){return new Struct$2({...er,validator:(s,tr)=>s===void 0||er.validator(s,tr),refiner:(s,tr)=>s===void 0||er.refiner(s,tr)})}function record(er,s){return new Struct$2({type:"record",schema:null,*entries(tr){if(isObject$2(tr))for(const nr in tr){const rr=tr[nr];yield[nr,nr,er],yield[nr,rr,s]}},validator(tr){return isNonArrayObject(tr)||`Expected an object, but received: ${print$1(tr)}`},coercer(tr){return isNonArrayObject(tr)?{...tr}:tr}})}function string$1(){return define$2("string",er=>typeof er=="string"||`Expected a string, but received: ${print$1(er)}`)}function tuple(er){const s=never();return new Struct$2({type:"tuple",schema:null,*entries(tr){if(Array.isArray(tr)){const nr=Math.max(er.length,tr.length);for(let rr=0;rr<nr;rr++)yield[rr,tr[rr],er[rr]||s]}},validator(tr){return Array.isArray(tr)||`Expected an array, but received: ${print$1(tr)}`},coercer(tr){return Array.isArray(tr)?tr.slice():tr}})}function type$2(er){const s=Object.keys(er);return new Struct$2({type:"type",schema:er,*entries(tr){if(isObject$2(tr))for(const nr of s)yield[nr,tr[nr],er[nr]]},validator(tr){return isNonArrayObject(tr)||`Expected an object, but received: ${print$1(tr)}`},coercer(tr){return isNonArrayObject(tr)?{...tr}:tr}})}function union$2(er){const s=er.map(tr=>tr.type).join(" | ");return new Struct$2({type:"union",schema:null,coercer(tr,nr){for(const rr of er){const[ir,sr]=rr.validate(tr,{coerce:!0,mask:nr.mask});if(!ir)return sr}return tr},validator(tr,nr){const rr=[];for(const ir of er){const[...sr]=run$1(tr,ir,nr),[or]=sr;if(or[0])for(const[ar]of sr)ar&&rr.push(ar);else return[]}return[`Expected the value to satisfy a union of \`${s}\`, but received: ${print$1(tr)}`,...rr]}})}function unknown$1(){return define$2("unknown",()=>!0)}function coerce$1(er,s,tr){return new Struct$2({...er,coercer:(nr,rr)=>is$2(nr,s)?er.coercer(tr(nr,rr),rr):er.coercer(nr,rr)})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(er){return typeof er=="string"&&REGEX.test(er)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify(er){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,tr=(byteToHex[er[s+0]]+byteToHex[er[s+1]]+byteToHex[er[s+2]]+byteToHex[er[s+3]]+"-"+byteToHex[er[s+4]]+byteToHex[er[s+5]]+"-"+byteToHex[er[s+6]]+byteToHex[er[s+7]]+"-"+byteToHex[er[s+8]]+byteToHex[er[s+9]]+"-"+byteToHex[er[s+10]]+byteToHex[er[s+11]]+byteToHex[er[s+12]]+byteToHex[er[s+13]]+byteToHex[er[s+14]]+byteToHex[er[s+15]]).toLowerCase();if(!validate$1(tr))throw TypeError("Stringified UUID is invalid");return tr}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(er,s,tr){var nr=s&&tr||0,rr=s||new Array(16);er=er||{};var ir=er.node||_nodeId,sr=er.clockseq!==void 0?er.clockseq:_clockseq;if(ir==null||sr==null){var or=er.random||(er.rng||rng)();ir==null&&(ir=_nodeId=[or[0]|1,or[1],or[2],or[3],or[4],or[5]]),sr==null&&(sr=_clockseq=(or[6]<<8|or[7])&16383)}var ar=er.msecs!==void 0?er.msecs:Date.now(),lr=er.nsecs!==void 0?er.nsecs:_lastNSecs+1,cr=ar-_lastMSecs+(lr-_lastNSecs)/1e4;if(cr<0&&er.clockseq===void 0&&(sr=sr+1&16383),(cr<0||ar>_lastMSecs)&&er.nsecs===void 0&&(lr=0),lr>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=ar,_lastNSecs=lr,_clockseq=sr,ar+=122192928e5;var ur=((ar&268435455)*1e4+lr)%4294967296;rr[nr++]=ur>>>24&255,rr[nr++]=ur>>>16&255,rr[nr++]=ur>>>8&255,rr[nr++]=ur&255;var hr=ar/4294967296*1e4&268435455;rr[nr++]=hr>>>8&255,rr[nr++]=hr&255,rr[nr++]=hr>>>24&15|16,rr[nr++]=hr>>>16&255,rr[nr++]=sr>>>8|128,rr[nr++]=sr&255;for(var dr=0;dr<6;++dr)rr[nr+dr]=ir[dr];return s||stringify(rr)}function parse(er){if(!validate$1(er))throw TypeError("Invalid UUID");var s,tr=new Uint8Array(16);return tr[0]=(s=parseInt(er.slice(0,8),16))>>>24,tr[1]=s>>>16&255,tr[2]=s>>>8&255,tr[3]=s&255,tr[4]=(s=parseInt(er.slice(9,13),16))>>>8,tr[5]=s&255,tr[6]=(s=parseInt(er.slice(14,18),16))>>>8,tr[7]=s&255,tr[8]=(s=parseInt(er.slice(19,23),16))>>>8,tr[9]=s&255,tr[10]=(s=parseInt(er.slice(24,36),16))/1099511627776&255,tr[11]=s/4294967296&255,tr[12]=s>>>24&255,tr[13]=s>>>16&255,tr[14]=s>>>8&255,tr[15]=s&255,tr}function stringToBytes(er){er=unescape(encodeURIComponent(er));for(var s=[],tr=0;tr<er.length;++tr)s.push(er.charCodeAt(tr));return s}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(er,s,tr){function nr(rr,ir,sr,or){if(typeof rr=="string"&&(rr=stringToBytes(rr)),typeof ir=="string"&&(ir=parse(ir)),ir.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var ar=new Uint8Array(16+rr.length);if(ar.set(ir),ar.set(rr,ir.length),ar=tr(ar),ar[6]=ar[6]&15|s,ar[8]=ar[8]&63|128,sr){or=or||0;for(var lr=0;lr<16;++lr)sr[or+lr]=ar[lr];return sr}return stringify(ar)}try{nr.name=er}catch{}return nr.DNS=DNS,nr.URL=URL$1,nr}function md5(er){if(typeof er=="string"){var s=unescape(encodeURIComponent(er));er=new Uint8Array(s.length);for(var tr=0;tr<s.length;++tr)er[tr]=s.charCodeAt(tr)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(er),er.length*8))}function md5ToHexEncodedArray(er){for(var s=[],tr=er.length*32,nr="0123456789abcdef",rr=0;rr<tr;rr+=8){var ir=er[rr>>5]>>>rr%32&255,sr=parseInt(nr.charAt(ir>>>4&15)+nr.charAt(ir&15),16);s.push(sr)}return s}function getOutputLength(er){return(er+64>>>9<<4)+14+1}function wordsToMd5(er,s){er[s>>5]|=128<<s%32,er[getOutputLength(s)-1]=s;for(var tr=1732584193,nr=-271733879,rr=-1732584194,ir=271733878,sr=0;sr<er.length;sr+=16){var or=tr,ar=nr,lr=rr,cr=ir;tr=md5ff(tr,nr,rr,ir,er[sr],7,-680876936),ir=md5ff(ir,tr,nr,rr,er[sr+1],12,-389564586),rr=md5ff(rr,ir,tr,nr,er[sr+2],17,606105819),nr=md5ff(nr,rr,ir,tr,er[sr+3],22,-1044525330),tr=md5ff(tr,nr,rr,ir,er[sr+4],7,-176418897),ir=md5ff(ir,tr,nr,rr,er[sr+5],12,1200080426),rr=md5ff(rr,ir,tr,nr,er[sr+6],17,-1473231341),nr=md5ff(nr,rr,ir,tr,er[sr+7],22,-45705983),tr=md5ff(tr,nr,rr,ir,er[sr+8],7,1770035416),ir=md5ff(ir,tr,nr,rr,er[sr+9],12,-1958414417),rr=md5ff(rr,ir,tr,nr,er[sr+10],17,-42063),nr=md5ff(nr,rr,ir,tr,er[sr+11],22,-1990404162),tr=md5ff(tr,nr,rr,ir,er[sr+12],7,1804603682),ir=md5ff(ir,tr,nr,rr,er[sr+13],12,-40341101),rr=md5ff(rr,ir,tr,nr,er[sr+14],17,-1502002290),nr=md5ff(nr,rr,ir,tr,er[sr+15],22,1236535329),tr=md5gg(tr,nr,rr,ir,er[sr+1],5,-165796510),ir=md5gg(ir,tr,nr,rr,er[sr+6],9,-1069501632),rr=md5gg(rr,ir,tr,nr,er[sr+11],14,643717713),nr=md5gg(nr,rr,ir,tr,er[sr],20,-373897302),tr=md5gg(tr,nr,rr,ir,er[sr+5],5,-701558691),ir=md5gg(ir,tr,nr,rr,er[sr+10],9,38016083),rr=md5gg(rr,ir,tr,nr,er[sr+15],14,-660478335),nr=md5gg(nr,rr,ir,tr,er[sr+4],20,-405537848),tr=md5gg(tr,nr,rr,ir,er[sr+9],5,568446438),ir=md5gg(ir,tr,nr,rr,er[sr+14],9,-1019803690),rr=md5gg(rr,ir,tr,nr,er[sr+3],14,-187363961),nr=md5gg(nr,rr,ir,tr,er[sr+8],20,1163531501),tr=md5gg(tr,nr,rr,ir,er[sr+13],5,-1444681467),ir=md5gg(ir,tr,nr,rr,er[sr+2],9,-51403784),rr=md5gg(rr,ir,tr,nr,er[sr+7],14,1735328473),nr=md5gg(nr,rr,ir,tr,er[sr+12],20,-1926607734),tr=md5hh(tr,nr,rr,ir,er[sr+5],4,-378558),ir=md5hh(ir,tr,nr,rr,er[sr+8],11,-2022574463),rr=md5hh(rr,ir,tr,nr,er[sr+11],16,1839030562),nr=md5hh(nr,rr,ir,tr,er[sr+14],23,-35309556),tr=md5hh(tr,nr,rr,ir,er[sr+1],4,-1530992060),ir=md5hh(ir,tr,nr,rr,er[sr+4],11,1272893353),rr=md5hh(rr,ir,tr,nr,er[sr+7],16,-155497632),nr=md5hh(nr,rr,ir,tr,er[sr+10],23,-1094730640),tr=md5hh(tr,nr,rr,ir,er[sr+13],4,681279174),ir=md5hh(ir,tr,nr,rr,er[sr],11,-358537222),rr=md5hh(rr,ir,tr,nr,er[sr+3],16,-722521979),nr=md5hh(nr,rr,ir,tr,er[sr+6],23,76029189),tr=md5hh(tr,nr,rr,ir,er[sr+9],4,-640364487),ir=md5hh(ir,tr,nr,rr,er[sr+12],11,-421815835),rr=md5hh(rr,ir,tr,nr,er[sr+15],16,530742520),nr=md5hh(nr,rr,ir,tr,er[sr+2],23,-995338651),tr=md5ii(tr,nr,rr,ir,er[sr],6,-198630844),ir=md5ii(ir,tr,nr,rr,er[sr+7],10,1126891415),rr=md5ii(rr,ir,tr,nr,er[sr+14],15,-1416354905),nr=md5ii(nr,rr,ir,tr,er[sr+5],21,-57434055),tr=md5ii(tr,nr,rr,ir,er[sr+12],6,1700485571),ir=md5ii(ir,tr,nr,rr,er[sr+3],10,-1894986606),rr=md5ii(rr,ir,tr,nr,er[sr+10],15,-1051523),nr=md5ii(nr,rr,ir,tr,er[sr+1],21,-2054922799),tr=md5ii(tr,nr,rr,ir,er[sr+8],6,1873313359),ir=md5ii(ir,tr,nr,rr,er[sr+15],10,-30611744),rr=md5ii(rr,ir,tr,nr,er[sr+6],15,-1560198380),nr=md5ii(nr,rr,ir,tr,er[sr+13],21,1309151649),tr=md5ii(tr,nr,rr,ir,er[sr+4],6,-145523070),ir=md5ii(ir,tr,nr,rr,er[sr+11],10,-1120210379),rr=md5ii(rr,ir,tr,nr,er[sr+2],15,718787259),nr=md5ii(nr,rr,ir,tr,er[sr+9],21,-343485551),tr=safeAdd(tr,or),nr=safeAdd(nr,ar),rr=safeAdd(rr,lr),ir=safeAdd(ir,cr)}return[tr,nr,rr,ir]}function bytesToWords(er){if(er.length===0)return[];for(var s=er.length*8,tr=new Uint32Array(getOutputLength(s)),nr=0;nr<s;nr+=8)tr[nr>>5]|=(er[nr/8]&255)<<nr%32;return tr}function safeAdd(er,s){var tr=(er&65535)+(s&65535),nr=(er>>16)+(s>>16)+(tr>>16);return nr<<16|tr&65535}function bitRotateLeft(er,s){return er<<s|er>>>32-s}function md5cmn(er,s,tr,nr,rr,ir){return safeAdd(bitRotateLeft(safeAdd(safeAdd(s,er),safeAdd(nr,ir)),rr),tr)}function md5ff(er,s,tr,nr,rr,ir,sr){return md5cmn(s&tr|~s&nr,er,s,rr,ir,sr)}function md5gg(er,s,tr,nr,rr,ir,sr){return md5cmn(s&nr|tr&~nr,er,s,rr,ir,sr)}function md5hh(er,s,tr,nr,rr,ir,sr){return md5cmn(s^tr^nr,er,s,rr,ir,sr)}function md5ii(er,s,tr,nr,rr,ir,sr){return md5cmn(tr^(s|~nr),er,s,rr,ir,sr)}var v3=v35("v3",48,md5);function v4(er,s,tr){er=er||{};var nr=er.random||(er.rng||rng)();if(nr[6]=nr[6]&15|64,nr[8]=nr[8]&63|128,s){tr=tr||0;for(var rr=0;rr<16;++rr)s[tr+rr]=nr[rr];return s}return stringify(nr)}function f$1(er,s,tr,nr){switch(er){case 0:return s&tr^~s&nr;case 1:return s^tr^nr;case 2:return s&tr^s&nr^tr&nr;case 3:return s^tr^nr}}function ROTL(er,s){return er<<s|er>>>32-s}function sha1(er){var s=[1518500249,1859775393,2400959708,3395469782],tr=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof er=="string"){var nr=unescape(encodeURIComponent(er));er=[];for(var rr=0;rr<nr.length;++rr)er.push(nr.charCodeAt(rr))}else Array.isArray(er)||(er=Array.prototype.slice.call(er));er.push(128);for(var ir=er.length/4+2,sr=Math.ceil(ir/16),or=new Array(sr),ar=0;ar<sr;++ar){for(var lr=new Uint32Array(16),cr=0;cr<16;++cr)lr[cr]=er[ar*64+cr*4]<<24|er[ar*64+cr*4+1]<<16|er[ar*64+cr*4+2]<<8|er[ar*64+cr*4+3];or[ar]=lr}or[sr-1][14]=(er.length-1)*8/Math.pow(2,32),or[sr-1][14]=Math.floor(or[sr-1][14]),or[sr-1][15]=(er.length-1)*8&4294967295;for(var ur=0;ur<sr;++ur){for(var hr=new Uint32Array(80),dr=0;dr<16;++dr)hr[dr]=or[ur][dr];for(var pr=16;pr<80;++pr)hr[pr]=ROTL(hr[pr-3]^hr[pr-8]^hr[pr-14]^hr[pr-16],1);for(var mr=tr[0],xr=tr[1],br=tr[2],yr=tr[3],gr=tr[4],Er=0;Er<80;++Er){var kr=Math.floor(Er/20),Mr=ROTL(mr,5)+f$1(kr,xr,br,yr)+gr+s[kr]+hr[Er]>>>0;gr=yr,yr=br,br=ROTL(xr,30)>>>0,xr=mr,mr=Mr}tr[0]=tr[0]+mr>>>0,tr[1]=tr[1]+xr>>>0,tr[2]=tr[2]+br>>>0,tr[3]=tr[3]+yr>>>0,tr[4]=tr[4]+gr>>>0}return[tr[0]>>24&255,tr[0]>>16&255,tr[0]>>8&255,tr[0]&255,tr[1]>>24&255,tr[1]>>16&255,tr[1]>>8&255,tr[1]&255,tr[2]>>24&255,tr[2]>>16&255,tr[2]>>8&255,tr[2]&255,tr[3]>>24&255,tr[3]>>16&255,tr[3]>>8&255,tr[3]&255,tr[4]>>24&255,tr[4]>>16&255,tr[4]>>8&255,tr[4]&255]}var v5=v35("v5",80,sha1);const nil="00000000-0000-0000-0000-000000000000";function version$1(er){if(!validate$1(er))throw TypeError("Invalid UUID");return parseInt(er.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,NIL:nil,parse,stringify,v1,v3,v4,v5,validate:validate$1,version:version$1},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(esmBrowser),uuid$1=require$$4.v4,generateRequest$1=function(er,s,tr,nr){if(typeof er!="string")throw new TypeError(er+" must be a string");nr=nr||{};const rr=typeof nr.version=="number"?nr.version:2;if(rr!==1&&rr!==2)throw new TypeError(rr+" must be 1 or 2");const ir={method:er};if(rr===2&&(ir.jsonrpc="2.0"),s){if(typeof s!="object"&&!Array.isArray(s))throw new TypeError(s+" must be an object, array or omitted");ir.params=s}if(typeof tr>"u"){const sr=typeof nr.generator=="function"?nr.generator:function(){return uuid$1()};ir.id=sr(ir,nr)}else rr===2&&tr===null?nr.notificationIdNull&&(ir.id=null):ir.id=tr;return ir};var generateRequest_1=generateRequest$1;const uuid=require$$4.v4,generateRequest=generateRequest_1,ClientBrowser=function(er,s){if(!(this instanceof ClientBrowser))return new ClientBrowser(er,s);s||(s={}),this.options={reviver:typeof s.reviver<"u"?s.reviver:null,replacer:typeof s.replacer<"u"?s.replacer:null,generator:typeof s.generator<"u"?s.generator:function(){return uuid()},version:typeof s.version<"u"?s.version:2,notificationIdNull:typeof s.notificationIdNull=="boolean"?s.notificationIdNull:!1},this.callServer=er};var browser$1=ClientBrowser;ClientBrowser.prototype.request=function(er,s,tr,nr){const rr=this;let ir=null;const sr=Array.isArray(er)&&typeof s=="function";if(this.options.version===1&&sr)throw new TypeError("JSON-RPC 1.0 does not support batching");if(sr||!sr&&er&&typeof er=="object"&&typeof s=="function")nr=s,ir=er;else{typeof tr=="function"&&(nr=tr,tr=void 0);const lr=typeof nr=="function";try{ir=generateRequest(er,s,tr,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(cr){if(lr)return nr(cr);throw cr}if(!lr)return ir}let ar;try{ar=JSON.stringify(ir,this.options.replacer)}catch(lr){return nr(lr)}return this.callServer(ar,function(lr,cr){rr._parseResponse(lr,cr,nr)}),ir};ClientBrowser.prototype._parseResponse=function(er,s,tr){if(er){tr(er);return}if(!s)return tr();let nr;try{nr=JSON.parse(s,this.options.reviver)}catch(rr){return tr(rr)}if(tr.length===3)if(Array.isArray(nr)){const rr=function(sr){return typeof sr.error<"u"},ir=function(sr){return!rr(sr)};return tr(null,nr.filter(rr),nr.filter(ir))}else return tr(null,nr.error,nr.result);tr(null,nr)};const RpcClient=getDefaultExportFromCjs$2(browser$1);var eventemitter3$1={exports:{}};(function(er){var s=Object.prototype.hasOwnProperty,tr="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(tr=!1));function rr(ar,lr,cr){this.fn=ar,this.context=lr,this.once=cr||!1}function ir(ar,lr,cr,ur,hr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var dr=new rr(cr,ur||ar,hr),pr=tr?tr+lr:lr;return ar._events[pr]?ar._events[pr].fn?ar._events[pr]=[ar._events[pr],dr]:ar._events[pr].push(dr):(ar._events[pr]=dr,ar._eventsCount++),ar}function sr(ar,lr){--ar._eventsCount===0?ar._events=new nr:delete ar._events[lr]}function or(){this._events=new nr,this._eventsCount=0}or.prototype.eventNames=function(){var lr=[],cr,ur;if(this._eventsCount===0)return lr;for(ur in cr=this._events)s.call(cr,ur)&&lr.push(tr?ur.slice(1):ur);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},or.prototype.listeners=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];if(!ur)return[];if(ur.fn)return[ur.fn];for(var hr=0,dr=ur.length,pr=new Array(dr);hr<dr;hr++)pr[hr]=ur[hr].fn;return pr},or.prototype.listenerCount=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];return ur?ur.fn?1:ur.length:0},or.prototype.emit=function(lr,cr,ur,hr,dr,pr){var mr=tr?tr+lr:lr;if(!this._events[mr])return!1;var xr=this._events[mr],br=arguments.length,yr,gr;if(xr.fn){switch(xr.once&&this.removeListener(lr,xr.fn,void 0,!0),br){case 1:return xr.fn.call(xr.context),!0;case 2:return xr.fn.call(xr.context,cr),!0;case 3:return xr.fn.call(xr.context,cr,ur),!0;case 4:return xr.fn.call(xr.context,cr,ur,hr),!0;case 5:return xr.fn.call(xr.context,cr,ur,hr,dr),!0;case 6:return xr.fn.call(xr.context,cr,ur,hr,dr,pr),!0}for(gr=1,yr=new Array(br-1);gr<br;gr++)yr[gr-1]=arguments[gr];xr.fn.apply(xr.context,yr)}else{var Er=xr.length,kr;for(gr=0;gr<Er;gr++)switch(xr[gr].once&&this.removeListener(lr,xr[gr].fn,void 0,!0),br){case 1:xr[gr].fn.call(xr[gr].context);break;case 2:xr[gr].fn.call(xr[gr].context,cr);break;case 3:xr[gr].fn.call(xr[gr].context,cr,ur);break;case 4:xr[gr].fn.call(xr[gr].context,cr,ur,hr);break;default:if(!yr)for(kr=1,yr=new Array(br-1);kr<br;kr++)yr[kr-1]=arguments[kr];xr[gr].fn.apply(xr[gr].context,yr)}}return!0},or.prototype.on=function(lr,cr,ur){return ir(this,lr,cr,ur,!1)},or.prototype.once=function(lr,cr,ur){return ir(this,lr,cr,ur,!0)},or.prototype.removeListener=function(lr,cr,ur,hr){var dr=tr?tr+lr:lr;if(!this._events[dr])return this;if(!cr)return sr(this,dr),this;var pr=this._events[dr];if(pr.fn)pr.fn===cr&&(!hr||pr.once)&&(!ur||pr.context===ur)&&sr(this,dr);else{for(var mr=0,xr=[],br=pr.length;mr<br;mr++)(pr[mr].fn!==cr||hr&&!pr[mr].once||ur&&pr[mr].context!==ur)&&xr.push(pr[mr]);xr.length?this._events[dr]=xr.length===1?xr[0]:xr:sr(this,dr)}return this},or.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=tr?tr+lr:lr,this._events[cr]&&sr(this,cr)):(this._events=new nr,this._eventsCount=0),this},or.prototype.off=or.prototype.removeListener,or.prototype.addListener=or.prototype.on,or.prefixed=tr,or.EventEmitter=or,er.exports=or})(eventemitter3$1);var eventemitter3Exports$1=eventemitter3$1.exports;const EventEmitter$1=getDefaultExportFromCjs$2(eventemitter3Exports$1);var WebSocketBrowserImpl=class extends EventEmitter$1{constructor(s,tr,nr){super();Ho(this,"socket");this.socket=new window.WebSocket(s,nr),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=rr=>this.emit("message",rr.data),this.socket.onerror=rr=>this.emit("error",rr),this.socket.onclose=rr=>{this.emit("close",rr.code,rr.reason)}}send(s,tr,nr){const rr=nr||tr;try{this.socket.send(s),rr()}catch(ir){rr(ir)}}close(s,tr){this.socket.close(s,tr)}addEventListener(s,tr,nr){this.socket.addEventListener(s,tr,nr)}};function WebSocket$1(er,s){return new WebSocketBrowserImpl(er,s)}var DefaultDataPack=class{encode(er){return JSON.stringify(er)}decode(er){return JSON.parse(er)}},CommonClient=class extends EventEmitter$1{constructor(s,tr="ws://localhost:8080",{autoconnect:nr=!0,reconnect:rr=!0,reconnect_interval:ir=1e3,max_reconnects:sr=5,...or}={},ar,lr){super();Ho(this,"address");Ho(this,"rpc_id");Ho(this,"queue");Ho(this,"options");Ho(this,"autoconnect");Ho(this,"ready");Ho(this,"reconnect");Ho(this,"reconnect_timer_id");Ho(this,"reconnect_interval");Ho(this,"max_reconnects");Ho(this,"rest_options");Ho(this,"current_reconnects");Ho(this,"generate_request_id");Ho(this,"socket");Ho(this,"webSocketFactory");Ho(this,"dataPack");this.webSocketFactory=s,this.queue={},this.rpc_id=0,this.address=tr,this.autoconnect=nr,this.ready=!1,this.reconnect=rr,this.reconnect_timer_id=void 0,this.reconnect_interval=ir,this.max_reconnects=sr,this.rest_options=or,this.current_reconnects=0,this.generate_request_id=ar||(()=>++this.rpc_id),lr?this.dataPack=lr:this.dataPack=new DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(s,tr,nr,rr){return!rr&&typeof nr=="object"&&(rr=nr,nr=null),new Promise((ir,sr)=>{if(!this.ready)return sr(new Error("socket not ready"));const or=this.generate_request_id(s,tr),ar={jsonrpc:"2.0",method:s,params:tr||void 0,id:or};this.socket.send(this.dataPack.encode(ar),rr,lr=>{if(lr)return sr(lr);this.queue[or]={promise:[ir,sr]},nr&&(this.queue[or].timeout=setTimeout(()=>{delete this.queue[or],sr(new Error("reply timeout"))},nr))})})}async login(s){const tr=await this.call("rpc.login",s);if(!tr)throw new Error("authentication failed");return tr}async listMethods(){return await this.call("__listMethods")}notify(s,tr){return new Promise((nr,rr)=>{if(!this.ready)return rr(new Error("socket not ready"));const ir={jsonrpc:"2.0",method:s,params:tr};this.socket.send(this.dataPack.encode(ir),sr=>{if(sr)return rr(sr);nr()})})}async subscribe(s){typeof s=="string"&&(s=[s]);const tr=await this.call("rpc.on",s);if(typeof s=="string"&&tr[s]!=="ok")throw new Error("Failed subscribing to an event '"+s+"' with: "+tr[s]);return tr}async unsubscribe(s){typeof s=="string"&&(s=[s]);const tr=await this.call("rpc.off",s);if(typeof s=="string"&&tr[s]!=="ok")throw new Error("Failed unsubscribing from an event with: "+tr);return tr}close(s,tr){this.socket.close(s||1e3,tr)}setAutoReconnect(s){this.reconnect=s}setReconnectInterval(s){this.reconnect_interval=s}setMaxReconnects(s){this.max_reconnects=s}_connect(s,tr){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(s,tr),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:nr})=>{nr instanceof ArrayBuffer&&(nr=Buffer$1.from(nr).toString());try{nr=this.dataPack.decode(nr)}catch{return}if(nr.notification&&this.listeners(nr.notification).length){if(!Object.keys(nr.params).length)return this.emit(nr.notification);const rr=[nr.notification];if(nr.params.constructor===Object)rr.push(nr.params);else for(let ir=0;ir<nr.params.length;ir++)rr.push(nr.params[ir]);return Promise.resolve().then(()=>{this.emit.apply(this,rr)})}if(!this.queue[nr.id])return nr.method?Promise.resolve().then(()=>{this.emit(nr.method,nr==null?void 0:nr.params)}):void 0;"error"in nr=="result"in nr&&this.queue[nr.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[nr.id].timeout&&clearTimeout(this.queue[nr.id].timeout),nr.error?this.queue[nr.id].promise[1](nr.error):this.queue[nr.id].promise[0](nr.result),delete this.queue[nr.id]}),this.socket.addEventListener("error",nr=>this.emit("error",nr)),this.socket.addEventListener("close",({code:nr,reason:rr})=>{this.ready&&setTimeout(()=>this.emit("close",nr,rr),0),this.ready=!1,this.socket=void 0,nr!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(s,tr),this.reconnect_interval)))})}};const SHA3_PI=[],SHA3_ROTL=[],_SHA3_IOTA=[],_0n$1=BigInt(0),_1n$2=BigInt(1),_2n$1=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let er=0,s=_1n$2,tr=1,nr=0;er<24;er++){[tr,nr]=[nr,(2*tr+3*nr)%5],SHA3_PI.push(2*(5*nr+tr)),SHA3_ROTL.push((er+1)*(er+2)/2%64);let rr=_0n$1;for(let ir=0;ir<7;ir++)s=(s<<_1n$2^(s>>_7n)*_0x71n)%_256n,s&_2n$1&&(rr^=_1n$2<<(_1n$2<<BigInt(ir))-_1n$2);_SHA3_IOTA.push(rr)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split(_SHA3_IOTA,!0),rotlH=(er,s,tr)=>tr>32?rotlBH(er,s,tr):rotlSH(er,s,tr),rotlL=(er,s,tr)=>tr>32?rotlBL(er,s,tr):rotlSL(er,s,tr);function keccakP(er,s=24){const tr=new Uint32Array(10);for(let nr=24-s;nr<24;nr++){for(let sr=0;sr<10;sr++)tr[sr]=er[sr]^er[sr+10]^er[sr+20]^er[sr+30]^er[sr+40];for(let sr=0;sr<10;sr+=2){const or=(sr+8)%10,ar=(sr+2)%10,lr=tr[ar],cr=tr[ar+1],ur=rotlH(lr,cr,1)^tr[or],hr=rotlL(lr,cr,1)^tr[or+1];for(let dr=0;dr<50;dr+=10)er[sr+dr]^=ur,er[sr+dr+1]^=hr}let rr=er[2],ir=er[3];for(let sr=0;sr<24;sr++){const or=SHA3_ROTL[sr],ar=rotlH(rr,ir,or),lr=rotlL(rr,ir,or),cr=SHA3_PI[sr];rr=er[cr],ir=er[cr+1],er[cr]=ar,er[cr+1]=lr}for(let sr=0;sr<50;sr+=10){for(let or=0;or<10;or++)tr[or]=er[sr+or];for(let or=0;or<10;or++)er[sr+or]^=~tr[(or+2)%10]&tr[(or+4)%10]}er[0]^=SHA3_IOTA_H[nr],er[1]^=SHA3_IOTA_L[nr]}tr.fill(0)}class Keccak extends Hash{constructor(s,tr,nr,rr=!1,ir=24){if(super(),this.blockLen=s,this.suffix=tr,this.outputLen=nr,this.enableXOF=rr,this.rounds=ir,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,anumber(nr),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){isLE||byteSwap32(this.state32),keccakP(this.state32,this.rounds),isLE||byteSwap32(this.state32),this.posOut=0,this.pos=0}update(s){aexists(this);const{blockLen:tr,state:nr}=this;s=toBytes(s);const rr=s.length;for(let ir=0;ir<rr;){const sr=Math.min(tr-this.pos,rr-ir);for(let or=0;or<sr;or++)nr[this.pos++]^=s[ir++];this.pos===tr&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:s,suffix:tr,pos:nr,blockLen:rr}=this;s[nr]^=tr,tr&128&&nr===rr-1&&this.keccak(),s[rr-1]^=128,this.keccak()}writeInto(s){aexists(this,!1),abytes$1(s),this.finish();const tr=this.state,{blockLen:nr}=this;for(let rr=0,ir=s.length;rr<ir;){this.posOut>=nr&&this.keccak();const sr=Math.min(nr-this.posOut,ir-rr);s.set(tr.subarray(this.posOut,this.posOut+sr),rr),this.posOut+=sr,rr+=sr}return s}xofInto(s){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(s)}xof(s){return anumber(s),this.xofInto(new Uint8Array(s))}digestInto(s){if(aoutput(s,this),this.finished)throw new Error("digest() was already called");return this.writeInto(s),this.destroy(),s}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(s){const{blockLen:tr,suffix:nr,outputLen:rr,rounds:ir,enableXOF:sr}=this;return s||(s=new Keccak(tr,nr,rr,sr,ir)),s.state32.set(this.state32),s.pos=this.pos,s.posOut=this.posOut,s.finished=this.finished,s.rounds=ir,s.suffix=nr,s.outputLen=rr,s.enableXOF=sr,s.destroyed=this.destroyed,s}}const gen=(er,s,tr)=>wrapConstructor(()=>new Keccak(s,er,tr)),keccak_256=gen(1,136,256/8);class HMAC extends Hash{constructor(s,tr){super(),this.finished=!1,this.destroyed=!1,ahash(s);const nr=toBytes(tr);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const rr=this.blockLen,ir=new Uint8Array(rr);ir.set(nr.length>rr?s.create().update(nr).digest():nr);for(let sr=0;sr<ir.length;sr++)ir[sr]^=54;this.iHash.update(ir),this.oHash=s.create();for(let sr=0;sr<ir.length;sr++)ir[sr]^=106;this.oHash.update(ir),ir.fill(0)}update(s){return aexists(this),this.iHash.update(s),this}digestInto(s){aexists(this),abytes$1(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:tr,iHash:nr,finished:rr,destroyed:ir,blockLen:sr,outputLen:or}=this;return s=s,s.finished=rr,s.destroyed=ir,s.blockLen=sr,s.outputLen=or,s.oHash=tr._cloneInto(s.oHash),s.iHash=nr._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(er,s,tr)=>new HMAC(er,s).update(tr).digest();hmac.create=(er,s)=>new HMAC(er,s);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(er){er.lowS!==void 0&&abool("lowS",er.lowS),er.prehash!==void 0&&abool("prehash",er.prehash)}function validatePointOpts(er){const s=validateBasic(er);validateObject(s,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:tr,Fp:nr,a:rr}=s;if(tr){if(!nr.eql(rr,nr.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof tr!="object"||typeof tr.beta!="bigint"||typeof tr.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...s})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(s=""){super(s)}},_tlv:{encode:(er,s)=>{const{Err:tr}=DER;if(er<0||er>256)throw new tr("tlv.encode: wrong tag");if(s.length&1)throw new tr("tlv.encode: unpadded data");const nr=s.length/2,rr=numberToHexUnpadded(nr);if(rr.length/2&128)throw new tr("tlv.encode: long form length too big");const ir=nr>127?numberToHexUnpadded(rr.length/2|128):"";return numberToHexUnpadded(er)+ir+rr+s},decode(er,s){const{Err:tr}=DER;let nr=0;if(er<0||er>256)throw new tr("tlv.encode: wrong tag");if(s.length<2||s[nr++]!==er)throw new tr("tlv.decode: wrong tlv");const rr=s[nr++],ir=!!(rr&128);let sr=0;if(!ir)sr=rr;else{const ar=rr&127;if(!ar)throw new tr("tlv.decode(long): indefinite length not supported");if(ar>4)throw new tr("tlv.decode(long): byte length is too big");const lr=s.subarray(nr,nr+ar);if(lr.length!==ar)throw new tr("tlv.decode: length bytes not complete");if(lr[0]===0)throw new tr("tlv.decode(long): zero leftmost byte");for(const cr of lr)sr=sr<<8|cr;if(nr+=ar,sr<128)throw new tr("tlv.decode(long): not minimal encoding")}const or=s.subarray(nr,nr+sr);if(or.length!==sr)throw new tr("tlv.decode: wrong value length");return{v:or,l:s.subarray(nr+sr)}}},_int:{encode(er){const{Err:s}=DER;if(er<_0n)throw new s("integer: negative integers are not allowed");let tr=numberToHexUnpadded(er);if(Number.parseInt(tr[0],16)&8&&(tr="00"+tr),tr.length&1)throw new s("unexpected DER parsing assertion: unpadded hex");return tr},decode(er){const{Err:s}=DER;if(er[0]&128)throw new s("invalid signature integer: negative");if(er[0]===0&&!(er[1]&128))throw new s("invalid signature integer: unnecessary leading zero");return b2n(er)}},toSig(er){const{Err:s,_int:tr,_tlv:nr}=DER,rr=typeof er=="string"?h2b(er):er;abytes(rr);const{v:ir,l:sr}=nr.decode(48,rr);if(sr.length)throw new s("invalid signature: left bytes after parsing");const{v:or,l:ar}=nr.decode(2,ir),{v:lr,l:cr}=nr.decode(2,ar);if(cr.length)throw new s("invalid signature: left bytes after parsing");return{r:tr.decode(or),s:tr.decode(lr)}},hexFromSig(er){const{_tlv:s,_int:tr}=DER,nr=s.encode(2,tr.encode(er.r)),rr=s.encode(2,tr.encode(er.s)),ir=nr+rr;return s.encode(48,ir)}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(er){const s=validatePointOpts(er),{Fp:tr}=s,nr=Field(s.n,s.nBitLength),rr=s.toBytes||((mr,xr,br)=>{const yr=xr.toAffine();return concatBytes(Uint8Array.from([4]),tr.toBytes(yr.x),tr.toBytes(yr.y))}),ir=s.fromBytes||(mr=>{const xr=mr.subarray(1),br=tr.fromBytes(xr.subarray(0,tr.BYTES)),yr=tr.fromBytes(xr.subarray(tr.BYTES,2*tr.BYTES));return{x:br,y:yr}});function sr(mr){const{a:xr,b:br}=s,yr=tr.sqr(mr),gr=tr.mul(yr,mr);return tr.add(tr.add(gr,tr.mul(mr,xr)),br)}if(!tr.eql(tr.sqr(s.Gy),sr(s.Gx)))throw new Error("bad generator point: equation left != right");function or(mr){return inRange$1(mr,_1n$1,s.n)}function ar(mr){const{allowedPrivateKeyLengths:xr,nByteLength:br,wrapPrivateKey:yr,n:gr}=s;if(xr&&typeof mr!="bigint"){if(isBytes(mr)&&(mr=bytesToHex(mr)),typeof mr!="string"||!xr.includes(mr.length))throw new Error("invalid private key");mr=mr.padStart(br*2,"0")}let Er;try{Er=typeof mr=="bigint"?mr:bytesToNumberBE(ensureBytes("private key",mr,br))}catch{throw new Error("invalid private key, expected hex or "+br+" bytes, got "+typeof mr)}return yr&&(Er=mod(Er,gr)),aInRange("private key",Er,_1n$1,gr),Er}function lr(mr){if(!(mr instanceof hr))throw new Error("ProjectivePoint expected")}const cr=memoized((mr,xr)=>{const{px:br,py:yr,pz:gr}=mr;if(tr.eql(gr,tr.ONE))return{x:br,y:yr};const Er=mr.is0();xr==null&&(xr=Er?tr.ONE:tr.inv(gr));const kr=tr.mul(br,xr),Mr=tr.mul(yr,xr),Cr=tr.mul(gr,xr);if(Er)return{x:tr.ZERO,y:tr.ZERO};if(!tr.eql(Cr,tr.ONE))throw new Error("invZ was invalid");return{x:kr,y:Mr}}),ur=memoized(mr=>{if(mr.is0()){if(s.allowInfinityPoint&&!tr.is0(mr.py))return;throw new Error("bad point: ZERO")}const{x:xr,y:br}=mr.toAffine();if(!tr.isValid(xr)||!tr.isValid(br))throw new Error("bad point: x or y not FE");const yr=tr.sqr(br),gr=sr(xr);if(!tr.eql(yr,gr))throw new Error("bad point: equation left != right");if(!mr.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class hr{constructor(xr,br,yr){if(this.px=xr,this.py=br,this.pz=yr,xr==null||!tr.isValid(xr))throw new Error("x required");if(br==null||!tr.isValid(br))throw new Error("y required");if(yr==null||!tr.isValid(yr))throw new Error("z required");Object.freeze(this)}static fromAffine(xr){const{x:br,y:yr}=xr||{};if(!xr||!tr.isValid(br)||!tr.isValid(yr))throw new Error("invalid affine point");if(xr instanceof hr)throw new Error("projective point not allowed");const gr=Er=>tr.eql(Er,tr.ZERO);return gr(br)&&gr(yr)?hr.ZERO:new hr(br,yr,tr.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(xr){const br=tr.invertBatch(xr.map(yr=>yr.pz));return xr.map((yr,gr)=>yr.toAffine(br[gr])).map(hr.fromAffine)}static fromHex(xr){const br=hr.fromAffine(ir(ensureBytes("pointHex",xr)));return br.assertValidity(),br}static fromPrivateKey(xr){return hr.BASE.multiply(ar(xr))}static msm(xr,br){return pippenger(hr,nr,xr,br)}_setWindowSize(xr){pr.setWindowSize(this,xr)}assertValidity(){ur(this)}hasEvenY(){const{y:xr}=this.toAffine();if(tr.isOdd)return!tr.isOdd(xr);throw new Error("Field doesn't support isOdd")}equals(xr){lr(xr);const{px:br,py:yr,pz:gr}=this,{px:Er,py:kr,pz:Mr}=xr,Cr=tr.eql(tr.mul(br,Mr),tr.mul(Er,gr)),Dr=tr.eql(tr.mul(yr,Mr),tr.mul(kr,gr));return Cr&&Dr}negate(){return new hr(this.px,tr.neg(this.py),this.pz)}double(){const{a:xr,b:br}=s,yr=tr.mul(br,_3n),{px:gr,py:Er,pz:kr}=this;let Mr=tr.ZERO,Cr=tr.ZERO,Dr=tr.ZERO,zr=tr.mul(gr,gr),Wr=tr.mul(Er,Er),Gr=tr.mul(kr,kr),Kr=tr.mul(gr,Er);return Kr=tr.add(Kr,Kr),Dr=tr.mul(gr,kr),Dr=tr.add(Dr,Dr),Mr=tr.mul(xr,Dr),Cr=tr.mul(yr,Gr),Cr=tr.add(Mr,Cr),Mr=tr.sub(Wr,Cr),Cr=tr.add(Wr,Cr),Cr=tr.mul(Mr,Cr),Mr=tr.mul(Kr,Mr),Dr=tr.mul(yr,Dr),Gr=tr.mul(xr,Gr),Kr=tr.sub(zr,Gr),Kr=tr.mul(xr,Kr),Kr=tr.add(Kr,Dr),Dr=tr.add(zr,zr),zr=tr.add(Dr,zr),zr=tr.add(zr,Gr),zr=tr.mul(zr,Kr),Cr=tr.add(Cr,zr),Gr=tr.mul(Er,kr),Gr=tr.add(Gr,Gr),zr=tr.mul(Gr,Kr),Mr=tr.sub(Mr,zr),Dr=tr.mul(Gr,Wr),Dr=tr.add(Dr,Dr),Dr=tr.add(Dr,Dr),new hr(Mr,Cr,Dr)}add(xr){lr(xr);const{px:br,py:yr,pz:gr}=this,{px:Er,py:kr,pz:Mr}=xr;let Cr=tr.ZERO,Dr=tr.ZERO,zr=tr.ZERO;const Wr=s.a,Gr=tr.mul(s.b,_3n);let Kr=tr.mul(br,Er),Lr=tr.mul(yr,kr),fr=tr.mul(gr,Mr),vr=tr.add(br,yr),$r=tr.add(Er,kr);vr=tr.mul(vr,$r),$r=tr.add(Kr,Lr),vr=tr.sub(vr,$r),$r=tr.add(br,gr);let Tr=tr.add(Er,Mr);return $r=tr.mul($r,Tr),Tr=tr.add(Kr,fr),$r=tr.sub($r,Tr),Tr=tr.add(yr,gr),Cr=tr.add(kr,Mr),Tr=tr.mul(Tr,Cr),Cr=tr.add(Lr,fr),Tr=tr.sub(Tr,Cr),zr=tr.mul(Wr,$r),Cr=tr.mul(Gr,fr),zr=tr.add(Cr,zr),Cr=tr.sub(Lr,zr),zr=tr.add(Lr,zr),Dr=tr.mul(Cr,zr),Lr=tr.add(Kr,Kr),Lr=tr.add(Lr,Kr),fr=tr.mul(Wr,fr),$r=tr.mul(Gr,$r),Lr=tr.add(Lr,fr),fr=tr.sub(Kr,fr),fr=tr.mul(Wr,fr),$r=tr.add($r,fr),Kr=tr.mul(Lr,$r),Dr=tr.add(Dr,Kr),Kr=tr.mul(Tr,$r),Cr=tr.mul(vr,Cr),Cr=tr.sub(Cr,Kr),Kr=tr.mul(vr,Lr),zr=tr.mul(Tr,zr),zr=tr.add(zr,Kr),new hr(Cr,Dr,zr)}subtract(xr){return this.add(xr.negate())}is0(){return this.equals(hr.ZERO)}wNAF(xr){return pr.wNAFCached(this,xr,hr.normalizeZ)}multiplyUnsafe(xr){const{endo:br,n:yr}=s;aInRange("scalar",xr,_0n,yr);const gr=hr.ZERO;if(xr===_0n)return gr;if(this.is0()||xr===_1n$1)return this;if(!br||pr.hasPrecomputes(this))return pr.wNAFCachedUnsafe(this,xr,hr.normalizeZ);let{k1neg:Er,k1:kr,k2neg:Mr,k2:Cr}=br.splitScalar(xr),Dr=gr,zr=gr,Wr=this;for(;kr>_0n||Cr>_0n;)kr&_1n$1&&(Dr=Dr.add(Wr)),Cr&_1n$1&&(zr=zr.add(Wr)),Wr=Wr.double(),kr>>=_1n$1,Cr>>=_1n$1;return Er&&(Dr=Dr.negate()),Mr&&(zr=zr.negate()),zr=new hr(tr.mul(zr.px,br.beta),zr.py,zr.pz),Dr.add(zr)}multiply(xr){const{endo:br,n:yr}=s;aInRange("scalar",xr,_1n$1,yr);let gr,Er;if(br){const{k1neg:kr,k1:Mr,k2neg:Cr,k2:Dr}=br.splitScalar(xr);let{p:zr,f:Wr}=this.wNAF(Mr),{p:Gr,f:Kr}=this.wNAF(Dr);zr=pr.constTimeNegate(kr,zr),Gr=pr.constTimeNegate(Cr,Gr),Gr=new hr(tr.mul(Gr.px,br.beta),Gr.py,Gr.pz),gr=zr.add(Gr),Er=Wr.add(Kr)}else{const{p:kr,f:Mr}=this.wNAF(xr);gr=kr,Er=Mr}return hr.normalizeZ([gr,Er])[0]}multiplyAndAddUnsafe(xr,br,yr){const gr=hr.BASE,Er=(Mr,Cr)=>Cr===_0n||Cr===_1n$1||!Mr.equals(gr)?Mr.multiplyUnsafe(Cr):Mr.multiply(Cr),kr=Er(this,br).add(Er(xr,yr));return kr.is0()?void 0:kr}toAffine(xr){return cr(this,xr)}isTorsionFree(){const{h:xr,isTorsionFree:br}=s;if(xr===_1n$1)return!0;if(br)return br(hr,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:xr,clearCofactor:br}=s;return xr===_1n$1?this:br?br(hr,this):this.multiplyUnsafe(s.h)}toRawBytes(xr=!0){return abool("isCompressed",xr),this.assertValidity(),rr(hr,this,xr)}toHex(xr=!0){return abool("isCompressed",xr),bytesToHex(this.toRawBytes(xr))}}hr.BASE=new hr(s.Gx,s.Gy,tr.ONE),hr.ZERO=new hr(tr.ZERO,tr.ONE,tr.ZERO);const dr=s.nBitLength,pr=wNAF(hr,s.endo?Math.ceil(dr/2):dr);return{CURVE:s,ProjectivePoint:hr,normPrivateKeyToScalar:ar,weierstrassEquation:sr,isWithinCurveOrder:or}}function validateOpts(er){const s=validateBasic(er);return validateObject(s,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...s})}function weierstrass(er){const s=validateOpts(er),{Fp:tr,n:nr}=s,rr=tr.BYTES+1,ir=2*tr.BYTES+1;function sr(fr){return mod(fr,nr)}function or(fr){return invert(fr,nr)}const{ProjectivePoint:ar,normPrivateKeyToScalar:lr,weierstrassEquation:cr,isWithinCurveOrder:ur}=weierstrassPoints({...s,toBytes(fr,vr,$r){const Tr=vr.toAffine(),Ar=tr.toBytes(Tr.x),jr=concatBytes;return abool("isCompressed",$r),$r?jr(Uint8Array.from([vr.hasEvenY()?2:3]),Ar):jr(Uint8Array.from([4]),Ar,tr.toBytes(Tr.y))},fromBytes(fr){const vr=fr.length,$r=fr[0],Tr=fr.subarray(1);if(vr===rr&&($r===2||$r===3)){const Ar=bytesToNumberBE(Tr);if(!inRange$1(Ar,_1n$1,tr.ORDER))throw new Error("Point is not on curve");const jr=cr(Ar);let Or;try{Or=tr.sqrt(jr)}catch(Rr){const Pr=Rr instanceof Error?": "+Rr.message:"";throw new Error("Point is not on curve"+Pr)}const Nr=(Or&_1n$1)===_1n$1;return($r&1)===1!==Nr&&(Or=tr.neg(Or)),{x:Ar,y:Or}}else if(vr===ir&&$r===4){const Ar=tr.fromBytes(Tr.subarray(0,tr.BYTES)),jr=tr.fromBytes(Tr.subarray(tr.BYTES,2*tr.BYTES));return{x:Ar,y:jr}}else{const Ar=rr,jr=ir;throw new Error("invalid Point, expected length of "+Ar+", or uncompressed "+jr+", got "+vr)}}}),hr=fr=>bytesToHex(numberToBytesBE(fr,s.nByteLength));function dr(fr){const vr=nr>>_1n$1;return fr>vr}function pr(fr){return dr(fr)?sr(-fr):fr}const mr=(fr,vr,$r)=>bytesToNumberBE(fr.slice(vr,$r));class xr{constructor(vr,$r,Tr){this.r=vr,this.s=$r,this.recovery=Tr,this.assertValidity()}static fromCompact(vr){const $r=s.nByteLength;return vr=ensureBytes("compactSignature",vr,$r*2),new xr(mr(vr,0,$r),mr(vr,$r,2*$r))}static fromDER(vr){const{r:$r,s:Tr}=DER.toSig(ensureBytes("DER",vr));return new xr($r,Tr)}assertValidity(){aInRange("r",this.r,_1n$1,nr),aInRange("s",this.s,_1n$1,nr)}addRecoveryBit(vr){return new xr(this.r,this.s,vr)}recoverPublicKey(vr){const{r:$r,s:Tr,recovery:Ar}=this,jr=Mr(ensureBytes("msgHash",vr));if(Ar==null||![0,1,2,3].includes(Ar))throw new Error("recovery id invalid");const Or=Ar===2||Ar===3?$r+s.n:$r;if(Or>=tr.ORDER)throw new Error("recovery id 2 or 3 invalid");const Nr=Ar&1?"03":"02",wr=ar.fromHex(Nr+hr(Or)),Rr=or(Or),Pr=sr(-jr*Rr),Br=sr(Tr*Rr),Ur=ar.BASE.multiplyAndAddUnsafe(wr,Pr,Br);if(!Ur)throw new Error("point at infinify");return Ur.assertValidity(),Ur}hasHighS(){return dr(this.s)}normalizeS(){return this.hasHighS()?new xr(this.r,sr(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return hr(this.r)+hr(this.s)}}const br={isValidPrivateKey(fr){try{return lr(fr),!0}catch{return!1}},normPrivateKeyToScalar:lr,randomPrivateKey:()=>{const fr=getMinHashLength(s.n);return mapHashToField(s.randomBytes(fr),s.n)},precompute(fr=8,vr=ar.BASE){return vr._setWindowSize(fr),vr.multiply(BigInt(3)),vr}};function yr(fr,vr=!0){return ar.fromPrivateKey(fr).toRawBytes(vr)}function gr(fr){const vr=isBytes(fr),$r=typeof fr=="string",Tr=(vr||$r)&&fr.length;return vr?Tr===rr||Tr===ir:$r?Tr===2*rr||Tr===2*ir:fr instanceof ar}function Er(fr,vr,$r=!0){if(gr(fr))throw new Error("first arg must be private key");if(!gr(vr))throw new Error("second arg must be public key");return ar.fromHex(vr).multiply(lr(fr)).toRawBytes($r)}const kr=s.bits2int||function(fr){if(fr.length>8192)throw new Error("input is too large");const vr=bytesToNumberBE(fr),$r=fr.length*8-s.nBitLength;return $r>0?vr>>BigInt($r):vr},Mr=s.bits2int_modN||function(fr){return sr(kr(fr))},Cr=bitMask(s.nBitLength);function Dr(fr){return aInRange("num < 2^"+s.nBitLength,fr,_0n,Cr),numberToBytesBE(fr,s.nByteLength)}function zr(fr,vr,$r=Wr){if(["recovered","canonical"].some(qr=>qr in $r))throw new Error("sign() legacy options not supported");const{hash:Tr,randomBytes:Ar}=s;let{lowS:jr,prehash:Or,extraEntropy:Nr}=$r;jr==null&&(jr=!0),fr=ensureBytes("msgHash",fr),validateSigVerOpts($r),Or&&(fr=ensureBytes("prehashed msgHash",Tr(fr)));const wr=Mr(fr),Rr=lr(vr),Pr=[Dr(Rr),Dr(wr)];if(Nr!=null&&Nr!==!1){const qr=Nr===!0?Ar(tr.BYTES):Nr;Pr.push(ensureBytes("extraEntropy",qr))}const Br=concatBytes(...Pr),Ur=wr;function Jr(qr){const Zr=kr(qr);if(!ur(Zr))return;const oo=or(Zr),eo=ar.BASE.multiply(Zr).toAffine(),uo=sr(eo.x);if(uo===_0n)return;const vo=sr(oo*sr(Ur+uo*Rr));if(vo===_0n)return;let go=(eo.x===uo?0:2)|Number(eo.y&_1n$1),xo=vo;return jr&&dr(vo)&&(xo=pr(vo),go^=1),new xr(uo,xo,go)}return{seed:Br,k2sig:Jr}}const Wr={lowS:s.lowS,prehash:!1},Gr={lowS:s.lowS,prehash:!1};function Kr(fr,vr,$r=Wr){const{seed:Tr,k2sig:Ar}=zr(fr,vr,$r),jr=s;return createHmacDrbg(jr.hash.outputLen,jr.nByteLength,jr.hmac)(Tr,Ar)}ar.BASE._setWindowSize(8);function Lr(fr,vr,$r,Tr=Gr){var go;const Ar=fr;vr=ensureBytes("msgHash",vr),$r=ensureBytes("publicKey",$r);const{lowS:jr,prehash:Or,format:Nr}=Tr;if(validateSigVerOpts(Tr),"strict"in Tr)throw new Error("options.strict was renamed to lowS");if(Nr!==void 0&&Nr!=="compact"&&Nr!=="der")throw new Error("format must be compact or der");const wr=typeof Ar=="string"||isBytes(Ar),Rr=!wr&&!Nr&&typeof Ar=="object"&&Ar!==null&&typeof Ar.r=="bigint"&&typeof Ar.s=="bigint";if(!wr&&!Rr)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Pr,Br;try{if(Rr&&(Pr=new xr(Ar.r,Ar.s)),wr){try{Nr!=="compact"&&(Pr=xr.fromDER(Ar))}catch(xo){if(!(xo instanceof DER.Err))throw xo}!Pr&&Nr!=="der"&&(Pr=xr.fromCompact(Ar))}Br=ar.fromHex($r)}catch{return!1}if(!Pr||jr&&Pr.hasHighS())return!1;Or&&(vr=s.hash(vr));const{r:Ur,s:Jr}=Pr,qr=Mr(vr),Zr=or(Jr),oo=sr(qr*Zr),eo=sr(Ur*Zr),uo=(go=ar.BASE.multiplyAndAddUnsafe(Br,oo,eo))==null?void 0:go.toAffine();return uo?sr(uo.x)===Ur:!1}return{CURVE:s,getPublicKey:yr,getSharedSecret:Er,sign:Kr,verify:Lr,ProjectivePoint:ar,Signature:xr,utils:br}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(er){return{hash:er,hmac:(s,...tr)=>hmac(er,s,concatBytes$1(...tr)),randomBytes}}function createCurve(er,s){const tr=nr=>weierstrass({...er,...getHash(nr)});return Object.freeze({...tr(s),create:tr})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(er,s)=>(er+s/_2n)/s;function sqrtMod(er){const s=secp256k1P,tr=BigInt(3),nr=BigInt(6),rr=BigInt(11),ir=BigInt(22),sr=BigInt(23),or=BigInt(44),ar=BigInt(88),lr=er*er*er%s,cr=lr*lr*er%s,ur=pow2(cr,tr,s)*cr%s,hr=pow2(ur,tr,s)*cr%s,dr=pow2(hr,_2n,s)*lr%s,pr=pow2(dr,rr,s)*dr%s,mr=pow2(pr,ir,s)*pr%s,xr=pow2(mr,or,s)*mr%s,br=pow2(xr,ar,s)*xr%s,yr=pow2(br,or,s)*mr%s,gr=pow2(yr,tr,s)*cr%s,Er=pow2(gr,sr,s)*pr%s,kr=pow2(Er,nr,s)*lr%s,Mr=pow2(kr,_2n,s);if(!Fpk1.eql(Fpk1.sqr(Mr),er))throw new Error("Cannot find square root");return Mr}const Fpk1=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp:Fpk1,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:er=>{const s=secp256k1N,tr=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),nr=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),rr=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),ir=tr,sr=BigInt("0x100000000000000000000000000000000"),or=divNearest(ir*er,s),ar=divNearest(-nr*er,s);let lr=mod(er-or*tr-ar*rr,s),cr=mod(-or*nr-ar*ir,s);const ur=lr>sr,hr=cr>sr;if(ur&&(lr=s-lr),hr&&(cr=s-cr),lr>sr||cr>sr)throw new Error("splitScalar: Endomorphism failed, k="+er);return{k1neg:ur,k1:lr,k2neg:hr,k2:cr}}}},sha256$1);BigInt(0);secp256k1.ProjectivePoint;const generatePrivateKey=ed25519.utils.randomPrivateKey,generateKeypair=()=>{const er=ed25519.utils.randomPrivateKey(),s=getPublicKey(er),tr=new Uint8Array(64);return tr.set(er),tr.set(s,32),{publicKey:s,secretKey:tr}},getPublicKey=ed25519.getPublicKey;function isOnCurve(er){try{return ed25519.ExtendedPoint.fromHex(er),!0}catch{return!1}}const sign=(er,s)=>ed25519.sign(er,s.slice(0,32)),verify=ed25519.verify,toBuffer$1=er=>Buffer$1.isBuffer(er)?er:er instanceof Uint8Array?Buffer$1.from(er.buffer,er.byteOffset,er.byteLength):Buffer$1.from(er);let Struct$1=class{constructor(s){Object.assign(this,s)}encode(){return Buffer$1.from(serialize_1(SOLANA_SCHEMA,this))}static decode(s){return deserialize_1(SOLANA_SCHEMA,this,s)}static decodeUnchecked(s){return deserializeUnchecked_1(SOLANA_SCHEMA,this,s)}};class Enum extends Struct$1{constructor(s){if(super(s),this.enum="",Object.keys(s).length!==1)throw new Error("Enum can only take single value");Object.keys(s).map(tr=>{this.enum=tr})}}const SOLANA_SCHEMA=new Map;var _PublicKey;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(er){return er._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct$1{constructor(s){if(super({}),this._bn=void 0,isPublicKeyData(s))this._bn=s._bn;else{if(typeof s=="string"){const tr=bs58$5.decode(s);if(tr.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(tr)}else this._bn=new BN(s);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const s=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(s.toBuffer())}equals(s){return this._bn.eq(s._bn)}toBase58(){return bs58$5.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const s=this.toBuffer();return new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}toBuffer(){const s=this._bn.toArrayLike(Buffer$1);if(s.length===PUBLIC_KEY_LENGTH)return s;const tr=Buffer$1.alloc(32);return s.copy(tr,32-s.length),tr}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(s,tr,nr){const rr=Buffer$1.concat([s.toBuffer(),Buffer$1.from(tr),nr.toBuffer()]),ir=sha256$1(rr);return new PublicKey(ir)}static createProgramAddressSync(s,tr){let nr=Buffer$1.alloc(0);s.forEach(function(ir){if(ir.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");nr=Buffer$1.concat([nr,toBuffer$1(ir)])}),nr=Buffer$1.concat([nr,tr.toBuffer(),Buffer$1.from("ProgramDerivedAddress")]);const rr=sha256$1(nr);if(isOnCurve(rr))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(rr)}static async createProgramAddress(s,tr){return this.createProgramAddressSync(s,tr)}static findProgramAddressSync(s,tr){let nr=255,rr;for(;nr!=0;){try{const ir=s.concat(Buffer$1.from([nr]));rr=this.createProgramAddressSync(ir,tr)}catch(ir){if(ir instanceof TypeError)throw ir;nr--;continue}return[rr,nr]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(s,tr){return this.findProgramAddressSync(s,tr)}static isOnCurve(s){const tr=new PublicKey(s);return isOnCurve(tr.toBytes())}}_PublicKey=PublicKey;PublicKey.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(s){if(this._publicKey=void 0,this._secretKey=void 0,s){const tr=toBuffer$1(s);if(s.length!==64)throw new Error("bad secret key size");this._publicKey=tr.slice(32,64),this._secretKey=tr.slice(0,32)}else this._secretKey=toBuffer$1(generatePrivateKey()),this._publicKey=toBuffer$1(getPublicKey(this._secretKey))}get publicKey(){return new PublicKey(this._publicKey)}get secretKey(){return Buffer$1.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE=1232,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(s){super(`Signature ${s} has expired: block height exceeded.`),this.signature=void 0,this.signature=s}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(s,tr){super(`Transaction was not confirmed in ${tr.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${s} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=s}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(s){super(`Signature ${s} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=s}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys{constructor(s,tr){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=s,this.accountKeysFromLookups=tr}keySegments(){const s=[this.staticAccountKeys];return this.accountKeysFromLookups&&(s.push(this.accountKeysFromLookups.writable),s.push(this.accountKeysFromLookups.readonly)),s}get(s){for(const tr of this.keySegments()){if(s<tr.length)return tr[s];s-=tr.length}}get length(){return this.keySegments().flat().length}compileInstructions(s){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const nr=new Map;this.keySegments().flat().forEach((ir,sr)=>{nr.set(ir.toBase58(),sr)});const rr=ir=>{const sr=nr.get(ir.toBase58());if(sr===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return sr};return s.map(ir=>({programIdIndex:rr(ir.programId),accountKeyIndexes:ir.keys.map(sr=>rr(sr.pubkey)),data:ir.data}))}}const publicKey$4=(er="publicKey")=>blob$1(32,er),signature=(er="signature")=>blob$1(64,er),rustString=(er="string")=>{const s=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset$1(u32$1(),-8),"chars")],er),tr=s.decode.bind(s),nr=s.encode.bind(s),rr=s;return rr.decode=(ir,sr)=>tr(ir,sr).chars.toString(),rr.encode=(ir,sr,or)=>{const ar={chars:Buffer$1.from(ir,"utf8")};return nr(ar,sr,or)},rr.alloc=ir=>u32$1().span+u32$1().span+Buffer$1.from(ir,"utf8").length,rr},authorized=(er="authorized")=>struct$1([publicKey$4("staker"),publicKey$4("withdrawer")],er),lockup=(er="lockup")=>struct$1([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$4("custodian")],er),voteInit=(er="voteInit")=>struct$1([publicKey$4("nodePubkey"),publicKey$4("authorizedVoter"),publicKey$4("authorizedWithdrawer"),u8$1("commission")],er),voteAuthorizeWithSeedArgs=(er="voteAuthorizeWithSeedArgs")=>struct$1([u32$1("voteAuthorizationType"),publicKey$4("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$4("newAuthorized")],er);function getAlloc(er,s){const tr=rr=>{if(rr.span>=0)return rr.span;if(typeof rr.alloc=="function")return rr.alloc(s[rr.property]);if("count"in rr&&"elementLayout"in rr){const ir=s[rr.property];if(Array.isArray(ir))return ir.length*tr(rr.elementLayout)}else if("fields"in rr)return getAlloc({layout:rr},s[rr.property]);return 0};let nr=0;return er.layout.fields.forEach(rr=>{nr+=tr(rr)}),nr}function decodeLength(er){let s=0,tr=0;for(;;){let nr=er.shift();if(s|=(nr&127)<<tr*7,tr+=1,!(nr&128))break}return s}function encodeLength(er,s){let tr=s;for(;;){let nr=tr&127;if(tr>>=7,tr==0){er.push(nr);break}else nr|=128,er.push(nr)}}function assert$2(er,s){if(!er)throw new Error(s||"Assertion failed")}class CompiledKeys{constructor(s,tr){this.payer=void 0,this.keyMetaMap=void 0,this.payer=s,this.keyMetaMap=tr}static compile(s,tr){const nr=new Map,rr=sr=>{const or=sr.toBase58();let ar=nr.get(or);return ar===void 0&&(ar={isSigner:!1,isWritable:!1,isInvoked:!1},nr.set(or,ar)),ar},ir=rr(tr);ir.isSigner=!0,ir.isWritable=!0;for(const sr of s){rr(sr.programId).isInvoked=!0;for(const or of sr.keys){const ar=rr(or.pubkey);ar.isSigner||(ar.isSigner=or.isSigner),ar.isWritable||(ar.isWritable=or.isWritable)}}return new CompiledKeys(tr,nr)}getMessageComponents(){const s=[...this.keyMetaMap.entries()];assert$2(s.length<=256,"Max static account keys length exceeded");const tr=s.filter(([,ar])=>ar.isSigner&&ar.isWritable),nr=s.filter(([,ar])=>ar.isSigner&&!ar.isWritable),rr=s.filter(([,ar])=>!ar.isSigner&&ar.isWritable),ir=s.filter(([,ar])=>!ar.isSigner&&!ar.isWritable),sr={numRequiredSignatures:tr.length+nr.length,numReadonlySignedAccounts:nr.length,numReadonlyUnsignedAccounts:ir.length};{assert$2(tr.length>0,"Expected at least one writable signer key");const[ar]=tr[0];assert$2(ar===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const or=[...tr.map(([ar])=>new PublicKey(ar)),...nr.map(([ar])=>new PublicKey(ar)),...rr.map(([ar])=>new PublicKey(ar)),...ir.map(([ar])=>new PublicKey(ar))];return[sr,or]}extractTableLookup(s){const[tr,nr]=this.drainKeysFoundInLookupTable(s.state.addresses,sr=>!sr.isSigner&&!sr.isInvoked&&sr.isWritable),[rr,ir]=this.drainKeysFoundInLookupTable(s.state.addresses,sr=>!sr.isSigner&&!sr.isInvoked&&!sr.isWritable);if(!(tr.length===0&&rr.length===0))return[{accountKey:s.key,writableIndexes:tr,readonlyIndexes:rr},{writable:nr,readonly:ir}]}drainKeysFoundInLookupTable(s,tr){const nr=new Array,rr=new Array;for(const[ir,sr]of this.keyMetaMap.entries())if(tr(sr)){const or=new PublicKey(ir),ar=s.findIndex(lr=>lr.equals(or));ar>=0&&(assert$2(ar<256,"Max lookup table index exceeded"),nr.push(ar),rr.push(or),this.keyMetaMap.delete(ir))}return[nr,rr]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(er){if(er.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return er.shift()}function guardedSplice(er,...s){const[tr]=s;if(s.length===2?tr+(s[1]??0)>er.length:tr>=er.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return er.splice(...s)}class Message{constructor(s){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=s.header,this.accountKeys=s.accountKeys.map(tr=>new PublicKey(tr)),this.recentBlockhash=s.recentBlockhash,this.instructions=s.instructions,this.instructions.forEach(tr=>this.indexToProgramIds.set(tr.programIdIndex,this.accountKeys[tr.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(s=>({programIdIndex:s.programIdIndex,accountKeyIndexes:s.accounts,data:bs58$5.decode(s.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(s){const tr=CompiledKeys.compile(s.instructions,s.payerKey),[nr,rr]=tr.getMessageComponents(),sr=new MessageAccountKeys(rr).compileInstructions(s.instructions).map(or=>({programIdIndex:or.programIdIndex,accounts:or.accountKeyIndexes,data:bs58$5.encode(or.data)}));return new Message({header:nr,accountKeys:rr,recentBlockhash:s.recentBlockhash,instructions:sr})}isAccountSigner(s){return s<this.header.numRequiredSignatures}isAccountWritable(s){const tr=this.header.numRequiredSignatures;if(s>=this.header.numRequiredSignatures){const nr=s-tr,ir=this.accountKeys.length-tr-this.header.numReadonlyUnsignedAccounts;return nr<ir}else{const nr=tr-this.header.numReadonlySignedAccounts;return s<nr}}isProgramId(s){return this.indexToProgramIds.has(s)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((s,tr)=>!this.isProgramId(tr))}serialize(){const s=this.accountKeys.length;let tr=[];encodeLength(tr,s);const nr=this.instructions.map(ur=>{const{accounts:hr,programIdIndex:dr}=ur,pr=Array.from(bs58$5.decode(ur.data));let mr=[];encodeLength(mr,hr.length);let xr=[];return encodeLength(xr,pr.length),{programIdIndex:dr,keyIndicesCount:Buffer$1.from(mr),keyIndices:hr,dataLength:Buffer$1.from(xr),data:pr}});let rr=[];encodeLength(rr,nr.length);let ir=Buffer$1.alloc(PACKET_DATA_SIZE);Buffer$1.from(rr).copy(ir);let sr=rr.length;nr.forEach(ur=>{const dr=struct$1([u8$1("programIdIndex"),blob$1(ur.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),ur.keyIndices.length,"keyIndices"),blob$1(ur.dataLength.length,"dataLength"),seq(u8$1("userdatum"),ur.data.length,"data")]).encode(ur,ir,sr);sr+=dr}),ir=ir.slice(0,sr);const or=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(tr.length,"keyCount"),seq(publicKey$4("key"),s,"keys"),publicKey$4("recentBlockhash")]),ar={numRequiredSignatures:Buffer$1.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Buffer$1.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Buffer$1.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Buffer$1.from(tr),keys:this.accountKeys.map(ur=>toBuffer$1(ur.toBytes())),recentBlockhash:bs58$5.decode(this.recentBlockhash)};let lr=Buffer$1.alloc(2048);const cr=or.encode(ar,lr);return ir.copy(lr,cr),lr.slice(0,cr+ir.length)}static from(s){let tr=[...s];const nr=guardedShift(tr);if(nr!==(nr&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const rr=guardedShift(tr),ir=guardedShift(tr),sr=decodeLength(tr);let or=[];for(let hr=0;hr<sr;hr++){const dr=guardedSplice(tr,0,PUBLIC_KEY_LENGTH);or.push(new PublicKey(Buffer$1.from(dr)))}const ar=guardedSplice(tr,0,PUBLIC_KEY_LENGTH),lr=decodeLength(tr);let cr=[];for(let hr=0;hr<lr;hr++){const dr=guardedShift(tr),pr=decodeLength(tr),mr=guardedSplice(tr,0,pr),xr=decodeLength(tr),br=guardedSplice(tr,0,xr),yr=bs58$5.encode(Buffer$1.from(br));cr.push({programIdIndex:dr,accounts:mr,data:yr})}const ur={header:{numRequiredSignatures:nr,numReadonlySignedAccounts:rr,numReadonlyUnsignedAccounts:ir},recentBlockhash:bs58$5.encode(Buffer$1.from(ar)),accountKeys:or,instructions:cr};return new Message(ur)}}class MessageV0{constructor(s){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=s.header,this.staticAccountKeys=s.staticAccountKeys,this.recentBlockhash=s.recentBlockhash,this.compiledInstructions=s.compiledInstructions,this.addressTableLookups=s.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let s=0;for(const tr of this.addressTableLookups)s+=tr.readonlyIndexes.length+tr.writableIndexes.length;return s}getAccountKeys(s){let tr;if(s&&"accountKeysFromLookups"in s&&s.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=s.accountKeysFromLookups.writable.length+s.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");tr=s.accountKeysFromLookups}else if(s&&"addressLookupTableAccounts"in s&&s.addressLookupTableAccounts)tr=this.resolveAddressTableLookups(s.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys(this.staticAccountKeys,tr)}isAccountSigner(s){return s<this.header.numRequiredSignatures}isAccountWritable(s){const tr=this.header.numRequiredSignatures,nr=this.staticAccountKeys.length;if(s>=nr){const rr=s-nr,ir=this.addressTableLookups.reduce((sr,or)=>sr+or.writableIndexes.length,0);return rr<ir}else if(s>=this.header.numRequiredSignatures){const rr=s-tr,sr=nr-tr-this.header.numReadonlyUnsignedAccounts;return rr<sr}else{const rr=tr-this.header.numReadonlySignedAccounts;return s<rr}}resolveAddressTableLookups(s){const tr={writable:[],readonly:[]};for(const nr of this.addressTableLookups){const rr=s.find(ir=>ir.key.equals(nr.accountKey));if(!rr)throw new Error(`Failed to find address lookup table account for table key ${nr.accountKey.toBase58()}`);for(const ir of nr.writableIndexes)if(ir<rr.state.addresses.length)tr.writable.push(rr.state.addresses[ir]);else throw new Error(`Failed to find address for index ${ir} in address lookup table ${nr.accountKey.toBase58()}`);for(const ir of nr.readonlyIndexes)if(ir<rr.state.addresses.length)tr.readonly.push(rr.state.addresses[ir]);else throw new Error(`Failed to find address for index ${ir} in address lookup table ${nr.accountKey.toBase58()}`)}return tr}static compile(s){const tr=CompiledKeys.compile(s.instructions,s.payerKey),nr=new Array,rr={writable:new Array,readonly:new Array},ir=s.addressLookupTableAccounts||[];for(const cr of ir){const ur=tr.extractTableLookup(cr);if(ur!==void 0){const[hr,{writable:dr,readonly:pr}]=ur;nr.push(hr),rr.writable.push(...dr),rr.readonly.push(...pr)}}const[sr,or]=tr.getMessageComponents(),lr=new MessageAccountKeys(or,rr).compileInstructions(s.instructions);return new MessageV0({header:sr,staticAccountKeys:or,recentBlockhash:s.recentBlockhash,compiledInstructions:lr,addressTableLookups:nr})}serialize(){const s=Array();encodeLength(s,this.staticAccountKeys.length);const tr=this.serializeInstructions(),nr=Array();encodeLength(nr,this.compiledInstructions.length);const rr=this.serializeAddressTableLookups(),ir=Array();encodeLength(ir,this.addressTableLookups.length);const sr=struct$1([u8$1("prefix"),struct$1([u8$1("numRequiredSignatures"),u8$1("numReadonlySignedAccounts"),u8$1("numReadonlyUnsignedAccounts")],"header"),blob$1(s.length,"staticAccountKeysLength"),seq(publicKey$4(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$4("recentBlockhash"),blob$1(nr.length,"instructionsLength"),blob$1(tr.length,"serializedInstructions"),blob$1(ir.length,"addressTableLookupsLength"),blob$1(rr.length,"serializedAddressTableLookups")]),or=new Uint8Array(PACKET_DATA_SIZE),lr=sr.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(s),staticAccountKeys:this.staticAccountKeys.map(cr=>cr.toBytes()),recentBlockhash:bs58$5.decode(this.recentBlockhash),instructionsLength:new Uint8Array(nr),serializedInstructions:tr,addressTableLookupsLength:new Uint8Array(ir),serializedAddressTableLookups:rr},or);return or.slice(0,lr)}serializeInstructions(){let s=0;const tr=new Uint8Array(PACKET_DATA_SIZE);for(const nr of this.compiledInstructions){const rr=Array();encodeLength(rr,nr.accountKeyIndexes.length);const ir=Array();encodeLength(ir,nr.data.length);const sr=struct$1([u8$1("programIdIndex"),blob$1(rr.length,"encodedAccountKeyIndexesLength"),seq(u8$1(),nr.accountKeyIndexes.length,"accountKeyIndexes"),blob$1(ir.length,"encodedDataLength"),blob$1(nr.data.length,"data")]);s+=sr.encode({programIdIndex:nr.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(rr),accountKeyIndexes:nr.accountKeyIndexes,encodedDataLength:new Uint8Array(ir),data:nr.data},tr,s)}return tr.slice(0,s)}serializeAddressTableLookups(){let s=0;const tr=new Uint8Array(PACKET_DATA_SIZE);for(const nr of this.addressTableLookups){const rr=Array();encodeLength(rr,nr.writableIndexes.length);const ir=Array();encodeLength(ir,nr.readonlyIndexes.length);const sr=struct$1([publicKey$4("accountKey"),blob$1(rr.length,"encodedWritableIndexesLength"),seq(u8$1(),nr.writableIndexes.length,"writableIndexes"),blob$1(ir.length,"encodedReadonlyIndexesLength"),seq(u8$1(),nr.readonlyIndexes.length,"readonlyIndexes")]);s+=sr.encode({accountKey:nr.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(rr),writableIndexes:nr.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(ir),readonlyIndexes:nr.readonlyIndexes},tr,s)}return tr.slice(0,s)}static deserialize(s){let tr=[...s];const nr=guardedShift(tr),rr=nr&VERSION_PREFIX_MASK;assert$2(nr!==rr,"Expected versioned message but received legacy message");const ir=rr;assert$2(ir===0,`Expected versioned message with version 0 but found version ${ir}`);const sr={numRequiredSignatures:guardedShift(tr),numReadonlySignedAccounts:guardedShift(tr),numReadonlyUnsignedAccounts:guardedShift(tr)},or=[],ar=decodeLength(tr);for(let pr=0;pr<ar;pr++)or.push(new PublicKey(guardedSplice(tr,0,PUBLIC_KEY_LENGTH)));const lr=bs58$5.encode(guardedSplice(tr,0,PUBLIC_KEY_LENGTH)),cr=decodeLength(tr),ur=[];for(let pr=0;pr<cr;pr++){const mr=guardedShift(tr),xr=decodeLength(tr),br=guardedSplice(tr,0,xr),yr=decodeLength(tr),gr=new Uint8Array(guardedSplice(tr,0,yr));ur.push({programIdIndex:mr,accountKeyIndexes:br,data:gr})}const hr=decodeLength(tr),dr=[];for(let pr=0;pr<hr;pr++){const mr=new PublicKey(guardedSplice(tr,0,PUBLIC_KEY_LENGTH)),xr=decodeLength(tr),br=guardedSplice(tr,0,xr),yr=decodeLength(tr),gr=guardedSplice(tr,0,yr);dr.push({accountKey:mr,writableIndexes:br,readonlyIndexes:gr})}return new MessageV0({header:sr,staticAccountKeys:or,recentBlockhash:lr,compiledInstructions:ur,addressTableLookups:dr})}}const VersionedMessage={deserializeMessageVersion(er){const s=er[0],tr=s&VERSION_PREFIX_MASK;return tr===s?"legacy":tr},deserialize:er=>{const s=VersionedMessage.deserializeMessageVersion(er);if(s==="legacy")return Message.from(er);if(s===0)return MessageV0.deserialize(er);throw new Error(`Transaction message version ${s} deserialization is not supported`)}};let TransactionStatus=function(er){return er[er.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",er[er.PROCESSED=1]="PROCESSED",er[er.TIMED_OUT=2]="TIMED_OUT",er[er.NONCE_INVALID=3]="NONCE_INVALID",er}({});const DEFAULT_SIGNATURE=Buffer$1.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(s){this.keys=void 0,this.programId=void 0,this.data=Buffer$1.alloc(0),this.programId=s.programId,this.keys=s.keys,s.data&&(this.data=s.data)}toJSON(){return{keys:this.keys.map(({pubkey:s,isSigner:tr,isWritable:nr})=>({pubkey:s.toJSON(),isSigner:tr,isWritable:nr})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(s){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!s)if(s.feePayer&&(this.feePayer=s.feePayer),s.signatures&&(this.signatures=s.signatures),Object.prototype.hasOwnProperty.call(s,"nonceInfo")){const{minContextSlot:tr,nonceInfo:nr}=s;this.minNonceContextSlot=tr,this.nonceInfo=nr}else if(Object.prototype.hasOwnProperty.call(s,"lastValidBlockHeight")){const{blockhash:tr,lastValidBlockHeight:nr}=s;this.recentBlockhash=tr,this.lastValidBlockHeight=nr}else{const{recentBlockhash:tr,nonceInfo:nr}=s;nr&&(this.nonceInfo=nr),this.recentBlockhash=tr}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(s=>s.toJSON()),signers:this.signatures.map(({publicKey:s})=>s.toJSON())}}add(...s){if(s.length===0)throw new Error("No instructions");return s.forEach(tr=>{"instructions"in tr?this.instructions=this.instructions.concat(tr.instructions):"data"in tr&&"programId"in tr&&"keys"in tr?this.instructions.push(tr):this.instructions.push(new TransactionInstruction(tr))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let s,tr;if(this.nonceInfo?(s=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?tr=[this.nonceInfo.nonceInstruction,...this.instructions]:tr=this.instructions):(s=this.recentBlockhash,tr=this.instructions),!s)throw new Error("Transaction recentBlockhash required");tr.length<1&&console.warn("No instructions provided");let nr;if(this.feePayer)nr=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)nr=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let mr=0;mr<tr.length;mr++)if(tr[mr].programId===void 0)throw new Error(`Transaction instruction index ${mr} has undefined program id`);const rr=[],ir=[];tr.forEach(mr=>{mr.keys.forEach(br=>{ir.push({...br})});const xr=mr.programId.toString();rr.includes(xr)||rr.push(xr)}),rr.forEach(mr=>{ir.push({pubkey:new PublicKey(mr),isSigner:!1,isWritable:!1})});const sr=[];ir.forEach(mr=>{const xr=mr.pubkey.toString(),br=sr.findIndex(yr=>yr.pubkey.toString()===xr);br>-1?(sr[br].isWritable=sr[br].isWritable||mr.isWritable,sr[br].isSigner=sr[br].isSigner||mr.isSigner):sr.push(mr)}),sr.sort(function(mr,xr){if(mr.isSigner!==xr.isSigner)return mr.isSigner?-1:1;if(mr.isWritable!==xr.isWritable)return mr.isWritable?-1:1;const br={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return mr.pubkey.toBase58().localeCompare(xr.pubkey.toBase58(),"en",br)});const or=sr.findIndex(mr=>mr.pubkey.equals(nr));if(or>-1){const[mr]=sr.splice(or,1);mr.isSigner=!0,mr.isWritable=!0,sr.unshift(mr)}else sr.unshift({pubkey:nr,isSigner:!0,isWritable:!0});for(const mr of this.signatures){const xr=sr.findIndex(br=>br.pubkey.equals(mr.publicKey));if(xr>-1)sr[xr].isSigner||(sr[xr].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${mr.publicKey.toString()}`)}let ar=0,lr=0,cr=0;const ur=[],hr=[];sr.forEach(({pubkey:mr,isSigner:xr,isWritable:br})=>{xr?(ur.push(mr.toString()),ar+=1,br||(lr+=1)):(hr.push(mr.toString()),br||(cr+=1))});const dr=ur.concat(hr),pr=tr.map(mr=>{const{data:xr,programId:br}=mr;return{programIdIndex:dr.indexOf(br.toString()),accounts:mr.keys.map(yr=>dr.indexOf(yr.pubkey.toString())),data:bs58$5.encode(xr)}});return pr.forEach(mr=>{assert$2(mr.programIdIndex>=0),mr.accounts.forEach(xr=>assert$2(xr>=0))}),new Message({header:{numRequiredSignatures:ar,numReadonlySignedAccounts:lr,numReadonlyUnsignedAccounts:cr},accountKeys:dr,recentBlockhash:s,instructions:pr})}_compile(){const s=this.compileMessage(),tr=s.accountKeys.slice(0,s.header.numRequiredSignatures);return this.signatures.length===tr.length&&this.signatures.every((rr,ir)=>tr[ir].equals(rr.publicKey))||(this.signatures=tr.map(nr=>({signature:null,publicKey:nr}))),s}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(s){return(await s.getFeeForMessage(this.compileMessage())).value}setSigners(...s){if(s.length===0)throw new Error("No signers");const tr=new Set;this.signatures=s.filter(nr=>{const rr=nr.toString();return tr.has(rr)?!1:(tr.add(rr),!0)}).map(nr=>({signature:null,publicKey:nr}))}sign(...s){if(s.length===0)throw new Error("No signers");const tr=new Set,nr=[];for(const ir of s){const sr=ir.publicKey.toString();tr.has(sr)||(tr.add(sr),nr.push(ir))}this.signatures=nr.map(ir=>({signature:null,publicKey:ir.publicKey}));const rr=this._compile();this._partialSign(rr,...nr)}partialSign(...s){if(s.length===0)throw new Error("No signers");const tr=new Set,nr=[];for(const ir of s){const sr=ir.publicKey.toString();tr.has(sr)||(tr.add(sr),nr.push(ir))}const rr=this._compile();this._partialSign(rr,...nr)}_partialSign(s,...tr){const nr=s.serialize();tr.forEach(rr=>{const ir=sign(nr,rr.secretKey);this._addSignature(rr.publicKey,toBuffer$1(ir))})}addSignature(s,tr){this._compile(),this._addSignature(s,tr)}_addSignature(s,tr){assert$2(tr.length===64);const nr=this.signatures.findIndex(rr=>s.equals(rr.publicKey));if(nr<0)throw new Error(`unknown signer: ${s.toString()}`);this.signatures[nr].signature=Buffer$1.from(tr)}verifySignatures(s=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),s)}_getMessageSignednessErrors(s,tr){const nr={};for(const{signature:rr,publicKey:ir}of this.signatures)rr===null?tr&&(nr.missing||(nr.missing=[])).push(ir):verify(rr,s,ir.toBytes())||(nr.invalid||(nr.invalid=[])).push(ir);return nr.invalid||nr.missing?nr:void 0}serialize(s){const{requireAllSignatures:tr,verifySignatures:nr}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},s),rr=this.serializeMessage();if(nr){const ir=this._getMessageSignednessErrors(rr,tr);if(ir){let sr="Signature verification failed.";throw ir.invalid&&(sr+=`
Invalid signature for public key${ir.invalid.length===1?"":"(s)"} [\`${ir.invalid.map(or=>or.toBase58()).join("`, `")}\`].`),ir.missing&&(sr+=`
Missing signature for public key${ir.missing.length===1?"":"(s)"} [\`${ir.missing.map(or=>or.toBase58()).join("`, `")}\`].`),new Error(sr)}}return this._serialize(rr)}_serialize(s){const{signatures:tr}=this,nr=[];encodeLength(nr,tr.length);const rr=nr.length+tr.length*64+s.length,ir=Buffer$1.alloc(rr);return assert$2(tr.length<256),Buffer$1.from(nr).copy(ir,0),tr.forEach(({signature:sr},or)=>{sr!==null&&(assert$2(sr.length===64,"signature has invalid length"),Buffer$1.from(sr).copy(ir,nr.length+or*64))}),s.copy(ir,nr.length+tr.length*64),assert$2(ir.length<=PACKET_DATA_SIZE,`Transaction too large: ${ir.length} > ${PACKET_DATA_SIZE}`),ir}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(s=>s.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(s){let tr=[...s];const nr=decodeLength(tr);let rr=[];for(let ir=0;ir<nr;ir++){const sr=guardedSplice(tr,0,SIGNATURE_LENGTH_IN_BYTES);rr.push(bs58$5.encode(Buffer$1.from(sr)))}return Transaction.populate(Message.from(tr),rr)}static populate(s,tr=[]){const nr=new Transaction;return nr.recentBlockhash=s.recentBlockhash,s.header.numRequiredSignatures>0&&(nr.feePayer=s.accountKeys[0]),tr.forEach((rr,ir)=>{const sr={signature:rr==bs58$5.encode(DEFAULT_SIGNATURE)?null:bs58$5.decode(rr),publicKey:s.accountKeys[ir]};nr.signatures.push(sr)}),s.instructions.forEach(rr=>{const ir=rr.accounts.map(sr=>{const or=s.accountKeys[sr];return{pubkey:or,isSigner:nr.signatures.some(ar=>ar.publicKey.toString()===or.toString())||s.isAccountSigner(sr),isWritable:s.isAccountWritable(sr)}});nr.instructions.push(new TransactionInstruction({keys:ir,programId:s.accountKeys[rr.programIdIndex],data:bs58$5.decode(rr.data)}))}),nr._message=s,nr._json=nr.toJSON(),nr}}class TransactionMessage{constructor(s){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=s.payerKey,this.instructions=s.instructions,this.recentBlockhash=s.recentBlockhash}static decompile(s,tr){const{header:nr,compiledInstructions:rr,recentBlockhash:ir}=s,{numRequiredSignatures:sr,numReadonlySignedAccounts:or,numReadonlyUnsignedAccounts:ar}=nr,lr=sr-or;assert$2(lr>0,"Message header is invalid");const cr=s.staticAccountKeys.length-sr-ar;assert$2(cr>=0,"Message header is invalid");const ur=s.getAccountKeys(tr),hr=ur.get(0);if(hr===void 0)throw new Error("Failed to decompile message because no account keys were found");const dr=[];for(const pr of rr){const mr=[];for(const br of pr.accountKeyIndexes){const yr=ur.get(br);if(yr===void 0)throw new Error(`Failed to find key for account key index ${br}`);const gr=br<sr;let Er;gr?Er=br<lr:br<ur.staticAccountKeys.length?Er=br-sr<cr:Er=br-ur.staticAccountKeys.length<ur.accountKeysFromLookups.writable.length,mr.push({pubkey:yr,isSigner:br<nr.numRequiredSignatures,isWritable:Er})}const xr=ur.get(pr.programIdIndex);if(xr===void 0)throw new Error(`Failed to find program id for program id index ${pr.programIdIndex}`);dr.push(new TransactionInstruction({programId:xr,data:toBuffer$1(pr.data),keys:mr}))}return new TransactionMessage({payerKey:hr,instructions:dr,recentBlockhash:ir})}compileToLegacyMessage(){return Message.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(s){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:s})}}class VersionedTransaction{get version(){return this.message.version}constructor(s,tr){if(this.signatures=void 0,this.message=void 0,tr!==void 0)assert$2(tr.length===s.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=tr;else{const nr=[];for(let rr=0;rr<s.header.numRequiredSignatures;rr++)nr.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES));this.signatures=nr}this.message=s}serialize(){const s=this.message.serialize(),tr=Array();encodeLength(tr,this.signatures.length);const nr=struct$1([blob$1(tr.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$1(s.length,"serializedMessage")]),rr=new Uint8Array(2048),ir=nr.encode({encodedSignaturesLength:new Uint8Array(tr),signatures:this.signatures,serializedMessage:s},rr);return rr.slice(0,ir)}static deserialize(s){let tr=[...s];const nr=[],rr=decodeLength(tr);for(let sr=0;sr<rr;sr++)nr.push(new Uint8Array(guardedSplice(tr,0,SIGNATURE_LENGTH_IN_BYTES)));const ir=VersionedMessage.deserialize(new Uint8Array(tr));return new VersionedTransaction(ir,nr)}sign(s){const tr=this.message.serialize(),nr=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const rr of s){const ir=nr.findIndex(sr=>sr.equals(rr.publicKey));assert$2(ir>=0,`Cannot sign with non signer key ${rr.publicKey.toBase58()}`),this.signatures[ir]=sign(tr,rr.secretKey)}}addSignature(s,tr){assert$2(tr.byteLength===64,"Signature must be 64 bytes long");const rr=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(ir=>ir.equals(s));assert$2(rr>=0,`Can not add signature; \`${s.toBase58()}\` is not required to sign this transaction`),this.signatures[rr]=tr}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND,SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111");class SendTransactionError extends Error{constructor({action:s,signature:tr,transactionMessage:nr,logs:rr}){const ir=rr?`Logs: 
${JSON.stringify(rr.slice(-10),null,2)}. `:"",sr="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let or;switch(s){case"send":or=`Transaction ${tr} resulted in an error. 
${nr}. `+ir+sr;break;case"simulate":or=`Simulation failed. 
Message: ${nr}. 
`+ir+sr;break;default:or=`Unknown action '${(ar=>ar)(s)}'`}super(or),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=tr,this.transactionMessage=nr,this.transactionLogs=rr||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const s=this.transactionLogs;if(!(s!=null&&typeof s=="object"&&"then"in s))return s}async getLogs(s){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((tr,nr)=>{s.getTransaction(this.signature).then(rr=>{if(rr&&rr.meta&&rr.meta.logMessages){const ir=rr.meta.logMessages;this.transactionLogs=ir,tr(ir)}else nr(new Error("Log messages not found"))}).catch(nr)})),await this.transactionLogs}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:s,message:tr,data:nr},rr){super(rr!=null?`${rr}: ${tr}`:tr),this.code=void 0,this.data=void 0,this.code=s,this.data=nr,this.name="SolanaJSONRPCError"}}async function sendAndConfirmTransaction(er,s,tr,nr){const rr=nr&&{skipPreflight:nr.skipPreflight,preflightCommitment:nr.preflightCommitment||nr.commitment,maxRetries:nr.maxRetries,minContextSlot:nr.minContextSlot},ir=await er.sendTransaction(s,tr,rr);let sr;if(s.recentBlockhash!=null&&s.lastValidBlockHeight!=null)sr=(await er.confirmTransaction({abortSignal:nr==null?void 0:nr.abortSignal,signature:ir,blockhash:s.recentBlockhash,lastValidBlockHeight:s.lastValidBlockHeight},nr&&nr.commitment)).value;else if(s.minNonceContextSlot!=null&&s.nonceInfo!=null){const{nonceInstruction:or}=s.nonceInfo,ar=or.keys[0].pubkey;sr=(await er.confirmTransaction({abortSignal:nr==null?void 0:nr.abortSignal,minContextSlot:s.minNonceContextSlot,nonceAccountPubkey:ar,nonceValue:s.nonceInfo.nonce,signature:ir},nr&&nr.commitment)).value}else(nr==null?void 0:nr.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),sr=(await er.confirmTransaction(ir,nr&&nr.commitment)).value;if(sr.err)throw ir!=null?new SendTransactionError({action:"send",signature:ir,transactionMessage:`Status: (${JSON.stringify(sr)})`}):new Error(`Transaction ${ir} failed (${JSON.stringify(sr)})`);return ir}function sleep(er){return new Promise(s=>setTimeout(s,er))}function encodeData(er,s){const tr=er.layout.span>=0?er.layout.span:getAlloc(er,s),nr=Buffer$1.alloc(tr),rr=Object.assign({instruction:er.index},s);return er.layout.encode(rr,nr),nr}function decodeData$1(er,s){let tr;try{tr=er.layout.decode(s)}catch(nr){throw new Error("invalid instruction; "+nr)}if(tr.instruction!==er.index)throw new Error(`invalid instruction; instruction index mismatch ${tr.instruction} != ${er.index}`);return tr}const FeeCalculatorLayout=nu64$1("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$4("authorizedPubkey"),publicKey$4("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(s){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=s.authorizedPubkey,this.nonce=s.nonce,this.feeCalculator=s.feeCalculator}static fromAccountData(s){const tr=NonceAccountLayout.decode(toBuffer$1(s),0);return new NonceAccount({authorizedPubkey:new PublicKey(tr.authorizedPubkey),nonce:new PublicKey(tr.nonce).toString(),feeCalculator:tr.feeCalculator})}}const encodeDecode$1=er=>{const s=er.decode.bind(er),tr=er.encode.bind(er);return{decode:s,encode:tr}},bigInt$1=er=>s=>{const tr=blob$1(er,s),{encode:nr,decode:rr}=encodeDecode$1(tr),ir=tr;return ir.decode=(sr,or)=>{const ar=rr(sr,or);return toBigIntLE_1(Buffer$1.from(ar))},ir.encode=(sr,or,ar)=>{const lr=toBufferLE_1(sr,er);return nr(lr,or,ar)},ir},u64$2=bigInt$1(8);class SystemInstruction{constructor(){}static decodeInstructionType(s){this.checkProgramId(s.programId);const nr=u32$1("instruction").decode(s.data);let rr;for(const[ir,sr]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(sr.index==nr){rr=ir;break}if(!rr)throw new Error("Instruction type incorrect; not a SystemInstruction");return rr}static decodeCreateAccount(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,2);const{lamports:tr,space:nr,programId:rr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Create,s.data);return{fromPubkey:s.keys[0].pubkey,newAccountPubkey:s.keys[1].pubkey,lamports:tr,space:nr,programId:new PublicKey(rr)}}static decodeTransfer(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,2);const{lamports:tr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,s.data);return{fromPubkey:s.keys[0].pubkey,toPubkey:s.keys[1].pubkey,lamports:tr}}static decodeTransferWithSeed(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{lamports:tr,seed:nr,programId:rr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,s.data);return{fromPubkey:s.keys[0].pubkey,basePubkey:s.keys[1].pubkey,toPubkey:s.keys[2].pubkey,lamports:tr,seed:nr,programId:new PublicKey(rr)}}static decodeAllocate(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,1);const{space:tr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,s.data);return{accountPubkey:s.keys[0].pubkey,space:tr}}static decodeAllocateWithSeed(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,1);const{base:tr,seed:nr,space:rr,programId:ir}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,s.data);return{accountPubkey:s.keys[0].pubkey,basePubkey:new PublicKey(tr),seed:nr,space:rr,programId:new PublicKey(ir)}}static decodeAssign(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,1);const{programId:tr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.Assign,s.data);return{accountPubkey:s.keys[0].pubkey,programId:new PublicKey(tr)}}static decodeAssignWithSeed(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,1);const{base:tr,seed:nr,programId:rr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,s.data);return{accountPubkey:s.keys[0].pubkey,basePubkey:new PublicKey(tr),seed:nr,programId:new PublicKey(rr)}}static decodeCreateWithSeed(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,2);const{base:tr,seed:nr,lamports:rr,space:ir,programId:sr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,s.data);return{fromPubkey:s.keys[0].pubkey,newAccountPubkey:s.keys[1].pubkey,basePubkey:new PublicKey(tr),seed:nr,lamports:rr,space:ir,programId:new PublicKey(sr)}}static decodeNonceInitialize(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{authorized:tr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,s.data);return{noncePubkey:s.keys[0].pubkey,authorizedPubkey:new PublicKey(tr)}}static decodeNonceAdvance(s){return this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,s.data),{noncePubkey:s.keys[0].pubkey,authorizedPubkey:s.keys[2].pubkey}}static decodeNonceWithdraw(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,5);const{lamports:tr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,s.data);return{noncePubkey:s.keys[0].pubkey,toPubkey:s.keys[1].pubkey,authorizedPubkey:s.keys[4].pubkey,lamports:tr}}static decodeNonceAuthorize(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,2);const{authorized:tr}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,s.data);return{noncePubkey:s.keys[0].pubkey,authorizedPubkey:s.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(tr)}}static checkProgramId(s){if(!s.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(s,tr){if(s.length<tr)throw new Error(`invalid instruction; found ${s.length} keys, expected at least ${tr}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$2("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$4("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$4("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),ns64$1("space"),publicKey$4("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),publicKey$4("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$2("lamports"),rustString("seed"),publicKey$4("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(s){const tr=SYSTEM_INSTRUCTION_LAYOUTS.Create,nr=encodeData(tr,{lamports:s.lamports,space:s.space,programId:toBuffer$1(s.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:s.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:s.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:nr})}static transfer(s){let tr,nr;if("basePubkey"in s){const rr=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;tr=encodeData(rr,{lamports:BigInt(s.lamports),seed:s.seed,programId:toBuffer$1(s.programId.toBuffer())}),nr=[{pubkey:s.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:s.basePubkey,isSigner:!0,isWritable:!1},{pubkey:s.toPubkey,isSigner:!1,isWritable:!0}]}else{const rr=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;tr=encodeData(rr,{lamports:BigInt(s.lamports)}),nr=[{pubkey:s.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:s.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:nr,programId:this.programId,data:tr})}static assign(s){let tr,nr;if("basePubkey"in s){const rr=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;tr=encodeData(rr,{base:toBuffer$1(s.basePubkey.toBuffer()),seed:s.seed,programId:toBuffer$1(s.programId.toBuffer())}),nr=[{pubkey:s.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:s.basePubkey,isSigner:!0,isWritable:!1}]}else{const rr=SYSTEM_INSTRUCTION_LAYOUTS.Assign;tr=encodeData(rr,{programId:toBuffer$1(s.programId.toBuffer())}),nr=[{pubkey:s.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:nr,programId:this.programId,data:tr})}static createAccountWithSeed(s){const tr=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,nr=encodeData(tr,{base:toBuffer$1(s.basePubkey.toBuffer()),seed:s.seed,lamports:s.lamports,space:s.space,programId:toBuffer$1(s.programId.toBuffer())});let rr=[{pubkey:s.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:s.newAccountPubkey,isSigner:!1,isWritable:!0}];return s.basePubkey.equals(s.fromPubkey)||rr.push({pubkey:s.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:rr,programId:this.programId,data:nr})}static createNonceAccount(s){const tr=new Transaction;"basePubkey"in s&&"seed"in s?tr.add(SystemProgram.createAccountWithSeed({fromPubkey:s.fromPubkey,newAccountPubkey:s.noncePubkey,basePubkey:s.basePubkey,seed:s.seed,lamports:s.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):tr.add(SystemProgram.createAccount({fromPubkey:s.fromPubkey,newAccountPubkey:s.noncePubkey,lamports:s.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const nr={noncePubkey:s.noncePubkey,authorizedPubkey:s.authorizedPubkey};return tr.add(this.nonceInitialize(nr)),tr}static nonceInitialize(s){const tr=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,nr=encodeData(tr,{authorized:toBuffer$1(s.authorizedPubkey.toBuffer())}),rr={keys:[{pubkey:s.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:nr};return new TransactionInstruction(rr)}static nonceAdvance(s){const tr=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,nr=encodeData(tr),rr={keys:[{pubkey:s.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:s.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:nr};return new TransactionInstruction(rr)}static nonceWithdraw(s){const tr=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,nr=encodeData(tr,{lamports:s.lamports});return new TransactionInstruction({keys:[{pubkey:s.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:s.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:s.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:nr})}static nonceAuthorize(s){const tr=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,nr=encodeData(tr,{authorized:toBuffer$1(s.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:s.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:s.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:nr})}static allocate(s){let tr,nr;if("basePubkey"in s){const rr=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;tr=encodeData(rr,{base:toBuffer$1(s.basePubkey.toBuffer()),seed:s.seed,space:s.space,programId:toBuffer$1(s.programId.toBuffer())}),nr=[{pubkey:s.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:s.basePubkey,isSigner:!0,isWritable:!1}]}else{const rr=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;tr=encodeData(rr,{space:s.space}),nr=[{pubkey:s.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:nr,programId:this.programId,data:tr})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(s){return 2*(Math.ceil(s/Loader.chunkSize)+1+1)}static async load(s,tr,nr,rr,ir){{const ur=await s.getMinimumBalanceForRentExemption(ir.length),hr=await s.getAccountInfo(nr.publicKey,"confirmed");let dr=null;if(hr!==null){if(hr.executable)return console.error("Program load failed, account is already executable"),!1;hr.data.length!==ir.length&&(dr=dr||new Transaction,dr.add(SystemProgram.allocate({accountPubkey:nr.publicKey,space:ir.length}))),hr.owner.equals(rr)||(dr=dr||new Transaction,dr.add(SystemProgram.assign({accountPubkey:nr.publicKey,programId:rr}))),hr.lamports<ur&&(dr=dr||new Transaction,dr.add(SystemProgram.transfer({fromPubkey:tr.publicKey,toPubkey:nr.publicKey,lamports:ur-hr.lamports})))}else dr=new Transaction().add(SystemProgram.createAccount({fromPubkey:tr.publicKey,newAccountPubkey:nr.publicKey,lamports:ur>0?ur:1,space:ir.length,programId:rr}));dr!==null&&await sendAndConfirmTransaction(s,dr,[tr,nr],{commitment:"confirmed"})}const sr=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset$1(u32$1(),-8),"bytes")]),or=Loader.chunkSize;let ar=0,lr=ir,cr=[];for(;lr.length>0;){const ur=lr.slice(0,or),hr=Buffer$1.alloc(or+16);sr.encode({instruction:0,offset:ar,bytes:ur,bytesLength:0,bytesLengthPadding:0},hr);const dr=new Transaction().add({keys:[{pubkey:nr.publicKey,isSigner:!0,isWritable:!0}],programId:rr,data:hr});cr.push(sendAndConfirmTransaction(s,dr,[tr,nr],{commitment:"confirmed"})),s._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),ar+=or,lr=lr.slice(or)}await Promise.all(cr);{const ur=struct$1([u32$1("instruction")]),hr=Buffer$1.alloc(ur.span);ur.encode({instruction:1},hr);const dr=new Transaction().add({keys:[{pubkey:nr.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:rr,data:hr}),pr="processed",mr=await s.sendTransaction(dr,[tr,nr],{preflightCommitment:pr}),{context:xr,value:br}=await s.confirmTransaction({signature:mr,lastValidBlockHeight:dr.lastValidBlockHeight,blockhash:dr.recentBlockhash},pr);if(br.err)throw new Error(`Transaction ${mr} failed (${JSON.stringify(br)})`);for(;;){try{if(await s.getSlot({commitment:pr})>xr.slot)break}catch{}await new Promise(yr=>setTimeout(yr,Math.round(MS_PER_SLOT/2)))}}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(s){return Loader.getMinNumSignatures(s)}static load(s,tr,nr,rr,ir){return Loader.load(s,tr,nr,ir,rr)}}function getDefaultExportFromCjs$1(er){return er&&er.__esModule&&Object.prototype.hasOwnProperty.call(er,"default")?er.default:er}var fastStableStringify$1,hasRequiredFastStableStringify;function requireFastStableStringify(){if(hasRequiredFastStableStringify)return fastStableStringify$1;hasRequiredFastStableStringify=1;var er=Object.prototype.toString,s=Object.keys||function(nr){var rr=[];for(var ir in nr)rr.push(ir);return rr};function tr(nr,rr){var ir,sr,or,ar,lr,cr,ur;if(nr===!0)return"true";if(nr===!1)return"false";switch(typeof nr){case"object":if(nr===null)return null;if(nr.toJSON&&typeof nr.toJSON=="function")return tr(nr.toJSON(),rr);if(ur=er.call(nr),ur==="[object Array]"){for(or="[",sr=nr.length-1,ir=0;ir<sr;ir++)or+=tr(nr[ir],!0)+",";return sr>-1&&(or+=tr(nr[ir],!0)),or+"]"}else if(ur==="[object Object]"){for(ar=s(nr).sort(),sr=ar.length,or="",ir=0;ir<sr;)lr=ar[ir],cr=tr(nr[lr],!1),cr!==void 0&&(or&&(or+=","),or+=JSON.stringify(lr)+":"+cr),ir++;return"{"+or+"}"}else return JSON.stringify(nr);case"function":case"undefined":return rr?null:void 0;case"string":return JSON.stringify(nr);default:return isFinite(nr)?nr:null}}return fastStableStringify$1=function(nr){var rr=tr(nr,!1);if(rr!==void 0)return""+rr},fastStableStringify$1}var fastStableStringifyExports=requireFastStableStringify(),fastStableStringify=getDefaultExportFromCjs$1(fastStableStringifyExports);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(er){let s=0;for(;er>1;)er/=2,s++;return s}function nextPowerOfTwo(er){return er===0?1:(er--,er|=er>>1,er|=er>>2,er|=er>>4,er|=er>>8,er|=er>>16,er|=er>>32,er+1)}class EpochSchedule{constructor(s,tr,nr,rr,ir){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=s,this.leaderScheduleSlotOffset=tr,this.warmup=nr,this.firstNormalEpoch=rr,this.firstNormalSlot=ir}getEpoch(s){return this.getEpochAndSlotIndex(s)[0]}getEpochAndSlotIndex(s){if(s<this.firstNormalSlot){const tr=trailingZeros(nextPowerOfTwo(s+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,nr=this.getSlotsInEpoch(tr),rr=s-(nr-MINIMUM_SLOT_PER_EPOCH);return[tr,rr]}else{const tr=s-this.firstNormalSlot,nr=Math.floor(tr/this.slotsPerEpoch),rr=this.firstNormalEpoch+nr,ir=tr%this.slotsPerEpoch;return[rr,ir]}}getFirstSlotInEpoch(s){return s<=this.firstNormalEpoch?(Math.pow(2,s)-1)*MINIMUM_SLOT_PER_EPOCH:(s-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(s){return this.getFirstSlotInEpoch(s)+this.getSlotsInEpoch(s)-1}getSlotsInEpoch(s){return s<this.firstNormalEpoch?Math.pow(2,s+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}var fetchImpl=globalThis.fetch;class RpcWebSocketClient extends CommonClient{constructor(s,tr,nr){const rr=ir=>{const sr=WebSocket$1(ir,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...tr});return"socket"in sr?this.underlyingSocket=sr.socket:this.underlyingSocket=sr,sr};super(rr,s,tr,nr),this.underlyingSocket=void 0}call(...s){var nr;const tr=(nr=this.underlyingSocket)==null?void 0:nr.readyState;return tr===1?super.call(...s):Promise.reject(new Error("Tried to call a JSON-RPC method `"+s[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+tr+")"))}notify(...s){var nr;const tr=(nr=this.underlyingSocket)==null?void 0:nr.readyState;return tr===1?super.notify(...s):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+s[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+tr+")"))}}function decodeData(er,s){let tr;try{tr=er.layout.decode(s)}catch(nr){throw new Error("invalid instruction; "+nr)}if(tr.typeIndex!==er.index)throw new Error(`invalid account data; account type mismatch ${tr.typeIndex} != ${er.index}`);return tr}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(s){this.key=void 0,this.state=void 0,this.key=s.key,this.state=s.state}isActive(){const s=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===s}static deserialize(s){const tr=decodeData(LookupTableMetaLayout,s),nr=s.length-LOOKUP_TABLE_META_SIZE;assert$2(nr>=0,"lookup table is invalid"),assert$2(nr%32===0,"lookup table is invalid");const rr=nr/32,{addresses:ir}=struct$1([seq(publicKey$4(),rr,"addresses")]).decode(s.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:tr.deactivationSlot,lastExtendedSlot:tr.lastExtendedSlot,lastExtendedSlotStartIndex:tr.lastExtendedStartIndex,authority:tr.authority.length!==0?new PublicKey(tr.authority[0]):void 0,addresses:ir.map(sr=>new PublicKey(sr))}}}const LookupTableMetaLayout={index:1,layout:struct$1([u32$1("typeIndex"),u64$2("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$1("lastExtendedStartIndex"),u8$1(),seq(publicKey$4(),offset$1(u8$1(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(er){const s=er.match(URL_RE);if(s==null)throw TypeError(`Failed to validate endpoint URL \`${er}\``);const[tr,nr,rr,ir]=s,sr=er.startsWith("https:")?"wss:":"ws:",or=rr==null?null:parseInt(rr.slice(1),10),ar=or==null?"":`:${or+1}`;return`${sr}//${nr}${ar}${ir}`}const PublicKeyFromString=coerce$1(instance(PublicKey),string$1(),er=>new PublicKey(er)),RawAccountDataResult=tuple([string$1(),literal$1("base64")]),BufferFromRawAccountData=coerce$1(instance(Buffer$1),RawAccountDataResult,er=>Buffer$1.from(er[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(er){if(/^https?:/.test(er)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return er}function extractCommitmentFromConfig(er){let s,tr;if(typeof er=="string")s=er;else if(er){const{commitment:nr,...rr}=er;s=nr,tr=rr}return{commitment:s,config:tr}}function applyDefaultMemcmpEncodingToFilters(er){return er.map(s=>"memcmp"in s?{...s,memcmp:{...s.memcmp,encoding:s.memcmp.encoding??"base58"}}:s)}function createRpcResult$1(er){return union$2([type$2({jsonrpc:literal$1("2.0"),id:string$1(),result:er}),type$2({jsonrpc:literal$1("2.0"),id:string$1(),error:type$2({code:unknown$1(),message:string$1(),data:optional$1(any$1())})})])}const UnknownRpcResult$1=createRpcResult$1(unknown$1());function jsonRpcResult$1(er){return coerce$1(createRpcResult$1(er),UnknownRpcResult$1,s=>"error"in s?s:{...s,result:create$1(s.result,er)})}function jsonRpcResultAndContext$1(er){return jsonRpcResult$1(type$2({context:type$2({slot:number$1()}),value:er}))}function notificationResultAndContext(er){return type$2({context:type$2({slot:number$1()}),value:er})}function versionedMessageFromResponse(er,s){return er===0?new MessageV0({header:s.header,staticAccountKeys:s.accountKeys.map(tr=>new PublicKey(tr)),recentBlockhash:s.recentBlockhash,compiledInstructions:s.instructions.map(tr=>({programIdIndex:tr.programIdIndex,accountKeyIndexes:tr.accounts,data:bs58$5.decode(tr.data)})),addressTableLookups:s.addressTableLookups}):new Message(s)}const GetInflationGovernorResult=type$2({foundation:number$1(),foundationTerm:number$1(),initial:number$1(),taper:number$1(),terminal:number$1()}),GetInflationRewardResult=jsonRpcResult$1(array$1(nullable$1(type$2({epoch:number$1(),effectiveSlot:number$1(),amount:number$1(),postBalance:number$1(),commission:optional$1(nullable$1(number$1()))})))),GetRecentPrioritizationFeesResult=array$1(type$2({slot:number$1(),prioritizationFee:number$1()})),GetInflationRateResult=type$2({total:number$1(),validator:number$1(),foundation:number$1(),epoch:number$1()}),GetEpochInfoResult=type$2({epoch:number$1(),slotIndex:number$1(),slotsInEpoch:number$1(),absoluteSlot:number$1(),blockHeight:optional$1(number$1()),transactionCount:optional$1(number$1())}),GetEpochScheduleResult=type$2({slotsPerEpoch:number$1(),leaderScheduleSlotOffset:number$1(),warmup:boolean$1(),firstNormalEpoch:number$1(),firstNormalSlot:number$1()}),GetLeaderScheduleResult=record(string$1(),array$1(number$1())),TransactionErrorResult=nullable$1(union$2([type$2({}),string$1()])),SignatureStatusResult=type$2({err:TransactionErrorResult}),SignatureReceivedResult=literal$1("receivedSignature"),VersionResult=type$2({"solana-core":string$1(),"feature-set":optional$1(number$1())}),ParsedInstructionStruct=type$2({program:string$1(),programId:PublicKeyFromString,parsed:unknown$1()}),PartiallyDecodedInstructionStruct=type$2({programId:PublicKeyFromString,accounts:array$1(PublicKeyFromString),data:string$1()}),SimulatedTransactionResponseStruct$1=jsonRpcResultAndContext$1(type$2({err:nullable$1(union$2([type$2({}),string$1()])),logs:nullable$1(array$1(string$1())),accounts:optional$1(nullable$1(array$1(nullable$1(type$2({executable:boolean$1(),owner:string$1(),lamports:number$1(),data:array$1(string$1()),rentEpoch:optional$1(number$1())}))))),unitsConsumed:optional$1(number$1()),returnData:optional$1(nullable$1(type$2({programId:string$1(),data:tuple([string$1(),literal$1("base64")])}))),innerInstructions:optional$1(nullable$1(array$1(type$2({index:number$1(),instructions:array$1(union$2([ParsedInstructionStruct,PartiallyDecodedInstructionStruct]))}))))})),BlockProductionResponseStruct=jsonRpcResultAndContext$1(type$2({byIdentity:record(string$1(),array$1(number$1())),range:type$2({firstSlot:number$1(),lastSlot:number$1()})}));function createRpcClient(er,s,tr,nr,rr,ir){const sr=tr||fetchImpl;let or;ir!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let ar;return nr&&(ar=async(cr,ur)=>{const hr=await new Promise((dr,pr)=>{try{nr(cr,ur,(mr,xr)=>dr([mr,xr]))}catch(mr){pr(mr)}});return await sr(...hr)}),new RpcClient(async(cr,ur)=>{const hr={method:"POST",body:cr,agent:or,headers:Object.assign({"Content-Type":"application/json"},s||{},COMMON_HTTP_HEADERS)};try{let dr=5,pr,mr=500;for(;ar?pr=await ar(er,hr):pr=await sr(er,hr),!(pr.status!==429||rr===!0||(dr-=1,dr===0));)console.error(`Server responded with ${pr.status} ${pr.statusText}.  Retrying after ${mr}ms delay...`),await sleep(mr),mr*=2;const xr=await pr.text();pr.ok?ur(null,xr):ur(new Error(`${pr.status} ${pr.statusText}: ${xr}`))}catch(dr){dr instanceof Error&&ur(dr)}},{})}function createRpcRequest(er){return(s,tr)=>new Promise((nr,rr)=>{er.request(s,tr,(ir,sr)=>{if(ir){rr(ir);return}nr(sr)})})}function createRpcBatchRequest(er){return s=>new Promise((tr,nr)=>{s.length===0&&tr([]);const rr=s.map(ir=>er.request(ir.methodName,ir.args));er.request(rr,(ir,sr)=>{if(ir){nr(ir);return}tr(sr)})})}const GetInflationGovernorRpcResult=jsonRpcResult$1(GetInflationGovernorResult),GetInflationRateRpcResult=jsonRpcResult$1(GetInflationRateResult),GetRecentPrioritizationFeesRpcResult=jsonRpcResult$1(GetRecentPrioritizationFeesResult),GetEpochInfoRpcResult=jsonRpcResult$1(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult$1(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult$1(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult$1(number$1()),GetSupplyRpcResult=jsonRpcResultAndContext$1(type$2({total:number$1(),circulating:number$1(),nonCirculating:number$1(),nonCirculatingAccounts:array$1(PublicKeyFromString)})),TokenAmountResult=type$2({amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext$1(array$1(type$2({address:PublicKeyFromString,amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext$1(array$1(type$2({pubkey:PublicKeyFromString,account:type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()})}))),ParsedAccountDataResult=type$2({program:string$1(),parsed:unknown$1(),space:number$1()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext$1(array$1(type$2({pubkey:PublicKeyFromString,account:type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedAccountDataResult,rentEpoch:number$1()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext$1(array$1(type$2({lamports:number$1(),address:PublicKeyFromString}))),AccountInfoResult=type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()}),KeyedAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce$1(union$2([instance(Buffer$1),ParsedAccountDataResult]),union$2([RawAccountDataResult,ParsedAccountDataResult]),er=>Array.isArray(er)?create$1(er,BufferFromRawAccountData):er),ParsedAccountInfoResult=type$2({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedOrRawAccountData,rentEpoch:number$1()}),KeyedParsedAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type$2({state:union$2([literal$1("active"),literal$1("inactive"),literal$1("activating"),literal$1("deactivating")]),active:number$1(),inactive:number$1()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult$1(array$1(type$2({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult$1(array$1(type$2({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),AccountNotificationResult=type$2({subscription:number$1(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type$2({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type$2({subscription:number$1(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type$2({parent:number$1(),slot:number$1(),root:number$1()}),SlotNotificationResult=type$2({subscription:number$1(),result:SlotInfoResult}),SlotUpdateResult=union$2([type$2({type:union$2([literal$1("firstShredReceived"),literal$1("completed"),literal$1("optimisticConfirmation"),literal$1("root")]),slot:number$1(),timestamp:number$1()}),type$2({type:literal$1("createdBank"),parent:number$1(),slot:number$1(),timestamp:number$1()}),type$2({type:literal$1("frozen"),slot:number$1(),timestamp:number$1(),stats:type$2({numTransactionEntries:number$1(),numSuccessfulTransactions:number$1(),numFailedTransactions:number$1(),maxTransactionsPerEntry:number$1()})}),type$2({type:literal$1("dead"),slot:number$1(),timestamp:number$1(),err:string$1()})]),SlotUpdateNotificationResult=type$2({subscription:number$1(),result:SlotUpdateResult}),SignatureNotificationResult=type$2({subscription:number$1(),result:notificationResultAndContext(union$2([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type$2({subscription:number$1(),result:number$1()}),ContactInfoResult=type$2({pubkey:string$1(),gossip:nullable$1(string$1()),tpu:nullable$1(string$1()),rpc:nullable$1(string$1()),version:nullable$1(string$1())}),VoteAccountInfoResult=type$2({votePubkey:string$1(),nodePubkey:string$1(),activatedStake:number$1(),epochVoteAccount:boolean$1(),epochCredits:array$1(tuple([number$1(),number$1(),number$1()])),commission:number$1(),lastVote:number$1(),rootSlot:nullable$1(number$1())}),GetVoteAccounts=jsonRpcResult$1(type$2({current:array$1(VoteAccountInfoResult),delinquent:array$1(VoteAccountInfoResult)})),ConfirmationStatus=union$2([literal$1("processed"),literal$1("confirmed"),literal$1("finalized")]),SignatureStatusResponse=type$2({slot:number$1(),confirmations:nullable$1(number$1()),err:TransactionErrorResult,confirmationStatus:optional$1(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext$1(array$1(nullable$1(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult$1(number$1()),AddressTableLookupStruct=type$2({accountKey:PublicKeyFromString,writableIndexes:array$1(number$1()),readonlyIndexes:array$1(number$1())}),ConfirmedTransactionResult=type$2({signatures:array$1(string$1()),message:type$2({accountKeys:array$1(string$1()),header:type$2({numRequiredSignatures:number$1(),numReadonlySignedAccounts:number$1(),numReadonlyUnsignedAccounts:number$1()}),instructions:array$1(type$2({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()})),recentBlockhash:string$1(),addressTableLookups:optional$1(array$1(AddressTableLookupStruct))})}),AnnotatedAccountKey=type$2({pubkey:PublicKeyFromString,signer:boolean$1(),writable:boolean$1(),source:optional$1(union$2([literal$1("transaction"),literal$1("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type$2({accountKeys:array$1(AnnotatedAccountKey),signatures:array$1(string$1())}),ParsedInstructionResult=type$2({parsed:unknown$1(),program:string$1(),programId:PublicKeyFromString}),RawInstructionResult=type$2({accounts:array$1(PublicKeyFromString),data:string$1(),programId:PublicKeyFromString}),InstructionResult=union$2([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union$2([type$2({parsed:unknown$1(),program:string$1(),programId:string$1()}),type$2({accounts:array$1(string$1()),data:string$1(),programId:string$1()})]),ParsedOrRawInstruction=coerce$1(InstructionResult,UnknownInstructionResult,er=>"accounts"in er?create$1(er,RawInstructionResult):create$1(er,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type$2({signatures:array$1(string$1()),message:type$2({accountKeys:array$1(AnnotatedAccountKey),instructions:array$1(ParsedOrRawInstruction),recentBlockhash:string$1(),addressTableLookups:optional$1(nullable$1(array$1(AddressTableLookupStruct)))})}),TokenBalanceResult=type$2({accountIndex:number$1(),mint:string$1(),owner:optional$1(string$1()),programId:optional$1(string$1()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type$2({writable:array$1(PublicKeyFromString),readonly:array$1(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type$2({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$2({index:number$1(),instructions:array$1(type$2({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()}))})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),loadedAddresses:optional$1(LoadedAddressesResult),computeUnitsConsumed:optional$1(number$1())}),ParsedConfirmedTransactionMetaResult=type$2({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$2({index:number$1(),instructions:array$1(ParsedOrRawInstruction)})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),loadedAddresses:optional$1(LoadedAddressesResult),computeUnitsConsumed:optional$1(number$1())}),TransactionVersionStruct=union$2([literal$1(0),literal$1("legacy")]),RewardsResult=type$2({pubkey:string$1(),lamports:number$1(),postBalance:nullable$1(number$1()),rewardType:nullable$1(string$1()),commission:optional$1(nullable$1(number$1()))}),GetBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionResult,meta:nullable$1(ConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetNoneModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetAccountsModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable$1(ConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ParsedConfirmedTransactionResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),version:optional$1(TransactionVersionStruct)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetConfirmedBlockRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$2({transaction:ConfirmedTransactionResult,meta:nullable$1(ConfirmedTransactionMetaResult)})),rewards:optional$1(array$1(RewardsResult)),blockTime:nullable$1(number$1())}))),GetBlockSignaturesRpcResult=jsonRpcResult$1(nullable$1(type$2({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),signatures:array$1(string$1()),blockTime:nullable$1(number$1())}))),GetTransactionRpcResult=jsonRpcResult$1(nullable$1(type$2({slot:number$1(),meta:nullable$1(ConfirmedTransactionMetaResult),blockTime:optional$1(nullable$1(number$1())),transaction:ConfirmedTransactionResult,version:optional$1(TransactionVersionStruct)}))),GetParsedTransactionRpcResult=jsonRpcResult$1(nullable$1(type$2({slot:number$1(),transaction:ParsedConfirmedTransactionResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),blockTime:optional$1(nullable$1(number$1())),version:optional$1(TransactionVersionStruct)}))),GetLatestBlockhashRpcResult=jsonRpcResultAndContext$1(type$2({blockhash:string$1(),lastValidBlockHeight:number$1()})),IsBlockhashValidRpcResult=jsonRpcResultAndContext$1(boolean$1()),PerfSampleResult=type$2({slot:number$1(),numTransactions:number$1(),numSlots:number$1(),samplePeriodSecs:number$1()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult$1(array$1(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext$1(nullable$1(type$2({feeCalculator:type$2({lamportsPerSignature:number$1()})}))),RequestAirdropRpcResult=jsonRpcResult$1(string$1()),SendTransactionRpcResult=jsonRpcResult$1(string$1()),LogsResult=type$2({err:TransactionErrorResult,logs:array$1(string$1()),signature:string$1()}),LogsNotificationResult=type$2({result:notificationResultAndContext(LogsResult),subscription:number$1()}),COMMON_HTTP_HEADERS={"solana-client":"js/1.0.0-maintenance"};class Connection{constructor(s,tr){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const lr={};return async cr=>{const{commitment:ur,config:hr}=extractCommitmentFromConfig(cr),dr=this._buildArgs([],ur,void 0,hr),pr=fastStableStringify(dr);return lr[pr]=lr[pr]??(async()=>{try{const mr=await this._rpcRequest("getBlockHeight",dr),xr=create$1(mr,jsonRpcResult$1(number$1()));if("error"in xr)throw new SolanaJSONRPCError(xr.error,"failed to get block height information");return xr.result}finally{delete lr[pr]}})(),await lr[pr]}})();let nr,rr,ir,sr,or,ar;tr&&typeof tr=="string"?this._commitment=tr:tr&&(this._commitment=tr.commitment,this._confirmTransactionInitialTimeout=tr.confirmTransactionInitialTimeout,nr=tr.wsEndpoint,rr=tr.httpHeaders,ir=tr.fetch,sr=tr.fetchMiddleware,or=tr.disableRetryOnRateLimit,ar=tr.httpAgent),this._rpcEndpoint=assertEndpointUrl(s),this._rpcWsEndpoint=nr||makeWebsocketUrl(s),this._rpcClient=createRpcClient(s,rr,ir,sr,or,ar),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgs([s.toBase58()],nr,void 0,rr),sr=await this._rpcRequest("getBalance",ir),or=create$1(sr,jsonRpcResultAndContext$1(number$1()));if("error"in or)throw new SolanaJSONRPCError(or.error,`failed to get balance for ${s.toBase58()}`);return or.result}async getBalance(s,tr){return await this.getBalanceAndContext(s,tr).then(nr=>nr.value).catch(nr=>{throw new Error("failed to get balance of account "+s.toBase58()+": "+nr)})}async getBlockTime(s){const tr=await this._rpcRequest("getBlockTime",[s]),nr=create$1(tr,jsonRpcResult$1(nullable$1(number$1())));if("error"in nr)throw new SolanaJSONRPCError(nr.error,`failed to get block time for slot ${s}`);return nr.result}async getMinimumLedgerSlot(){const s=await this._rpcRequest("minimumLedgerSlot",[]),tr=create$1(s,jsonRpcResult$1(number$1()));if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get minimum ledger slot");return tr.result}async getFirstAvailableBlock(){const s=await this._rpcRequest("getFirstAvailableBlock",[]),tr=create$1(s,SlotRpcResult);if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get first available block");return tr.result}async getSupply(s){let tr={};typeof s=="string"?tr={commitment:s}:s?tr={...s,commitment:s&&s.commitment||this.commitment}:tr={commitment:this.commitment};const nr=await this._rpcRequest("getSupply",[tr]),rr=create$1(nr,GetSupplyRpcResult);if("error"in rr)throw new SolanaJSONRPCError(rr.error,"failed to get supply");return rr.result}async getTokenSupply(s,tr){const nr=this._buildArgs([s.toBase58()],tr),rr=await this._rpcRequest("getTokenSupply",nr),ir=create$1(rr,jsonRpcResultAndContext$1(TokenAmountResult));if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get token supply");return ir.result}async getTokenAccountBalance(s,tr){const nr=this._buildArgs([s.toBase58()],tr),rr=await this._rpcRequest("getTokenAccountBalance",nr),ir=create$1(rr,jsonRpcResultAndContext$1(TokenAmountResult));if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get token account balance");return ir.result}async getTokenAccountsByOwner(s,tr,nr){const{commitment:rr,config:ir}=extractCommitmentFromConfig(nr);let sr=[s.toBase58()];"mint"in tr?sr.push({mint:tr.mint.toBase58()}):sr.push({programId:tr.programId.toBase58()});const or=this._buildArgs(sr,rr,"base64",ir),ar=await this._rpcRequest("getTokenAccountsByOwner",or),lr=create$1(ar,GetTokenAccountsByOwner);if("error"in lr)throw new SolanaJSONRPCError(lr.error,`failed to get token accounts owned by account ${s.toBase58()}`);return lr.result}async getParsedTokenAccountsByOwner(s,tr,nr){let rr=[s.toBase58()];"mint"in tr?rr.push({mint:tr.mint.toBase58()}):rr.push({programId:tr.programId.toBase58()});const ir=this._buildArgs(rr,nr,"jsonParsed"),sr=await this._rpcRequest("getTokenAccountsByOwner",ir),or=create$1(sr,GetParsedTokenAccountsByOwner);if("error"in or)throw new SolanaJSONRPCError(or.error,`failed to get token accounts owned by account ${s.toBase58()}`);return or.result}async getLargestAccounts(s){const tr={...s,commitment:s&&s.commitment||this.commitment},nr=tr.filter||tr.commitment?[tr]:[],rr=await this._rpcRequest("getLargestAccounts",nr),ir=create$1(rr,GetLargestAccountsRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get largest accounts");return ir.result}async getTokenLargestAccounts(s,tr){const nr=this._buildArgs([s.toBase58()],tr),rr=await this._rpcRequest("getTokenLargestAccounts",nr),ir=create$1(rr,GetTokenLargestAccountsResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get token largest accounts");return ir.result}async getAccountInfoAndContext(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgs([s.toBase58()],nr,"base64",rr),sr=await this._rpcRequest("getAccountInfo",ir),or=create$1(sr,jsonRpcResultAndContext$1(nullable$1(AccountInfoResult)));if("error"in or)throw new SolanaJSONRPCError(or.error,`failed to get info about account ${s.toBase58()}`);return or.result}async getParsedAccountInfo(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgs([s.toBase58()],nr,"jsonParsed",rr),sr=await this._rpcRequest("getAccountInfo",ir),or=create$1(sr,jsonRpcResultAndContext$1(nullable$1(ParsedAccountInfoResult)));if("error"in or)throw new SolanaJSONRPCError(or.error,`failed to get info about account ${s.toBase58()}`);return or.result}async getAccountInfo(s,tr){try{return(await this.getAccountInfoAndContext(s,tr)).value}catch(nr){throw new Error("failed to get info about account "+s.toBase58()+": "+nr)}}async getMultipleParsedAccounts(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=s.map(lr=>lr.toBase58()),sr=this._buildArgs([ir],nr,"jsonParsed",rr),or=await this._rpcRequest("getMultipleAccounts",sr),ar=create$1(or,jsonRpcResultAndContext$1(array$1(nullable$1(ParsedAccountInfoResult))));if("error"in ar)throw new SolanaJSONRPCError(ar.error,`failed to get info for accounts ${ir}`);return ar.result}async getMultipleAccountsInfoAndContext(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=s.map(lr=>lr.toBase58()),sr=this._buildArgs([ir],nr,"base64",rr),or=await this._rpcRequest("getMultipleAccounts",sr),ar=create$1(or,jsonRpcResultAndContext$1(array$1(nullable$1(AccountInfoResult))));if("error"in ar)throw new SolanaJSONRPCError(ar.error,`failed to get info for accounts ${ir}`);return ar.result}async getMultipleAccountsInfo(s,tr){return(await this.getMultipleAccountsInfoAndContext(s,tr)).value}async getStakeActivation(s,tr,nr){const{commitment:rr,config:ir}=extractCommitmentFromConfig(tr),sr=this._buildArgs([s.toBase58()],rr,void 0,{...ir,epoch:nr??(ir==null?void 0:ir.epoch)}),or=await this._rpcRequest("getStakeActivation",sr),ar=create$1(or,jsonRpcResult$1(StakeActivationResult));if("error"in ar)throw new SolanaJSONRPCError(ar.error,`failed to get Stake Activation ${s.toBase58()}`);return ar.result}async getProgramAccounts(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),{encoding:ir,...sr}=rr||{},or=this._buildArgs([s.toBase58()],nr,ir||"base64",{...sr,...sr.filters?{filters:applyDefaultMemcmpEncodingToFilters(sr.filters)}:null}),ar=await this._rpcRequest("getProgramAccounts",or),lr=array$1(KeyedAccountInfoResult),cr=sr.withContext===!0?create$1(ar,jsonRpcResultAndContext$1(lr)):create$1(ar,jsonRpcResult$1(lr));if("error"in cr)throw new SolanaJSONRPCError(cr.error,`failed to get accounts owned by program ${s.toBase58()}`);return cr.result}async getParsedProgramAccounts(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgs([s.toBase58()],nr,"jsonParsed",rr),sr=await this._rpcRequest("getProgramAccounts",ir),or=create$1(sr,jsonRpcResult$1(array$1(KeyedParsedAccountInfoResult)));if("error"in or)throw new SolanaJSONRPCError(or.error,`failed to get accounts owned by program ${s.toBase58()}`);return or.result}async confirmTransaction(s,tr){var ir;let nr;if(typeof s=="string")nr=s;else{const sr=s;if((ir=sr.abortSignal)!=null&&ir.aborted)return Promise.reject(sr.abortSignal.reason);nr=sr.signature}let rr;try{rr=bs58$5.decode(nr)}catch{throw new Error("signature must be base58 encoded: "+nr)}return assert$2(rr.length===64,"signature has invalid length"),typeof s=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:tr||this.commitment,signature:nr}):"lastValidBlockHeight"in s?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:tr||this.commitment,strategy:s}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:tr||this.commitment,strategy:s})}getCancellationPromise(s){return new Promise((tr,nr)=>{s!=null&&(s.aborted?nr(s.reason):s.addEventListener("abort",()=>{nr(s.reason)}))})}getTransactionConfirmationPromise({commitment:s,signature:tr}){let nr,rr,ir=!1;const sr=new Promise((ar,lr)=>{try{nr=this.onSignature(tr,(ur,hr)=>{nr=void 0;const dr={context:hr,value:ur};ar({__type:TransactionStatus.PROCESSED,response:dr})},s);const cr=new Promise(ur=>{nr==null?ur():rr=this._onSubscriptionStateChange(nr,hr=>{hr==="subscribed"&&ur()})});(async()=>{if(await cr,ir)return;const ur=await this.getSignatureStatus(tr);if(ir||ur==null)return;const{context:hr,value:dr}=ur;if(dr!=null)if(dr!=null&&dr.err)lr(dr.err);else{switch(s){case"confirmed":case"single":case"singleGossip":{if(dr.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(dr.confirmationStatus==="processed"||dr.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}ir=!0,ar({__type:TransactionStatus.PROCESSED,response:{context:hr,value:dr}})}})()}catch(cr){lr(cr)}});return{abortConfirmation:()=>{rr&&(rr(),rr=void 0),nr!=null&&(this.removeSignatureListener(nr),nr=void 0)},confirmationPromise:sr}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:s,strategy:{abortSignal:tr,lastValidBlockHeight:nr,signature:rr}}){let ir=!1;const sr=new Promise(ur=>{const hr=async()=>{try{return await this.getBlockHeight(s)}catch{return-1}};(async()=>{let dr=await hr();if(!ir){for(;dr<=nr;)if(await sleep(1e3),ir||(dr=await hr(),ir))return;ur({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:or,confirmationPromise:ar}=this.getTransactionConfirmationPromise({commitment:s,signature:rr}),lr=this.getCancellationPromise(tr);let cr;try{const ur=await Promise.race([lr,ar,sr]);if(ur.__type===TransactionStatus.PROCESSED)cr=ur.response;else throw new TransactionExpiredBlockheightExceededError(rr)}finally{ir=!0,or()}return cr}async confirmTransactionUsingDurableNonceStrategy({commitment:s,strategy:{abortSignal:tr,minContextSlot:nr,nonceAccountPubkey:rr,nonceValue:ir,signature:sr}}){let or=!1;const ar=new Promise(dr=>{let pr=ir,mr=null;const xr=async()=>{try{const{context:br,value:yr}=await this.getNonceAndContext(rr,{commitment:s,minContextSlot:nr});return mr=br.slot,yr==null?void 0:yr.nonce}catch{return pr}};(async()=>{if(pr=await xr(),!or)for(;;){if(ir!==pr){dr({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:mr});return}if(await sleep(2e3),or||(pr=await xr(),or))return}})()}),{abortConfirmation:lr,confirmationPromise:cr}=this.getTransactionConfirmationPromise({commitment:s,signature:sr}),ur=this.getCancellationPromise(tr);let hr;try{const dr=await Promise.race([ur,cr,ar]);if(dr.__type===TransactionStatus.PROCESSED)hr=dr.response;else{let pr;for(;;){const mr=await this.getSignatureStatus(sr);if(mr==null)break;if(mr.context.slot<(dr.slotInWhichNonceDidAdvance??nr)){await sleep(400);continue}pr=mr;break}if(pr!=null&&pr.value){const mr=s||"finalized",{confirmationStatus:xr}=pr.value;switch(mr){case"processed":case"recent":if(xr!=="processed"&&xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError(sr);break;case"confirmed":case"single":case"singleGossip":if(xr!=="confirmed"&&xr!=="finalized")throw new TransactionExpiredNonceInvalidError(sr);break;case"finalized":case"max":case"root":if(xr!=="finalized")throw new TransactionExpiredNonceInvalidError(sr);break;default:}hr={context:pr.context,value:{err:pr.value.err}}}else throw new TransactionExpiredNonceInvalidError(sr)}}finally{or=!0,lr()}return hr}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:s,signature:tr}){let nr;const rr=new Promise(ar=>{let lr=this._confirmTransactionInitialTimeout||6e4;switch(s){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{lr=this._confirmTransactionInitialTimeout||3e4;break}}nr=setTimeout(()=>ar({__type:TransactionStatus.TIMED_OUT,timeoutMs:lr}),lr)}),{abortConfirmation:ir,confirmationPromise:sr}=this.getTransactionConfirmationPromise({commitment:s,signature:tr});let or;try{const ar=await Promise.race([sr,rr]);if(ar.__type===TransactionStatus.PROCESSED)or=ar.response;else throw new TransactionExpiredTimeoutError(tr,ar.timeoutMs/1e3)}finally{clearTimeout(nr),ir()}return or}async getClusterNodes(){const s=await this._rpcRequest("getClusterNodes",[]),tr=create$1(s,jsonRpcResult$1(array$1(ContactInfoResult)));if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get cluster nodes");return tr.result}async getVoteAccounts(s){const tr=this._buildArgs([],s),nr=await this._rpcRequest("getVoteAccounts",tr),rr=create$1(nr,GetVoteAccounts);if("error"in rr)throw new SolanaJSONRPCError(rr.error,"failed to get vote accounts");return rr.result}async getSlot(s){const{commitment:tr,config:nr}=extractCommitmentFromConfig(s),rr=this._buildArgs([],tr,void 0,nr),ir=await this._rpcRequest("getSlot",rr),sr=create$1(ir,jsonRpcResult$1(number$1()));if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get slot");return sr.result}async getSlotLeader(s){const{commitment:tr,config:nr}=extractCommitmentFromConfig(s),rr=this._buildArgs([],tr,void 0,nr),ir=await this._rpcRequest("getSlotLeader",rr),sr=create$1(ir,jsonRpcResult$1(string$1()));if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get slot leader");return sr.result}async getSlotLeaders(s,tr){const nr=[s,tr],rr=await this._rpcRequest("getSlotLeaders",nr),ir=create$1(rr,jsonRpcResult$1(array$1(PublicKeyFromString)));if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get slot leaders");return ir.result}async getSignatureStatus(s,tr){const{context:nr,value:rr}=await this.getSignatureStatuses([s],tr);assert$2(rr.length===1);const ir=rr[0];return{context:nr,value:ir}}async getSignatureStatuses(s,tr){const nr=[s];tr&&nr.push(tr);const rr=await this._rpcRequest("getSignatureStatuses",nr),ir=create$1(rr,GetSignatureStatusesRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get signature status");return ir.result}async getTransactionCount(s){const{commitment:tr,config:nr}=extractCommitmentFromConfig(s),rr=this._buildArgs([],tr,void 0,nr),ir=await this._rpcRequest("getTransactionCount",rr),sr=create$1(ir,jsonRpcResult$1(number$1()));if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get transaction count");return sr.result}async getTotalSupply(s){return(await this.getSupply({commitment:s,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(s){const tr=this._buildArgs([],s),nr=await this._rpcRequest("getInflationGovernor",tr),rr=create$1(nr,GetInflationGovernorRpcResult);if("error"in rr)throw new SolanaJSONRPCError(rr.error,"failed to get inflation");return rr.result}async getInflationReward(s,tr,nr){const{commitment:rr,config:ir}=extractCommitmentFromConfig(nr),sr=this._buildArgs([s.map(lr=>lr.toBase58())],rr,void 0,{...ir,epoch:tr??(ir==null?void 0:ir.epoch)}),or=await this._rpcRequest("getInflationReward",sr),ar=create$1(or,GetInflationRewardResult);if("error"in ar)throw new SolanaJSONRPCError(ar.error,"failed to get inflation reward");return ar.result}async getInflationRate(){const s=await this._rpcRequest("getInflationRate",[]),tr=create$1(s,GetInflationRateRpcResult);if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get inflation rate");return tr.result}async getEpochInfo(s){const{commitment:tr,config:nr}=extractCommitmentFromConfig(s),rr=this._buildArgs([],tr,void 0,nr),ir=await this._rpcRequest("getEpochInfo",rr),sr=create$1(ir,GetEpochInfoRpcResult);if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get epoch info");return sr.result}async getEpochSchedule(){const s=await this._rpcRequest("getEpochSchedule",[]),tr=create$1(s,GetEpochScheduleRpcResult);if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get epoch schedule");const nr=tr.result;return new EpochSchedule(nr.slotsPerEpoch,nr.leaderScheduleSlotOffset,nr.warmup,nr.firstNormalEpoch,nr.firstNormalSlot)}async getLeaderSchedule(){const s=await this._rpcRequest("getLeaderSchedule",[]),tr=create$1(s,GetLeaderScheduleRpcResult);if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get leader schedule");return tr.result}async getMinimumBalanceForRentExemption(s,tr){const nr=this._buildArgs([s],tr),rr=await this._rpcRequest("getMinimumBalanceForRentExemption",nr),ir=create$1(rr,GetMinimumBalanceForRentExemptionRpcResult);return"error"in ir?(console.warn("Unable to fetch minimum balance for rent exemption"),0):ir.result}async getRecentBlockhashAndContext(s){const{context:tr,value:{blockhash:nr}}=await this.getLatestBlockhashAndContext(s);return{context:tr,value:{blockhash:nr,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(s){const tr=await this._rpcRequest("getRecentPerformanceSamples",s?[s]:[]),nr=create$1(tr,GetRecentPerformanceSamplesRpcResult);if("error"in nr)throw new SolanaJSONRPCError(nr.error,"failed to get recent performance samples");return nr.result}async getFeeCalculatorForBlockhash(s,tr){const nr=this._buildArgs([s],tr),rr=await this._rpcRequest("getFeeCalculatorForBlockhash",nr),ir=create$1(rr,GetFeeCalculatorRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get fee calculator");const{context:sr,value:or}=ir.result;return{context:sr,value:or!==null?or.feeCalculator:null}}async getFeeForMessage(s,tr){const nr=toBuffer$1(s.serialize()).toString("base64"),rr=this._buildArgs([nr],tr),ir=await this._rpcRequest("getFeeForMessage",rr),sr=create$1(ir,jsonRpcResultAndContext$1(nullable$1(number$1())));if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get fee for message");if(sr.result===null)throw new Error("invalid blockhash");return sr.result}async getRecentPrioritizationFees(s){var sr;const tr=(sr=s==null?void 0:s.lockedWritableAccounts)==null?void 0:sr.map(or=>or.toBase58()),nr=tr!=null&&tr.length?[tr]:[],rr=await this._rpcRequest("getRecentPrioritizationFees",nr),ir=create$1(rr,GetRecentPrioritizationFeesRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get recent prioritization fees");return ir.result}async getRecentBlockhash(s){try{return(await this.getRecentBlockhashAndContext(s)).value}catch(tr){throw new Error("failed to get recent blockhash: "+tr)}}async getLatestBlockhash(s){try{return(await this.getLatestBlockhashAndContext(s)).value}catch(tr){throw new Error("failed to get recent blockhash: "+tr)}}async getLatestBlockhashAndContext(s){const{commitment:tr,config:nr}=extractCommitmentFromConfig(s),rr=this._buildArgs([],tr,void 0,nr),ir=await this._rpcRequest("getLatestBlockhash",rr),sr=create$1(ir,GetLatestBlockhashRpcResult);if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get latest blockhash");return sr.result}async isBlockhashValid(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgs([s],nr,void 0,rr),sr=await this._rpcRequest("isBlockhashValid",ir),or=create$1(sr,IsBlockhashValidRpcResult);if("error"in or)throw new SolanaJSONRPCError(or.error,"failed to determine if the blockhash `"+s+"`is valid");return or.result}async getVersion(){const s=await this._rpcRequest("getVersion",[]),tr=create$1(s,jsonRpcResult$1(VersionResult));if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get version");return tr.result}async getGenesisHash(){const s=await this._rpcRequest("getGenesisHash",[]),tr=create$1(s,jsonRpcResult$1(string$1()));if("error"in tr)throw new SolanaJSONRPCError(tr.error,"failed to get genesis hash");return tr.result}async getBlock(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgsAtLeastConfirmed([s],nr,void 0,rr),sr=await this._rpcRequest("getBlock",ir);try{switch(rr==null?void 0:rr.transactionDetails){case"accounts":{const or=create$1(sr,GetAccountsModeBlockRpcResult);if("error"in or)throw or.error;return or.result}case"none":{const or=create$1(sr,GetNoneModeBlockRpcResult);if("error"in or)throw or.error;return or.result}default:{const or=create$1(sr,GetBlockRpcResult);if("error"in or)throw or.error;const{result:ar}=or;return ar?{...ar,transactions:ar.transactions.map(({transaction:lr,meta:cr,version:ur})=>({meta:cr,transaction:{...lr,message:versionedMessageFromResponse(ur,lr.message)},version:ur}))}:null}}}catch(or){throw new SolanaJSONRPCError(or,"failed to get confirmed block")}}async getParsedBlock(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgsAtLeastConfirmed([s],nr,"jsonParsed",rr),sr=await this._rpcRequest("getBlock",ir);try{switch(rr==null?void 0:rr.transactionDetails){case"accounts":{const or=create$1(sr,GetParsedAccountsModeBlockRpcResult);if("error"in or)throw or.error;return or.result}case"none":{const or=create$1(sr,GetParsedNoneModeBlockRpcResult);if("error"in or)throw or.error;return or.result}default:{const or=create$1(sr,GetParsedBlockRpcResult);if("error"in or)throw or.error;return or.result}}}catch(or){throw new SolanaJSONRPCError(or,"failed to get block")}}async getBlockProduction(s){let tr,nr;if(typeof s=="string")nr=s;else if(s){const{commitment:or,...ar}=s;nr=or,tr=ar}const rr=this._buildArgs([],nr,"base64",tr),ir=await this._rpcRequest("getBlockProduction",rr),sr=create$1(ir,BlockProductionResponseStruct);if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get block production information");return sr.result}async getTransaction(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgsAtLeastConfirmed([s],nr,void 0,rr),sr=await this._rpcRequest("getTransaction",ir),or=create$1(sr,GetTransactionRpcResult);if("error"in or)throw new SolanaJSONRPCError(or.error,"failed to get transaction");const ar=or.result;return ar&&{...ar,transaction:{...ar.transaction,message:versionedMessageFromResponse(ar.version,ar.transaction.message)}}}async getParsedTransaction(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=this._buildArgsAtLeastConfirmed([s],nr,"jsonParsed",rr),sr=await this._rpcRequest("getTransaction",ir),or=create$1(sr,GetParsedTransactionRpcResult);if("error"in or)throw new SolanaJSONRPCError(or.error,"failed to get transaction");return or.result}async getParsedTransactions(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=s.map(ar=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([ar],nr,"jsonParsed",rr)}));return(await this._rpcBatchRequest(ir)).map(ar=>{const lr=create$1(ar,GetParsedTransactionRpcResult);if("error"in lr)throw new SolanaJSONRPCError(lr.error,"failed to get transactions");return lr.result})}async getTransactions(s,tr){const{commitment:nr,config:rr}=extractCommitmentFromConfig(tr),ir=s.map(ar=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([ar],nr,void 0,rr)}));return(await this._rpcBatchRequest(ir)).map(ar=>{const lr=create$1(ar,GetTransactionRpcResult);if("error"in lr)throw new SolanaJSONRPCError(lr.error,"failed to get transactions");const cr=lr.result;return cr&&{...cr,transaction:{...cr.transaction,message:versionedMessageFromResponse(cr.version,cr.transaction.message)}}})}async getConfirmedBlock(s,tr){const nr=this._buildArgsAtLeastConfirmed([s],tr),rr=await this._rpcRequest("getBlock",nr),ir=create$1(rr,GetConfirmedBlockRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get confirmed block");const sr=ir.result;if(!sr)throw new Error("Confirmed block "+s+" not found");const or={...sr,transactions:sr.transactions.map(({transaction:ar,meta:lr})=>{const cr=new Message(ar.message);return{meta:lr,transaction:{...ar,message:cr}}})};return{...or,transactions:or.transactions.map(({transaction:ar,meta:lr})=>({meta:lr,transaction:Transaction.populate(ar.message,ar.signatures)}))}}async getBlocks(s,tr,nr){const rr=this._buildArgsAtLeastConfirmed(tr!==void 0?[s,tr]:[s],nr),ir=await this._rpcRequest("getBlocks",rr),sr=create$1(ir,jsonRpcResult$1(array$1(number$1())));if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get blocks");return sr.result}async getBlockSignatures(s,tr){const nr=this._buildArgsAtLeastConfirmed([s],tr,void 0,{transactionDetails:"signatures",rewards:!1}),rr=await this._rpcRequest("getBlock",nr),ir=create$1(rr,GetBlockSignaturesRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get block");const sr=ir.result;if(!sr)throw new Error("Block "+s+" not found");return sr}async getConfirmedBlockSignatures(s,tr){const nr=this._buildArgsAtLeastConfirmed([s],tr,void 0,{transactionDetails:"signatures",rewards:!1}),rr=await this._rpcRequest("getBlock",nr),ir=create$1(rr,GetBlockSignaturesRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get confirmed block");const sr=ir.result;if(!sr)throw new Error("Confirmed block "+s+" not found");return sr}async getConfirmedTransaction(s,tr){const nr=this._buildArgsAtLeastConfirmed([s],tr),rr=await this._rpcRequest("getTransaction",nr),ir=create$1(rr,GetTransactionRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get transaction");const sr=ir.result;if(!sr)return sr;const or=new Message(sr.transaction.message),ar=sr.transaction.signatures;return{...sr,transaction:Transaction.populate(or,ar)}}async getParsedConfirmedTransaction(s,tr){const nr=this._buildArgsAtLeastConfirmed([s],tr,"jsonParsed"),rr=await this._rpcRequest("getTransaction",nr),ir=create$1(rr,GetParsedTransactionRpcResult);if("error"in ir)throw new SolanaJSONRPCError(ir.error,"failed to get confirmed transaction");return ir.result}async getParsedConfirmedTransactions(s,tr){const nr=s.map(sr=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([sr],tr,"jsonParsed")}));return(await this._rpcBatchRequest(nr)).map(sr=>{const or=create$1(sr,GetParsedTransactionRpcResult);if("error"in or)throw new SolanaJSONRPCError(or.error,"failed to get confirmed transactions");return or.result})}async getConfirmedSignaturesForAddress(s,tr,nr){let rr={},ir=await this.getFirstAvailableBlock();for(;!("until"in rr)&&(tr--,!(tr<=0||tr<ir));)try{const ar=await this.getConfirmedBlockSignatures(tr,"finalized");ar.signatures.length>0&&(rr.until=ar.signatures[ar.signatures.length-1].toString())}catch(ar){if(ar instanceof Error&&ar.message.includes("skipped"))continue;throw ar}let sr=await this.getSlot("finalized");for(;!("before"in rr)&&(nr++,!(nr>sr));)try{const ar=await this.getConfirmedBlockSignatures(nr);ar.signatures.length>0&&(rr.before=ar.signatures[ar.signatures.length-1].toString())}catch(ar){if(ar instanceof Error&&ar.message.includes("skipped"))continue;throw ar}return(await this.getConfirmedSignaturesForAddress2(s,rr)).map(ar=>ar.signature)}async getConfirmedSignaturesForAddress2(s,tr,nr){const rr=this._buildArgsAtLeastConfirmed([s.toBase58()],nr,void 0,tr),ir=await this._rpcRequest("getConfirmedSignaturesForAddress2",rr),sr=create$1(ir,GetConfirmedSignaturesForAddress2RpcResult);if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get confirmed signatures for address");return sr.result}async getSignaturesForAddress(s,tr,nr){const rr=this._buildArgsAtLeastConfirmed([s.toBase58()],nr,void 0,tr),ir=await this._rpcRequest("getSignaturesForAddress",rr),sr=create$1(ir,GetSignaturesForAddressRpcResult);if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get signatures for address");return sr.result}async getAddressLookupTable(s,tr){const{context:nr,value:rr}=await this.getAccountInfoAndContext(s,tr);let ir=null;return rr!==null&&(ir=new AddressLookupTableAccount({key:s,state:AddressLookupTableAccount.deserialize(rr.data)})),{context:nr,value:ir}}async getNonceAndContext(s,tr){const{context:nr,value:rr}=await this.getAccountInfoAndContext(s,tr);let ir=null;return rr!==null&&(ir=NonceAccount.fromAccountData(rr.data)),{context:nr,value:ir}}async getNonce(s,tr){return await this.getNonceAndContext(s,tr).then(nr=>nr.value).catch(nr=>{throw new Error("failed to get nonce for account "+s.toBase58()+": "+nr)})}async requestAirdrop(s,tr){const nr=await this._rpcRequest("requestAirdrop",[s.toBase58(),tr]),rr=create$1(nr,RequestAirdropRpcResult);if("error"in rr)throw new SolanaJSONRPCError(rr.error,`airdrop to ${s.toBase58()} failed`);return rr.result}async _blockhashWithExpiryBlockHeight(s){if(!s){for(;this._pollingBlockhash;)await sleep(100);const nr=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!nr)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const s=Date.now(),tr=this._blockhashInfo.latestBlockhash,nr=tr?tr.blockhash:null;for(let rr=0;rr<50;rr++){const ir=await this.getLatestBlockhash("finalized");if(nr!==ir.blockhash)return this._blockhashInfo={latestBlockhash:ir,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},ir;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-s}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(s){const{commitment:tr,config:nr}=extractCommitmentFromConfig(s),rr=this._buildArgs([],tr,"base64",nr),ir=await this._rpcRequest("getStakeMinimumDelegation",rr),sr=create$1(ir,jsonRpcResultAndContext$1(number$1()));if("error"in sr)throw new SolanaJSONRPCError(sr.error,"failed to get stake minimum delegation");return sr.result}async simulateTransaction(s,tr,nr){if("message"in s){const mr=s.serialize(),xr=Buffer$1.from(mr).toString("base64");if(Array.isArray(tr)||nr!==void 0)throw new Error("Invalid arguments");const br=tr||{};br.encoding="base64","commitment"in br||(br.commitment=this.commitment),tr&&typeof tr=="object"&&"innerInstructions"in tr&&(br.innerInstructions=tr.innerInstructions);const yr=[xr,br],gr=await this._rpcRequest("simulateTransaction",yr),Er=create$1(gr,SimulatedTransactionResponseStruct$1);if("error"in Er)throw new Error("failed to simulate transaction: "+Er.error.message);return Er.result}let rr;if(s instanceof Transaction){let pr=s;rr=new Transaction,rr.feePayer=pr.feePayer,rr.instructions=s.instructions,rr.nonceInfo=pr.nonceInfo,rr.signatures=pr.signatures}else rr=Transaction.populate(s),rr._message=rr._json=void 0;if(tr!==void 0&&!Array.isArray(tr))throw new Error("Invalid arguments");const ir=tr;if(rr.nonceInfo&&ir)rr.sign(...ir);else{let pr=this._disableBlockhashCaching;for(;;){const mr=await this._blockhashWithExpiryBlockHeight(pr);if(rr.lastValidBlockHeight=mr.lastValidBlockHeight,rr.recentBlockhash=mr.blockhash,!ir)break;if(rr.sign(...ir),!rr.signature)throw new Error("!signature");const xr=rr.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(xr)&&!this._blockhashInfo.transactionSignatures.includes(xr)){this._blockhashInfo.simulatedSignatures.push(xr);break}else pr=!0}}const sr=rr._compile(),or=sr.serialize(),lr=rr._serialize(or).toString("base64"),cr={encoding:"base64",commitment:this.commitment};if(nr){const pr=(Array.isArray(nr)?nr:sr.nonProgramIds()).map(mr=>mr.toBase58());cr.accounts={encoding:"base64",addresses:pr}}ir&&(cr.sigVerify=!0),tr&&typeof tr=="object"&&"innerInstructions"in tr&&(cr.innerInstructions=tr.innerInstructions);const ur=[lr,cr],hr=await this._rpcRequest("simulateTransaction",ur),dr=create$1(hr,SimulatedTransactionResponseStruct$1);if("error"in dr){let pr;if("data"in dr.error&&(pr=dr.error.data.logs,pr&&Array.isArray(pr))){const mr=`
    `,xr=mr+pr.join(mr);console.error(dr.error.message,xr)}throw new SendTransactionError({action:"simulate",signature:"",transactionMessage:dr.error.message,logs:pr})}return dr.result}async sendTransaction(s,tr,nr){if("version"in s){if(tr&&Array.isArray(tr))throw new Error("Invalid arguments");const sr=s.serialize();return await this.sendRawTransaction(sr,tr)}if(tr===void 0||!Array.isArray(tr))throw new Error("Invalid arguments");const rr=tr;if(s.nonceInfo)s.sign(...rr);else{let sr=this._disableBlockhashCaching;for(;;){const or=await this._blockhashWithExpiryBlockHeight(sr);if(s.lastValidBlockHeight=or.lastValidBlockHeight,s.recentBlockhash=or.blockhash,s.sign(...rr),!s.signature)throw new Error("!signature");const ar=s.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(ar))sr=!0;else{this._blockhashInfo.transactionSignatures.push(ar);break}}}const ir=s.serialize();return await this.sendRawTransaction(ir,nr)}async sendRawTransaction(s,tr){const nr=toBuffer$1(s).toString("base64");return await this.sendEncodedTransaction(nr,tr)}async sendEncodedTransaction(s,tr){const nr={encoding:"base64"},rr=tr&&tr.skipPreflight,ir=rr===!0?"processed":tr&&tr.preflightCommitment||this.commitment;tr&&tr.maxRetries!=null&&(nr.maxRetries=tr.maxRetries),tr&&tr.minContextSlot!=null&&(nr.minContextSlot=tr.minContextSlot),rr&&(nr.skipPreflight=rr),ir&&(nr.preflightCommitment=ir);const sr=[s,nr],or=await this._rpcRequest("sendTransaction",sr),ar=create$1(or,SendTransactionRpcResult);if("error"in ar){let lr;throw"data"in ar.error&&(lr=ar.error.data.logs),new SendTransactionError({action:rr?"send":"simulate",signature:"",transactionMessage:ar.error.message,logs:lr})}return ar.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(s){this._rpcWebSocketConnected=!1,console.error("ws error:",s.message)}_wsOnClose(s){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),s===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([tr,nr])=>{this._setSubscription(tr,{...nr,state:"pending"})})}_setSubscription(s,tr){var rr;const nr=(rr=this._subscriptionsByHash[s])==null?void 0:rr.state;if(this._subscriptionsByHash[s]=tr,nr!==tr.state){const ir=this._subscriptionStateChangeCallbacksByHash[s];ir&&ir.forEach(sr=>{try{sr(tr.state)}catch{}})}}_onSubscriptionStateChange(s,tr){var ir;const nr=this._subscriptionHashByClientSubscriptionId[s];if(nr==null)return()=>{};const rr=(ir=this._subscriptionStateChangeCallbacksByHash)[nr]||(ir[nr]=new Set);return rr.add(tr),()=>{rr.delete(tr),rr.size===0&&delete this._subscriptionStateChangeCallbacksByHash[nr]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(nr){nr instanceof Error&&console.log(`Error when closing socket connection: ${nr.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const s=this._rpcWebSocketGeneration,tr=()=>s===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async nr=>{const rr=this._subscriptionsByHash[nr];if(rr!==void 0)switch(rr.state){case"pending":case"unsubscribed":if(rr.callbacks.size===0){delete this._subscriptionsByHash[nr],rr.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[rr.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:ir,method:sr}=rr;try{this._setSubscription(nr,{...rr,state:"subscribing"});const or=await this._rpcWebSocket.call(sr,ir);this._setSubscription(nr,{...rr,serverSubscriptionId:or,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[or]=rr.callbacks,await this._updateSubscriptions()}catch(or){if(console.error(`Received ${or instanceof Error?"":"JSON-RPC "}error calling \`${sr}\``,{args:ir,error:or}),!tr())return;this._setSubscription(nr,{...rr,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":rr.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:ir,unsubscribeMethod:sr}=rr;if(this._subscriptionsAutoDisposedByRpc.has(ir))this._subscriptionsAutoDisposedByRpc.delete(ir);else{this._setSubscription(nr,{...rr,state:"unsubscribing"}),this._setSubscription(nr,{...rr,state:"unsubscribing"});try{await this._rpcWebSocket.call(sr,[ir])}catch(or){if(or instanceof Error&&console.error(`${sr} error:`,or.message),!tr())return;this._setSubscription(nr,{...rr,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(nr,{...rr,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(s,tr){const nr=this._subscriptionCallbacksByServerSubscriptionId[s];nr!==void 0&&nr.forEach(rr=>{try{rr(...tr)}catch(ir){console.error(ir)}})}_wsOnAccountNotification(s){const{result:tr,subscription:nr}=create$1(s,AccountNotificationResult);this._handleServerNotification(nr,[tr.value,tr.context])}_makeSubscription(s,tr){const nr=this._nextClientSubscriptionId++,rr=fastStableStringify([s.method,tr]),ir=this._subscriptionsByHash[rr];return ir===void 0?this._subscriptionsByHash[rr]={...s,args:tr,callbacks:new Set([s.callback]),state:"pending"}:ir.callbacks.add(s.callback),this._subscriptionHashByClientSubscriptionId[nr]=rr,this._subscriptionDisposeFunctionsByClientSubscriptionId[nr]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[nr],delete this._subscriptionHashByClientSubscriptionId[nr];const sr=this._subscriptionsByHash[rr];assert$2(sr!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${nr}`),sr.callbacks.delete(s.callback),await this._updateSubscriptions()},this._updateSubscriptions(),nr}onAccountChange(s,tr,nr){const{commitment:rr,config:ir}=extractCommitmentFromConfig(nr),sr=this._buildArgs([s.toBase58()],rr||this._commitment||"finalized","base64",ir);return this._makeSubscription({callback:tr,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},sr)}async removeAccountChangeListener(s){await this._unsubscribeClientSubscription(s,"account change")}_wsOnProgramAccountNotification(s){const{result:tr,subscription:nr}=create$1(s,ProgramAccountNotificationResult);this._handleServerNotification(nr,[{accountId:tr.value.pubkey,accountInfo:tr.value.account},tr.context])}onProgramAccountChange(s,tr,nr,rr){const{commitment:ir,config:sr}=extractCommitmentFromConfig(nr),or=this._buildArgs([s.toBase58()],ir||this._commitment||"finalized","base64",sr||(rr?{filters:applyDefaultMemcmpEncodingToFilters(rr)}:void 0));return this._makeSubscription({callback:tr,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},or)}async removeProgramAccountChangeListener(s){await this._unsubscribeClientSubscription(s,"program account change")}onLogs(s,tr,nr){const rr=this._buildArgs([typeof s=="object"?{mentions:[s.toString()]}:s],nr||this._commitment||"finalized");return this._makeSubscription({callback:tr,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},rr)}async removeOnLogsListener(s){await this._unsubscribeClientSubscription(s,"logs")}_wsOnLogsNotification(s){const{result:tr,subscription:nr}=create$1(s,LogsNotificationResult);this._handleServerNotification(nr,[tr.value,tr.context])}_wsOnSlotNotification(s){const{result:tr,subscription:nr}=create$1(s,SlotNotificationResult);this._handleServerNotification(nr,[tr])}onSlotChange(s){return this._makeSubscription({callback:s,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(s){await this._unsubscribeClientSubscription(s,"slot change")}_wsOnSlotUpdatesNotification(s){const{result:tr,subscription:nr}=create$1(s,SlotUpdateNotificationResult);this._handleServerNotification(nr,[tr])}onSlotUpdate(s){return this._makeSubscription({callback:s,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(s){await this._unsubscribeClientSubscription(s,"slot update")}async _unsubscribeClientSubscription(s,tr){const nr=this._subscriptionDisposeFunctionsByClientSubscriptionId[s];nr?await nr():console.warn(`Ignored unsubscribe request because an active subscription with id \`${s}\` for '${tr}' events could not be found.`)}_buildArgs(s,tr,nr,rr){const ir=tr||this._commitment;if(ir||nr||rr){let sr={};nr&&(sr.encoding=nr),ir&&(sr.commitment=ir),rr&&(sr=Object.assign(sr,rr)),s.push(sr)}return s}_buildArgsAtLeastConfirmed(s,tr,nr,rr){const ir=tr||this._commitment;if(ir&&!["confirmed","finalized"].includes(ir))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(s,tr,nr,rr)}_wsOnSignatureNotification(s){const{result:tr,subscription:nr}=create$1(s,SignatureNotificationResult);tr.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(nr),this._handleServerNotification(nr,tr.value==="receivedSignature"?[{type:"received"},tr.context]:[{type:"status",result:tr.value},tr.context])}onSignature(s,tr,nr){const rr=this._buildArgs([s],nr||this._commitment||"finalized"),ir=this._makeSubscription({callback:(sr,or)=>{if(sr.type==="status"){tr(sr.result,or);try{this.removeSignatureListener(ir)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},rr);return ir}onSignatureWithOptions(s,tr,nr){const{commitment:rr,...ir}={...nr,commitment:nr&&nr.commitment||this._commitment||"finalized"},sr=this._buildArgs([s],rr,void 0,ir),or=this._makeSubscription({callback:(ar,lr)=>{tr(ar,lr);try{this.removeSignatureListener(or)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},sr);return or}async removeSignatureListener(s){await this._unsubscribeClientSubscription(s,"signature result")}_wsOnRootNotification(s){const{result:tr,subscription:nr}=create$1(s,RootNotificationResult);this._handleServerNotification(nr,[tr])}onRootChange(s){return this._makeSubscription({callback:s,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(s){await this._unsubscribeClientSubscription(s,"root change")}}class Keypair{constructor(s){this._keypair=void 0,this._keypair=s??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(s,tr){if(s.byteLength!==64)throw new Error("bad secret key size");const nr=s.slice(32,64);if(!tr||!tr.skipValidation){const rr=s.slice(0,32),ir=getPublicKey(rr);for(let sr=0;sr<32;sr++)if(nr[sr]!==ir[sr])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:nr,secretKey:s})}static fromSeed(s){const tr=getPublicKey(s),nr=new Uint8Array(64);return nr.set(s),nr.set(tr,32),new Keypair({publicKey:tr,secretKey:nr})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$2("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$2(),seq(publicKey$4(),offset$1(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(s){this.checkProgramId(s.programId);const nr=u32$1("instruction").decode(s.data);let rr;for(const[ir,sr]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(sr.index==nr){rr=ir;break}if(!rr)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return rr}static decodeCreateLookupTable(s){this.checkProgramId(s.programId),this.checkKeysLength(s.keys,4);const{recentSlot:tr}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,s.data);return{authority:s.keys[1].pubkey,payer:s.keys[2].pubkey,recentSlot:Number(tr)}}static decodeExtendLookupTable(s){if(this.checkProgramId(s.programId),s.keys.length<2)throw new Error(`invalid instruction; found ${s.keys.length} keys, expected at least 2`);const{addresses:tr}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,s.data);return{lookupTable:s.keys[0].pubkey,authority:s.keys[1].pubkey,payer:s.keys.length>2?s.keys[2].pubkey:void 0,addresses:tr.map(nr=>new PublicKey(nr))}}static decodeCloseLookupTable(s){return this.checkProgramId(s.programId),this.checkKeysLength(s.keys,3),{lookupTable:s.keys[0].pubkey,authority:s.keys[1].pubkey,recipient:s.keys[2].pubkey}}static decodeFreezeLookupTable(s){return this.checkProgramId(s.programId),this.checkKeysLength(s.keys,2),{lookupTable:s.keys[0].pubkey,authority:s.keys[1].pubkey}}static decodeDeactivateLookupTable(s){return this.checkProgramId(s.programId),this.checkKeysLength(s.keys,2),{lookupTable:s.keys[0].pubkey,authority:s.keys[1].pubkey}}static checkProgramId(s){if(!s.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(s,tr){if(s.length<tr)throw new Error(`invalid instruction; found ${s.length} keys, expected at least ${tr}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(s){const[tr,nr]=PublicKey.findProgramAddressSync([s.authority.toBuffer(),toBufferLE_1(BigInt(s.recentSlot),8)],this.programId),rr=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,ir=encodeData(rr,{recentSlot:BigInt(s.recentSlot),bumpSeed:nr}),sr=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:s.authority,isSigner:!0,isWritable:!1},{pubkey:s.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:sr,data:ir}),tr]}static freezeLookupTable(s){const tr=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,nr=encodeData(tr),rr=[{pubkey:s.lookupTable,isSigner:!1,isWritable:!0},{pubkey:s.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:rr,data:nr})}static extendLookupTable(s){const tr=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,nr=encodeData(tr,{addresses:s.addresses.map(ir=>ir.toBytes())}),rr=[{pubkey:s.lookupTable,isSigner:!1,isWritable:!0},{pubkey:s.authority,isSigner:!0,isWritable:!1}];return s.payer&&rr.push({pubkey:s.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:rr,data:nr})}static deactivateLookupTable(s){const tr=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,nr=encodeData(tr),rr=[{pubkey:s.lookupTable,isSigner:!1,isWritable:!0},{pubkey:s.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:rr,data:nr})}static closeLookupTable(s){const tr=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,nr=encodeData(tr),rr=[{pubkey:s.lookupTable,isSigner:!1,isWritable:!0},{pubkey:s.authority,isSigner:!0,isWritable:!1},{pubkey:s.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:rr,data:nr})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(s){this.checkProgramId(s.programId);const nr=u8$1("instruction").decode(s.data);let rr;for(const[ir,sr]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(sr.index==nr){rr=ir;break}if(!rr)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return rr}static decodeRequestUnits(s){this.checkProgramId(s.programId);const{units:tr,additionalFee:nr}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,s.data);return{units:tr,additionalFee:nr}}static decodeRequestHeapFrame(s){this.checkProgramId(s.programId);const{bytes:tr}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,s.data);return{bytes:tr}}static decodeSetComputeUnitLimit(s){this.checkProgramId(s.programId);const{units:tr}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,s.data);return{units:tr}}static decodeSetComputeUnitPrice(s){this.checkProgramId(s.programId);const{microLamports:tr}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,s.data);return{microLamports:tr}}static checkProgramId(s){if(!s.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$2("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(s){const tr=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,nr=encodeData(tr,s);return new TransactionInstruction({keys:[],programId:this.programId,data:nr})}static requestHeapFrame(s){const tr=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,nr=encodeData(tr,s);return new TransactionInstruction({keys:[],programId:this.programId,data:nr})}static setComputeUnitLimit(s){const tr=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,nr=encodeData(tr,s);return new TransactionInstruction({keys:[],programId:this.programId,data:nr})}static setComputeUnitPrice(s){const tr=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,nr=encodeData(tr,{microLamports:BigInt(s.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:nr})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(s){const{publicKey:tr,message:nr,signature:rr,instructionIndex:ir}=s;assert$2(tr.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${tr.length} bytes`),assert$2(rr.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${rr.length} bytes`);const sr=ED25519_INSTRUCTION_LAYOUT.span,or=sr+tr.length,ar=or+rr.length,lr=1,cr=Buffer$1.alloc(ar+nr.length),ur=ir??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:lr,padding:0,signatureOffset:or,signatureInstructionIndex:ur,publicKeyOffset:sr,publicKeyInstructionIndex:ur,messageDataOffset:ar,messageDataSize:nr.length,messageInstructionIndex:ur},cr),cr.fill(tr,sr),cr.fill(rr,or),cr.fill(nr,ar),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:cr})}static createInstructionWithPrivateKey(s){const{privateKey:tr,message:nr,instructionIndex:rr}=s;assert$2(tr.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${tr.length} bytes`);try{const ir=Keypair.fromSecretKey(tr),sr=ir.publicKey.toBytes(),or=sign(nr,ir.secretKey);return this.createInstructionWithPublicKey({publicKey:sr,message:nr,signature:or,instructionIndex:rr})}catch(ir){throw new Error(`Error creating instruction; ${ir}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");const ecdsaSign=(er,s)=>{const tr=secp256k1.sign(er,s);return[tr.toCompactRawBytes(),tr.recovery]};secp256k1.utils.isValidPrivateKey;const publicKeyCreate=secp256k1.getPublicKey,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(s){assert$2(s.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${s.length} bytes`);try{return Buffer$1.from(keccak_256(toBuffer$1(s))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(tr){throw new Error(`Error constructing Ethereum address: ${tr}`)}}static createInstructionWithPublicKey(s){const{publicKey:tr,message:nr,signature:rr,recoveryId:ir,instructionIndex:sr}=s;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(tr),message:nr,signature:rr,recoveryId:ir,instructionIndex:sr})}static createInstructionWithEthAddress(s){const{ethAddress:tr,message:nr,signature:rr,recoveryId:ir,instructionIndex:sr=0}=s;let or;typeof tr=="string"?tr.startsWith("0x")?or=Buffer$1.from(tr.substr(2),"hex"):or=Buffer$1.from(tr,"hex"):or=tr,assert$2(or.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${or.length} bytes`);const ar=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,lr=ar,cr=ar+or.length,ur=cr+rr.length+1,hr=1,dr=Buffer$1.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+nr.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:hr,signatureOffset:cr,signatureInstructionIndex:sr,ethAddressOffset:lr,ethAddressInstructionIndex:sr,messageDataOffset:ur,messageDataSize:nr.length,messageInstructionIndex:sr,signature:toBuffer$1(rr),ethAddress:toBuffer$1(or),recoveryId:ir},dr),dr.fill(toBuffer$1(nr),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:dr})}static createInstructionWithPrivateKey(s){const{privateKey:tr,message:nr,instructionIndex:rr}=s;assert$2(tr.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${tr.length} bytes`);try{const ir=toBuffer$1(tr),sr=publicKeyCreate(ir,!1).slice(1),or=Buffer$1.from(keccak_256(toBuffer$1(nr))),[ar,lr]=ecdsaSign(or,ir);return this.createInstructionWithPublicKey({publicKey:sr,message:nr,signature:ar,recoveryId:lr,instructionIndex:rr})}catch(ir){throw new Error(`Error creating instruction; ${ir}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");var _Lockup;const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(s,tr){this.staker=void 0,this.withdrawer=void 0,this.staker=s,this.withdrawer=tr}}class Lockup{constructor(s,tr,nr){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=s,this.epoch=tr,this.custodian=nr}}_Lockup=Lockup;Lockup.default=new _Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(s){this.checkProgramId(s.programId);const nr=u32$1("instruction").decode(s.data);let rr;for(const[ir,sr]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(sr.index==nr){rr=ir;break}if(!rr)throw new Error("Instruction type incorrect; not a StakeInstruction");return rr}static decodeInitialize(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,2);const{authorized:tr,lockup:nr}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,s.data);return{stakePubkey:s.keys[0].pubkey,authorized:new Authorized(new PublicKey(tr.staker),new PublicKey(tr.withdrawer)),lockup:new Lockup(nr.unixTimestamp,nr.epoch,new PublicKey(nr.custodian))}}static decodeDelegate(s){return this.checkProgramId(s.programId),this.checkKeyLength(s.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,s.data),{stakePubkey:s.keys[0].pubkey,votePubkey:s.keys[1].pubkey,authorizedPubkey:s.keys[5].pubkey}}static decodeAuthorize(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{newAuthorized:tr,stakeAuthorizationType:nr}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,s.data),rr={stakePubkey:s.keys[0].pubkey,authorizedPubkey:s.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(tr),stakeAuthorizationType:{index:nr}};return s.keys.length>3&&(rr.custodianPubkey=s.keys[3].pubkey),rr}static decodeAuthorizeWithSeed(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,2);const{newAuthorized:tr,stakeAuthorizationType:nr,authoritySeed:rr,authorityOwner:ir}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,s.data),sr={stakePubkey:s.keys[0].pubkey,authorityBase:s.keys[1].pubkey,authoritySeed:rr,authorityOwner:new PublicKey(ir),newAuthorizedPubkey:new PublicKey(tr),stakeAuthorizationType:{index:nr}};return s.keys.length>3&&(sr.custodianPubkey=s.keys[3].pubkey),sr}static decodeSplit(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{lamports:tr}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,s.data);return{stakePubkey:s.keys[0].pubkey,splitStakePubkey:s.keys[1].pubkey,authorizedPubkey:s.keys[2].pubkey,lamports:tr}}static decodeMerge(s){return this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,s.data),{stakePubkey:s.keys[0].pubkey,sourceStakePubKey:s.keys[1].pubkey,authorizedPubkey:s.keys[4].pubkey}}static decodeWithdraw(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,5);const{lamports:tr}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,s.data),nr={stakePubkey:s.keys[0].pubkey,toPubkey:s.keys[1].pubkey,authorizedPubkey:s.keys[4].pubkey,lamports:tr};return s.keys.length>5&&(nr.custodianPubkey=s.keys[5].pubkey),nr}static decodeDeactivate(s){return this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,s.data),{stakePubkey:s.keys[0].pubkey,authorizedPubkey:s.keys[2].pubkey}}static checkProgramId(s){if(!s.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(s,tr){if(s.length<tr)throw new Error(`invalid instruction; found ${s.length} keys, expected at least ${tr}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$4("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(s){const{stakePubkey:tr,authorized:nr,lockup:rr}=s,ir=rr||Lockup.default,sr=STAKE_INSTRUCTION_LAYOUTS.Initialize,or=encodeData(sr,{authorized:{staker:toBuffer$1(nr.staker.toBuffer()),withdrawer:toBuffer$1(nr.withdrawer.toBuffer())},lockup:{unixTimestamp:ir.unixTimestamp,epoch:ir.epoch,custodian:toBuffer$1(ir.custodian.toBuffer())}}),ar={keys:[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:or};return new TransactionInstruction(ar)}static createAccountWithSeed(s){const tr=new Transaction;tr.add(SystemProgram.createAccountWithSeed({fromPubkey:s.fromPubkey,newAccountPubkey:s.stakePubkey,basePubkey:s.basePubkey,seed:s.seed,lamports:s.lamports,space:this.space,programId:this.programId}));const{stakePubkey:nr,authorized:rr,lockup:ir}=s;return tr.add(this.initialize({stakePubkey:nr,authorized:rr,lockup:ir}))}static createAccount(s){const tr=new Transaction;tr.add(SystemProgram.createAccount({fromPubkey:s.fromPubkey,newAccountPubkey:s.stakePubkey,lamports:s.lamports,space:this.space,programId:this.programId}));const{stakePubkey:nr,authorized:rr,lockup:ir}=s;return tr.add(this.initialize({stakePubkey:nr,authorized:rr,lockup:ir}))}static delegate(s){const{stakePubkey:tr,authorizedPubkey:nr,votePubkey:rr}=s,ir=STAKE_INSTRUCTION_LAYOUTS.Delegate,sr=encodeData(ir);return new Transaction().add({keys:[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:rr,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:nr,isSigner:!0,isWritable:!1}],programId:this.programId,data:sr})}static authorize(s){const{stakePubkey:tr,authorizedPubkey:nr,newAuthorizedPubkey:rr,stakeAuthorizationType:ir,custodianPubkey:sr}=s,or=STAKE_INSTRUCTION_LAYOUTS.Authorize,ar=encodeData(or,{newAuthorized:toBuffer$1(rr.toBuffer()),stakeAuthorizationType:ir.index}),lr=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!0,isWritable:!1}];return sr&&lr.push({pubkey:sr,isSigner:!0,isWritable:!1}),new Transaction().add({keys:lr,programId:this.programId,data:ar})}static authorizeWithSeed(s){const{stakePubkey:tr,authorityBase:nr,authoritySeed:rr,authorityOwner:ir,newAuthorizedPubkey:sr,stakeAuthorizationType:or,custodianPubkey:ar}=s,lr=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,cr=encodeData(lr,{newAuthorized:toBuffer$1(sr.toBuffer()),stakeAuthorizationType:or.index,authoritySeed:rr,authorityOwner:toBuffer$1(ir.toBuffer())}),ur=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return ar&&ur.push({pubkey:ar,isSigner:!0,isWritable:!1}),new Transaction().add({keys:ur,programId:this.programId,data:cr})}static splitInstruction(s){const{stakePubkey:tr,authorizedPubkey:nr,splitStakePubkey:rr,lamports:ir}=s,sr=STAKE_INSTRUCTION_LAYOUTS.Split,or=encodeData(sr,{lamports:ir});return new TransactionInstruction({keys:[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:rr,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!0,isWritable:!1}],programId:this.programId,data:or})}static split(s,tr){const nr=new Transaction;return nr.add(SystemProgram.createAccount({fromPubkey:s.authorizedPubkey,newAccountPubkey:s.splitStakePubkey,lamports:tr,space:this.space,programId:this.programId})),nr.add(this.splitInstruction(s))}static splitWithSeed(s,tr){const{stakePubkey:nr,authorizedPubkey:rr,splitStakePubkey:ir,basePubkey:sr,seed:or,lamports:ar}=s,lr=new Transaction;return lr.add(SystemProgram.allocate({accountPubkey:ir,basePubkey:sr,seed:or,space:this.space,programId:this.programId})),tr&&tr>0&&lr.add(SystemProgram.transfer({fromPubkey:s.authorizedPubkey,toPubkey:ir,lamports:tr})),lr.add(this.splitInstruction({stakePubkey:nr,authorizedPubkey:rr,splitStakePubkey:ir,lamports:ar}))}static merge(s){const{stakePubkey:tr,sourceStakePubKey:nr,authorizedPubkey:rr}=s,ir=STAKE_INSTRUCTION_LAYOUTS.Merge,sr=encodeData(ir);return new Transaction().add({keys:[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:rr,isSigner:!0,isWritable:!1}],programId:this.programId,data:sr})}static withdraw(s){const{stakePubkey:tr,authorizedPubkey:nr,toPubkey:rr,lamports:ir,custodianPubkey:sr}=s,or=STAKE_INSTRUCTION_LAYOUTS.Withdraw,ar=encodeData(or,{lamports:ir}),lr=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:rr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:nr,isSigner:!0,isWritable:!1}];return sr&&lr.push({pubkey:sr,isSigner:!0,isWritable:!1}),new Transaction().add({keys:lr,programId:this.programId,data:ar})}static deactivate(s){const{stakePubkey:tr,authorizedPubkey:nr}=s,rr=STAKE_INSTRUCTION_LAYOUTS.Deactivate,ir=encodeData(rr);return new Transaction().add({keys:[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:nr,isSigner:!0,isWritable:!1}],programId:this.programId,data:ir})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(s,tr,nr,rr){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=s,this.authorizedVoter=tr,this.authorizedWithdrawer=nr,this.commission=rr}}class VoteInstruction{constructor(){}static decodeInstructionType(s){this.checkProgramId(s.programId);const nr=u32$1("instruction").decode(s.data);let rr;for(const[ir,sr]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(sr.index==nr){rr=ir;break}if(!rr)throw new Error("Instruction type incorrect; not a VoteInstruction");return rr}static decodeInitializeAccount(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,4);const{voteInit:tr}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,s.data);return{votePubkey:s.keys[0].pubkey,nodePubkey:s.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(tr.nodePubkey),new PublicKey(tr.authorizedVoter),new PublicKey(tr.authorizedWithdrawer),tr.commission)}}static decodeAuthorize(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{newAuthorized:tr,voteAuthorizationType:nr}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,s.data);return{votePubkey:s.keys[0].pubkey,authorizedPubkey:s.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(tr),voteAuthorizationType:{index:nr}}}static decodeAuthorizeWithSeed(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:tr,currentAuthorityDerivedKeySeed:nr,newAuthorized:rr,voteAuthorizationType:ir}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,s.data);return{currentAuthorityDerivedKeyBasePubkey:s.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey(tr),currentAuthorityDerivedKeySeed:nr,newAuthorizedPubkey:new PublicKey(rr),voteAuthorizationType:{index:ir},votePubkey:s.keys[0].pubkey}}static decodeWithdraw(s){this.checkProgramId(s.programId),this.checkKeyLength(s.keys,3);const{lamports:tr}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,s.data);return{votePubkey:s.keys[0].pubkey,authorizedWithdrawerPubkey:s.keys[2].pubkey,lamports:tr,toPubkey:s.keys[1].pubkey}}static checkProgramId(s){if(!s.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(s,tr){if(s.length<tr)throw new Error(`invalid instruction; found ${s.length} keys, expected at least ${tr}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:10,layout:struct$1([u32$1("instruction"),voteAuthorizeWithSeedArgs()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(s){const{votePubkey:tr,nodePubkey:nr,voteInit:rr}=s,ir=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,sr=encodeData(ir,{voteInit:{nodePubkey:toBuffer$1(rr.nodePubkey.toBuffer()),authorizedVoter:toBuffer$1(rr.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$1(rr.authorizedWithdrawer.toBuffer()),commission:rr.commission}}),or={keys:[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:nr,isSigner:!0,isWritable:!1}],programId:this.programId,data:sr};return new TransactionInstruction(or)}static createAccount(s){const tr=new Transaction;return tr.add(SystemProgram.createAccount({fromPubkey:s.fromPubkey,newAccountPubkey:s.votePubkey,lamports:s.lamports,space:this.space,programId:this.programId})),tr.add(this.initializeAccount({votePubkey:s.votePubkey,nodePubkey:s.voteInit.nodePubkey,voteInit:s.voteInit}))}static authorize(s){const{votePubkey:tr,authorizedPubkey:nr,newAuthorizedPubkey:rr,voteAuthorizationType:ir}=s,sr=VOTE_INSTRUCTION_LAYOUTS.Authorize,or=encodeData(sr,{newAuthorized:toBuffer$1(rr.toBuffer()),voteAuthorizationType:ir.index}),ar=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:nr,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:ar,programId:this.programId,data:or})}static authorizeWithSeed(s){const{currentAuthorityDerivedKeyBasePubkey:tr,currentAuthorityDerivedKeyOwnerPubkey:nr,currentAuthorityDerivedKeySeed:rr,newAuthorizedPubkey:ir,voteAuthorizationType:sr,votePubkey:or}=s,ar=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,lr=encodeData(ar,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$1(nr.toBuffer()),currentAuthorityDerivedKeySeed:rr,newAuthorized:toBuffer$1(ir.toBuffer()),voteAuthorizationType:sr.index}}),cr=[{pubkey:or,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:tr,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:cr,programId:this.programId,data:lr})}static withdraw(s){const{votePubkey:tr,authorizedWithdrawerPubkey:nr,lamports:rr,toPubkey:ir}=s,sr=VOTE_INSTRUCTION_LAYOUTS.Withdraw,or=encodeData(sr,{lamports:rr}),ar=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!1,isWritable:!0},{pubkey:nr,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:ar,programId:this.programId,data:or})}static safeWithdraw(s,tr,nr){if(s.lamports>tr-nr)throw new Error("Withdraw will leave vote account with insufficient funds.");return VoteProgram.withdraw(s)}static updateValidatorIdentity(s){const{votePubkey:tr,authorizedWithdrawerPubkey:nr,nodePubkey:rr}=s,ir=VOTE_INSTRUCTION_LAYOUTS.UpdateValidatorIdentity,sr=encodeData(ir),or=[{pubkey:tr,isSigner:!1,isWritable:!0},{pubkey:rr,isSigner:!0,isWritable:!1},{pubkey:nr,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:or,programId:this.programId,data:sr})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3762;const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type$2({name:string$1(),website:optional$1(string$1()),details:optional$1(string$1()),iconUrl:optional$1(string$1()),keybaseUsername:optional$1(string$1())});class ValidatorInfo{constructor(s,tr){this.key=void 0,this.info=void 0,this.key=s,this.info=tr}static fromConfigData(s){let tr=[...s];if(decodeLength(tr)!==2)return null;const rr=[];for(let ir=0;ir<2;ir++){const sr=new PublicKey(guardedSplice(tr,0,PUBLIC_KEY_LENGTH)),or=guardedShift(tr)===1;rr.push({publicKey:sr,isSigner:or})}if(rr[0].publicKey.equals(VALIDATOR_INFO_KEY)&&rr[1].isSigner){const ir=rustString().decode(Buffer$1.from(tr)),sr=JSON.parse(ir);return assert$3(sr,InfoString),new ValidatorInfo(rr[1].publicKey,sr)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$4("nodePubkey"),publicKey$4("authorizedWithdrawer"),u8$1("commission"),nu64$1(),seq(struct$1([nu64$1("slot"),u32$1("confirmationCount")]),offset$1(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$1([nu64$1("epoch"),publicKey$4("authorizedVoter")]),offset$1(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$4("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$1("isEmpty")],"priorVoters"),nu64$1(),seq(struct$1([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$1(),-8),"epochCredits"),struct$1([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(s){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=s.nodePubkey,this.authorizedWithdrawer=s.authorizedWithdrawer,this.commission=s.commission,this.rootSlot=s.rootSlot,this.votes=s.votes,this.authorizedVoters=s.authorizedVoters,this.priorVoters=s.priorVoters,this.epochCredits=s.epochCredits,this.lastTimestamp=s.lastTimestamp}static fromAccountData(s){const nr=VoteAccountLayout.decode(toBuffer$1(s),4);let rr=nr.rootSlot;return nr.rootSlotValid||(rr=null),new VoteAccount({nodePubkey:new PublicKey(nr.nodePubkey),authorizedWithdrawer:new PublicKey(nr.authorizedWithdrawer),commission:nr.commission,votes:nr.votes,rootSlot:rr,authorizedVoters:nr.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(nr.priorVoters),epochCredits:nr.epochCredits,lastTimestamp:nr.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:er,epoch:s}){return{epoch:s,authorizedVoter:new PublicKey(er)}}function parsePriorVoters({authorizedPubkey:er,epochOfLastAuthorizedSwitch:s,targetEpoch:tr}){return{authorizedPubkey:new PublicKey(er),epochOfLastAuthorizedSwitch:s,targetEpoch:tr}}function getPriorVoters({buf:er,idx:s,isEmpty:tr}){return tr?[]:[...er.slice(s+1).map(parsePriorVoters),...er.slice(0,s).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(er,s){const tr=s===!1?"http":"https";if(!er)return endpoint[tr].devnet;const nr=endpoint[tr][er];if(!nr)throw new Error(`Unknown ${tr} cluster: ${er}`);return nr}async function sendAndConfirmRawTransaction$1(er,s,tr,nr){let rr,ir;tr&&Object.prototype.hasOwnProperty.call(tr,"lastValidBlockHeight")||tr&&Object.prototype.hasOwnProperty.call(tr,"nonceValue")?(rr=tr,ir=nr):ir=tr;const sr=ir&&{skipPreflight:ir.skipPreflight,preflightCommitment:ir.preflightCommitment||ir.commitment,minContextSlot:ir.minContextSlot},or=await er.sendRawTransaction(s,sr),ar=ir&&ir.commitment,cr=(await(rr?er.confirmTransaction(rr,ar):er.confirmTransaction(or,ar))).value;if(cr.err)throw or!=null?new SendTransactionError({action:sr!=null&&sr.skipPreflight?"send":"simulate",signature:or,transactionMessage:`Status: (${JSON.stringify(cr)})`}):new Error(`Raw transaction ${or} failed (${JSON.stringify(cr)})`);return or}const LAMPORTS_PER_SOL=1e9,index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,MessageAccountKeys,MessageV0,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PUBLIC_KEY_LENGTH,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct:Struct$1,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError,TransactionInstruction,TransactionMessage,TransactionStatus,VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$1,sendAndConfirmTransaction},Symbol.toStringTag,{value:"Module"})),ConnectionContext=reactExports.createContext({});function useConnection(){return reactExports.useContext(ConnectionContext)}const ConnectionProvider=({children:er,endpoint:s,config:tr={commitment:"confirmed"}})=>{const nr=reactExports.useMemo(()=>new Connection(s,tr),[s,tr]);return React$1.createElement(ConnectionContext.Provider,{value:{connection:nr}},er)};var eventemitter3={exports:{}};(function(er){var s=Object.prototype.hasOwnProperty,tr="~";function nr(){}Object.create&&(nr.prototype=Object.create(null),new nr().__proto__||(tr=!1));function rr(ar,lr,cr){this.fn=ar,this.context=lr,this.once=cr||!1}function ir(ar,lr,cr,ur,hr){if(typeof cr!="function")throw new TypeError("The listener must be a function");var dr=new rr(cr,ur||ar,hr),pr=tr?tr+lr:lr;return ar._events[pr]?ar._events[pr].fn?ar._events[pr]=[ar._events[pr],dr]:ar._events[pr].push(dr):(ar._events[pr]=dr,ar._eventsCount++),ar}function sr(ar,lr){--ar._eventsCount===0?ar._events=new nr:delete ar._events[lr]}function or(){this._events=new nr,this._eventsCount=0}or.prototype.eventNames=function(){var lr=[],cr,ur;if(this._eventsCount===0)return lr;for(ur in cr=this._events)s.call(cr,ur)&&lr.push(tr?ur.slice(1):ur);return Object.getOwnPropertySymbols?lr.concat(Object.getOwnPropertySymbols(cr)):lr},or.prototype.listeners=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];if(!ur)return[];if(ur.fn)return[ur.fn];for(var hr=0,dr=ur.length,pr=new Array(dr);hr<dr;hr++)pr[hr]=ur[hr].fn;return pr},or.prototype.listenerCount=function(lr){var cr=tr?tr+lr:lr,ur=this._events[cr];return ur?ur.fn?1:ur.length:0},or.prototype.emit=function(lr,cr,ur,hr,dr,pr){var mr=tr?tr+lr:lr;if(!this._events[mr])return!1;var xr=this._events[mr],br=arguments.length,yr,gr;if(xr.fn){switch(xr.once&&this.removeListener(lr,xr.fn,void 0,!0),br){case 1:return xr.fn.call(xr.context),!0;case 2:return xr.fn.call(xr.context,cr),!0;case 3:return xr.fn.call(xr.context,cr,ur),!0;case 4:return xr.fn.call(xr.context,cr,ur,hr),!0;case 5:return xr.fn.call(xr.context,cr,ur,hr,dr),!0;case 6:return xr.fn.call(xr.context,cr,ur,hr,dr,pr),!0}for(gr=1,yr=new Array(br-1);gr<br;gr++)yr[gr-1]=arguments[gr];xr.fn.apply(xr.context,yr)}else{var Er=xr.length,kr;for(gr=0;gr<Er;gr++)switch(xr[gr].once&&this.removeListener(lr,xr[gr].fn,void 0,!0),br){case 1:xr[gr].fn.call(xr[gr].context);break;case 2:xr[gr].fn.call(xr[gr].context,cr);break;case 3:xr[gr].fn.call(xr[gr].context,cr,ur);break;case 4:xr[gr].fn.call(xr[gr].context,cr,ur,hr);break;default:if(!yr)for(kr=1,yr=new Array(br-1);kr<br;kr++)yr[kr-1]=arguments[kr];xr[gr].fn.apply(xr[gr].context,yr)}}return!0},or.prototype.on=function(lr,cr,ur){return ir(this,lr,cr,ur,!1)},or.prototype.once=function(lr,cr,ur){return ir(this,lr,cr,ur,!0)},or.prototype.removeListener=function(lr,cr,ur,hr){var dr=tr?tr+lr:lr;if(!this._events[dr])return this;if(!cr)return sr(this,dr),this;var pr=this._events[dr];if(pr.fn)pr.fn===cr&&(!hr||pr.once)&&(!ur||pr.context===ur)&&sr(this,dr);else{for(var mr=0,xr=[],br=pr.length;mr<br;mr++)(pr[mr].fn!==cr||hr&&!pr[mr].once||ur&&pr[mr].context!==ur)&&xr.push(pr[mr]);xr.length?this._events[dr]=xr.length===1?xr[0]:xr:sr(this,dr)}return this},or.prototype.removeAllListeners=function(lr){var cr;return lr?(cr=tr?tr+lr:lr,this._events[cr]&&sr(this,cr)):(this._events=new nr,this._eventsCount=0),this},or.prototype.off=or.prototype.removeListener,or.prototype.addListener=or.prototype.on,or.prefixed=tr,or.EventEmitter=or,er.exports=or})(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter=getDefaultExportFromCjs$2(eventemitter3Exports);class WalletError extends Error{constructor(s,tr){super(s),this.error=tr}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignInError extends WalletError{constructor(){super(...arguments),this.name="WalletSignInError"}}var WalletReadyState;(function(er){er.Installed="Installed",er.NotDetected="NotDetected",er.Loadable="Loadable",er.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(s,tr,nr={}){const rr=this.publicKey;if(!rr)throw new WalletNotConnectedError;return s.feePayer=s.feePayer||rr,s.recentBlockhash=s.recentBlockhash||(await tr.getLatestBlockhash({commitment:nr.preflightCommitment,minContextSlot:nr.minContextSlot})).blockhash,s}}function scopePollingDetectionStrategy(er){if(typeof window>"u"||typeof document>"u")return;const s=[];function tr(){if(er())for(const ir of s)ir()}const nr=setInterval(tr,1e3);s.push(()=>clearInterval(nr)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",tr,{once:!0}),s.push(()=>document.removeEventListener("DOMContentLoaded",tr))),document.readyState!=="complete"&&(window.addEventListener("load",tr,{once:!0}),s.push(()=>window.removeEventListener("load",tr))),tr()}function isIosAndRedirectable(){if(!navigator)return!1;const er=navigator.userAgent.toLowerCase(),s=er.includes("iphone")||er.includes("ipad"),tr=er.includes("safari");return s&&tr}function isVersionedTransaction$1(er){return"version"in er}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(s,tr,nr={}){let rr=!0;try{if(isVersionedTransaction$1(s)){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(s.version))throw new WalletSendTransactionError(`Sending transaction version ${s.version} isn't supported by this wallet`);try{s=await this.signTransaction(s);const ir=s.serialize();return await tr.sendRawTransaction(ir,nr)}catch(ir){throw ir instanceof WalletSignTransactionError?(rr=!1,ir):new WalletSendTransactionError(ir==null?void 0:ir.message,ir)}}else try{const{signers:ir,...sr}=nr;s=await this.prepareTransaction(s,tr,sr),ir!=null&&ir.length&&s.partialSign(...ir),s=await this.signTransaction(s);const or=s.serialize();return await tr.sendRawTransaction(or,sr)}catch(ir){throw ir instanceof WalletSignTransactionError?(rr=!1,ir):new WalletSendTransactionError(ir==null?void 0:ir.message,ir)}}catch(ir){throw rr&&this.emit("error",ir),ir}}async signAllTransactions(s){for(const nr of s)if(isVersionedTransaction$1(nr)){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(nr.version))throw new WalletSignTransactionError(`Signing transaction version ${nr.version} isn't supported by this wallet`)}const tr=[];for(const nr of s)tr.push(await this.signTransaction(nr));return tr}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}class BaseSignInMessageSignerWalletAdapter extends BaseMessageSignerWalletAdapter{}const SolanaSignAndSendTransaction="solana:signAndSendTransaction",SolanaSignIn="solana:signIn",SolanaSignMessage="solana:signMessage",SolanaSignTransaction="solana:signTransaction",StandardConnect="standard:connect",StandardDisconnect="standard:disconnect",StandardEvents="standard:events";function isWalletAdapterCompatibleStandardWallet(er){return StandardConnect in er.features&&StandardEvents in er.features&&(SolanaSignAndSendTransaction in er.features||SolanaSignTransaction in er.features)}var WalletAdapterNetwork;(function(er){er.Mainnet="mainnet-beta",er.Testnet="testnet",er.Devnet="devnet"})(WalletAdapterNetwork||(WalletAdapterNetwork={}));class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const EMPTY_ARRAY=[],DEFAULT_CONTEXT$1={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){logMissingProviderError("call","select")},connect(){return Promise.reject(logMissingProviderError("call","connect"))},disconnect(){return Promise.reject(logMissingProviderError("call","disconnect"))},sendTransaction(){return Promise.reject(logMissingProviderError("call","sendTransaction"))},signTransaction(){return Promise.reject(logMissingProviderError("call","signTransaction"))},signAllTransactions(){return Promise.reject(logMissingProviderError("call","signAllTransactions"))},signMessage(){return Promise.reject(logMissingProviderError("call","signMessage"))},signIn(){return Promise.reject(logMissingProviderError("call","signIn"))}};Object.defineProperty(DEFAULT_CONTEXT$1,"wallets",{get(){return logMissingProviderError("read","wallets"),EMPTY_ARRAY}});Object.defineProperty(DEFAULT_CONTEXT$1,"wallet",{get(){return logMissingProviderError("read","wallet"),null}});Object.defineProperty(DEFAULT_CONTEXT$1,"publicKey",{get(){return logMissingProviderError("read","publicKey"),null}});function logMissingProviderError(er,s){const tr=new Error(`You have tried to ${er} "${s}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(tr),tr}const WalletContext=reactExports.createContext(DEFAULT_CONTEXT$1);function useWallet(){return reactExports.useContext(WalletContext)}function useLocalStorage(er,s){const tr=reactExports.useState(()=>{try{const ir=localStorage.getItem(er);if(ir)return JSON.parse(ir)}catch(ir){typeof window<"u"&&console.error(ir)}return s}),nr=tr[0],rr=reactExports.useRef(!0);return reactExports.useEffect(()=>{if(rr.current){rr.current=!1;return}try{nr===null?localStorage.removeItem(er):localStorage.setItem(er,JSON.stringify(nr))}catch(ir){typeof window<"u"&&console.error(ir)}},[nr,er]),tr}function getCommitment(er){switch(er){case"processed":case"confirmed":case"finalized":case void 0:return er;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const SOLANA_MAINNET_CHAIN="solana:mainnet",SOLANA_DEVNET_CHAIN="solana:devnet",SOLANA_TESTNET_CHAIN="solana:testnet",SOLANA_LOCALNET_CHAIN="solana:localnet",MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com";function getChainForEndpoint(er){return er.includes(MAINNET_ENDPOINT)?SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(er)?SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(er)?SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(er)||/\b127\.0\.0\.1\b/.test(er)?SOLANA_LOCALNET_CHAIN:SOLANA_MAINNET_CHAIN}function createSignInMessageText(er){let s=`${er.domain} wants you to sign in with your Solana account:
`;s+=`${er.address}`,er.statement&&(s+=`

${er.statement}`);const tr=[];if(er.uri&&tr.push(`URI: ${er.uri}`),er.version&&tr.push(`Version: ${er.version}`),er.chainId&&tr.push(`Chain ID: ${er.chainId}`),er.nonce&&tr.push(`Nonce: ${er.nonce}`),er.issuedAt&&tr.push(`Issued At: ${er.issuedAt}`),er.expirationTime&&tr.push(`Expiration Time: ${er.expirationTime}`),er.notBefore&&tr.push(`Not Before: ${er.notBefore}`),er.requestId&&tr.push(`Request ID: ${er.requestId}`),er.resources){tr.push("Resources:");for(const nr of er.resources)tr.push(`- ${nr}`)}return tr.length&&(s+=`

${tr.join(`
`)}`),s}const SolanaMobileWalletAdapterErrorCode={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_REFLECTOR_ID_OUT_OF_RANGE:"ERROR_REFLECTOR_ID_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class SolanaMobileWalletAdapterError extends Error{constructor(...s){const[tr,nr,rr]=s;super(nr),this.code=tr,this.data=rr,this.name="SolanaMobileWalletAdapterError"}}class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...s){const[tr,nr,rr,ir]=s;super(rr),this.code=nr,this.data=ir,this.jsonRpcMessageId=tr,this.name="SolanaMobileWalletAdapterProtocolError"}}function __awaiter$2(er,s,tr,nr){function rr(ir){return ir instanceof tr?ir:new tr(function(sr){sr(ir)})}return new(tr||(tr=Promise))(function(ir,sr){function or(cr){try{lr(nr.next(cr))}catch(ur){sr(ur)}}function ar(cr){try{lr(nr.throw(cr))}catch(ur){sr(ur)}}function lr(cr){cr.done?ir(cr.value):rr(cr.value).then(or,ar)}lr((nr=nr.apply(er,[])).next())})}function createHelloReq(er,s){return __awaiter$2(this,void 0,void 0,function*(){const tr=yield crypto.subtle.exportKey("raw",er),nr=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},s,tr),rr=new Uint8Array(tr.byteLength+nr.byteLength);return rr.set(new Uint8Array(tr),0),rr.set(new Uint8Array(nr),tr.byteLength),rr})}function encode$4(er){return window.btoa(er)}function createSIWSMessage(er){return createSignInMessageText(er)}function createSIWSMessageBase64(er){return encode$4(createSIWSMessage(er))}const SolanaSignTransactions="solana:signTransactions",SolanaCloneAuthorization="solana:cloneAuthorization";function createMobileWalletProxy(er,s){return new Proxy({},{get(tr,nr){return tr[nr]==null&&(tr[nr]=function(rr){return __awaiter$2(this,void 0,void 0,function*(){const{method:ir,params:sr}=handleMobileWalletRequest(nr,rr,er),or=yield s(ir,sr);return ir==="authorize"&&sr.sign_in_payload&&!or.sign_in_result&&(or.sign_in_result=yield signInFallback(sr.sign_in_payload,or,s)),handleMobileWalletResponse(nr,or,er)})}),tr[nr]},defineProperty(){return!1},deleteProperty(){return!1}})}function handleMobileWalletRequest(er,s,tr){let nr=s,rr=er.toString().replace(/[A-Z]/g,ir=>`_${ir.toLowerCase()}`).toLowerCase();switch(er){case"authorize":{let{chain:ir}=nr;if(tr==="legacy"){switch(ir){case"solana:testnet":{ir="testnet";break}case"solana:devnet":{ir="devnet";break}case"solana:mainnet":{ir="mainnet-beta";break}default:ir=nr.cluster}nr.cluster=ir}else{switch(ir){case"testnet":case"devnet":{ir=`solana:${ir}`;break}case"mainnet-beta":{ir="solana:mainnet";break}}nr.chain=ir}}case"reauthorize":{const{auth_token:ir,identity:sr}=nr;if(ir)switch(tr){case"legacy":{rr="reauthorize",nr={auth_token:ir,identity:sr};break}default:{rr="authorize";break}}break}}return{method:rr,params:nr}}function handleMobileWalletResponse(er,s,tr){switch(er){case"getCapabilities":{const nr=s;switch(tr){case"legacy":{const rr=[SolanaSignTransactions];return nr.supports_clone_authorization===!0&&rr.push(SolanaCloneAuthorization),Object.assign(Object.assign({},nr),{features:rr})}case"v1":return Object.assign(Object.assign({},nr),{supports_sign_and_send_transactions:!0,supports_clone_authorization:nr.features.includes(SolanaCloneAuthorization)})}}}return s}function signInFallback(er,s,tr){var nr;return __awaiter$2(this,void 0,void 0,function*(){const rr=(nr=er.domain)!==null&&nr!==void 0?nr:window.location.host,ir=s.accounts[0].address,sr=createSIWSMessageBase64(Object.assign(Object.assign({},er),{domain:rr,address:ir})),or=yield tr("sign_messages",{addresses:[ir],payloads:[sr]});return{address:ir,signed_message:sr,signature:or.signed_payloads[0].slice(sr.length)}})}const SEQUENCE_NUMBER_BYTES=4;function createSequenceNumberVector(er){if(er>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const s=new ArrayBuffer(SEQUENCE_NUMBER_BYTES);return new DataView(s).setUint32(0,er,!1),new Uint8Array(s)}const INITIALIZATION_VECTOR_BYTES=12,ENCODED_PUBLIC_KEY_LENGTH_BYTES=65;function encryptMessage(er,s,tr){return __awaiter$2(this,void 0,void 0,function*(){const nr=createSequenceNumberVector(s),rr=new Uint8Array(INITIALIZATION_VECTOR_BYTES);crypto.getRandomValues(rr);const ir=yield crypto.subtle.encrypt(getAlgorithmParams(nr,rr),tr,new TextEncoder().encode(er)),sr=new Uint8Array(nr.byteLength+rr.byteLength+ir.byteLength);return sr.set(new Uint8Array(nr),0),sr.set(new Uint8Array(rr),nr.byteLength),sr.set(new Uint8Array(ir),nr.byteLength+rr.byteLength),sr})}function decryptMessage(er,s){return __awaiter$2(this,void 0,void 0,function*(){const tr=er.slice(0,SEQUENCE_NUMBER_BYTES),nr=er.slice(SEQUENCE_NUMBER_BYTES,SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),rr=er.slice(SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),ir=yield crypto.subtle.decrypt(getAlgorithmParams(tr,nr),s,rr);return getUtf8Decoder().decode(ir)})}function getAlgorithmParams(er,s){return{additionalData:er,iv:s,name:"AES-GCM",tagLength:128}}let _utf8Decoder;function getUtf8Decoder(){return _utf8Decoder===void 0&&(_utf8Decoder=new TextDecoder("utf-8")),_utf8Decoder}function generateAssociationKeypair(){return __awaiter$2(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function generateECDHKeypair(){return __awaiter$2(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function encryptJsonRpcMessage(er,s){return __awaiter$2(this,void 0,void 0,function*(){const tr=JSON.stringify(er),nr=er.id;return encryptMessage(tr,nr,s)})}function decryptJsonRpcMessage(er,s){return __awaiter$2(this,void 0,void 0,function*(){const tr=yield decryptMessage(er,s),nr=JSON.parse(tr);if(Object.hasOwnProperty.call(nr,"error"))throw new SolanaMobileWalletAdapterProtocolError(nr.id,nr.error.code,nr.error.message);return nr})}function parseHelloRsp(er,s,tr){return __awaiter$2(this,void 0,void 0,function*(){const[nr,rr]=yield Promise.all([crypto.subtle.exportKey("raw",s),crypto.subtle.importKey("raw",er.slice(0,ENCODED_PUBLIC_KEY_LENGTH_BYTES),{name:"ECDH",namedCurve:"P-256"},!1,[])]),ir=yield crypto.subtle.deriveBits({name:"ECDH",public:rr},tr,256),sr=yield crypto.subtle.importKey("raw",ir,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(nr),info:new Uint8Array},sr,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function parseSessionProps(er,s){return __awaiter$2(this,void 0,void 0,function*(){const tr=yield decryptMessage(er,s),nr=JSON.parse(tr);let rr="legacy";if(Object.hasOwnProperty.call(nr,"v"))switch(nr.v){case 1:case"1":case"v1":rr="v1";break;case"legacy":rr="legacy";break;default:throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${nr.v}`)}return{protocol_version:rr}})}function getRandomAssociationPort(){return assertAssociationPort(49152+Math.floor(Math.random()*16384))}function assertAssociationPort(er){if(er<49152||er>65535)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${er} given.`,{port:er});return er}function arrayBufferToBase64String(er){let s="";const tr=new Uint8Array(er),nr=tr.byteLength;for(let rr=0;rr<nr;rr++)s+=String.fromCharCode(tr[rr]);return window.btoa(s)}function getStringWithURLUnsafeCharactersReplaced(er){return er.replace(/[/+=]/g,s=>({"/":"_","+":"-","=":"."})[s])}const INTENT_NAME="solana-wallet";function getPathParts(er){return er.replace(/(^\/+|\/+$)/g,"").split("/")}function getIntentURL(er,s){let tr=null;if(s){try{tr=new URL(s)}catch{}if((tr==null?void 0:tr.protocol)!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}tr||(tr=new URL(`${INTENT_NAME}:/`));const nr=er.startsWith("/")?er:[...getPathParts(tr.pathname),...getPathParts(er)].join("/");return new URL(nr,tr)}function getAssociateAndroidIntentURL(er,s,tr,nr=["v1"]){return __awaiter$2(this,void 0,void 0,function*(){const rr=assertAssociationPort(s),ir=yield crypto.subtle.exportKey("raw",er),sr=arrayBufferToBase64String(ir),or=getIntentURL("v1/associate/local",tr);return or.searchParams.set("association",getStringWithURLUnsafeCharactersReplaced(sr)),or.searchParams.set("port",`${rr}`),nr.forEach(ar=>{or.searchParams.set("v",ar)}),or})}const Browser={Firefox:0,Other:1};function assertUnreachable(er){return er}function getBrowser(){return navigator.userAgent.indexOf("Firefox/")!==-1?Browser.Firefox:Browser.Other}function getDetectionPromise(){return new Promise((er,s)=>{function tr(){clearTimeout(rr),window.removeEventListener("blur",nr)}function nr(){tr(),er()}window.addEventListener("blur",nr);const rr=setTimeout(()=>{tr(),s()},2e3)})}let _frame=null;function launchUrlThroughHiddenFrame(er){_frame==null&&(_frame=document.createElement("iframe"),_frame.style.display="none",document.body.appendChild(_frame)),_frame.contentWindow.location.href=er.toString()}function launchAssociation(er){return __awaiter$2(this,void 0,void 0,function*(){if(er.protocol==="https:")window.location.assign(er);else try{const s=getBrowser();switch(s){case Browser.Firefox:launchUrlThroughHiddenFrame(er);break;case Browser.Other:{const tr=getDetectionPromise();window.location.assign(er),yield tr;break}default:}}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function startSession(er,s){return __awaiter$2(this,void 0,void 0,function*(){const tr=getRandomAssociationPort(),nr=yield getAssociateAndroidIntentURL(er,tr,s);return yield launchAssociation(nr),tr})}const WEBSOCKET_CONNECTION_CONFIG={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},WEBSOCKET_PROTOCOL="com.solana.mobilewalletadapter.v1";function assertSecureContext(){if(typeof window>"u"||window.isSecureContext!==!0)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function assertSecureEndpointSpecificURI(er){let s;try{s=new URL(er)}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(s.protocol!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function getSequenceNumberFromByteArray(er){return new DataView(er).getUint32(0,!1)}function transact$1(er,s){return __awaiter$2(this,void 0,void 0,function*(){assertSecureContext();const tr=yield generateAssociationKeypair(),rr=`ws://localhost:${yield startSession(tr.publicKey,s==null?void 0:s.baseUri)}/solana-wallet`;let ir;const sr=(()=>{const cr=[...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];return()=>cr.length>1?cr.shift():cr[0]})();let or=1,ar=0,lr={__type:"disconnected"};return new Promise((cr,ur)=>{let hr;const dr={},pr=()=>__awaiter$2(this,void 0,void 0,function*(){if(lr.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${lr.__type}\`.`);return}hr.removeEventListener("open",pr);const{associationKeypair:kr}=lr,Mr=yield generateECDHKeypair();hr.send(yield createHelloReq(Mr.publicKey,kr.privateKey)),lr={__type:"hello_req_sent",associationPublicKey:kr.publicKey,ecdhPrivateKey:Mr.privateKey}}),mr=kr=>{kr.wasClean?lr={__type:"disconnected"}:ur(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${kr.code}: ${kr.reason}).`,{closeEvent:kr})),yr()},xr=kr=>__awaiter$2(this,void 0,void 0,function*(){yr(),Date.now()-ir>=WEBSOCKET_CONNECTION_CONFIG.timeoutMs?ur(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${rr}.`)):(yield new Promise(Mr=>{const Cr=sr();gr=window.setTimeout(Mr,Cr)}),Er())}),br=kr=>__awaiter$2(this,void 0,void 0,function*(){const Mr=yield kr.data.arrayBuffer();switch(lr.__type){case"connecting":if(Mr.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const Cr=yield generateECDHKeypair();hr.send(yield createHelloReq(Cr.publicKey,tr.privateKey)),lr={__type:"hello_req_sent",associationPublicKey:tr.publicKey,ecdhPrivateKey:Cr.privateKey};break;case"connected":try{const Dr=Mr.slice(0,SEQUENCE_NUMBER_BYTES),zr=getSequenceNumberFromByteArray(Dr);if(zr!==ar+1)throw new Error("Encrypted message has invalid sequence number");ar=zr;const Wr=yield decryptJsonRpcMessage(Mr,lr.sharedSecret),Gr=dr[Wr.id];delete dr[Wr.id],Gr.resolve(Wr.result)}catch(Dr){if(Dr instanceof SolanaMobileWalletAdapterProtocolError){const zr=dr[Dr.jsonRpcMessageId];delete dr[Dr.jsonRpcMessageId],zr.reject(Dr)}else throw Dr}break;case"hello_req_sent":{if(Mr.byteLength===0){const Kr=yield generateECDHKeypair();hr.send(yield createHelloReq(Kr.publicKey,tr.privateKey)),lr={__type:"hello_req_sent",associationPublicKey:tr.publicKey,ecdhPrivateKey:Kr.privateKey};break}const Dr=yield parseHelloRsp(Mr,lr.associationPublicKey,lr.ecdhPrivateKey),zr=Mr.slice(ENCODED_PUBLIC_KEY_LENGTH_BYTES),Wr=zr.byteLength!==0?yield __awaiter$2(this,void 0,void 0,function*(){const Kr=zr.slice(0,SEQUENCE_NUMBER_BYTES),Lr=getSequenceNumberFromByteArray(Kr);if(Lr!==ar+1)throw new Error("Encrypted message has invalid sequence number");return ar=Lr,parseSessionProps(zr,Dr)}):{protocol_version:"legacy"};lr={__type:"connected",sharedSecret:Dr,sessionProperties:Wr};const Gr=createMobileWalletProxy(Wr.protocol_version,(Kr,Lr)=>__awaiter$2(this,void 0,void 0,function*(){const fr=or++;return hr.send(yield encryptJsonRpcMessage({id:fr,jsonrpc:"2.0",method:Kr,params:Lr??{}},Dr)),new Promise((vr,$r)=>{dr[fr]={resolve(Tr){switch(Kr){case"authorize":case"reauthorize":{const{wallet_uri_base:Ar}=Tr;if(Ar!=null)try{assertSecureEndpointSpecificURI(Ar)}catch(jr){$r(jr);return}break}}vr(Tr)},reject:$r}})}));try{cr(yield er(Gr))}catch(Kr){ur(Kr)}finally{yr(),hr.close()}break}}});let yr,gr;const Er=()=>{yr&&yr(),lr={__type:"connecting",associationKeypair:tr},ir===void 0&&(ir=Date.now()),hr=new WebSocket(rr,[WEBSOCKET_PROTOCOL]),hr.addEventListener("open",pr),hr.addEventListener("close",mr),hr.addEventListener("error",xr),hr.addEventListener("message",br),yr=()=>{window.clearTimeout(gr),hr.removeEventListener("open",pr),hr.removeEventListener("close",mr),hr.removeEventListener("error",xr),hr.removeEventListener("message",br)}};Er()})})}function base$1(er){if(er.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),tr=0;tr<s.length;tr++)s[tr]=255;for(var nr=0;nr<er.length;nr++){var rr=er.charAt(nr),ir=rr.charCodeAt(0);if(s[ir]!==255)throw new TypeError(rr+" is ambiguous");s[ir]=nr}var sr=er.length,or=er.charAt(0),ar=Math.log(sr)/Math.log(256),lr=Math.log(256)/Math.log(sr);function cr(dr){if(dr instanceof Uint8Array||(ArrayBuffer.isView(dr)?dr=new Uint8Array(dr.buffer,dr.byteOffset,dr.byteLength):Array.isArray(dr)&&(dr=Uint8Array.from(dr))),!(dr instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(dr.length===0)return"";for(var pr=0,mr=0,xr=0,br=dr.length;xr!==br&&dr[xr]===0;)xr++,pr++;for(var yr=(br-xr)*lr+1>>>0,gr=new Uint8Array(yr);xr!==br;){for(var Er=dr[xr],kr=0,Mr=yr-1;(Er!==0||kr<mr)&&Mr!==-1;Mr--,kr++)Er+=256*gr[Mr]>>>0,gr[Mr]=Er%sr>>>0,Er=Er/sr>>>0;if(Er!==0)throw new Error("Non-zero carry");mr=kr,xr++}for(var Cr=yr-mr;Cr!==yr&&gr[Cr]===0;)Cr++;for(var Dr=or.repeat(pr);Cr<yr;++Cr)Dr+=er.charAt(gr[Cr]);return Dr}function ur(dr){if(typeof dr!="string")throw new TypeError("Expected String");if(dr.length===0)return new Uint8Array;for(var pr=0,mr=0,xr=0;dr[pr]===or;)mr++,pr++;for(var br=(dr.length-pr)*ar+1>>>0,yr=new Uint8Array(br);dr[pr];){var gr=s[dr.charCodeAt(pr)];if(gr===255)return;for(var Er=0,kr=br-1;(gr!==0||Er<xr)&&kr!==-1;kr--,Er++)gr+=sr*yr[kr]>>>0,yr[kr]=gr%256>>>0,gr=gr/256>>>0;if(gr!==0)throw new Error("Non-zero carry");xr=Er,pr++}for(var Mr=br-xr;Mr!==br&&yr[Mr]===0;)Mr++;for(var Cr=new Uint8Array(mr+(br-Mr)),Dr=mr;Mr!==br;)Cr[Dr++]=yr[Mr++];return Cr}function hr(dr){var pr=ur(dr);if(pr)return pr;throw new Error("Non-base"+sr+" character")}return{encode:cr,decodeUnsafe:ur,decode:hr}}var src$1=base$1;const basex$1=src$1,ALPHABET$2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$2=basex$1(ALPHABET$2);const base58=getDefaultExportFromCjs$2(bs58$2);function __rest(er,s){var tr={};for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&s.indexOf(nr)<0&&(tr[nr]=er[nr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function")for(var rr=0,nr=Object.getOwnPropertySymbols(er);rr<nr.length;rr++)s.indexOf(nr[rr])<0&&Object.prototype.propertyIsEnumerable.call(er,nr[rr])&&(tr[nr[rr]]=er[nr[rr]]);return tr}function __awaiter$1(er,s,tr,nr){function rr(ir){return ir instanceof tr?ir:new tr(function(sr){sr(ir)})}return new(tr||(tr=Promise))(function(ir,sr){function or(cr){try{lr(nr.next(cr))}catch(ur){sr(ur)}}function ar(cr){try{lr(nr.throw(cr))}catch(ur){sr(ur)}}function lr(cr){cr.done?ir(cr.value):rr(cr.value).then(or,ar)}lr((nr=nr.apply(er,[])).next())})}function fromUint8Array(er){return window.btoa(String.fromCharCode.call(null,...er))}function toUint8Array$1(er){return new Uint8Array(window.atob(er).split("").map(s=>s.charCodeAt(0)))}function getPayloadFromTransaction(er){const s="version"in er?er.serialize():er.serialize({requireAllSignatures:!1,verifySignatures:!1});return fromUint8Array(s)}function getTransactionFromWireMessage(er){const tr=er[0]*SIGNATURE_LENGTH_IN_BYTES+1;return VersionedMessage.deserializeMessageVersion(er.slice(tr,er.length))==="legacy"?Transaction.from(er):VersionedTransaction.deserialize(er)}function transact(er,s){return __awaiter$1(this,void 0,void 0,function*(){return yield transact$1(nr=>{const rr=new Proxy({},{get(ir,sr){if(ir[sr]==null)switch(sr){case"signAndSendTransactions":ir[sr]=function(or){var{minContextSlot:ar,commitment:lr,skipPreflight:cr,maxRetries:ur,waitForCommitmentToSendNextTransaction:hr,transactions:dr}=or,pr=__rest(or,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return __awaiter$1(this,void 0,void 0,function*(){const mr=dr.map(getPayloadFromTransaction),xr={min_context_slot:ar,commitment:lr,skip_preflight:cr,max_retries:ur,wait_for_commitment_to_send_next_transaction:hr},{signatures:br}=yield nr.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},pr),Object.values(xr).some(gr=>gr!=null)?{options:xr}:null),{payloads:mr}));return br.map(toUint8Array$1).map(base58.encode)})};break;case"signMessages":ir[sr]=function(or){var{payloads:ar}=or,lr=__rest(or,["payloads"]);return __awaiter$1(this,void 0,void 0,function*(){const cr=ar.map(fromUint8Array),{signed_payloads:ur}=yield nr.signMessages(Object.assign(Object.assign({},lr),{payloads:cr}));return ur.map(toUint8Array$1)})};break;case"signTransactions":ir[sr]=function(or){var{transactions:ar}=or,lr=__rest(or,["transactions"]);return __awaiter$1(this,void 0,void 0,function*(){const cr=ar.map(getPayloadFromTransaction),{signed_payloads:ur}=yield nr.signTransactions(Object.assign(Object.assign({},lr),{payloads:cr}));return ur.map(toUint8Array$1).map(getTransactionFromWireMessage)})};break;default:{ir[sr]=nr[sr];break}}return ir[sr]},defineProperty(){return!1},deleteProperty(){return!1}});return er(rr)},s)})}var canPromise$1=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},qrcode={},utils$3={};let toSJISFunction;const CODEWORDS_COUNT=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];utils$3.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17};utils$3.getSymbolTotalCodewords=function(s){return CODEWORDS_COUNT[s]};utils$3.getBCHDigit=function(er){let s=0;for(;er!==0;)s++,er>>>=1;return s};utils$3.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');toSJISFunction=s};utils$3.isKanjiModeEnabled=function(){return typeof toSJISFunction<"u"};utils$3.toSJIS=function(s){return toSJISFunction(s)};var errorCorrectionLevel={};(function(er){er.L={bit:1},er.M={bit:0},er.Q={bit:3},er.H={bit:2};function s(tr){if(typeof tr!="string")throw new Error("Param is not a string");switch(tr.toLowerCase()){case"l":case"low":return er.L;case"m":case"medium":return er.M;case"q":case"quartile":return er.Q;case"h":case"high":return er.H;default:throw new Error("Unknown EC Level: "+tr)}}er.isValid=function(nr){return nr&&typeof nr.bit<"u"&&nr.bit>=0&&nr.bit<4},er.from=function(nr,rr){if(er.isValid(nr))return nr;try{return s(nr)}catch{return rr}}})(errorCorrectionLevel);function BitBuffer$1(){this.buffer=[],this.length=0}BitBuffer$1.prototype={get:function(er){const s=Math.floor(er/8);return(this.buffer[s]>>>7-er%8&1)===1},put:function(er,s){for(let tr=0;tr<s;tr++)this.putBit((er>>>s-tr-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(er){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),er&&(this.buffer[s]|=128>>>this.length%8),this.length++}};var bitBuffer=BitBuffer$1;function BitMatrix$1(er){if(!er||er<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=er,this.data=new Uint8Array(er*er),this.reservedBit=new Uint8Array(er*er)}BitMatrix$1.prototype.set=function(er,s,tr,nr){const rr=er*this.size+s;this.data[rr]=tr,nr&&(this.reservedBit[rr]=!0)};BitMatrix$1.prototype.get=function(er,s){return this.data[er*this.size+s]};BitMatrix$1.prototype.xor=function(er,s,tr){this.data[er*this.size+s]^=tr};BitMatrix$1.prototype.isReserved=function(er,s){return this.reservedBit[er*this.size+s]};var bitMatrix=BitMatrix$1,alignmentPattern={};(function(er){const s=utils$3.getSymbolSize;er.getRowColCoords=function(nr){if(nr===1)return[];const rr=Math.floor(nr/7)+2,ir=s(nr),sr=ir===145?26:Math.ceil((ir-13)/(2*rr-2))*2,or=[ir-7];for(let ar=1;ar<rr-1;ar++)or[ar]=or[ar-1]-sr;return or.push(6),or.reverse()},er.getPositions=function(nr){const rr=[],ir=er.getRowColCoords(nr),sr=ir.length;for(let or=0;or<sr;or++)for(let ar=0;ar<sr;ar++)or===0&&ar===0||or===0&&ar===sr-1||or===sr-1&&ar===0||rr.push([ir[or],ir[ar]]);return rr}})(alignmentPattern);var finderPattern={};const getSymbolSize=utils$3.getSymbolSize,FINDER_PATTERN_SIZE=7;finderPattern.getPositions=function(s){const tr=getSymbolSize(s);return[[0,0],[tr-FINDER_PATTERN_SIZE,0],[0,tr-FINDER_PATTERN_SIZE]]};var maskPattern={};(function(er){er.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};er.isValid=function(rr){return rr!=null&&rr!==""&&!isNaN(rr)&&rr>=0&&rr<=7},er.from=function(rr){return er.isValid(rr)?parseInt(rr,10):void 0},er.getPenaltyN1=function(rr){const ir=rr.size;let sr=0,or=0,ar=0,lr=null,cr=null;for(let ur=0;ur<ir;ur++){or=ar=0,lr=cr=null;for(let hr=0;hr<ir;hr++){let dr=rr.get(ur,hr);dr===lr?or++:(or>=5&&(sr+=s.N1+(or-5)),lr=dr,or=1),dr=rr.get(hr,ur),dr===cr?ar++:(ar>=5&&(sr+=s.N1+(ar-5)),cr=dr,ar=1)}or>=5&&(sr+=s.N1+(or-5)),ar>=5&&(sr+=s.N1+(ar-5))}return sr},er.getPenaltyN2=function(rr){const ir=rr.size;let sr=0;for(let or=0;or<ir-1;or++)for(let ar=0;ar<ir-1;ar++){const lr=rr.get(or,ar)+rr.get(or,ar+1)+rr.get(or+1,ar)+rr.get(or+1,ar+1);(lr===4||lr===0)&&sr++}return sr*s.N2},er.getPenaltyN3=function(rr){const ir=rr.size;let sr=0,or=0,ar=0;for(let lr=0;lr<ir;lr++){or=ar=0;for(let cr=0;cr<ir;cr++)or=or<<1&2047|rr.get(lr,cr),cr>=10&&(or===1488||or===93)&&sr++,ar=ar<<1&2047|rr.get(cr,lr),cr>=10&&(ar===1488||ar===93)&&sr++}return sr*s.N3},er.getPenaltyN4=function(rr){let ir=0;const sr=rr.data.length;for(let ar=0;ar<sr;ar++)ir+=rr.data[ar];return Math.abs(Math.ceil(ir*100/sr/5)-10)*s.N4};function tr(nr,rr,ir){switch(nr){case er.Patterns.PATTERN000:return(rr+ir)%2===0;case er.Patterns.PATTERN001:return rr%2===0;case er.Patterns.PATTERN010:return ir%3===0;case er.Patterns.PATTERN011:return(rr+ir)%3===0;case er.Patterns.PATTERN100:return(Math.floor(rr/2)+Math.floor(ir/3))%2===0;case er.Patterns.PATTERN101:return rr*ir%2+rr*ir%3===0;case er.Patterns.PATTERN110:return(rr*ir%2+rr*ir%3)%2===0;case er.Patterns.PATTERN111:return(rr*ir%3+(rr+ir)%2)%2===0;default:throw new Error("bad maskPattern:"+nr)}}er.applyMask=function(rr,ir){const sr=ir.size;for(let or=0;or<sr;or++)for(let ar=0;ar<sr;ar++)ir.isReserved(ar,or)||ir.xor(ar,or,tr(rr,ar,or))},er.getBestMask=function(rr,ir){const sr=Object.keys(er.Patterns).length;let or=0,ar=1/0;for(let lr=0;lr<sr;lr++){ir(lr),er.applyMask(lr,rr);const cr=er.getPenaltyN1(rr)+er.getPenaltyN2(rr)+er.getPenaltyN3(rr)+er.getPenaltyN4(rr);er.applyMask(lr,rr),cr<ar&&(ar=cr,or=lr)}return or}})(maskPattern);var errorCorrectionCode={};const ECLevel$1=errorCorrectionLevel,EC_BLOCKS_TABLE=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],EC_CODEWORDS_TABLE=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];errorCorrectionCode.getBlocksCount=function(s,tr){switch(tr){case ECLevel$1.L:return EC_BLOCKS_TABLE[(s-1)*4+0];case ECLevel$1.M:return EC_BLOCKS_TABLE[(s-1)*4+1];case ECLevel$1.Q:return EC_BLOCKS_TABLE[(s-1)*4+2];case ECLevel$1.H:return EC_BLOCKS_TABLE[(s-1)*4+3];default:return}};errorCorrectionCode.getTotalCodewordsCount=function(s,tr){switch(tr){case ECLevel$1.L:return EC_CODEWORDS_TABLE[(s-1)*4+0];case ECLevel$1.M:return EC_CODEWORDS_TABLE[(s-1)*4+1];case ECLevel$1.Q:return EC_CODEWORDS_TABLE[(s-1)*4+2];case ECLevel$1.H:return EC_CODEWORDS_TABLE[(s-1)*4+3];default:return}};var polynomial={},galoisField={};const EXP_TABLE=new Uint8Array(512),LOG_TABLE=new Uint8Array(256);(function(){let s=1;for(let tr=0;tr<255;tr++)EXP_TABLE[tr]=s,LOG_TABLE[s]=tr,s<<=1,s&256&&(s^=285);for(let tr=255;tr<512;tr++)EXP_TABLE[tr]=EXP_TABLE[tr-255]})();galoisField.log=function(s){if(s<1)throw new Error("log("+s+")");return LOG_TABLE[s]};galoisField.exp=function(s){return EXP_TABLE[s]};galoisField.mul=function(s,tr){return s===0||tr===0?0:EXP_TABLE[LOG_TABLE[s]+LOG_TABLE[tr]]};(function(er){const s=galoisField;er.mul=function(nr,rr){const ir=new Uint8Array(nr.length+rr.length-1);for(let sr=0;sr<nr.length;sr++)for(let or=0;or<rr.length;or++)ir[sr+or]^=s.mul(nr[sr],rr[or]);return ir},er.mod=function(nr,rr){let ir=new Uint8Array(nr);for(;ir.length-rr.length>=0;){const sr=ir[0];for(let ar=0;ar<rr.length;ar++)ir[ar]^=s.mul(rr[ar],sr);let or=0;for(;or<ir.length&&ir[or]===0;)or++;ir=ir.slice(or)}return ir},er.generateECPolynomial=function(nr){let rr=new Uint8Array([1]);for(let ir=0;ir<nr;ir++)rr=er.mul(rr,new Uint8Array([1,s.exp(ir)]));return rr}})(polynomial);const Polynomial=polynomial;function ReedSolomonEncoder$1(er){this.genPoly=void 0,this.degree=er,this.degree&&this.initialize(this.degree)}ReedSolomonEncoder$1.prototype.initialize=function(s){this.degree=s,this.genPoly=Polynomial.generateECPolynomial(this.degree)};ReedSolomonEncoder$1.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const tr=new Uint8Array(s.length+this.degree);tr.set(s);const nr=Polynomial.mod(tr,this.genPoly),rr=this.degree-nr.length;if(rr>0){const ir=new Uint8Array(this.degree);return ir.set(nr,rr),ir}return nr};var reedSolomonEncoder=ReedSolomonEncoder$1,version={},mode={},versionCheck={};versionCheck.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40};var regex={};const numeric="[0-9]+",alphanumeric="[A-Z $%*+\\-./:]+";let kanji="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";kanji=kanji.replace(/u/g,"\\u");const byte="(?:(?![A-Z0-9 $%*+\\-./:]|"+kanji+`)(?:.|[\r
]))+`;regex.KANJI=new RegExp(kanji,"g");regex.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");regex.BYTE=new RegExp(byte,"g");regex.NUMERIC=new RegExp(numeric,"g");regex.ALPHANUMERIC=new RegExp(alphanumeric,"g");const TEST_KANJI=new RegExp("^"+kanji+"$"),TEST_NUMERIC=new RegExp("^"+numeric+"$"),TEST_ALPHANUMERIC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");regex.testKanji=function(s){return TEST_KANJI.test(s)};regex.testNumeric=function(s){return TEST_NUMERIC.test(s)};regex.testAlphanumeric=function(s){return TEST_ALPHANUMERIC.test(s)};(function(er){const s=versionCheck,tr=regex;er.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},er.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},er.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},er.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},er.MIXED={bit:-1},er.getCharCountIndicator=function(ir,sr){if(!ir.ccBits)throw new Error("Invalid mode: "+ir);if(!s.isValid(sr))throw new Error("Invalid version: "+sr);return sr>=1&&sr<10?ir.ccBits[0]:sr<27?ir.ccBits[1]:ir.ccBits[2]},er.getBestModeForData=function(ir){return tr.testNumeric(ir)?er.NUMERIC:tr.testAlphanumeric(ir)?er.ALPHANUMERIC:tr.testKanji(ir)?er.KANJI:er.BYTE},er.toString=function(ir){if(ir&&ir.id)return ir.id;throw new Error("Invalid mode")},er.isValid=function(ir){return ir&&ir.bit&&ir.ccBits};function nr(rr){if(typeof rr!="string")throw new Error("Param is not a string");switch(rr.toLowerCase()){case"numeric":return er.NUMERIC;case"alphanumeric":return er.ALPHANUMERIC;case"kanji":return er.KANJI;case"byte":return er.BYTE;default:throw new Error("Unknown mode: "+rr)}}er.from=function(ir,sr){if(er.isValid(ir))return ir;try{return nr(ir)}catch{return sr}}})(mode);(function(er){const s=utils$3,tr=errorCorrectionCode,nr=errorCorrectionLevel,rr=mode,ir=versionCheck,sr=7973,or=s.getBCHDigit(sr);function ar(hr,dr,pr){for(let mr=1;mr<=40;mr++)if(dr<=er.getCapacity(mr,pr,hr))return mr}function lr(hr,dr){return rr.getCharCountIndicator(hr,dr)+4}function cr(hr,dr){let pr=0;return hr.forEach(function(mr){const xr=lr(mr.mode,dr);pr+=xr+mr.getBitsLength()}),pr}function ur(hr,dr){for(let pr=1;pr<=40;pr++)if(cr(hr,pr)<=er.getCapacity(pr,dr,rr.MIXED))return pr}er.from=function(dr,pr){return ir.isValid(dr)?parseInt(dr,10):pr},er.getCapacity=function(dr,pr,mr){if(!ir.isValid(dr))throw new Error("Invalid QR Code version");typeof mr>"u"&&(mr=rr.BYTE);const xr=s.getSymbolTotalCodewords(dr),br=tr.getTotalCodewordsCount(dr,pr),yr=(xr-br)*8;if(mr===rr.MIXED)return yr;const gr=yr-lr(mr,dr);switch(mr){case rr.NUMERIC:return Math.floor(gr/10*3);case rr.ALPHANUMERIC:return Math.floor(gr/11*2);case rr.KANJI:return Math.floor(gr/13);case rr.BYTE:default:return Math.floor(gr/8)}},er.getBestVersionForData=function(dr,pr){let mr;const xr=nr.from(pr,nr.M);if(Array.isArray(dr)){if(dr.length>1)return ur(dr,xr);if(dr.length===0)return 1;mr=dr[0]}else mr=dr;return ar(mr.mode,mr.getLength(),xr)},er.getEncodedBits=function(dr){if(!ir.isValid(dr)||dr<7)throw new Error("Invalid QR Code version");let pr=dr<<12;for(;s.getBCHDigit(pr)-or>=0;)pr^=sr<<s.getBCHDigit(pr)-or;return dr<<12|pr}})(version);var formatInfo={};const Utils$3=utils$3,G15=1335,G15_MASK=21522,G15_BCH=Utils$3.getBCHDigit(G15);formatInfo.getEncodedBits=function(s,tr){const nr=s.bit<<3|tr;let rr=nr<<10;for(;Utils$3.getBCHDigit(rr)-G15_BCH>=0;)rr^=G15<<Utils$3.getBCHDigit(rr)-G15_BCH;return(nr<<10|rr)^G15_MASK};var segments={};const Mode$4=mode;function NumericData(er){this.mode=Mode$4.NUMERIC,this.data=er.toString()}NumericData.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)};NumericData.prototype.getLength=function(){return this.data.length};NumericData.prototype.getBitsLength=function(){return NumericData.getBitsLength(this.data.length)};NumericData.prototype.write=function(s){let tr,nr,rr;for(tr=0;tr+3<=this.data.length;tr+=3)nr=this.data.substr(tr,3),rr=parseInt(nr,10),s.put(rr,10);const ir=this.data.length-tr;ir>0&&(nr=this.data.substr(tr),rr=parseInt(nr,10),s.put(rr,ir*3+1))};var numericData=NumericData;const Mode$3=mode,ALPHA_NUM_CHARS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function AlphanumericData(er){this.mode=Mode$3.ALPHANUMERIC,this.data=er}AlphanumericData.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)};AlphanumericData.prototype.getLength=function(){return this.data.length};AlphanumericData.prototype.getBitsLength=function(){return AlphanumericData.getBitsLength(this.data.length)};AlphanumericData.prototype.write=function(s){let tr;for(tr=0;tr+2<=this.data.length;tr+=2){let nr=ALPHA_NUM_CHARS.indexOf(this.data[tr])*45;nr+=ALPHA_NUM_CHARS.indexOf(this.data[tr+1]),s.put(nr,11)}this.data.length%2&&s.put(ALPHA_NUM_CHARS.indexOf(this.data[tr]),6)};var alphanumericData=AlphanumericData;const Mode$2=mode;function ByteData(er){this.mode=Mode$2.BYTE,typeof er=="string"?this.data=new TextEncoder().encode(er):this.data=new Uint8Array(er)}ByteData.getBitsLength=function(s){return s*8};ByteData.prototype.getLength=function(){return this.data.length};ByteData.prototype.getBitsLength=function(){return ByteData.getBitsLength(this.data.length)};ByteData.prototype.write=function(er){for(let s=0,tr=this.data.length;s<tr;s++)er.put(this.data[s],8)};var byteData=ByteData;const Mode$1=mode,Utils$2=utils$3;function KanjiData(er){this.mode=Mode$1.KANJI,this.data=er}KanjiData.getBitsLength=function(s){return s*13};KanjiData.prototype.getLength=function(){return this.data.length};KanjiData.prototype.getBitsLength=function(){return KanjiData.getBitsLength(this.data.length)};KanjiData.prototype.write=function(er){let s;for(s=0;s<this.data.length;s++){let tr=Utils$2.toSJIS(this.data[s]);if(tr>=33088&&tr<=40956)tr-=33088;else if(tr>=57408&&tr<=60351)tr-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);tr=(tr>>>8&255)*192+(tr&255),er.put(tr,13)}};var kanjiData=KanjiData,dijkstra={exports:{}};(function(er){var s={single_source_shortest_paths:function(tr,nr,rr){var ir={},sr={};sr[nr]=0;var or=s.PriorityQueue.make();or.push(nr,0);for(var ar,lr,cr,ur,hr,dr,pr,mr,xr;!or.empty();){ar=or.pop(),lr=ar.value,ur=ar.cost,hr=tr[lr]||{};for(cr in hr)hr.hasOwnProperty(cr)&&(dr=hr[cr],pr=ur+dr,mr=sr[cr],xr=typeof sr[cr]>"u",(xr||mr>pr)&&(sr[cr]=pr,or.push(cr,pr),ir[cr]=lr))}if(typeof rr<"u"&&typeof sr[rr]>"u"){var br=["Could not find a path from ",nr," to ",rr,"."].join("");throw new Error(br)}return ir},extract_shortest_path_from_predecessor_list:function(tr,nr){for(var rr=[],ir=nr;ir;)rr.push(ir),tr[ir],ir=tr[ir];return rr.reverse(),rr},find_path:function(tr,nr,rr){var ir=s.single_source_shortest_paths(tr,nr,rr);return s.extract_shortest_path_from_predecessor_list(ir,rr)},PriorityQueue:{make:function(tr){var nr=s.PriorityQueue,rr={},ir;tr=tr||{};for(ir in nr)nr.hasOwnProperty(ir)&&(rr[ir]=nr[ir]);return rr.queue=[],rr.sorter=tr.sorter||nr.default_sorter,rr},default_sorter:function(tr,nr){return tr.cost-nr.cost},push:function(tr,nr){var rr={value:tr,cost:nr};this.queue.push(rr),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};er.exports=s})(dijkstra);var dijkstraExports=dijkstra.exports;(function(er){const s=mode,tr=numericData,nr=alphanumericData,rr=byteData,ir=kanjiData,sr=regex,or=utils$3,ar=dijkstraExports;function lr(br){return unescape(encodeURIComponent(br)).length}function cr(br,yr,gr){const Er=[];let kr;for(;(kr=br.exec(gr))!==null;)Er.push({data:kr[0],index:kr.index,mode:yr,length:kr[0].length});return Er}function ur(br){const yr=cr(sr.NUMERIC,s.NUMERIC,br),gr=cr(sr.ALPHANUMERIC,s.ALPHANUMERIC,br);let Er,kr;return or.isKanjiModeEnabled()?(Er=cr(sr.BYTE,s.BYTE,br),kr=cr(sr.KANJI,s.KANJI,br)):(Er=cr(sr.BYTE_KANJI,s.BYTE,br),kr=[]),yr.concat(gr,Er,kr).sort(function(Cr,Dr){return Cr.index-Dr.index}).map(function(Cr){return{data:Cr.data,mode:Cr.mode,length:Cr.length}})}function hr(br,yr){switch(yr){case s.NUMERIC:return tr.getBitsLength(br);case s.ALPHANUMERIC:return nr.getBitsLength(br);case s.KANJI:return ir.getBitsLength(br);case s.BYTE:return rr.getBitsLength(br)}}function dr(br){return br.reduce(function(yr,gr){const Er=yr.length-1>=0?yr[yr.length-1]:null;return Er&&Er.mode===gr.mode?(yr[yr.length-1].data+=gr.data,yr):(yr.push(gr),yr)},[])}function pr(br){const yr=[];for(let gr=0;gr<br.length;gr++){const Er=br[gr];switch(Er.mode){case s.NUMERIC:yr.push([Er,{data:Er.data,mode:s.ALPHANUMERIC,length:Er.length},{data:Er.data,mode:s.BYTE,length:Er.length}]);break;case s.ALPHANUMERIC:yr.push([Er,{data:Er.data,mode:s.BYTE,length:Er.length}]);break;case s.KANJI:yr.push([Er,{data:Er.data,mode:s.BYTE,length:lr(Er.data)}]);break;case s.BYTE:yr.push([{data:Er.data,mode:s.BYTE,length:lr(Er.data)}])}}return yr}function mr(br,yr){const gr={},Er={start:{}};let kr=["start"];for(let Mr=0;Mr<br.length;Mr++){const Cr=br[Mr],Dr=[];for(let zr=0;zr<Cr.length;zr++){const Wr=Cr[zr],Gr=""+Mr+zr;Dr.push(Gr),gr[Gr]={node:Wr,lastCount:0},Er[Gr]={};for(let Kr=0;Kr<kr.length;Kr++){const Lr=kr[Kr];gr[Lr]&&gr[Lr].node.mode===Wr.mode?(Er[Lr][Gr]=hr(gr[Lr].lastCount+Wr.length,Wr.mode)-hr(gr[Lr].lastCount,Wr.mode),gr[Lr].lastCount+=Wr.length):(gr[Lr]&&(gr[Lr].lastCount=Wr.length),Er[Lr][Gr]=hr(Wr.length,Wr.mode)+4+s.getCharCountIndicator(Wr.mode,yr))}}kr=Dr}for(let Mr=0;Mr<kr.length;Mr++)Er[kr[Mr]].end=0;return{map:Er,table:gr}}function xr(br,yr){let gr;const Er=s.getBestModeForData(br);if(gr=s.from(yr,Er),gr!==s.BYTE&&gr.bit<Er.bit)throw new Error('"'+br+'" cannot be encoded with mode '+s.toString(gr)+`.
 Suggested mode is: `+s.toString(Er));switch(gr===s.KANJI&&!or.isKanjiModeEnabled()&&(gr=s.BYTE),gr){case s.NUMERIC:return new tr(br);case s.ALPHANUMERIC:return new nr(br);case s.KANJI:return new ir(br);case s.BYTE:return new rr(br)}}er.fromArray=function(yr){return yr.reduce(function(gr,Er){return typeof Er=="string"?gr.push(xr(Er,null)):Er.data&&gr.push(xr(Er.data,Er.mode)),gr},[])},er.fromString=function(yr,gr){const Er=ur(yr,or.isKanjiModeEnabled()),kr=pr(Er),Mr=mr(kr,gr),Cr=ar.find_path(Mr.map,"start","end"),Dr=[];for(let zr=1;zr<Cr.length-1;zr++)Dr.push(Mr.table[Cr[zr]].node);return er.fromArray(dr(Dr))},er.rawSplit=function(yr){return er.fromArray(ur(yr,or.isKanjiModeEnabled()))}})(segments);const Utils$1=utils$3,ECLevel=errorCorrectionLevel,BitBuffer=bitBuffer,BitMatrix=bitMatrix,AlignmentPattern=alignmentPattern,FinderPattern=finderPattern,MaskPattern=maskPattern,ECCode=errorCorrectionCode,ReedSolomonEncoder=reedSolomonEncoder,Version=version,FormatInfo=formatInfo,Mode=mode,Segments=segments;function setupFinderPattern(er,s){const tr=er.size,nr=FinderPattern.getPositions(s);for(let rr=0;rr<nr.length;rr++){const ir=nr[rr][0],sr=nr[rr][1];for(let or=-1;or<=7;or++)if(!(ir+or<=-1||tr<=ir+or))for(let ar=-1;ar<=7;ar++)sr+ar<=-1||tr<=sr+ar||(or>=0&&or<=6&&(ar===0||ar===6)||ar>=0&&ar<=6&&(or===0||or===6)||or>=2&&or<=4&&ar>=2&&ar<=4?er.set(ir+or,sr+ar,!0,!0):er.set(ir+or,sr+ar,!1,!0))}}function setupTimingPattern(er){const s=er.size;for(let tr=8;tr<s-8;tr++){const nr=tr%2===0;er.set(tr,6,nr,!0),er.set(6,tr,nr,!0)}}function setupAlignmentPattern(er,s){const tr=AlignmentPattern.getPositions(s);for(let nr=0;nr<tr.length;nr++){const rr=tr[nr][0],ir=tr[nr][1];for(let sr=-2;sr<=2;sr++)for(let or=-2;or<=2;or++)sr===-2||sr===2||or===-2||or===2||sr===0&&or===0?er.set(rr+sr,ir+or,!0,!0):er.set(rr+sr,ir+or,!1,!0)}}function setupVersionInfo(er,s){const tr=er.size,nr=Version.getEncodedBits(s);let rr,ir,sr;for(let or=0;or<18;or++)rr=Math.floor(or/3),ir=or%3+tr-8-3,sr=(nr>>or&1)===1,er.set(rr,ir,sr,!0),er.set(ir,rr,sr,!0)}function setupFormatInfo(er,s,tr){const nr=er.size,rr=FormatInfo.getEncodedBits(s,tr);let ir,sr;for(ir=0;ir<15;ir++)sr=(rr>>ir&1)===1,ir<6?er.set(ir,8,sr,!0):ir<8?er.set(ir+1,8,sr,!0):er.set(nr-15+ir,8,sr,!0),ir<8?er.set(8,nr-ir-1,sr,!0):ir<9?er.set(8,15-ir-1+1,sr,!0):er.set(8,15-ir-1,sr,!0);er.set(nr-8,8,1,!0)}function setupData(er,s){const tr=er.size;let nr=-1,rr=tr-1,ir=7,sr=0;for(let or=tr-1;or>0;or-=2)for(or===6&&or--;;){for(let ar=0;ar<2;ar++)if(!er.isReserved(rr,or-ar)){let lr=!1;sr<s.length&&(lr=(s[sr]>>>ir&1)===1),er.set(rr,or-ar,lr),ir--,ir===-1&&(sr++,ir=7)}if(rr+=nr,rr<0||tr<=rr){rr-=nr,nr=-nr;break}}}function createData(er,s,tr){const nr=new BitBuffer;tr.forEach(function(ar){nr.put(ar.mode.bit,4),nr.put(ar.getLength(),Mode.getCharCountIndicator(ar.mode,er)),ar.write(nr)});const rr=Utils$1.getSymbolTotalCodewords(er),ir=ECCode.getTotalCodewordsCount(er,s),sr=(rr-ir)*8;for(nr.getLengthInBits()+4<=sr&&nr.put(0,4);nr.getLengthInBits()%8!==0;)nr.putBit(0);const or=(sr-nr.getLengthInBits())/8;for(let ar=0;ar<or;ar++)nr.put(ar%2?17:236,8);return createCodewords(nr,er,s)}function createCodewords(er,s,tr){const nr=Utils$1.getSymbolTotalCodewords(s),rr=ECCode.getTotalCodewordsCount(s,tr),ir=nr-rr,sr=ECCode.getBlocksCount(s,tr),or=nr%sr,ar=sr-or,lr=Math.floor(nr/sr),cr=Math.floor(ir/sr),ur=cr+1,hr=lr-cr,dr=new ReedSolomonEncoder(hr);let pr=0;const mr=new Array(sr),xr=new Array(sr);let br=0;const yr=new Uint8Array(er.buffer);for(let Cr=0;Cr<sr;Cr++){const Dr=Cr<ar?cr:ur;mr[Cr]=yr.slice(pr,pr+Dr),xr[Cr]=dr.encode(mr[Cr]),pr+=Dr,br=Math.max(br,Dr)}const gr=new Uint8Array(nr);let Er=0,kr,Mr;for(kr=0;kr<br;kr++)for(Mr=0;Mr<sr;Mr++)kr<mr[Mr].length&&(gr[Er++]=mr[Mr][kr]);for(kr=0;kr<hr;kr++)for(Mr=0;Mr<sr;Mr++)gr[Er++]=xr[Mr][kr];return gr}function createSymbol(er,s,tr,nr){let rr;if(Array.isArray(er))rr=Segments.fromArray(er);else if(typeof er=="string"){let lr=s;if(!lr){const cr=Segments.rawSplit(er);lr=Version.getBestVersionForData(cr,tr)}rr=Segments.fromString(er,lr||40)}else throw new Error("Invalid data");const ir=Version.getBestVersionForData(rr,tr);if(!ir)throw new Error("The amount of data is too big to be stored in a QR Code");if(!s)s=ir;else if(s<ir)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ir+`.
`);const sr=createData(s,tr,rr),or=Utils$1.getSymbolSize(s),ar=new BitMatrix(or);return setupFinderPattern(ar,s),setupTimingPattern(ar),setupAlignmentPattern(ar,s),setupFormatInfo(ar,tr,0),s>=7&&setupVersionInfo(ar,s),setupData(ar,sr),isNaN(nr)&&(nr=MaskPattern.getBestMask(ar,setupFormatInfo.bind(null,ar,tr))),MaskPattern.applyMask(nr,ar),setupFormatInfo(ar,tr,nr),{modules:ar,version:s,errorCorrectionLevel:tr,maskPattern:nr,segments:rr}}qrcode.create=function(s,tr){if(typeof s>"u"||s==="")throw new Error("No input text");let nr=ECLevel.M,rr,ir;return typeof tr<"u"&&(nr=ECLevel.from(tr.errorCorrectionLevel,ECLevel.M),rr=Version.from(tr.version),ir=MaskPattern.from(tr.maskPattern),tr.toSJISFunc&&Utils$1.setToSJISFunction(tr.toSJISFunc)),createSymbol(s,rr,nr,ir)};var canvas={},utils$2={};(function(er){function s(tr){if(typeof tr=="number"&&(tr=tr.toString()),typeof tr!="string")throw new Error("Color should be defined as hex string");let nr=tr.slice().replace("#","").split("");if(nr.length<3||nr.length===5||nr.length>8)throw new Error("Invalid hex color: "+tr);(nr.length===3||nr.length===4)&&(nr=Array.prototype.concat.apply([],nr.map(function(ir){return[ir,ir]}))),nr.length===6&&nr.push("F","F");const rr=parseInt(nr.join(""),16);return{r:rr>>24&255,g:rr>>16&255,b:rr>>8&255,a:rr&255,hex:"#"+nr.slice(0,6).join("")}}er.getOptions=function(nr){nr||(nr={}),nr.color||(nr.color={});const rr=typeof nr.margin>"u"||nr.margin===null||nr.margin<0?4:nr.margin,ir=nr.width&&nr.width>=21?nr.width:void 0,sr=nr.scale||4;return{width:ir,scale:ir?4:sr,margin:rr,color:{dark:s(nr.color.dark||"#000000ff"),light:s(nr.color.light||"#ffffffff")},type:nr.type,rendererOpts:nr.rendererOpts||{}}},er.getScale=function(nr,rr){return rr.width&&rr.width>=nr+rr.margin*2?rr.width/(nr+rr.margin*2):rr.scale},er.getImageWidth=function(nr,rr){const ir=er.getScale(nr,rr);return Math.floor((nr+rr.margin*2)*ir)},er.qrToImageData=function(nr,rr,ir){const sr=rr.modules.size,or=rr.modules.data,ar=er.getScale(sr,ir),lr=Math.floor((sr+ir.margin*2)*ar),cr=ir.margin*ar,ur=[ir.color.light,ir.color.dark];for(let hr=0;hr<lr;hr++)for(let dr=0;dr<lr;dr++){let pr=(hr*lr+dr)*4,mr=ir.color.light;if(hr>=cr&&dr>=cr&&hr<lr-cr&&dr<lr-cr){const xr=Math.floor((hr-cr)/ar),br=Math.floor((dr-cr)/ar);mr=ur[or[xr*sr+br]?1:0]}nr[pr++]=mr.r,nr[pr++]=mr.g,nr[pr++]=mr.b,nr[pr]=mr.a}}})(utils$2);(function(er){const s=utils$2;function tr(rr,ir,sr){rr.clearRect(0,0,ir.width,ir.height),ir.style||(ir.style={}),ir.height=sr,ir.width=sr,ir.style.height=sr+"px",ir.style.width=sr+"px"}function nr(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}er.render=function(ir,sr,or){let ar=or,lr=sr;typeof ar>"u"&&(!sr||!sr.getContext)&&(ar=sr,sr=void 0),sr||(lr=nr()),ar=s.getOptions(ar);const cr=s.getImageWidth(ir.modules.size,ar),ur=lr.getContext("2d"),hr=ur.createImageData(cr,cr);return s.qrToImageData(hr.data,ir,ar),tr(ur,lr,cr),ur.putImageData(hr,0,0),lr},er.renderToDataURL=function(ir,sr,or){let ar=or;typeof ar>"u"&&(!sr||!sr.getContext)&&(ar=sr,sr=void 0),ar||(ar={});const lr=er.render(ir,sr,ar),cr=ar.type||"image/png",ur=ar.rendererOpts||{};return lr.toDataURL(cr,ur.quality)}})(canvas);var svgTag={};const Utils=utils$2;function getColorAttrib(er,s){const tr=er.a/255,nr=s+'="'+er.hex+'"';return tr<1?nr+" "+s+'-opacity="'+tr.toFixed(2).slice(1)+'"':nr}function svgCmd(er,s,tr){let nr=er+s;return typeof tr<"u"&&(nr+=" "+tr),nr}function qrToPath(er,s,tr){let nr="",rr=0,ir=!1,sr=0;for(let or=0;or<er.length;or++){const ar=Math.floor(or%s),lr=Math.floor(or/s);!ar&&!ir&&(ir=!0),er[or]?(sr++,or>0&&ar>0&&er[or-1]||(nr+=ir?svgCmd("M",ar+tr,.5+lr+tr):svgCmd("m",rr,0),rr=0,ir=!1),ar+1<s&&er[or+1]||(nr+=svgCmd("h",sr),sr=0)):rr++}return nr}svgTag.render=function(s,tr,nr){const rr=Utils.getOptions(tr),ir=s.modules.size,sr=s.modules.data,or=ir+rr.margin*2,ar=rr.color.light.a?"<path "+getColorAttrib(rr.color.light,"fill")+' d="M0 0h'+or+"v"+or+'H0z"/>':"",lr="<path "+getColorAttrib(rr.color.dark,"stroke")+' d="'+qrToPath(sr,ir,rr.margin)+'"/>',cr='viewBox="0 0 '+or+" "+or+'"',hr='<svg xmlns="http://www.w3.org/2000/svg" '+(rr.width?'width="'+rr.width+'" height="'+rr.width+'" ':"")+cr+' shape-rendering="crispEdges">'+ar+lr+`</svg>
`;return typeof nr=="function"&&nr(null,hr),hr};const canPromise=canPromise$1,QRCode=qrcode,CanvasRenderer=canvas,SvgRenderer=svgTag;function renderCanvas(er,s,tr,nr,rr){const ir=[].slice.call(arguments,1),sr=ir.length,or=typeof ir[sr-1]=="function";if(!or&&!canPromise())throw new Error("Callback required as last argument");if(or){if(sr<2)throw new Error("Too few arguments provided");sr===2?(rr=tr,tr=s,s=nr=void 0):sr===3&&(s.getContext&&typeof rr>"u"?(rr=nr,nr=void 0):(rr=nr,nr=tr,tr=s,s=void 0))}else{if(sr<1)throw new Error("Too few arguments provided");return sr===1?(tr=s,s=nr=void 0):sr===2&&!s.getContext&&(nr=tr,tr=s,s=void 0),new Promise(function(ar,lr){try{const cr=QRCode.create(tr,nr);ar(er(cr,s,nr))}catch(cr){lr(cr)}})}try{const ar=QRCode.create(tr,nr);rr(null,er(ar,s,nr))}catch(ar){rr(ar)}}QRCode.create;renderCanvas.bind(null,CanvasRenderer.render);renderCanvas.bind(null,CanvasRenderer.renderToDataURL);renderCanvas.bind(null,function(er,s,tr){return SvgRenderer.render(er,tr)});function __awaiter(er,s,tr,nr){function rr(ir){return ir instanceof tr?ir:new tr(function(sr){sr(ir)})}return new(tr||(tr=Promise))(function(ir,sr){function or(cr){try{lr(nr.next(cr))}catch(ur){sr(ur)}}function ar(cr){try{lr(nr.throw(cr))}catch(ur){sr(ur)}}function lr(cr){cr.done?ir(cr.value):rr(cr.value).then(or,ar)}lr((nr=nr.apply(er,[])).next())})}function toUint8Array(er){return new Uint8Array(window.atob(er).split("").map(s=>s.charCodeAt(0)))}function getIsSupported$1(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const SolanaMobileWalletAdapterWalletName="Mobile Wallet Adapter",SIGNATURE_LENGTH_IN_BYTES$1=64;function getPublicKeyFromAddress$1(er){const s=toUint8Array(er);return new PublicKey(s)}function isVersionedTransaction(er){return"version"in er}function clusterToChainId(er){switch(er){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}class SolanaMobileWalletAdapter extends BaseSignInMessageSignerWalletAdapter{constructor(s){var tr;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=SolanaMobileWalletAdapterWalletName,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=getIsSupported$1()?WalletReadyState.Loadable:WalletReadyState.Unsupported,this._authorizationResultCache=s.authorizationResultCache,this._addressSelector=s.addressSelector,this._appIdentity=s.appIdentity,this._chain=(tr=s.chain)!==null&&tr!==void 0?tr:clusterToChainId(s.cluster),this._hostAuthority=s.remoteHostAuthority,this._onWalletNotFound=s.onWalletNotFound,this._readyState!==WalletReadyState.Unsupported&&this._authorizationResultCache.get().then(nr=>{nr&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=getPublicKeyFromAddress$1(this._selectedAddress)}catch(s){throw new WalletPublicKeyError(s instanceof Error&&(s==null?void 0:s.message)||"Unknown error",s)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==WalletReadyState.Installed&&this.emit("readyStateChange",this._readyState=WalletReadyState.Installed)}runWithGuard(s){return __awaiter(this,void 0,void 0,function*(){try{return yield s()}catch(tr){throw this.emit("error",tr),tr}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return __awaiter(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return __awaiter(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const s=yield this._authorizationResultCache.get();s&&this.handleAuthorizationResult(s)}catch(s){throw new WalletConnectionError(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}connect(){return __awaiter(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{yield this.performAuthorization()}catch(s){throw new WalletConnectionError(s instanceof Error&&s.message||"Unknown error",s)}finally{this._connecting=!1}}))})}performAuthorization(s){return __awaiter(this,void 0,void 0,function*(){try{const tr=yield this._authorizationResultCache.get();return tr?(this.handleAuthorizationResult(tr),tr):yield this.transact(nr=>__awaiter(this,void 0,void 0,function*(){const rr=yield nr.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:s});return Promise.all([this._authorizationResultCache.set(rr),this.handleAuthorizationResult(rr)]),rr}))}catch(tr){throw new WalletConnectionError(tr instanceof Error&&tr.message||"Unknown error",tr)}})}handleAuthorizationResult(s){var tr;return __awaiter(this,void 0,void 0,function*(){const nr=this._authorizationResult==null||((tr=this._authorizationResult)===null||tr===void 0?void 0:tr.accounts.length)!==s.accounts.length||this._authorizationResult.accounts.some((rr,ir)=>rr.address!==s.accounts[ir].address);if(this._authorizationResult=s,this.declareWalletAsInstalled(),nr){const rr=yield this._addressSelector.select(s.accounts.map(({address:ir})=>ir));rr!==this._selectedAddress&&(this._selectedAddress=rr,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(s,tr){return __awaiter(this,void 0,void 0,function*(){try{const nr=yield s.authorize({auth_token:tr,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(nr),this.handleAuthorizationResult(nr)])}catch(nr){throw this.disconnect(),new WalletDisconnectedError(nr instanceof Error&&(nr==null?void 0:nr.message)||"Unknown error",nr)}})}disconnect(){return __awaiter(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(s){var tr;return __awaiter(this,void 0,void 0,function*(){const nr=(tr=this._authorizationResult)===null||tr===void 0?void 0:tr.wallet_uri_base,rr=nr?{baseUri:nr}:void 0,ir=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,sr=this._connectionGeneration;try{return yield transact(s,Object.assign(Object.assign({},rr),ir))}catch(or){throw this._connectionGeneration!==sr&&(yield new Promise(()=>{})),or instanceof Error&&or.name==="SolanaMobileWalletAdapterError"&&or.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),or}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new WalletNotConnectedError;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(s){return __awaiter(this,void 0,void 0,function*(){const{authToken:tr}=this.assertIsAuthorized();try{return yield this.transact(nr=>__awaiter(this,void 0,void 0,function*(){return yield this.performReauthorization(nr,tr),yield nr.signTransactions({transactions:s})}))}catch(nr){throw new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}})}sendTransaction(s,tr,nr){return __awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){const{authToken:rr}=this.assertIsAuthorized(),ir=nr==null?void 0:nr.minContextSlot;try{return yield this.transact(sr=>__awaiter(this,void 0,void 0,function*(){function or(){let ur;switch(tr.commitment){case"confirmed":case"finalized":case"processed":ur=tr.commitment;break;default:ur="finalized"}let hr;switch(nr==null?void 0:nr.preflightCommitment){case"confirmed":case"finalized":case"processed":hr=nr.preflightCommitment;break;case void 0:hr=ur;break;default:hr="finalized"}return(hr==="finalized"?2:hr==="confirmed"?1:0)<(ur==="finalized"?2:ur==="confirmed"?1:0)?hr:ur}const[ar,lr,cr]=yield Promise.all([sr.getCapabilities(),this.performReauthorization(sr,rr),isVersionedTransaction(s)?null:__awaiter(this,void 0,void 0,function*(){var ur;if(s.feePayer||(s.feePayer=(ur=this.publicKey)!==null&&ur!==void 0?ur:void 0),s.recentBlockhash==null){const{blockhash:hr}=yield tr.getLatestBlockhash({commitment:or()});s.recentBlockhash=hr}})]);if(ar.supports_sign_and_send_transactions)return(yield sr.signAndSendTransactions({minContextSlot:ir,transactions:[s]}))[0];{const[ur]=yield sr.signTransactions({transactions:[s]});if(isVersionedTransaction(ur))return yield tr.sendTransaction(ur);{const hr=ur.serialize();return yield tr.sendRawTransaction(hr,Object.assign(Object.assign({},nr),{preflightCommitment:or()}))}}}))}catch(sr){throw new WalletSendTransactionError(sr==null?void 0:sr.message,sr)}}))})}signTransaction(s){return __awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){const[tr]=yield this.performSignTransactions([s]);return tr}))})}signAllTransactions(s){return __awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){return yield this.performSignTransactions(s)}))})}signMessage(s){return __awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){const{authToken:tr,selectedAddress:nr}=this.assertIsAuthorized();try{return yield this.transact(rr=>__awaiter(this,void 0,void 0,function*(){yield this.performReauthorization(rr,tr);const[ir]=yield rr.signMessages({addresses:[nr],payloads:[s]});return ir.slice(-SIGNATURE_LENGTH_IN_BYTES$1)}))}catch(rr){throw new WalletSignMessageError(rr==null?void 0:rr.message,rr)}}))})}signIn(s){return __awaiter(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter(this,void 0,void 0,function*(){var tr,nr;if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const rr=yield this.performAuthorization(Object.assign(Object.assign({},s),{domain:(tr=s==null?void 0:s.domain)!==null&&tr!==void 0?tr:window.location.host}));if(!rr.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const ir=rr.sign_in_result.address;return{account:Object.assign(Object.assign({},(nr=rr.accounts.find(or=>or.address==ir))!==null&&nr!==void 0?nr:{address:ir}),{publicKey:toUint8Array(ir)}),signedMessage:toUint8Array(rr.sign_in_result.signed_message),signature:toUint8Array(rr.sign_in_result.signature)}}catch(rr){throw new WalletConnectionError(rr instanceof Error&&rr.message||"Unknown error",rr)}finally{this._connecting=!1}}))})}}function createDefaultAddressSelector(){return{select(er){return __awaiter(this,void 0,void 0,function*(){return er[0]})}}}const CACHE_KEY="SolanaMobileWalletAdapterDefaultAuthorizationCache";function createDefaultAuthorizationResultCache(){let er;try{er=window.localStorage}catch{}return{clear(){return __awaiter(this,void 0,void 0,function*(){if(er)try{er.removeItem(CACHE_KEY)}catch{}})},get(){return __awaiter(this,void 0,void 0,function*(){if(er)try{return JSON.parse(er.getItem(CACHE_KEY))||void 0}catch{}})},set(s){return __awaiter(this,void 0,void 0,function*(){if(er)try{er.setItem(CACHE_KEY,JSON.stringify(s))}catch{}})}}}function defaultWalletNotFoundHandler(er){return __awaiter(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(er.url)})}function createDefaultWalletNotFoundHandler(){return defaultWalletNotFoundHandler}var __classPrivateFieldGet$3=function(er,s,tr,nr){if(tr==="a"&&!nr)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?er!==s||!nr:!s.has(er))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tr==="m"?nr:tr==="a"?nr.call(er):nr?nr.value:s.get(er)},__classPrivateFieldSet$3=function(er,s,tr,nr,rr){if(nr==="m")throw new TypeError("Private method is not writable");if(nr==="a"&&!rr)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?er!==s||!rr:!s.has(er))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nr==="a"?rr.call(er,tr):rr?rr.value=tr:s.set(er,tr),tr},_RegisterWalletEvent_detail;function registerWallet(er){const s=({register:tr})=>tr(er);try{window.dispatchEvent(new RegisterWalletEvent(s))}catch(tr){console.error(`wallet-standard:register-wallet event could not be dispatched
`,tr)}try{window.addEventListener("wallet-standard:app-ready",({detail:tr})=>s(tr))}catch(tr){console.error(`wallet-standard:app-ready event listener could not be added
`,tr)}}class RegisterWalletEvent extends Event{get detail(){return __classPrivateFieldGet$3(this,_RegisterWalletEvent_detail,"f")}get type(){return"wallet-standard:register-wallet"}constructor(s){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),_RegisterWalletEvent_detail.set(this,void 0),__classPrivateFieldSet$3(this,_RegisterWalletEvent_detail,s,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_RegisterWalletEvent_detail=new WeakMap;function arraysEqual(er,s){if(er===s)return!0;const tr=er.length;if(tr!==s.length)return!1;for(let nr=0;nr<tr;nr++)if(er[nr]!==s[nr])return!1;return!0}var __classPrivateFieldSet$2=function(er,s,tr,nr,rr){if(nr==="m")throw new TypeError("Private method is not writable");if(nr==="a"&&!rr)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?er!==s||!rr:!s.has(er))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nr==="a"?rr.call(er,tr):rr?rr.value=tr:s.set(er,tr),tr},__classPrivateFieldGet$2=function(er,s,tr,nr){if(tr==="a"&&!nr)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?er!==s||!nr:!s.has(er))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tr==="m"?nr:tr==="a"?nr.call(er):nr?nr.value:s.get(er)},_StandardWalletAdapter_instances,_StandardWalletAdapter_account,_StandardWalletAdapter_publicKey,_StandardWalletAdapter_connecting,_StandardWalletAdapter_disconnecting,_StandardWalletAdapter_off,_StandardWalletAdapter_supportedTransactionVersions,_StandardWalletAdapter_wallet,_StandardWalletAdapter_readyState,_StandardWalletAdapter_connect,_StandardWalletAdapter_connected,_StandardWalletAdapter_disconnected,_StandardWalletAdapter_reset,_StandardWalletAdapter_changed,_StandardWalletAdapter_signTransaction,_StandardWalletAdapter_signAllTransactions,_StandardWalletAdapter_signMessage,_StandardWalletAdapter_signIn;class StandardWalletAdapter extends BaseWalletAdapter{constructor({wallet:s}){super(),_StandardWalletAdapter_instances.add(this),_StandardWalletAdapter_account.set(this,void 0),_StandardWalletAdapter_publicKey.set(this,void 0),_StandardWalletAdapter_connecting.set(this,void 0),_StandardWalletAdapter_disconnecting.set(this,void 0),_StandardWalletAdapter_off.set(this,void 0),_StandardWalletAdapter_supportedTransactionVersions.set(this,void 0),_StandardWalletAdapter_wallet.set(this,void 0),_StandardWalletAdapter_readyState.set(this,typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Installed),_StandardWalletAdapter_changed.set(this,tr=>{if("accounts"in tr){const nr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").accounts[0];__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f")&&!__classPrivateFieldGet$2(this,_StandardWalletAdapter_disconnecting,"f")&&nr!==__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f")&&(nr?__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,nr):(this.emit("error",new WalletDisconnectedError),__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this)))}"features"in tr&&__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this)}),__classPrivateFieldSet$2(this,_StandardWalletAdapter_wallet,s,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_account,null,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_publicKey,null,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_connecting,!1,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_disconnecting,!1,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_off,__classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[StandardEvents].on("change",__classPrivateFieldGet$2(this,_StandardWalletAdapter_changed,"f")),"f"),__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this)}get name(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").icon}get readyState(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_readyState,"f")}get publicKey(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_publicKey,"f")}get connecting(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_connecting,"f")}get supportedTransactionVersions(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_supportedTransactionVersions,"f")}get wallet(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f")}get standard(){return!0}destroy(){__classPrivateFieldSet$2(this,_StandardWalletAdapter_account,null,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_publicKey,null,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_connecting,!1,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_disconnecting,!1,"f");const s=__classPrivateFieldGet$2(this,_StandardWalletAdapter_off,"f");s&&(__classPrivateFieldSet$2(this,_StandardWalletAdapter_off,null,"f"),s())}async autoConnect(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connect).call(this,{silent:!0})}async connect(){return __classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connect).call(this)}async disconnect(){if(StandardDisconnect in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features)try{__classPrivateFieldSet$2(this,_StandardWalletAdapter_disconnecting,!0,"f"),await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[StandardDisconnect].disconnect()}catch(s){this.emit("error",new WalletDisconnectionError(s==null?void 0:s.message,s))}finally{__classPrivateFieldSet$2(this,_StandardWalletAdapter_disconnecting,!1,"f")}__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this)}async sendTransaction(s,tr,nr={}){try{const rr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f");if(!rr)throw new WalletNotConnectedError;let ir;if(SolanaSignAndSendTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features)if(rr.features.includes(SolanaSignAndSendTransaction))ir=SolanaSignAndSendTransaction;else if(SolanaSignTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features&&rr.features.includes(SolanaSignTransaction))ir=SolanaSignTransaction;else throw new WalletAccountError;else if(SolanaSignTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features){if(!rr.features.includes(SolanaSignTransaction))throw new WalletAccountError;ir=SolanaSignTransaction}else throw new WalletConfigError;const sr=getChainForEndpoint(tr.rpcEndpoint);if(!rr.chains.includes(sr))throw new WalletSendTransactionError;try{const{signers:or,...ar}=nr;let lr;if(isVersionedTransaction$1(s)?(or!=null&&or.length&&s.sign(or),lr=s.serialize()):(s=await this.prepareTransaction(s,tr,ar),or!=null&&or.length&&s.partialSign(...or),lr=new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))),ir===SolanaSignAndSendTransaction){const[cr]=await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignAndSendTransaction].signAndSendTransaction({account:rr,chain:sr,transaction:lr,options:{preflightCommitment:getCommitment(ar.preflightCommitment||tr.commitment),skipPreflight:ar.skipPreflight,maxRetries:ar.maxRetries,minContextSlot:ar.minContextSlot}});return base58.encode(cr.signature)}else{const[cr]=await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].signTransaction({account:rr,chain:sr,transaction:lr,options:{preflightCommitment:getCommitment(ar.preflightCommitment||tr.commitment),minContextSlot:ar.minContextSlot}});return await tr.sendRawTransaction(cr.signedTransaction,{...ar,preflightCommitment:getCommitment(ar.preflightCommitment||tr.commitment)})}}catch(or){throw or instanceof WalletError?or:new WalletSendTransactionError(or==null?void 0:or.message,or)}}catch(rr){throw this.emit("error",rr),rr}}}_StandardWalletAdapter_account=new WeakMap,_StandardWalletAdapter_publicKey=new WeakMap,_StandardWalletAdapter_connecting=new WeakMap,_StandardWalletAdapter_disconnecting=new WeakMap,_StandardWalletAdapter_off=new WeakMap,_StandardWalletAdapter_supportedTransactionVersions=new WeakMap,_StandardWalletAdapter_wallet=new WeakMap,_StandardWalletAdapter_readyState=new WeakMap,_StandardWalletAdapter_changed=new WeakMap,_StandardWalletAdapter_instances=new WeakSet,_StandardWalletAdapter_connect=async function(s){try{if(this.connected||this.connecting)return;if(__classPrivateFieldGet$2(this,_StandardWalletAdapter_readyState,"f")!==WalletReadyState.Installed)throw new WalletNotReadyError;if(__classPrivateFieldSet$2(this,_StandardWalletAdapter_connecting,!0,"f"),!__classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").accounts.length)try{await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[StandardConnect].connect(s)}catch(nr){throw new WalletConnectionError(nr==null?void 0:nr.message,nr)}const tr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").accounts[0];if(!tr)throw new WalletAccountError;__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,tr)}catch(tr){throw this.emit("error",tr),tr}finally{__classPrivateFieldSet$2(this,_StandardWalletAdapter_connecting,!1,"f")}},_StandardWalletAdapter_connected=function(s){let tr;try{tr=new PublicKey(s.address)}catch(nr){throw new WalletPublicKeyError(nr==null?void 0:nr.message,nr)}__classPrivateFieldSet$2(this,_StandardWalletAdapter_account,s,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_publicKey,tr,"f"),__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this),this.emit("connect",tr)},_StandardWalletAdapter_disconnected=function(){__classPrivateFieldSet$2(this,_StandardWalletAdapter_account,null,"f"),__classPrivateFieldSet$2(this,_StandardWalletAdapter_publicKey,null,"f"),__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_reset).call(this),this.emit("disconnect")},_StandardWalletAdapter_reset=function(){var tr,nr;const s=SolanaSignAndSendTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features?__classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignAndSendTransaction].supportedTransactionVersions:__classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].supportedTransactionVersions;__classPrivateFieldSet$2(this,_StandardWalletAdapter_supportedTransactionVersions,arraysEqual(s,["legacy"])?null:new Set(s),"f"),SolanaSignTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features&&((tr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f"))!=null&&tr.features.includes(SolanaSignTransaction))?(this.signTransaction=__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signTransaction),this.signAllTransactions=__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signAllTransactions)):(delete this.signTransaction,delete this.signAllTransactions),SolanaSignMessage in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features&&((nr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f"))!=null&&nr.features.includes(SolanaSignMessage))?this.signMessage=__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signMessage):delete this.signMessage,SolanaSignIn in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features?this.signIn=__classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signIn):delete this.signIn},_StandardWalletAdapter_signTransaction=async function(s){try{const tr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f");if(!tr)throw new WalletNotConnectedError;if(!(SolanaSignTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!tr.features.includes(SolanaSignTransaction))throw new WalletAccountError;try{const rr=(await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].signTransaction({account:tr,transaction:isVersionedTransaction$1(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return isVersionedTransaction$1(s)?VersionedTransaction.deserialize(rr):Transaction.from(rr)}catch(nr){throw nr instanceof WalletError?nr:new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}},_StandardWalletAdapter_signAllTransactions=async function(s){try{const tr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f");if(!tr)throw new WalletNotConnectedError;if(!(SolanaSignTransaction in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!tr.features.includes(SolanaSignTransaction))throw new WalletAccountError;try{const nr=await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignTransaction].signTransaction(...s.map(rr=>({account:tr,transaction:isVersionedTransaction$1(rr)?rr.serialize():new Uint8Array(rr.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return s.map((rr,ir)=>{const sr=nr[ir].signedTransaction;return isVersionedTransaction$1(rr)?VersionedTransaction.deserialize(sr):Transaction.from(sr)})}catch(nr){throw new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}},_StandardWalletAdapter_signMessage=async function(s){try{const tr=__classPrivateFieldGet$2(this,_StandardWalletAdapter_account,"f");if(!tr)throw new WalletNotConnectedError;if(!(SolanaSignMessage in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!tr.features.includes(SolanaSignMessage))throw new WalletAccountError;try{return(await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignMessage].signMessage({account:tr,message:s}))[0].signature}catch(nr){throw new WalletSignMessageError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}},_StandardWalletAdapter_signIn=async function(s={}){try{if(!(SolanaSignIn in __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;let tr;try{[tr]=await __classPrivateFieldGet$2(this,_StandardWalletAdapter_wallet,"f").features[SolanaSignIn].signIn(s)}catch(nr){throw new WalletSignInError(nr==null?void 0:nr.message,nr)}if(!tr)throw new WalletSignInError;return __classPrivateFieldGet$2(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,tr.account),tr}catch(tr){throw this.emit("error",tr),tr}};const isWalletAdapterCompatibleWallet=isWalletAdapterCompatibleStandardWallet;var __classPrivateFieldGet$1=function(er,s,tr,nr){if(tr==="a"&&!nr)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?er!==s||!nr:!s.has(er))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tr==="m"?nr:tr==="a"?nr.call(er):nr?nr.value:s.get(er)},__classPrivateFieldSet$1=function(er,s,tr,nr,rr){if(nr==="m")throw new TypeError("Private method is not writable");if(nr==="a"&&!rr)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?er!==s||!rr:!s.has(er))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nr==="a"?rr.call(er,tr):rr?rr.value=tr:s.set(er,tr),tr},_AppReadyEvent_detail;let wallets;const registeredWalletsSet=new Set;function addRegisteredWallet(er){cachedWalletsArray=void 0,registeredWalletsSet.add(er)}function removeRegisteredWallet(er){cachedWalletsArray=void 0,registeredWalletsSet.delete(er)}const listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register:register$1,get:get$1,on:on$1}),typeof window>"u"))return wallets;const er=Object.freeze({register:register$1});try{window.addEventListener("wallet-standard:register-wallet",({detail:s})=>s(er))}catch(s){console.error(`wallet-standard:register-wallet event listener could not be added
`,s)}try{window.dispatchEvent(new AppReadyEvent(er))}catch(s){console.error(`wallet-standard:app-ready event could not be dispatched
`,s)}return wallets}function register$1(...er){var s;return er=er.filter(tr=>!registeredWalletsSet.has(tr)),er.length?(er.forEach(tr=>addRegisteredWallet(tr)),(s=listeners.register)==null||s.forEach(tr=>guard(()=>tr(...er))),function(){var nr;er.forEach(rr=>removeRegisteredWallet(rr)),(nr=listeners.unregister)==null||nr.forEach(rr=>guard(()=>rr(...er)))}):()=>{}}let cachedWalletsArray;function get$1(){return cachedWalletsArray||(cachedWalletsArray=[...registeredWalletsSet]),cachedWalletsArray}function on$1(er,s){var tr;return(tr=listeners[er])!=null&&tr.push(s)||(listeners[er]=[s]),function(){var rr;listeners[er]=(rr=listeners[er])==null?void 0:rr.filter(ir=>s!==ir)}}function guard(er){try{er()}catch(s){console.error(s)}}class AppReadyEvent extends Event{get detail(){return __classPrivateFieldGet$1(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}constructor(s){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet$1(this,_AppReadyEvent_detail,s,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;function DEPRECATED_getWallets(){if(wallets||(wallets=getWallets(),typeof window>"u"))return wallets;const er=window.navigator.wallets||[];if(!Array.isArray(er))return console.error("window.navigator.wallets is not an array"),wallets;const{register:s}=wallets,tr=(...nr)=>nr.forEach(rr=>guard(()=>rr({register:s})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:tr})})}catch{return console.error("window.navigator.wallets could not be set"),wallets}return tr(...er),wallets}function useStandardWalletAdapters(er){const s=useConstant(()=>new Set),{get:tr,on:nr}=useConstant(()=>DEPRECATED_getWallets()),[rr,ir]=reactExports.useState(()=>wrapWalletsWithAdapters(tr()));reactExports.useEffect(()=>{const or=[nr("register",(...ar)=>ir(lr=>[...lr,...wrapWalletsWithAdapters(ar)])),nr("unregister",(...ar)=>ir(lr=>lr.filter(cr=>ar.some(ur=>ur===cr.wallet))))];return()=>or.forEach(ar=>ar())},[nr]);const sr=usePrevious(rr);return reactExports.useEffect(()=>{if(!sr)return;const or=new Set(rr);new Set(sr.filter(lr=>!or.has(lr))).forEach(lr=>lr.destroy())},[sr,rr]),reactExports.useEffect(()=>()=>rr.forEach(or=>or.destroy()),[]),reactExports.useMemo(()=>[...rr,...er.filter(({name:or})=>rr.some(ar=>ar.name===or)?(s.has(or)||(s.add(or),console.warn(`${or} was registered as a Standard Wallet. The Wallet Adapter for ${or} can be removed from your app.`)),!1):!0)],[rr,er,s])}function useConstant(er){const s=reactExports.useRef();return s.current||(s.current={value:er()}),s.current.value}function usePrevious(er){const s=reactExports.useRef();return reactExports.useEffect(()=>{s.current=er}),s.current}function wrapWalletsWithAdapters(er){return er.filter(isWalletAdapterCompatibleWallet).map(s=>new StandardWalletAdapter({wallet:s}))}var Environment;(function(er){er[er.DESKTOP_WEB=0]="DESKTOP_WEB",er[er.MOBILE_WEB=1]="MOBILE_WEB"})(Environment||(Environment={}));function isWebView(er){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(er)}function getEnvironment({adapters:er,userAgentString:s}){return er.some(tr=>tr.name!==SolanaMobileWalletAdapterWalletName&&tr.readyState===WalletReadyState.Installed)?Environment.DESKTOP_WEB:s&&/android/i.test(s)&&!isWebView(s)?Environment.MOBILE_WEB:Environment.DESKTOP_WEB}function getInferredClusterFromEndpoint(er){return er?/devnet/i.test(er)?"devnet":/testnet/i.test(er)?"testnet":"mainnet-beta":"mainnet-beta"}function WalletProviderBase({children:er,wallets:s,adapter:tr,isUnloadingRef:nr,onAutoConnectRequest:rr,onConnectError:ir,onError:sr,onSelectWallet:or}){const ar=reactExports.useRef(!1),[lr,cr]=reactExports.useState(!1),ur=reactExports.useRef(!1),[hr,dr]=reactExports.useState(!1),[pr,mr]=reactExports.useState(()=>(tr==null?void 0:tr.publicKey)??null),[xr,br]=reactExports.useState(()=>(tr==null?void 0:tr.connected)??!1),yr=reactExports.useRef(sr);reactExports.useEffect(()=>(yr.current=sr,()=>{yr.current=void 0}),[sr]);const gr=reactExports.useRef((vr,$r)=>(nr.current||(yr.current?yr.current(vr,$r):(console.error(vr,$r),vr instanceof WalletNotReadyError&&typeof window<"u"&&$r&&window.open($r.url,"_blank"))),vr)),[Er,kr]=reactExports.useState(()=>s.map(vr=>({adapter:vr,readyState:vr.readyState})).filter(({readyState:vr})=>vr!==WalletReadyState.Unsupported));reactExports.useEffect(()=>{kr($r=>s.map((Tr,Ar)=>{const jr=$r[Ar];return jr&&jr.adapter===Tr&&jr.readyState===Tr.readyState?jr:{adapter:Tr,readyState:Tr.readyState}}).filter(({readyState:Tr})=>Tr!==WalletReadyState.Unsupported));function vr($r){kr(Tr=>{const Ar=Tr.findIndex(({adapter:Or})=>Or===this);if(Ar===-1)return Tr;const{adapter:jr}=Tr[Ar];return[...Tr.slice(0,Ar),{adapter:jr,readyState:$r},...Tr.slice(Ar+1)].filter(({readyState:Or})=>Or!==WalletReadyState.Unsupported)})}return s.forEach($r=>$r.on("readyStateChange",vr,$r)),()=>{s.forEach($r=>$r.off("readyStateChange",vr,$r))}},[tr,s]);const Mr=reactExports.useMemo(()=>Er.find(vr=>vr.adapter===tr)??null,[tr,Er]);reactExports.useEffect(()=>{if(!tr)return;const vr=Ar=>{mr(Ar),ar.current=!1,cr(!1),br(!0),ur.current=!1,dr(!1)},$r=()=>{nr.current||(mr(null),ar.current=!1,cr(!1),br(!1),ur.current=!1,dr(!1))},Tr=Ar=>{gr.current(Ar,tr)};return tr.on("connect",vr),tr.on("disconnect",$r),tr.on("error",Tr),()=>{tr.off("connect",vr),tr.off("disconnect",$r),tr.off("error",Tr),$r()}},[tr,nr]);const Cr=reactExports.useRef(!1);reactExports.useEffect(()=>()=>{Cr.current=!1},[tr]),reactExports.useEffect(()=>{Cr.current||ar.current||xr||!rr||!((Mr==null?void 0:Mr.readyState)===WalletReadyState.Installed||(Mr==null?void 0:Mr.readyState)===WalletReadyState.Loadable)||(ar.current=!0,cr(!0),Cr.current=!0,async function(){try{await rr()}catch{ir()}finally{cr(!1),ar.current=!1}}())},[xr,rr,ir,Mr]);const Dr=reactExports.useCallback(async(vr,$r,Tr)=>{if(!tr)throw gr.current(new WalletNotSelectedError);if(!xr)throw gr.current(new WalletNotConnectedError,tr);return await tr.sendTransaction(vr,$r,Tr)},[tr,xr]),zr=reactExports.useMemo(()=>tr&&"signTransaction"in tr?async vr=>{if(!xr)throw gr.current(new WalletNotConnectedError,tr);return await tr.signTransaction(vr)}:void 0,[tr,xr]),Wr=reactExports.useMemo(()=>tr&&"signAllTransactions"in tr?async vr=>{if(!xr)throw gr.current(new WalletNotConnectedError,tr);return await tr.signAllTransactions(vr)}:void 0,[tr,xr]),Gr=reactExports.useMemo(()=>tr&&"signMessage"in tr?async vr=>{if(!xr)throw gr.current(new WalletNotConnectedError,tr);return await tr.signMessage(vr)}:void 0,[tr,xr]),Kr=reactExports.useMemo(()=>tr&&"signIn"in tr?async vr=>await tr.signIn(vr):void 0,[tr]),Lr=reactExports.useCallback(async()=>{if(ar.current||ur.current||Mr!=null&&Mr.adapter.connected)return;if(!Mr)throw gr.current(new WalletNotSelectedError);const{adapter:vr,readyState:$r}=Mr;if(!($r===WalletReadyState.Installed||$r===WalletReadyState.Loadable))throw gr.current(new WalletNotReadyError,vr);ar.current=!0,cr(!0);try{await vr.connect()}catch(Tr){throw ir(),Tr}finally{cr(!1),ar.current=!1}},[ir,Mr]),fr=reactExports.useCallback(async()=>{if(!ur.current&&tr){ur.current=!0,dr(!0);try{await tr.disconnect()}finally{dr(!1),ur.current=!1}}},[tr]);return React$1.createElement(WalletContext.Provider,{value:{autoConnect:!!rr,wallets:Er,wallet:Mr,publicKey:pr,connected:xr,connecting:lr,disconnecting:hr,select:or,connect:Lr,disconnect:fr,sendTransaction:Dr,signTransaction:zr,signAllTransactions:Wr,signMessage:Gr,signIn:Kr}},er)}let _userAgent;function getUserAgent(){var er;return _userAgent===void 0&&(_userAgent=((er=globalThis.navigator)==null?void 0:er.userAgent)??null),_userAgent}function getIsMobile(er){const s=getUserAgent();return getEnvironment({adapters:er,userAgentString:s})===Environment.MOBILE_WEB}function getUriForAppIdentity(){const er=globalThis.location;if(er)return`${er.protocol}//${er.host}`}function WalletProvider({children:er,wallets:s,autoConnect:tr,localStorageKey:nr="walletName",onError:rr}){const{connection:ir}=useConnection(),sr=useStandardWalletAdapters(s),or=reactExports.useMemo(()=>{if(!getIsMobile(sr))return null;const yr=sr.find(gr=>gr.name===SolanaMobileWalletAdapterWalletName);return yr||new SolanaMobileWalletAdapter({addressSelector:createDefaultAddressSelector(),appIdentity:{uri:getUriForAppIdentity()},authorizationResultCache:createDefaultAuthorizationResultCache(),cluster:getInferredClusterFromEndpoint(ir==null?void 0:ir.rpcEndpoint),onWalletNotFound:createDefaultWalletNotFoundHandler()})},[sr,ir==null?void 0:ir.rpcEndpoint]),ar=reactExports.useMemo(()=>or==null||sr.indexOf(or)!==-1?sr:[or,...sr],[sr,or]),[lr,cr]=useLocalStorage(nr,getIsMobile(sr)?SolanaMobileWalletAdapterWalletName:null),ur=reactExports.useMemo(()=>ar.find(yr=>yr.name===lr)??null,[ar,lr]),hr=reactExports.useCallback(yr=>{lr!==yr&&(ur&&ur.name!==SolanaMobileWalletAdapterWalletName&&ur.disconnect(),cr(yr))},[ur,cr,lr]);reactExports.useEffect(()=>{if(!ur)return;function yr(){mr.current||lr===SolanaMobileWalletAdapterWalletName&&getIsMobile(sr)||cr(null)}return ur.on("disconnect",yr),()=>{ur.off("disconnect",yr)}},[ur,sr,cr,lr]);const dr=reactExports.useRef(!1),pr=reactExports.useMemo(()=>{if(!(!tr||!ur))return async()=>{(tr===!0||await tr(ur))&&(dr.current?await ur.connect():await ur.autoConnect())}},[tr,ur]),mr=reactExports.useRef(!1);reactExports.useEffect(()=>{if(lr===SolanaMobileWalletAdapterWalletName&&getIsMobile(sr)){mr.current=!1;return}function yr(){mr.current=!0}return window.addEventListener("beforeunload",yr),()=>{window.removeEventListener("beforeunload",yr)}},[sr,lr]);const xr=reactExports.useCallback(()=>{ur&&ur.name!==SolanaMobileWalletAdapterWalletName&&hr(null)},[ur,hr]),br=reactExports.useCallback(yr=>{dr.current=!0,hr(yr)},[hr]);return React$1.createElement(WalletProviderBase,{wallets:ar,adapter:ur,isUnloadingRef:mr,onAutoConnectRequest:pr,onConnectError:xr,onError:rr,onSelectWallet:br},er)}const DEFAULT_CONTEXT={setVisible(er){console.error(constructMissingProviderErrorMessage("call","setVisible"))},visible:!1};Object.defineProperty(DEFAULT_CONTEXT,"visible",{get(){return console.error(constructMissingProviderErrorMessage("read","visible")),!1}});function constructMissingProviderErrorMessage(er,s){return`You have tried to  ${er} "${s}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const WalletModalContext=reactExports.createContext(DEFAULT_CONTEXT);function useWalletModal(){return reactExports.useContext(WalletModalContext)}function useWalletMultiButton({onSelectWallet:er}){const{connect:s,connected:tr,connecting:nr,disconnect:rr,disconnecting:ir,publicKey:sr,select:or,wallet:ar,wallets:lr}=useWallet();let cr;nr?cr="connecting":tr?cr="connected":ir?cr="disconnecting":ar?cr="has-wallet":cr="no-wallet";const ur=reactExports.useCallback(()=>{s().catch(()=>{})},[s]),hr=reactExports.useCallback(()=>{rr().catch(()=>{})},[rr]),dr=reactExports.useCallback(()=>{er({onSelectWallet:or,wallets:lr})},[er,or,lr]);return{buttonState:cr,onConnect:cr==="has-wallet"?ur:void 0,onDisconnect:cr!=="disconnecting"&&cr!=="no-wallet"?hr:void 0,onSelectWallet:dr,publicKey:sr??void 0,walletIcon:ar==null?void 0:ar.adapter.icon,walletName:ar==null?void 0:ar.adapter.name}}const Button=er=>React$1.createElement("button",{className:`wallet-adapter-button ${er.className||""}`,disabled:er.disabled,style:er.style,onClick:er.onClick,tabIndex:er.tabIndex||0,type:"button"},er.startIcon&&React$1.createElement("i",{className:"wallet-adapter-button-start-icon"},er.startIcon),er.children,er.endIcon&&React$1.createElement("i",{className:"wallet-adapter-button-end-icon"},er.endIcon)),WalletIcon=({wallet:er,...s})=>er&&React$1.createElement("img",{src:er.adapter.icon,alt:`${er.adapter.name} icon`,...s});function BaseWalletConnectionButton({walletIcon:er,walletName:s,...tr}){return React$1.createElement(Button,{...tr,className:"wallet-adapter-button-trigger",startIcon:er&&s?React$1.createElement(WalletIcon,{wallet:{adapter:{icon:er,name:s}}}):void 0})}function BaseWalletMultiButton({children:er,labels:s,...tr}){const{setVisible:nr}=useWalletModal(),{buttonState:rr,onConnect:ir,onDisconnect:sr,publicKey:or,walletIcon:ar,walletName:lr}=useWalletMultiButton({onSelectWallet(){nr(!0)}}),[cr,ur]=reactExports.useState(!1),[hr,dr]=reactExports.useState(!1),pr=reactExports.useRef(null);reactExports.useEffect(()=>{const xr=br=>{const yr=pr.current;!yr||yr.contains(br.target)||dr(!1)};return document.addEventListener("mousedown",xr),document.addEventListener("touchstart",xr),()=>{document.removeEventListener("mousedown",xr),document.removeEventListener("touchstart",xr)}},[]);const mr=reactExports.useMemo(()=>{if(er)return er;if(or){const xr=or.toBase58();return xr.slice(0,4)+".."+xr.slice(-4)}else return rr==="connecting"||rr==="has-wallet"?s[rr]:s["no-wallet"]},[rr,er,s,or]);return React$1.createElement("div",{className:"wallet-adapter-dropdown"},React$1.createElement(BaseWalletConnectionButton,{...tr,"aria-expanded":hr,style:{pointerEvents:hr?"none":"auto",...tr.style},onClick:()=>{switch(rr){case"no-wallet":nr(!0);break;case"has-wallet":ir&&ir();break;case"connected":dr(!0);break}},walletIcon:ar,walletName:lr},mr),React$1.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${hr&&"wallet-adapter-dropdown-list-active"}`,ref:pr,role:"menu"},or?React$1.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(or.toBase58()),ur(!0),setTimeout(()=>ur(!1),400)},role:"menuitem"},cr?s.copied:s["copy-address"]):null,React$1.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{nr(!0),dr(!1)},role:"menuitem"},s["change-wallet"]),sr?React$1.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{sr(),dr(!1)},role:"menuitem"},s.disconnect):null))}const Collapse=({id:er,children:s,expanded:tr=!1})=>{const nr=reactExports.useRef(null),rr=reactExports.useRef(!0),ir="height 250ms ease-out",sr=()=>{const ar=nr.current;ar&&requestAnimationFrame(()=>{ar.style.height=ar.scrollHeight+"px"})},or=()=>{const ar=nr.current;ar&&requestAnimationFrame(()=>{ar.style.height=ar.offsetHeight+"px",ar.style.overflow="hidden",requestAnimationFrame(()=>{ar.style.height="0"})})};return reactExports.useLayoutEffect(()=>{tr?sr():or()},[tr]),reactExports.useLayoutEffect(()=>{const ar=nr.current;if(!ar)return;function lr(){ar&&(ar.style.overflow=tr?"initial":"hidden",tr&&(ar.style.height="auto"))}function cr(ur){ar&&ur.target===ar&&ur.propertyName==="height"&&lr()}return rr.current&&(lr(),rr.current=!1),ar.addEventListener("transitionend",cr),()=>ar.removeEventListener("transitionend",cr)},[tr]),React$1.createElement("div",{className:"wallet-adapter-collapse",id:er,ref:nr,role:"region",style:{height:0,transition:rr.current?void 0:ir}},s)},WalletListItem=({handleClick:er,tabIndex:s,wallet:tr})=>React$1.createElement("li",null,React$1.createElement(Button,{onClick:er,startIcon:React$1.createElement(WalletIcon,{wallet:tr}),tabIndex:s},tr.adapter.name,tr.readyState===WalletReadyState.Installed&&React$1.createElement("span",null,"Detected"))),WalletSVG=()=>React$1.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},React$1.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),React$1.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),React$1.createElement("g",{clipPath:"url(#clip0_880_5115)"},React$1.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),React$1.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),React$1.createElement("defs",null,React$1.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},React$1.createElement("stop",{stopColor:"#9945FF"}),React$1.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),React$1.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),React$1.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),React$1.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),React$1.createElement("stop",{offset:"1",stopColor:"#00D18C"})),React$1.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},React$1.createElement("stop",{stopColor:"#9945FF"}),React$1.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),React$1.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),React$1.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),React$1.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),React$1.createElement("stop",{offset:"1",stopColor:"#00D18C"})),React$1.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},React$1.createElement("stop",{stopColor:"#9945FF"}),React$1.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),React$1.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),React$1.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),React$1.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),React$1.createElement("stop",{offset:"1",stopColor:"#00D18C"})),React$1.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},React$1.createElement("stop",{stopColor:"#9945FF"}),React$1.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),React$1.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),React$1.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),React$1.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),React$1.createElement("stop",{offset:"1",stopColor:"#00D18C"})),React$1.createElement("clipPath",{id:"clip0_880_5115"},React$1.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),WalletModal=({className:er="",container:s="body"})=>{const tr=reactExports.useRef(null),{wallets:nr,select:rr}=useWallet(),{setVisible:ir}=useWalletModal(),[sr,or]=reactExports.useState(!1),[ar,lr]=reactExports.useState(!1),[cr,ur]=reactExports.useState(null),[hr,dr]=reactExports.useMemo(()=>{const gr=[],Er=[];for(const kr of nr)kr.readyState===WalletReadyState.Installed?gr.push(kr):Er.push(kr);return gr.length?[gr,Er]:[Er,[]]},[nr]),pr=reactExports.useCallback(()=>{lr(!1),setTimeout(()=>ir(!1),150)},[ir]),mr=reactExports.useCallback(gr=>{gr.preventDefault(),pr()},[pr]),xr=reactExports.useCallback((gr,Er)=>{rr(Er),mr(gr)},[rr,mr]),br=reactExports.useCallback(()=>or(!sr),[sr]),yr=reactExports.useCallback(gr=>{const Er=tr.current;if(!Er)return;const kr=Er.querySelectorAll("button"),Mr=kr[0],Cr=kr[kr.length-1];gr.shiftKey?document.activeElement===Mr&&(Cr.focus(),gr.preventDefault()):document.activeElement===Cr&&(Mr.focus(),gr.preventDefault())},[tr]);return reactExports.useLayoutEffect(()=>{const gr=kr=>{kr.key==="Escape"?pr():kr.key==="Tab"&&yr(kr)},{overflow:Er}=window.getComputedStyle(document.body);return setTimeout(()=>lr(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",gr,!1),()=>{document.body.style.overflow=Er,window.removeEventListener("keydown",gr,!1)}},[pr,yr]),reactExports.useLayoutEffect(()=>ur(document.querySelector(s)),[s]),cr&&reactDomExports.createPortal(React$1.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${ar&&"wallet-adapter-modal-fade-in"} ${er}`,ref:tr,role:"dialog"},React$1.createElement("div",{className:"wallet-adapter-modal-container"},React$1.createElement("div",{className:"wallet-adapter-modal-wrapper"},React$1.createElement("button",{onClick:mr,className:"wallet-adapter-modal-button-close"},React$1.createElement("svg",{width:"14",height:"14"},React$1.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),hr.length?React$1.createElement(React$1.Fragment,null,React$1.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),React$1.createElement("ul",{className:"wallet-adapter-modal-list"},hr.map(gr=>React$1.createElement(WalletListItem,{key:gr.adapter.name,handleClick:Er=>xr(Er,gr.adapter.name),wallet:gr})),dr.length?React$1.createElement(Collapse,{expanded:sr,id:"wallet-adapter-modal-collapse"},dr.map(gr=>React$1.createElement(WalletListItem,{key:gr.adapter.name,handleClick:Er=>xr(Er,gr.adapter.name),tabIndex:sr?0:-1,wallet:gr}))):null),dr.length?React$1.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:br,tabIndex:0},React$1.createElement("span",null,sr?"Less ":"More ","options"),React$1.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${sr?"wallet-adapter-modal-list-more-icon-rotate":""}`},React$1.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):React$1.createElement(React$1.Fragment,null,React$1.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),React$1.createElement("div",{className:"wallet-adapter-modal-middle"},React$1.createElement(WalletSVG,null)),dr.length?React$1.createElement(React$1.Fragment,null,React$1.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:br,tabIndex:0},React$1.createElement("span",null,sr?"Hide ":"Already have a wallet? View ","options"),React$1.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${sr?"wallet-adapter-modal-list-more-icon-rotate":""}`},React$1.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),React$1.createElement(Collapse,{expanded:sr,id:"wallet-adapter-modal-collapse"},React$1.createElement("ul",{className:"wallet-adapter-modal-list"},dr.map(gr=>React$1.createElement(WalletListItem,{key:gr.adapter.name,handleClick:Er=>xr(Er,gr.adapter.name),tabIndex:sr?0:-1,wallet:gr}))))):null))),React$1.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:mr})),cr)},WalletModalProvider=({children:er,...s})=>{const[tr,nr]=reactExports.useState(!1);return React$1.createElement(WalletModalContext.Provider,{value:{visible:tr,setVisible:nr}},er,tr&&React$1.createElement(WalletModal,{...s}))},LABELS={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function WalletMultiButton(er){return React$1.createElement(BaseWalletMultiButton,{...er,labels:LABELS})}const global$1=globalThis||void 0||self;function getDefaultExportFromCjs(er){return er&&er.__esModule&&Object.prototype.hasOwnProperty.call(er,"default")?er.default:er}var browser={exports:{}},process=browser.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(er){if(cachedSetTimeout===setTimeout)return setTimeout(er,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(er,0);try{return cachedSetTimeout(er,0)}catch{try{return cachedSetTimeout.call(null,er,0)}catch{return cachedSetTimeout.call(this,er,0)}}}function runClearTimeout(er){if(cachedClearTimeout===clearTimeout)return clearTimeout(er);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(er);try{return cachedClearTimeout(er)}catch{try{return cachedClearTimeout.call(null,er)}catch{return cachedClearTimeout.call(this,er)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var er=runTimeout(cleanUpNextTick);draining=!0;for(var s=queue.length;s;){for(currentQueue=queue,queue=[];++queueIndex<s;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,s=queue.length}currentQueue=null,draining=!1,runClearTimeout(er)}}process.nextTick=function(er){var s=new Array(arguments.length-1);if(arguments.length>1)for(var tr=1;tr<arguments.length;tr++)s[tr-1]=arguments[tr];queue.push(new Item(er,s)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(er,s){this.fun=er,this.array=s}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$2(){}process.on=noop$2;process.addListener=noop$2;process.once=noop$2;process.off=noop$2;process.removeListener=noop$2;process.removeAllListeners=noop$2;process.emit=noop$2;process.prependListener=noop$2;process.prependOnceListener=noop$2;process.listeners=function(er){return[]};process.binding=function(er){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(er){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser.exports;const process$1=getDefaultExportFromCjs(browserExports);function bind$4(er,s){return function(){return er.apply(s,arguments)}}const{toString:toString$2}=Object.prototype,{getPrototypeOf:getPrototypeOf$1}=Object,kindOf=(er=>s=>{const tr=toString$2.call(s);return er[tr]||(er[tr]=tr.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=er=>(er=er.toLowerCase(),s=>kindOf(s)===er),typeOfTest=er=>s=>typeof s===er,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(er){return er!==null&&!isUndefined(er)&&er.constructor!==null&&!isUndefined(er.constructor)&&isFunction(er.constructor.isBuffer)&&er.constructor.isBuffer(er)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(er){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(er):s=er&&er.buffer&&isArrayBuffer(er.buffer),s}const isString=typeOfTest("string"),isFunction=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$1=er=>er!==null&&typeof er=="object",isBoolean=er=>er===!0||er===!1,isPlainObject$1=er=>{if(kindOf(er)!=="object")return!1;const s=getPrototypeOf$1(er);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in er)&&!(Symbol.iterator in er)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=er=>isObject$1(er)&&isFunction(er.pipe),isFormData=er=>{let s;return er&&(typeof FormData=="function"&&er instanceof FormData||isFunction(er.append)&&((s=kindOf(er))==="formdata"||s==="object"&&isFunction(er.toString)&&er.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=er=>er.trim?er.trim():er.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(er,s,{allOwnKeys:tr=!1}={}){if(er===null||typeof er>"u")return;let nr,rr;if(typeof er!="object"&&(er=[er]),isArray(er))for(nr=0,rr=er.length;nr<rr;nr++)s.call(null,er[nr],nr,er);else{const ir=tr?Object.getOwnPropertyNames(er):Object.keys(er),sr=ir.length;let or;for(nr=0;nr<sr;nr++)or=ir[nr],s.call(null,er[or],or,er)}}function findKey(er,s){s=s.toLowerCase();const tr=Object.keys(er);let nr=tr.length,rr;for(;nr-- >0;)if(rr=tr[nr],s===rr.toLowerCase())return rr;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=er=>!isUndefined(er)&&er!==_global;function merge(){const{caseless:er}=isContextDefined(this)&&this||{},s={},tr=(nr,rr)=>{const ir=er&&findKey(s,rr)||rr;isPlainObject$1(s[ir])&&isPlainObject$1(nr)?s[ir]=merge(s[ir],nr):isPlainObject$1(nr)?s[ir]=merge({},nr):isArray(nr)?s[ir]=nr.slice():s[ir]=nr};for(let nr=0,rr=arguments.length;nr<rr;nr++)arguments[nr]&&forEach$2(arguments[nr],tr);return s}const extend=(er,s,tr,{allOwnKeys:nr}={})=>(forEach$2(s,(rr,ir)=>{tr&&isFunction(rr)?er[ir]=bind$4(rr,tr):er[ir]=rr},{allOwnKeys:nr}),er),stripBOM=er=>(er.charCodeAt(0)===65279&&(er=er.slice(1)),er),inherits=(er,s,tr,nr)=>{er.prototype=Object.create(s.prototype,nr),er.prototype.constructor=er,Object.defineProperty(er,"super",{value:s.prototype}),tr&&Object.assign(er.prototype,tr)},toFlatObject=(er,s,tr,nr)=>{let rr,ir,sr;const or={};if(s=s||{},er==null)return s;do{for(rr=Object.getOwnPropertyNames(er),ir=rr.length;ir-- >0;)sr=rr[ir],(!nr||nr(sr,er,s))&&!or[sr]&&(s[sr]=er[sr],or[sr]=!0);er=tr!==!1&&getPrototypeOf$1(er)}while(er&&(!tr||tr(er,s))&&er!==Object.prototype);return s},endsWith=(er,s,tr)=>{er=String(er),(tr===void 0||tr>er.length)&&(tr=er.length),tr-=s.length;const nr=er.indexOf(s,tr);return nr!==-1&&nr===tr},toArray=er=>{if(!er)return null;if(isArray(er))return er;let s=er.length;if(!isNumber(s))return null;const tr=new Array(s);for(;s-- >0;)tr[s]=er[s];return tr},isTypedArray$1=(er=>s=>er&&s instanceof er)(typeof Uint8Array<"u"&&getPrototypeOf$1(Uint8Array)),forEachEntry=(er,s)=>{const nr=(er&&er[Symbol.iterator]).call(er);let rr;for(;(rr=nr.next())&&!rr.done;){const ir=rr.value;s.call(er,ir[0],ir[1])}},matchAll=(er,s)=>{let tr;const nr=[];for(;(tr=er.exec(s))!==null;)nr.push(tr);return nr},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=er=>er.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(tr,nr,rr){return nr.toUpperCase()+rr}),hasOwnProperty$1=(({hasOwnProperty:er})=>(s,tr)=>er.call(s,tr))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(er,s)=>{const tr=Object.getOwnPropertyDescriptors(er),nr={};forEach$2(tr,(rr,ir)=>{let sr;(sr=s(rr,ir,er))!==!1&&(nr[ir]=sr||rr)}),Object.defineProperties(er,nr)},freezeMethods=er=>{reduceDescriptors(er,(s,tr)=>{if(isFunction(er)&&["arguments","caller","callee"].indexOf(tr)!==-1)return!1;const nr=er[tr];if(isFunction(nr)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+tr+"'")})}})},toObjectSet=(er,s)=>{const tr={},nr=rr=>{rr.forEach(ir=>{tr[ir]=!0})};return isArray(er)?nr(er):nr(String(er).split(s)),tr},noop$1=()=>{},toFiniteNumber=(er,s)=>er!=null&&Number.isFinite(er=+er)?er:s,ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET$1={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(er=16,s=ALPHABET$1.ALPHA_DIGIT)=>{let tr="";const{length:nr}=s;for(;er--;)tr+=s[Math.random()*nr|0];return tr};function isSpecCompliantForm(er){return!!(er&&isFunction(er.append)&&er[Symbol.toStringTag]==="FormData"&&er[Symbol.iterator])}const toJSONObject=er=>{const s=new Array(10),tr=(nr,rr)=>{if(isObject$1(nr)){if(s.indexOf(nr)>=0)return;if(!("toJSON"in nr)){s[rr]=nr;const ir=isArray(nr)?[]:{};return forEach$2(nr,(sr,or)=>{const ar=tr(sr,rr+1);!isUndefined(ar)&&(ir[or]=ar)}),s[rr]=void 0,ir}}return nr};return tr(er,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=er=>er&&(isObject$1(er)||isFunction(er))&&isFunction(er.then)&&isFunction(er.catch),_setImmediate=((er,s)=>er?setImmediate:s?((tr,nr)=>(_global.addEventListener("message",({source:rr,data:ir})=>{rr===_global&&ir===tr&&nr.length&&nr.shift()()},!1),rr=>{nr.push(rr),_global.postMessage(tr,"*")}))(`axios@${Math.random()}`,[]):tr=>setTimeout(tr))(typeof setImmediate=="function",isFunction(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process$1<"u"&&process$1.nextTick||_setImmediate,utils$1={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$1,isPlainObject:isPlainObject$1,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$2,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$1,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET:ALPHABET$1,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap};function AxiosError(er,s,tr,nr,rr){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=er,this.name="AxiosError",s&&(this.code=s),tr&&(this.config=tr),nr&&(this.request=nr),rr&&(this.response=rr,this.status=rr.status?rr.status:null)}utils$1.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(er=>{descriptors[er]={value:er}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(er,s,tr,nr,rr,ir)=>{const sr=Object.create(prototype$1);return utils$1.toFlatObject(er,sr,function(ar){return ar!==Error.prototype},or=>or!=="isAxiosError"),AxiosError.call(sr,er.message,s,tr,nr,rr),sr.cause=er,sr.name=er.name,ir&&Object.assign(sr,ir),sr};const httpAdapter=null;function isVisitable(er){return utils$1.isPlainObject(er)||utils$1.isArray(er)}function removeBrackets(er){return utils$1.endsWith(er,"[]")?er.slice(0,-2):er}function renderKey(er,s,tr){return er?er.concat(s).map(function(rr,ir){return rr=removeBrackets(rr),!tr&&ir?"["+rr+"]":rr}).join(tr?".":""):s}function isFlatArray(er){return utils$1.isArray(er)&&!er.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(s){return/^is[A-Z]/.test(s)});function toFormData(er,s,tr){if(!utils$1.isObject(er))throw new TypeError("target must be an object");s=s||new FormData,tr=utils$1.toFlatObject(tr,{metaTokens:!0,dots:!1,indexes:!1},!1,function(mr,xr){return!utils$1.isUndefined(xr[mr])});const nr=tr.metaTokens,rr=tr.visitor||cr,ir=tr.dots,sr=tr.indexes,ar=(tr.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(s);if(!utils$1.isFunction(rr))throw new TypeError("visitor must be a function");function lr(pr){if(pr===null)return"";if(utils$1.isDate(pr))return pr.toISOString();if(!ar&&utils$1.isBlob(pr))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(pr)||utils$1.isTypedArray(pr)?ar&&typeof Blob=="function"?new Blob([pr]):Buffer.from(pr):pr}function cr(pr,mr,xr){let br=pr;if(pr&&!xr&&typeof pr=="object"){if(utils$1.endsWith(mr,"{}"))mr=nr?mr:mr.slice(0,-2),pr=JSON.stringify(pr);else if(utils$1.isArray(pr)&&isFlatArray(pr)||(utils$1.isFileList(pr)||utils$1.endsWith(mr,"[]"))&&(br=utils$1.toArray(pr)))return mr=removeBrackets(mr),br.forEach(function(gr,Er){!(utils$1.isUndefined(gr)||gr===null)&&s.append(sr===!0?renderKey([mr],Er,ir):sr===null?mr:mr+"[]",lr(gr))}),!1}return isVisitable(pr)?!0:(s.append(renderKey(xr,mr,ir),lr(pr)),!1)}const ur=[],hr=Object.assign(predicates,{defaultVisitor:cr,convertValue:lr,isVisitable});function dr(pr,mr){if(!utils$1.isUndefined(pr)){if(ur.indexOf(pr)!==-1)throw Error("Circular reference detected in "+mr.join("."));ur.push(pr),utils$1.forEach(pr,function(br,yr){(!(utils$1.isUndefined(br)||br===null)&&rr.call(s,br,utils$1.isString(yr)?yr.trim():yr,mr,hr))===!0&&dr(br,mr?mr.concat(yr):[yr])}),ur.pop()}}if(!utils$1.isObject(er))throw new TypeError("data must be an object");return dr(er),s}function encode$3(er){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(er).replace(/[!'()~]|%20|%00/g,function(nr){return s[nr]})}function AxiosURLSearchParams(er,s){this._pairs=[],er&&toFormData(er,this,s)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(s,tr){this._pairs.push([s,tr])};prototype.toString=function(s){const tr=s?function(nr){return s.call(this,nr,encode$3)}:encode$3;return this._pairs.map(function(rr){return tr(rr[0])+"="+tr(rr[1])},"").join("&")};function encode(er){return encodeURIComponent(er).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(er,s,tr){if(!s)return er;const nr=tr&&tr.encode||encode;utils$1.isFunction(tr)&&(tr={serialize:tr});const rr=tr&&tr.serialize;let ir;if(rr?ir=rr(s,tr):ir=utils$1.isURLSearchParams(s)?s.toString():new AxiosURLSearchParams(s,tr).toString(nr),ir){const sr=er.indexOf("#");sr!==-1&&(er=er.slice(0,sr)),er+=(er.indexOf("?")===-1?"?":"&")+ir}return er}class InterceptorManager{constructor(){this.handlers=[]}use(s,tr,nr){return this.handlers.push({fulfilled:s,rejected:tr,synchronous:nr?nr.synchronous:!1,runWhen:nr?nr.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){utils$1.forEach(this.handlers,function(nr){nr!==null&&s(nr)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$3=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$3},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(er,s){return toFormData(er,new platform.classes.URLSearchParams,Object.assign({visitor:function(tr,nr,rr,ir){return platform.isNode&&utils$1.isBuffer(tr)?(this.append(nr,tr.toString("base64")),!1):ir.defaultVisitor.apply(this,arguments)}},s))}function parsePropPath(er){return utils$1.matchAll(/\w+|\[(\w*)]/g,er).map(s=>s[0]==="[]"?"":s[1]||s[0])}function arrayToObject(er){const s={},tr=Object.keys(er);let nr;const rr=tr.length;let ir;for(nr=0;nr<rr;nr++)ir=tr[nr],s[ir]=er[ir];return s}function formDataToJSON(er){function s(tr,nr,rr,ir){let sr=tr[ir++];if(sr==="__proto__")return!0;const or=Number.isFinite(+sr),ar=ir>=tr.length;return sr=!sr&&utils$1.isArray(rr)?rr.length:sr,ar?(utils$1.hasOwnProp(rr,sr)?rr[sr]=[rr[sr],nr]:rr[sr]=nr,!or):((!rr[sr]||!utils$1.isObject(rr[sr]))&&(rr[sr]=[]),s(tr,nr,rr[sr],ir)&&utils$1.isArray(rr[sr])&&(rr[sr]=arrayToObject(rr[sr])),!or)}if(utils$1.isFormData(er)&&utils$1.isFunction(er.entries)){const tr={};return utils$1.forEachEntry(er,(nr,rr)=>{s(parsePropPath(nr),rr,tr,0)}),tr}return null}function stringifySafely(er,s,tr){if(utils$1.isString(er))try{return(s||JSON.parse)(er),utils$1.trim(er)}catch(nr){if(nr.name!=="SyntaxError")throw nr}return(0,JSON.stringify)(er)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(s,tr){const nr=tr.getContentType()||"",rr=nr.indexOf("application/json")>-1,ir=utils$1.isObject(s);if(ir&&utils$1.isHTMLForm(s)&&(s=new FormData(s)),utils$1.isFormData(s))return rr?JSON.stringify(formDataToJSON(s)):s;if(utils$1.isArrayBuffer(s)||utils$1.isBuffer(s)||utils$1.isStream(s)||utils$1.isFile(s)||utils$1.isBlob(s)||utils$1.isReadableStream(s))return s;if(utils$1.isArrayBufferView(s))return s.buffer;if(utils$1.isURLSearchParams(s))return tr.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let or;if(ir){if(nr.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(s,this.formSerializer).toString();if((or=utils$1.isFileList(s))||nr.indexOf("multipart/form-data")>-1){const ar=this.env&&this.env.FormData;return toFormData(or?{"files[]":s}:s,ar&&new ar,this.formSerializer)}}return ir||rr?(tr.setContentType("application/json",!1),stringifySafely(s)):s}],transformResponse:[function(s){const tr=this.transitional||defaults.transitional,nr=tr&&tr.forcedJSONParsing,rr=this.responseType==="json";if(utils$1.isResponse(s)||utils$1.isReadableStream(s))return s;if(s&&utils$1.isString(s)&&(nr&&!this.responseType||rr)){const sr=!(tr&&tr.silentJSONParsing)&&rr;try{return JSON.parse(s)}catch(or){if(sr)throw or.name==="SyntaxError"?AxiosError.from(or,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):or}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],er=>{defaults.headers[er]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=er=>{const s={};let tr,nr,rr;return er&&er.split(`
`).forEach(function(sr){rr=sr.indexOf(":"),tr=sr.substring(0,rr).trim().toLowerCase(),nr=sr.substring(rr+1).trim(),!(!tr||s[tr]&&ignoreDuplicateOf[tr])&&(tr==="set-cookie"?s[tr]?s[tr].push(nr):s[tr]=[nr]:s[tr]=s[tr]?s[tr]+", "+nr:nr)}),s},$internals=Symbol("internals");function normalizeHeader(er){return er&&String(er).trim().toLowerCase()}function normalizeValue(er){return er===!1||er==null?er:utils$1.isArray(er)?er.map(normalizeValue):String(er)}function parseTokens(er){const s=Object.create(null),tr=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nr;for(;nr=tr.exec(er);)s[nr[1]]=nr[2];return s}const isValidHeaderName=er=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(er.trim());function matchHeaderValue(er,s,tr,nr,rr){if(utils$1.isFunction(nr))return nr.call(this,s,tr);if(rr&&(s=tr),!!utils$1.isString(s)){if(utils$1.isString(nr))return s.indexOf(nr)!==-1;if(utils$1.isRegExp(nr))return nr.test(s)}}function formatHeader(er){return er.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,tr,nr)=>tr.toUpperCase()+nr)}function buildAccessors(er,s){const tr=utils$1.toCamelCase(" "+s);["get","set","has"].forEach(nr=>{Object.defineProperty(er,nr+tr,{value:function(rr,ir,sr){return this[nr].call(this,s,rr,ir,sr)},configurable:!0})})}class AxiosHeaders{constructor(s){s&&this.set(s)}set(s,tr,nr){const rr=this;function ir(or,ar,lr){const cr=normalizeHeader(ar);if(!cr)throw new Error("header name must be a non-empty string");const ur=utils$1.findKey(rr,cr);(!ur||rr[ur]===void 0||lr===!0||lr===void 0&&rr[ur]!==!1)&&(rr[ur||ar]=normalizeValue(or))}const sr=(or,ar)=>utils$1.forEach(or,(lr,cr)=>ir(lr,cr,ar));if(utils$1.isPlainObject(s)||s instanceof this.constructor)sr(s,tr);else if(utils$1.isString(s)&&(s=s.trim())&&!isValidHeaderName(s))sr(parseHeaders(s),tr);else if(utils$1.isHeaders(s))for(const[or,ar]of s.entries())ir(ar,or,nr);else s!=null&&ir(tr,s,nr);return this}get(s,tr){if(s=normalizeHeader(s),s){const nr=utils$1.findKey(this,s);if(nr){const rr=this[nr];if(!tr)return rr;if(tr===!0)return parseTokens(rr);if(utils$1.isFunction(tr))return tr.call(this,rr,nr);if(utils$1.isRegExp(tr))return tr.exec(rr);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,tr){if(s=normalizeHeader(s),s){const nr=utils$1.findKey(this,s);return!!(nr&&this[nr]!==void 0&&(!tr||matchHeaderValue(this,this[nr],nr,tr)))}return!1}delete(s,tr){const nr=this;let rr=!1;function ir(sr){if(sr=normalizeHeader(sr),sr){const or=utils$1.findKey(nr,sr);or&&(!tr||matchHeaderValue(nr,nr[or],or,tr))&&(delete nr[or],rr=!0)}}return utils$1.isArray(s)?s.forEach(ir):ir(s),rr}clear(s){const tr=Object.keys(this);let nr=tr.length,rr=!1;for(;nr--;){const ir=tr[nr];(!s||matchHeaderValue(this,this[ir],ir,s,!0))&&(delete this[ir],rr=!0)}return rr}normalize(s){const tr=this,nr={};return utils$1.forEach(this,(rr,ir)=>{const sr=utils$1.findKey(nr,ir);if(sr){tr[sr]=normalizeValue(rr),delete tr[ir];return}const or=s?formatHeader(ir):String(ir).trim();or!==ir&&delete tr[ir],tr[or]=normalizeValue(rr),nr[or]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const tr=Object.create(null);return utils$1.forEach(this,(nr,rr)=>{nr!=null&&nr!==!1&&(tr[rr]=s&&utils$1.isArray(nr)?nr.join(", "):nr)}),tr}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,tr])=>s+": "+tr).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...tr){const nr=new this(s);return tr.forEach(rr=>nr.set(rr)),nr}static accessor(s){const nr=(this[$internals]=this[$internals]={accessors:{}}).accessors,rr=this.prototype;function ir(sr){const or=normalizeHeader(sr);nr[or]||(buildAccessors(rr,sr),nr[or]=!0)}return utils$1.isArray(s)?s.forEach(ir):ir(s),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders.prototype,({value:er},s)=>{let tr=s[0].toUpperCase()+s.slice(1);return{get:()=>er,set(nr){this[tr]=nr}}});utils$1.freezeMethods(AxiosHeaders);function transformData(er,s){const tr=this||defaults,nr=s||tr,rr=AxiosHeaders.from(nr.headers);let ir=nr.data;return utils$1.forEach(er,function(or){ir=or.call(tr,ir,rr.normalize(),s?s.status:void 0)}),rr.normalize(),ir}function isCancel(er){return!!(er&&er.__CANCEL__)}function CanceledError(er,s,tr){AxiosError.call(this,er??"canceled",AxiosError.ERR_CANCELED,s,tr),this.name="CanceledError"}utils$1.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(er,s,tr){const nr=tr.config.validateStatus;!tr.status||!nr||nr(tr.status)?er(tr):s(new AxiosError("Request failed with status code "+tr.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(tr.status/100)-4],tr.config,tr.request,tr))}function parseProtocol(er){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(er);return s&&s[1]||""}function speedometer(er,s){er=er||10;const tr=new Array(er),nr=new Array(er);let rr=0,ir=0,sr;return s=s!==void 0?s:1e3,function(ar){const lr=Date.now(),cr=nr[ir];sr||(sr=lr),tr[rr]=ar,nr[rr]=lr;let ur=ir,hr=0;for(;ur!==rr;)hr+=tr[ur++],ur=ur%er;if(rr=(rr+1)%er,rr===ir&&(ir=(ir+1)%er),lr-sr<s)return;const dr=cr&&lr-cr;return dr?Math.round(hr*1e3/dr):void 0}}function throttle(er,s){let tr=0,nr=1e3/s,rr,ir;const sr=(lr,cr=Date.now())=>{tr=cr,rr=null,ir&&(clearTimeout(ir),ir=null),er.apply(null,lr)};return[(...lr)=>{const cr=Date.now(),ur=cr-tr;ur>=nr?sr(lr,cr):(rr=lr,ir||(ir=setTimeout(()=>{ir=null,sr(rr)},nr-ur)))},()=>rr&&sr(rr)]}const progressEventReducer=(er,s,tr=3)=>{let nr=0;const rr=speedometer(50,250);return throttle(ir=>{const sr=ir.loaded,or=ir.lengthComputable?ir.total:void 0,ar=sr-nr,lr=rr(ar),cr=sr<=or;nr=sr;const ur={loaded:sr,total:or,progress:or?sr/or:void 0,bytes:ar,rate:lr||void 0,estimated:lr&&or&&cr?(or-sr)/lr:void 0,event:ir,lengthComputable:or!=null,[s?"download":"upload"]:!0};er(ur)},tr)},progressEventDecorator=(er,s)=>{const tr=er!=null;return[nr=>s[0]({lengthComputable:tr,total:er,loaded:nr}),s[1]]},asyncDecorator=er=>(...s)=>utils$1.asap(()=>er(...s)),isURLSameOrigin=platform.hasStandardBrowserEnv?((er,s)=>tr=>(tr=new URL(tr,platform.origin),er.protocol===tr.protocol&&er.host===tr.host&&(s||er.port===tr.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(er,s,tr,nr,rr,ir){const sr=[er+"="+encodeURIComponent(s)];utils$1.isNumber(tr)&&sr.push("expires="+new Date(tr).toGMTString()),utils$1.isString(nr)&&sr.push("path="+nr),utils$1.isString(rr)&&sr.push("domain="+rr),ir===!0&&sr.push("secure"),document.cookie=sr.join("; ")},read(er){const s=document.cookie.match(new RegExp("(^|;\\s*)("+er+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(er){this.write(er,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(er){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(er)}function combineURLs(er,s){return s?er.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):er}function buildFullPath(er,s){return er&&!isAbsoluteURL(s)?combineURLs(er,s):s}const headersToObject=er=>er instanceof AxiosHeaders?{...er}:er;function mergeConfig(er,s){s=s||{};const tr={};function nr(lr,cr,ur,hr){return utils$1.isPlainObject(lr)&&utils$1.isPlainObject(cr)?utils$1.merge.call({caseless:hr},lr,cr):utils$1.isPlainObject(cr)?utils$1.merge({},cr):utils$1.isArray(cr)?cr.slice():cr}function rr(lr,cr,ur,hr){if(utils$1.isUndefined(cr)){if(!utils$1.isUndefined(lr))return nr(void 0,lr,ur,hr)}else return nr(lr,cr,ur,hr)}function ir(lr,cr){if(!utils$1.isUndefined(cr))return nr(void 0,cr)}function sr(lr,cr){if(utils$1.isUndefined(cr)){if(!utils$1.isUndefined(lr))return nr(void 0,lr)}else return nr(void 0,cr)}function or(lr,cr,ur){if(ur in s)return nr(lr,cr);if(ur in er)return nr(void 0,lr)}const ar={url:ir,method:ir,data:ir,baseURL:sr,transformRequest:sr,transformResponse:sr,paramsSerializer:sr,timeout:sr,timeoutMessage:sr,withCredentials:sr,withXSRFToken:sr,adapter:sr,responseType:sr,xsrfCookieName:sr,xsrfHeaderName:sr,onUploadProgress:sr,onDownloadProgress:sr,decompress:sr,maxContentLength:sr,maxBodyLength:sr,beforeRedirect:sr,transport:sr,httpAgent:sr,httpsAgent:sr,cancelToken:sr,socketPath:sr,responseEncoding:sr,validateStatus:or,headers:(lr,cr,ur)=>rr(headersToObject(lr),headersToObject(cr),ur,!0)};return utils$1.forEach(Object.keys(Object.assign({},er,s)),function(cr){const ur=ar[cr]||rr,hr=ur(er[cr],s[cr],cr);utils$1.isUndefined(hr)&&ur!==or||(tr[cr]=hr)}),tr}const resolveConfig=er=>{const s=mergeConfig({},er);let{data:tr,withXSRFToken:nr,xsrfHeaderName:rr,xsrfCookieName:ir,headers:sr,auth:or}=s;s.headers=sr=AxiosHeaders.from(sr),s.url=buildURL(buildFullPath(s.baseURL,s.url),er.params,er.paramsSerializer),or&&sr.set("Authorization","Basic "+btoa((or.username||"")+":"+(or.password?unescape(encodeURIComponent(or.password)):"")));let ar;if(utils$1.isFormData(tr)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)sr.setContentType(void 0);else if((ar=sr.getContentType())!==!1){const[lr,...cr]=ar?ar.split(";").map(ur=>ur.trim()).filter(Boolean):[];sr.setContentType([lr||"multipart/form-data",...cr].join("; "))}}if(platform.hasStandardBrowserEnv&&(nr&&utils$1.isFunction(nr)&&(nr=nr(s)),nr||nr!==!1&&isURLSameOrigin(s.url))){const lr=rr&&ir&&cookies.read(ir);lr&&sr.set(rr,lr)}return s},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(er){return new Promise(function(tr,nr){const rr=resolveConfig(er);let ir=rr.data;const sr=AxiosHeaders.from(rr.headers).normalize();let{responseType:or,onUploadProgress:ar,onDownloadProgress:lr}=rr,cr,ur,hr,dr,pr;function mr(){dr&&dr(),pr&&pr(),rr.cancelToken&&rr.cancelToken.unsubscribe(cr),rr.signal&&rr.signal.removeEventListener("abort",cr)}let xr=new XMLHttpRequest;xr.open(rr.method.toUpperCase(),rr.url,!0),xr.timeout=rr.timeout;function br(){if(!xr)return;const gr=AxiosHeaders.from("getAllResponseHeaders"in xr&&xr.getAllResponseHeaders()),kr={data:!or||or==="text"||or==="json"?xr.responseText:xr.response,status:xr.status,statusText:xr.statusText,headers:gr,config:er,request:xr};settle(function(Cr){tr(Cr),mr()},function(Cr){nr(Cr),mr()},kr),xr=null}"onloadend"in xr?xr.onloadend=br:xr.onreadystatechange=function(){!xr||xr.readyState!==4||xr.status===0&&!(xr.responseURL&&xr.responseURL.indexOf("file:")===0)||setTimeout(br)},xr.onabort=function(){xr&&(nr(new AxiosError("Request aborted",AxiosError.ECONNABORTED,er,xr)),xr=null)},xr.onerror=function(){nr(new AxiosError("Network Error",AxiosError.ERR_NETWORK,er,xr)),xr=null},xr.ontimeout=function(){let Er=rr.timeout?"timeout of "+rr.timeout+"ms exceeded":"timeout exceeded";const kr=rr.transitional||transitionalDefaults;rr.timeoutErrorMessage&&(Er=rr.timeoutErrorMessage),nr(new AxiosError(Er,kr.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,er,xr)),xr=null},ir===void 0&&sr.setContentType(null),"setRequestHeader"in xr&&utils$1.forEach(sr.toJSON(),function(Er,kr){xr.setRequestHeader(kr,Er)}),utils$1.isUndefined(rr.withCredentials)||(xr.withCredentials=!!rr.withCredentials),or&&or!=="json"&&(xr.responseType=rr.responseType),lr&&([hr,pr]=progressEventReducer(lr,!0),xr.addEventListener("progress",hr)),ar&&xr.upload&&([ur,dr]=progressEventReducer(ar),xr.upload.addEventListener("progress",ur),xr.upload.addEventListener("loadend",dr)),(rr.cancelToken||rr.signal)&&(cr=gr=>{xr&&(nr(!gr||gr.type?new CanceledError(null,er,xr):gr),xr.abort(),xr=null)},rr.cancelToken&&rr.cancelToken.subscribe(cr),rr.signal&&(rr.signal.aborted?cr():rr.signal.addEventListener("abort",cr)));const yr=parseProtocol(rr.url);if(yr&&platform.protocols.indexOf(yr)===-1){nr(new AxiosError("Unsupported protocol "+yr+":",AxiosError.ERR_BAD_REQUEST,er));return}xr.send(ir||null)})},composeSignals=(er,s)=>{const{length:tr}=er=er?er.filter(Boolean):[];if(s||tr){let nr=new AbortController,rr;const ir=function(lr){if(!rr){rr=!0,or();const cr=lr instanceof Error?lr:this.reason;nr.abort(cr instanceof AxiosError?cr:new CanceledError(cr instanceof Error?cr.message:cr))}};let sr=s&&setTimeout(()=>{sr=null,ir(new AxiosError(`timeout ${s} of ms exceeded`,AxiosError.ETIMEDOUT))},s);const or=()=>{er&&(sr&&clearTimeout(sr),sr=null,er.forEach(lr=>{lr.unsubscribe?lr.unsubscribe(ir):lr.removeEventListener("abort",ir)}),er=null)};er.forEach(lr=>lr.addEventListener("abort",ir));const{signal:ar}=nr;return ar.unsubscribe=()=>utils$1.asap(or),ar}},streamChunk=function*(er,s){let tr=er.byteLength;if(tr<s){yield er;return}let nr=0,rr;for(;nr<tr;)rr=nr+s,yield er.slice(nr,rr),nr=rr},readBytes=async function*(er,s){for await(const tr of readStream(er))yield*streamChunk(tr,s)},readStream=async function*(er){if(er[Symbol.asyncIterator]){yield*er;return}const s=er.getReader();try{for(;;){const{done:tr,value:nr}=await s.read();if(tr)break;yield nr}}finally{await s.cancel()}},trackStream=(er,s,tr,nr)=>{const rr=readBytes(er,s);let ir=0,sr,or=ar=>{sr||(sr=!0,nr&&nr(ar))};return new ReadableStream({async pull(ar){try{const{done:lr,value:cr}=await rr.next();if(lr){or(),ar.close();return}let ur=cr.byteLength;if(tr){let hr=ir+=ur;tr(hr)}ar.enqueue(new Uint8Array(cr))}catch(lr){throw or(lr),lr}},cancel(ar){return or(ar),rr.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(er=>s=>er.encode(s))(new TextEncoder):async er=>new Uint8Array(await new Response(er).arrayBuffer())),test=(er,...s)=>{try{return!!er(...s)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let er=!1;const s=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return er=!0,"half"}}).headers.has("Content-Type");return er&&!s}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(er=>er.body)};isFetchSupported&&(er=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!resolvers[s]&&(resolvers[s]=utils$1.isFunction(er[s])?tr=>tr[s]():(tr,nr)=>{throw new AxiosError(`Response type '${s}' is not supported`,AxiosError.ERR_NOT_SUPPORT,nr)})})})(new Response);const getBodyLength=async er=>{if(er==null)return 0;if(utils$1.isBlob(er))return er.size;if(utils$1.isSpecCompliantForm(er))return(await new Request(platform.origin,{method:"POST",body:er}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(er)||utils$1.isArrayBuffer(er))return er.byteLength;if(utils$1.isURLSearchParams(er)&&(er=er+""),utils$1.isString(er))return(await encodeText(er)).byteLength},resolveBodyLength=async(er,s)=>{const tr=utils$1.toFiniteNumber(er.getContentLength());return tr??getBodyLength(s)},fetchAdapter=isFetchSupported&&(async er=>{let{url:s,method:tr,data:nr,signal:rr,cancelToken:ir,timeout:sr,onDownloadProgress:or,onUploadProgress:ar,responseType:lr,headers:cr,withCredentials:ur="same-origin",fetchOptions:hr}=resolveConfig(er);lr=lr?(lr+"").toLowerCase():"text";let dr=composeSignals([rr,ir&&ir.toAbortSignal()],sr),pr;const mr=dr&&dr.unsubscribe&&(()=>{dr.unsubscribe()});let xr;try{if(ar&&supportsRequestStream&&tr!=="get"&&tr!=="head"&&(xr=await resolveBodyLength(cr,nr))!==0){let kr=new Request(s,{method:"POST",body:nr,duplex:"half"}),Mr;if(utils$1.isFormData(nr)&&(Mr=kr.headers.get("content-type"))&&cr.setContentType(Mr),kr.body){const[Cr,Dr]=progressEventDecorator(xr,progressEventReducer(asyncDecorator(ar)));nr=trackStream(kr.body,DEFAULT_CHUNK_SIZE,Cr,Dr)}}utils$1.isString(ur)||(ur=ur?"include":"omit");const br="credentials"in Request.prototype;pr=new Request(s,{...hr,signal:dr,method:tr.toUpperCase(),headers:cr.normalize().toJSON(),body:nr,duplex:"half",credentials:br?ur:void 0});let yr=await fetch(pr);const gr=supportsResponseStream&&(lr==="stream"||lr==="response");if(supportsResponseStream&&(or||gr&&mr)){const kr={};["status","statusText","headers"].forEach(zr=>{kr[zr]=yr[zr]});const Mr=utils$1.toFiniteNumber(yr.headers.get("content-length")),[Cr,Dr]=or&&progressEventDecorator(Mr,progressEventReducer(asyncDecorator(or),!0))||[];yr=new Response(trackStream(yr.body,DEFAULT_CHUNK_SIZE,Cr,()=>{Dr&&Dr(),mr&&mr()}),kr)}lr=lr||"text";let Er=await resolvers[utils$1.findKey(resolvers,lr)||"text"](yr,er);return!gr&&mr&&mr(),await new Promise((kr,Mr)=>{settle(kr,Mr,{data:Er,headers:AxiosHeaders.from(yr.headers),status:yr.status,statusText:yr.statusText,config:er,request:pr})})}catch(br){throw mr&&mr(),br&&br.name==="TypeError"&&/fetch/i.test(br.message)?Object.assign(new AxiosError("Network Error",AxiosError.ERR_NETWORK,er,pr),{cause:br.cause||br}):AxiosError.from(br,br&&br.code,er,pr)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(er,s)=>{if(er){try{Object.defineProperty(er,"name",{value:s})}catch{}Object.defineProperty(er,"adapterName",{value:s})}});const renderReason=er=>`- ${er}`,isResolvedHandle=er=>utils$1.isFunction(er)||er===null||er===!1,adapters={getAdapter:er=>{er=utils$1.isArray(er)?er:[er];const{length:s}=er;let tr,nr;const rr={};for(let ir=0;ir<s;ir++){tr=er[ir];let sr;if(nr=tr,!isResolvedHandle(tr)&&(nr=knownAdapters[(sr=String(tr)).toLowerCase()],nr===void 0))throw new AxiosError(`Unknown adapter '${sr}'`);if(nr)break;rr[sr||"#"+ir]=nr}if(!nr){const ir=Object.entries(rr).map(([or,ar])=>`adapter ${or} `+(ar===!1?"is not supported by the environment":"is not available in the build"));let sr=s?ir.length>1?`since :
`+ir.map(renderReason).join(`
`):" "+renderReason(ir[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+sr,"ERR_NOT_SUPPORT")}return nr},adapters:knownAdapters};function throwIfCancellationRequested(er){if(er.cancelToken&&er.cancelToken.throwIfRequested(),er.signal&&er.signal.aborted)throw new CanceledError(null,er)}function dispatchRequest(er){return throwIfCancellationRequested(er),er.headers=AxiosHeaders.from(er.headers),er.data=transformData.call(er,er.transformRequest),["post","put","patch"].indexOf(er.method)!==-1&&er.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(er.adapter||defaults.adapter)(er).then(function(nr){return throwIfCancellationRequested(er),nr.data=transformData.call(er,er.transformResponse,nr),nr.headers=AxiosHeaders.from(nr.headers),nr},function(nr){return isCancel(nr)||(throwIfCancellationRequested(er),nr&&nr.response&&(nr.response.data=transformData.call(er,er.transformResponse,nr.response),nr.response.headers=AxiosHeaders.from(nr.response.headers))),Promise.reject(nr)})}const VERSION="1.7.9",validators$1={};["object","boolean","number","function","string","symbol"].forEach((er,s)=>{validators$1[er]=function(nr){return typeof nr===er||"a"+(s<1?"n ":" ")+er}});const deprecatedWarnings={};validators$1.transitional=function(s,tr,nr){function rr(ir,sr){return"[Axios v"+VERSION+"] Transitional option '"+ir+"'"+sr+(nr?". "+nr:"")}return(ir,sr,or)=>{if(s===!1)throw new AxiosError(rr(sr," has been removed"+(tr?" in "+tr:"")),AxiosError.ERR_DEPRECATED);return tr&&!deprecatedWarnings[sr]&&(deprecatedWarnings[sr]=!0,console.warn(rr(sr," has been deprecated since v"+tr+" and will be removed in the near future"))),s?s(ir,sr,or):!0}};validators$1.spelling=function(s){return(tr,nr)=>(console.warn(`${nr} is likely a misspelling of ${s}`),!0)};function assertOptions(er,s,tr){if(typeof er!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const nr=Object.keys(er);let rr=nr.length;for(;rr-- >0;){const ir=nr[rr],sr=s[ir];if(sr){const or=er[ir],ar=or===void 0||sr(or,ir,er);if(ar!==!0)throw new AxiosError("option "+ir+" must be "+ar,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(tr!==!0)throw new AxiosError("Unknown option "+ir,AxiosError.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;class Axios{constructor(s){this.defaults=s,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(s,tr){try{return await this._request(s,tr)}catch(nr){if(nr instanceof Error){let rr={};Error.captureStackTrace?Error.captureStackTrace(rr):rr=new Error;const ir=rr.stack?rr.stack.replace(/^.+\n/,""):"";try{nr.stack?ir&&!String(nr.stack).endsWith(ir.replace(/^.+\n.+\n/,""))&&(nr.stack+=`
`+ir):nr.stack=ir}catch{}}throw nr}}_request(s,tr){typeof s=="string"?(tr=tr||{},tr.url=s):tr=s||{},tr=mergeConfig(this.defaults,tr);const{transitional:nr,paramsSerializer:rr,headers:ir}=tr;nr!==void 0&&validator.assertOptions(nr,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),rr!=null&&(utils$1.isFunction(rr)?tr.paramsSerializer={serialize:rr}:validator.assertOptions(rr,{encode:validators.function,serialize:validators.function},!0)),validator.assertOptions(tr,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),tr.method=(tr.method||this.defaults.method||"get").toLowerCase();let sr=ir&&utils$1.merge(ir.common,ir[tr.method]);ir&&utils$1.forEach(["delete","get","head","post","put","patch","common"],pr=>{delete ir[pr]}),tr.headers=AxiosHeaders.concat(sr,ir);const or=[];let ar=!0;this.interceptors.request.forEach(function(mr){typeof mr.runWhen=="function"&&mr.runWhen(tr)===!1||(ar=ar&&mr.synchronous,or.unshift(mr.fulfilled,mr.rejected))});const lr=[];this.interceptors.response.forEach(function(mr){lr.push(mr.fulfilled,mr.rejected)});let cr,ur=0,hr;if(!ar){const pr=[dispatchRequest.bind(this),void 0];for(pr.unshift.apply(pr,or),pr.push.apply(pr,lr),hr=pr.length,cr=Promise.resolve(tr);ur<hr;)cr=cr.then(pr[ur++],pr[ur++]);return cr}hr=or.length;let dr=tr;for(ur=0;ur<hr;){const pr=or[ur++],mr=or[ur++];try{dr=pr(dr)}catch(xr){mr.call(this,xr);break}}try{cr=dispatchRequest.call(this,dr)}catch(pr){return Promise.reject(pr)}for(ur=0,hr=lr.length;ur<hr;)cr=cr.then(lr[ur++],lr[ur++]);return cr}getUri(s){s=mergeConfig(this.defaults,s);const tr=buildFullPath(s.baseURL,s.url);return buildURL(tr,s.params,s.paramsSerializer)}}utils$1.forEach(["delete","get","head","options"],function(s){Axios.prototype[s]=function(tr,nr){return this.request(mergeConfig(nr||{},{method:s,url:tr,data:(nr||{}).data}))}});utils$1.forEach(["post","put","patch"],function(s){function tr(nr){return function(ir,sr,or){return this.request(mergeConfig(or||{},{method:s,headers:nr?{"Content-Type":"multipart/form-data"}:{},url:ir,data:sr}))}}Axios.prototype[s]=tr(),Axios.prototype[s+"Form"]=tr(!0)});class CancelToken{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let tr;this.promise=new Promise(function(ir){tr=ir});const nr=this;this.promise.then(rr=>{if(!nr._listeners)return;let ir=nr._listeners.length;for(;ir-- >0;)nr._listeners[ir](rr);nr._listeners=null}),this.promise.then=rr=>{let ir;const sr=new Promise(or=>{nr.subscribe(or),ir=or}).then(rr);return sr.cancel=function(){nr.unsubscribe(ir)},sr},s(function(ir,sr,or){nr.reason||(nr.reason=new CanceledError(ir,sr,or),tr(nr.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const tr=this._listeners.indexOf(s);tr!==-1&&this._listeners.splice(tr,1)}toAbortSignal(){const s=new AbortController,tr=nr=>{s.abort(nr)};return this.subscribe(tr),s.signal.unsubscribe=()=>this.unsubscribe(tr),s.signal}static source(){let s;return{token:new CancelToken(function(rr){s=rr}),cancel:s}}}function spread(er){return function(tr){return er.apply(null,tr)}}function isAxiosError(er){return utils$1.isObject(er)&&er.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([er,s])=>{HttpStatusCode[s]=er});function createInstance(er){const s=new Axios(er),tr=bind$4(Axios.prototype.request,s);return utils$1.extend(tr,Axios.prototype,s,{allOwnKeys:!0}),utils$1.extend(tr,s,null,{allOwnKeys:!0}),tr.create=function(rr){return createInstance(mergeConfig(er,rr))},tr}const axios=createInstance(defaults);axios.Axios=Axios;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(s){return Promise.all(s)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders;axios.formToJSON=er=>formDataToJSON(utils$1.isHTMLForm(er)?new FormData(er):er);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode;axios.default=axios;async function axiosRequest$1(er,s,tr=null,nr,rr=!1){try{let ir=`https://api.vvaifu.fun/api/${s}`;const sr={accept:"application/json"};nr&&(sr.Authorization=`Bearer ${nr}`),rr||(sr["content-type"]="application/json");let or={method:er,url:ir,headers:sr,validateStatus:()=>!0};tr&&(rr||er.toLowerCase()==="delete"||er.toLowerCase()==="post"||er.toLowerCase()==="put")&&(or.data=tr);let{data:ar,status:lr}=await axios(or);return{data:ar,status:lr}}catch(ir){return console.error("Error:",ir),null}}const connection=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com","confirmed");function Navbar({onMenuClick:er}){const[s,tr]=reactExports.useState(null),[nr,rr]=reactExports.useState(!1),[ir,sr]=reactExports.useState(null),or=useDispatch(),ar=useNavigate(),lr=useWallet(),cr=useSelector(mr=>mr.userData),ur=useSelector(mr=>mr.loggedIn),hr=reactExports.useCallback(async()=>{if(lr.publicKey&&lr.signMessage&&!ur&&!nr){rr(!0),ur||ar("/");try{const mr=`Login to vvaifu: ${Date.now()}`,xr=new TextEncoder().encode(mr),br=await lr.signMessage(xr),yr=await axiosRequest$1("post","solana/auth",{publicKey:lr.publicKey.toString(),signature:Array.from(br),message:mr});yr.data.success?(localStorage.setItem("jwt",yr.data.token),sr(lr.publicKey.toString()),or({data:yr.data.user,type:"UPDATE_USER_DATA"}),or({data:!0,type:"UPDATE_LOGGED_IN"}),y$1.success("Successfully logged in with Solana wallet!")):y$1.error("Failed to login. Please try again.")}catch(mr){console.error("Error during Solana login:",mr),y$1.error("Error during login. Please try again.")}finally{rr(!1)}}},[lr,or,ur,nr]),dr=reactExports.useCallback(async()=>{try{localStorage.removeItem("jwt"),sr(null),tr(null),rr(!1),or({data:null,type:"UPDATE_USER_DATA"}),or({data:!1,type:"UPDATE_LOGGED_IN"}),ar("/"),y$1.info("Logged out successfully")}catch(mr){console.error("Error during logout:",mr),y$1.error("Error during logout")}},[or,ar]);reactExports.useEffect(()=>{const mr=new MutationObserver(xr=>{for(const br of xr)document.querySelectorAll('[role="menu"]').forEach(gr=>{if(!gr.querySelector('[data-logout="true"]')){const Er=document.createElement("button");Er.setAttribute("role","menuitem"),Er.setAttribute("data-logout","true");const kr=gr.querySelector('[role="menuitem"]');kr&&(Er.className=kr.className),Er.style.width="100%",Er.style.padding="6px 16px",Er.style.textAlign="left",Er.innerText="LOGOUT",Er.addEventListener("click",Mr=>{Mr.preventDefault(),Mr.stopPropagation(),dr()}),gr.appendChild(Er)}})});return mr.observe(document.body,{childList:!0,subtree:!0}),()=>mr.disconnect()},[dr]),reactExports.useEffect(()=>{const xr=setTimeout(async()=>{if(localStorage.getItem("jwt")&&cr){or({data:!0,type:"UPDATE_LOGGED_IN"});return}lr.connected&&lr.publicKey&&!ur&&!nr&&hr()},500);return()=>clearTimeout(xr)},[lr.connected,lr.publicKey,ur,cr]),reactExports.useEffect(()=>{(async()=>{if(cr!=null&&cr.solanaWalletAddress&&ur)try{const xr=await connection.getBalance(new PublicKey(cr.solanaWalletAddress));tr(xr/LAMPORTS_PER_SOL)}catch(xr){console.error("Failed to fetch balance:",xr),tr(null)}else tr(null)})()},[cr==null?void 0:cr.solanaWalletAddress,ur]);const pr=mr=>mr?`${mr.slice(0,4)}...${mr.slice(-4)}`:"";return jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-vvaifu-bg border-b border-vvaifu-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:er,className:"p-2 hover:bg-vvaifu-container rounded-lg md:hidden",children:jsxRuntimeExports.jsx(FaBars,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsx("img",{src:"https://vvaifu.fun/logo.png",alt:"VVAIFU",className:"h-14",style:{cursor:"pointer"},onClick:mr=>{mr.preventDefault(),ar("/")}}),jsxRuntimeExports.jsx("span",{className:"hidden md:block text-vvaifu-red font-bold text-2xl mt-2 mr-2",style:{cursor:"pointer"},onClick:mr=>{mr.preventDefault(),ar("/")},children:"VVAIFU"}),jsxRuntimeExports.jsxs("div",{className:"hidden md:flex items-center relative pl-8 py-2 bg-gradient-to-r from-red-50 to-transparent rounded-lg",style:{cursor:"pointer"},onClick:mr=>{mr.preventDefault(),window.open("https://dexscreener.com/solana/9umun94bbuh53f4ptvwdyzoqjsj3zgex2j2vtt5rbo1x","_target")},children:[jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-vvaifu-red rounded-l-lg"}),jsxRuntimeExports.jsx("span",{className:"text-gray-800 font-medium mr-2",children:"Platform Token:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"https://vvaifu.fun/logo.png",alt:"",className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"text-vvaifu-red font-bold",children:"$VVAIFU"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4",children:jsxRuntimeExports.jsx(WalletMultiButton,{style:{background:"rgb(241, 90, 90)",height:"40px",borderRadius:"8px",border:"none",transition:"all 0.2s ease",fontWeight:"500",padding:"0 16px",fontSize:"14px"},children:lr.connected&&ur?jsxRuntimeExports.jsxs("div",{className:"flex flex-col leading-tight",children:[" ",jsxRuntimeExports.jsx("div",{className:"font-medium",children:pr(cr==null?void 0:cr.solanaWalletAddress)}),jsxRuntimeExports.jsx("div",{className:"text-xs opacity-90",children:s!==null?`${s.toFixed(2)} SOL`:"..."})]}):"Connect Wallet"})})]})}function SidebarSection({title:er,children:s}){return er?jsxRuntimeExports.jsxs("div",{className:"relative py-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-sm text-gray-400 px-4 mb-2",children:er}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:s})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-px bg-vvaifu-border"})]}):jsxRuntimeExports.jsx("div",{className:"py-6",children:s})}function SidebarItem({icon:er,text:s,isExpanded:tr,onClick:nr,isImage:rr=!1}){const[ir,sr]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"relative",onMouseEnter:()=>sr(!0),onMouseLeave:()=>sr(!1),onClick:nr,children:[jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-3 px-4 py-2.5 hover:bg-gray-100 cursor-pointer text-gray-600 ${tr?"":"justify-center"}`,children:[rr?jsxRuntimeExports.jsx("img",{src:er,alt:"",className:"w-6 h-6 min-w-[1.25rem]"}):jsxRuntimeExports.jsx(er,{className:"w-5 h-5 min-w-[1.25rem]"}),tr&&jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:s})]}),!tr&&ir&&jsxRuntimeExports.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 px-2 py-1 bg-gray-800 text-white text-xs rounded whitespace-nowrap z-50",children:s})]})}function Sidebar({isOpen:er,onClose:s}){const[tr,nr]=reactExports.useState(!0),rr=useNavigate(),ir=useSelector(or=>or.loggedIn);reactExports.useEffect(()=>{const or=()=>{nr(window.innerWidth<768)};return or(),window.addEventListener("resize",or),()=>window.removeEventListener("resize",or)},[]);const sr=or=>{rr(or),s()};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[er&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/20 z-30 md:hidden",onClick:s}),jsxRuntimeExports.jsxs("div",{className:`
        fixed md:sticky top-0 h-screen shrink-0
        ${tr?"w-56":"w-16"} 
        ${er?"translate-x-0":"-translate-x-full md:translate-x-0"}
        bg-vvaifu-bg border-r border-vvaifu-border 
        transition-all duration-300 z-40
      `,children:[jsxRuntimeExports.jsx("button",{onClick:()=>nr(!tr),className:"absolute -right-3 top-6 bg-white rounded-full p-1.5 border shadow-sm hover:shadow-md transition-shadow hidden md:block",children:jsxRuntimeExports.jsx(FaChevronLeft,{className:`w-3 h-3 transition-transform duration-300 ${tr?"":"rotate-180"}`})}),jsxRuntimeExports.jsxs("div",{className:"h-full overflow-y-auto hide-scrollbar",children:[jsxRuntimeExports.jsxs(SidebarSection,{title:tr?"Terminal":"",children:[jsxRuntimeExports.jsx(SidebarItem,{icon:"/fuji.svg",isImage:!0,text:"Home",isExpanded:tr,onClick:()=>sr("/")}),jsxRuntimeExports.jsx(SidebarItem,{icon:"/asiantemple.svg",isImage:!0,text:"Docs",isExpanded:tr,onClick:or=>{or.preventDefault(),window.open("https://docs.vvaifu.fun","_target")}}),jsxRuntimeExports.jsx(SidebarItem,{icon:"/katana.svg",isImage:!0,text:"CTO Requests",isExpanded:tr,onClick:()=>sr("/cto-requests")})]}),jsxRuntimeExports.jsxs(SidebarSection,{title:tr?"You":"",children:[jsxRuntimeExports.jsx(SidebarItem,{icon:"/paperfan.svg",isImage:!0,text:"Profile",isExpanded:tr,onClick:()=>{if(!ir){y$1.error("Must be logged in.");return}sr("/profile")}}),jsxRuntimeExports.jsx(SidebarItem,{icon:"/kimono.svg",isImage:!0,text:"Personas",isExpanded:tr,onClick:()=>{if(!ir){y$1.error("Must be logged in.");return}sr("/personas")}}),jsxRuntimeExports.jsx(SidebarItem,{icon:"/toriigate.svg",isImage:!0,text:"Chats",isExpanded:tr,onClick:()=>{if(!ir){y$1.error("Must be logged in.");return}sr("/chats")}})]}),jsxRuntimeExports.jsx(SidebarSection,{title:tr?"Resources":"",children:jsxRuntimeExports.jsx(SidebarItem,{icon:"/pottery.svg",isImage:!0,text:"Become an Affiliate",isExpanded:tr,onClick:or=>{or.preventDefault(),y$1.info("Coming Soon!")}})})]})]})]})}function ScrollToTop(){const{pathname:er}=useLocation();return reactExports.useEffect(()=>{window.scrollTo(0,0)},[er]),null}function Header(){const er=useNavigate(),[s,tr]=reactExports.useState(""),nr=rr=>{rr.preventDefault(),s.trim()&&er(`/view/market-cap?search=${encodeURIComponent(s.trim())}`)};return jsxRuntimeExports.jsxs("div",{className:"bg-red-500 rounded-xl p-8 text-white relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex justify-center items-center",children:jsxRuntimeExports.jsx("img",{src:"/circlespin.svg",alt:"",className:"w-full h-full object-cover md:h-auto"})}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 max-w-2xl",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl font-bold mb-4",style:{fontFamily:"var(--font-display, Inter)"},children:"Search for AI agents"}),jsxRuntimeExports.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Discover new tokens, trade memes, and unleash your $VVAIFU power."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsxs("form",{onSubmit:nr,className:"relative flex-1 w-full",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search for AI agents",value:s,onChange:rr=>tr(rr.target.value),className:"search-input w-full px-4 py-3 rounded-lg text-gray-800 pr-12"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"absolute right-0 top-0 h-full px-4 bg-yellow-400 rounded-r-lg hover:bg-yellow-500 transition-colors",children:jsxRuntimeExports.jsx(FaSearch,{className:"w-5 h-5 text-gray-700"})})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{er("/create")},className:"w-full sm:w-auto px-6 py-3 bg-white text-red-500 rounded-lg font-medium hover:bg-gray-100 transition-colors whitespace-nowrap",children:"Create Agent"})]})]}),jsxRuntimeExports.jsx("img",{src:"https://vvaifu.s3.us-east-1.amazonaws.com/anime.png",alt:"",className:"absolute right-[-25px] top-0 h-full object-contain hidden md:block"})]})}function CategoryCard({title:er,image:s}){const tr=useNavigate(),nr=()=>{const rr=er.toLowerCase().replace(" ","-");tr(`/view/${rr}`)};return jsxRuntimeExports.jsxs("div",{className:"relative h-24 rounded-xl overflow-hidden cursor-pointer group",onClick:nr,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#292727] to-[#3d3938]"}),jsxRuntimeExports.jsx("img",{src:s,alt:er,className:"absolute right-0 bottom-0 h-full object-contain z-10"}),jsxRuntimeExports.jsx("div",{className:"relative z-20 p-3 h-full flex items-start",children:jsxRuntimeExports.jsx("div",{className:"text-white text-sm font-medium",children:er})})]})}const categories=[{title:"Trending",image:"https://vvaifu.s3.us-east-1.amazonaws.com/trending.png"},{title:"New",image:"https://vvaifu.s3.us-east-1.amazonaws.com/new.png"},{title:"Market Cap",image:"https://vvaifu.s3.us-east-1.amazonaws.com/marketcap.png"},{title:"Volume",image:"https://vvaifu.s3.us-east-1.amazonaws.com/volume.png"}];function CategoryTabs(){return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl overflow-hidden border border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium p-4 border-b border-vvaifu-border",children:"Category"}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-4",children:categories.map(er=>jsxRuntimeExports.jsx(CategoryCard,{...er},er.title))})})]})}function AgentListItem({name:er,image:s,price:tr,time:nr,tag:rr="$GLUTEU",id:ir,isLatest:sr,agent:or}){const ar=useNavigate();let lr="/logo.png";return or.useEliza&&(lr="/eliza.jpg"),or.useZerepy&&(lr="/zerepy.jpeg"),or.useBuild&&(lr="/build.png"),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 py-4 px-4 border-b border-vvaifu-border last:border-b-0 cursor-pointer hover:bg-white/50 transition-colors",onClick:()=>ar(`/character/${ir}`),children:[jsxRuntimeExports.jsx("img",{src:s,alt:er,className:"w-12 h-12 rounded-lg object-cover bg-gray-100"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 truncate",children:er}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:rr})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[!sr&&tr&&jsxRuntimeExports.jsx("div",{className:"text-green-500 font-medium",children:tr}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400",children:nr}),jsxRuntimeExports.jsx("img",{src:lr,style:{height:"25px",borderRadius:"10px"}})]})]})}function LoadingState$5(){return jsxRuntimeExports.jsx("div",{children:[...Array(6)].map((er,s)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 py-4 px-4 border-b border-vvaifu-border last:border-b-0",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-lg bg-gray-200 animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded mb-1 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-1 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded animate-pulse"})]})]},s))})}function timeAgo(er){const s=Math.floor((new Date-new Date(er))/1e3);let tr=s/31536e3;return tr>1?Math.floor(tr)+"y":(tr=s/2592e3,tr>1?Math.floor(tr)+"mo":(tr=s/86400,tr>1?Math.floor(tr)+"d":(tr=s/3600,tr>1?Math.floor(tr)+"h":(tr=s/60,tr>1?Math.floor(tr)+"m":Math.floor(s)+"s"))))}function AgentsList({title:er,agents:s,viewAllLink:tr,onViewAll:nr,loading:rr}){const ir=er.toLowerCase().includes("latest");return rr?jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl overflow-hidden border border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium p-4 border-b border-vvaifu-border",children:er}),jsxRuntimeExports.jsx(LoadingState$5,{}),jsxRuntimeExports.jsx("div",{className:"p-4 text-center border-t border-vvaifu-border",children:jsxRuntimeExports.jsxs("button",{className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:[tr," →"]})})]}):jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl overflow-hidden border border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium p-4 border-b border-vvaifu-border",children:er}),jsxRuntimeExports.jsx("div",{children:s==null?void 0:s.slice(0,6).map(sr=>jsxRuntimeExports.jsx(AgentListItem,{id:sr._id,name:sr.name,image:sr.imageUrl,price:ir?null:`$${sr.marketCap.toLocaleString()}`,time:ir?timeAgo(sr.createdAt):null,tag:`$${sr.ticker}`,isLatest:ir,agent:sr},sr._id))}),jsxRuntimeExports.jsx("div",{className:"p-4 text-center border-t border-vvaifu-border",children:jsxRuntimeExports.jsxs("button",{onClick:nr,className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:[tr," →"]})})]})}function FeaturedCard({agent:er,large:s=!1}){const tr=useNavigate();return s?jsxRuntimeExports.jsxs("div",{className:"relative aspect-[16/9] rounded-xl overflow-hidden group cursor-pointer",onClick:()=>tr(`/character/${er.id}`),children:[jsxRuntimeExports.jsx("img",{src:er.image,alt:er.name,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 p-2 text-white",children:[jsxRuntimeExports.jsx("div",{className:"bg-green-500/90 text-white px-1.5 py-0.5 rounded-full text-[10px] font-medium inline-block mb-0.5",children:er.price}),jsxRuntimeExports.jsx("div",{className:"text-base font-medium leading-tight",children:er.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white/80",children:er.tag})]})]}):jsxRuntimeExports.jsx("div",{className:"bg-transparent border border-vvaifu-border rounded-xl p-3 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>tr(`/character/${er.id}`),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden mb-3",children:jsxRuntimeExports.jsx("img",{src:er.image,alt:er.name,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-[3px]",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm text-gray-900",children:er.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:er.tag}),jsxRuntimeExports.jsx("div",{className:"text-sm text-green-500 font-medium",children:er.price})]})]})})}function LoadingState$4(){return jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative aspect-[16/9] rounded-xl overflow-hidden",style:{background:"linear-gradient(to right, #fcf0e1 0%, #eae7df 100%)"},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 p-4 w-full",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-24 bg-white/50 rounded mb-2 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-32 bg-white/50 rounded animate-pulse"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-4",children:[...Array(6)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"p-3 rounded-xl",style:{background:"linear-gradient(to right, #fcf0e1 0%, #eae7df 100%)"},children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-white/50 mb-3 animate-pulse"}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 w-full",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-white/50 rounded mx-auto animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-white/50 rounded mx-auto animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-20 bg-white/50 rounded mx-auto animate-pulse"})]})]})},s))})]})}function FeaturedAgents({agents:er,loading:s}){if(s)return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl overflow-hidden border border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium p-4 border-b border-vvaifu-border",children:"Featured Agents"}),jsxRuntimeExports.jsx(LoadingState$4,{})]});if(!(er!=null&&er.length))return null;const tr=er[0],nr=er.slice(1,7);return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl overflow-hidden border border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium p-4 border-b border-vvaifu-border",children:"Featured Agents"}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsx(FeaturedCard,{agent:{id:tr._id,name:tr.name,price:`$${tr.marketCap.toLocaleString()}`,tag:`$${tr.ticker}`,image:tr.imageUrl},large:!0}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-4",children:nr.map(rr=>jsxRuntimeExports.jsx(FeaturedCard,{agent:{id:rr._id,name:rr.name,price:`$${rr.marketCap.toLocaleString()}`,tag:`$${rr.ticker}`,image:rr.imageUrl}},rr._id))})]})]})}const createApi$8=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),getCharacters=async(er,s=null)=>{try{return(await createApi$8(s).get("/solana/search",{params:er})).data}catch(tr){throw console.error("Error fetching characters:",tr),tr}},getCharacter=async(er,s=null)=>{try{return(await createApi$8(s).get(`/character/${er}`)).data}catch(tr){throw console.error("Error fetching character:",tr),tr}},getFollowedCharacters=async(er=null)=>{try{return(await createApi$8(er).get("/characters/followed",{params:{page:1,limit:20}})).data}catch(s){throw console.error("Error fetching followed characters:",s),s}};function useHomeData(){const[er,s]=reactExports.useState([]),[tr,nr]=reactExports.useState([]),[rr,ir]=reactExports.useState([]),[sr,or]=reactExports.useState(!0),[ar,lr]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{or(!0);const[ur,hr,dr]=await Promise.allSettled([getCharacters({page:1,limit:20,sort:"volume",tags:"",keywords:"",isNotBot:!0}),getCharacters({page:1,limit:20,sort:"new",tags:"",keywords:"",isNotBot:!0}),getCharacters({page:1,limit:20,sort:"marketCap",tags:"",keywords:"",isNotBot:!0})]);ur.status==="fulfilled"&&s(ur.value.characters),hr.status==="fulfilled"&&nr(hr.value.characters),dr.status==="fulfilled"&&ir(dr.value.characters)}catch(ur){lr(ur.message)}finally{or(!1)}})()},[]),{featuredAgents:er,latestAgents:tr,topAgents:rr,loading:sr,error:ar}}function Home(){const er=useNavigate(),{featuredAgents:s,latestAgents:tr,topAgents:nr,loading:rr}=useHomeData();return jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsxs("div",{className:"grid lg:grid-cols-3 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[jsxRuntimeExports.jsx(CategoryTabs,{}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx(AgentsList,{title:"Latest Agents",agents:tr,viewAllLink:"VIEW ALL LATEST AGENTS",onViewAll:()=>er("/view/new"),loading:rr}),jsxRuntimeExports.jsx(AgentsList,{title:"Top Agents",agents:nr,viewAllLink:"VIEW ALL TOP AGENTS",onViewAll:()=>er("/view/market-cap"),loading:rr})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-1 order-first lg:order-last",children:jsxRuntimeExports.jsx(FeaturedAgents,{agents:s,loading:rr})})]})]})}function SearchBar({value:er,onChange:s}){return jsxRuntimeExports.jsx("div",{className:"relative flex-1",children:jsxRuntimeExports.jsxs("div",{className:"relative flex items-center bg-white rounded-full border border-[#E5D5C0] overflow-hidden",children:[jsxRuntimeExports.jsx(FaSearch,{className:"absolute right-4 text-gray-400 w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search agents...",value:er,onChange:tr=>s(tr.target.value),className:"search-input w-full pl-4 pr-4 py-3 bg-transparent placeholder:text-gray-400 text-sm focus:outline-none rounded-full"})]})})}function FilterButton({icon:er,label:s,active:tr,onClick:nr}){return jsxRuntimeExports.jsxs("button",{onClick:nr,className:`flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-medium transition-colors ${tr?"bg-red-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(er,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:s})]})}function MobileFilterDropdown({filters:er,activeFilter:s,onSelect:tr}){const[nr,rr]=reactExports.useState(!1),ir=er.find(sr=>sr.id===s);return jsxRuntimeExports.jsxs("div",{className:"relative w-full",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>rr(!nr),className:"w-full flex items-center justify-between gap-2 px-4 py-2.5 bg-white rounded-full text-sm font-medium border border-[#E5D5C0]",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:ir&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ir.icon,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:ir.label})]})}),jsxRuntimeExports.jsx(FaChevronDown,{className:`w-3 h-3 transition-transform ${nr?"rotate-180":""}`})]}),nr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:()=>rr(!1)}),jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-lg border border-[#E5D5C0] overflow-hidden z-50",children:er.map(sr=>jsxRuntimeExports.jsxs("button",{onClick:()=>{tr(sr.id),rr(!1)},className:`w-full flex items-center gap-2 px-4 py-3 text-sm ${s===sr.id?"bg-red-50 text-red-500":"text-gray-700 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx(sr.icon,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:sr.label})]},sr.id))})]})]})}const filters=[{id:"new",label:"New",icon:FaStar},{id:"market-cap",label:"Market Cap",icon:FaDollarSign},{id:"volume",label:"Volume",icon:FaChartLine}],frameworks$1=[{id:"vvaifu",label:"Native",image:"/logo.png"},{id:"eliza",label:"Eliza",image:"/eliza.jpg"},{id:"zerepy",label:"Zerepy",image:"/zerepy.jpeg"},{id:"build",label:"Build",image:"/build.png"}];function CustomFrameworkDropdown({selectedFramework:er,onFrameworkChange:s}){const[tr,nr]=reactExports.useState(!1),rr=reactExports.useRef(null);reactExports.useEffect(()=>{function sr(or){rr.current&&!rr.current.contains(or.target)&&nr(!1)}return document.addEventListener("mousedown",sr),()=>document.removeEventListener("mousedown",sr)},[]);const ir=frameworks$1.find(sr=>sr.id===er);return jsxRuntimeExports.jsxs("div",{className:"relative",ref:rr,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>nr(!tr),className:"px-4 py-2 border rounded-lg bg-white text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 flex items-center gap-2 min-w-[140px]",children:[jsxRuntimeExports.jsx("img",{src:ir.image,alt:ir.label,className:"w-5 h-5 object-contain"}),jsxRuntimeExports.jsx("span",{children:ir.label}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-gray-400 ml-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),tr&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 w-full bg-white border rounded-lg shadow-lg z-50",children:frameworks$1.map(sr=>jsxRuntimeExports.jsxs("button",{onClick:()=>{s(sr.id),nr(!1)},className:`w-full px-4 py-2 flex items-center gap-2 hover:bg-gray-50 ${sr.id===er?"bg-gray-100":""}`,children:[jsxRuntimeExports.jsx("img",{src:sr.image,alt:sr.label,className:"w-5 h-5 object-contain"}),jsxRuntimeExports.jsx("span",{children:sr.label})]},sr.id))})]})}function ViewAllFilters({searchQuery:er,setSearchQuery:s}){var ur;const{type:tr}=useParams(),nr=useNavigate(),[rr,ir]=useSearchParams(),[sr,or]=reactExports.useState(rr.get("framework")||"vvaifu"),ar=((ur=filters.find(hr=>hr.id===tr))==null?void 0:ur.id)||"trending",lr=hr=>{const dr=new URLSearchParams(rr);nr(`/view/${hr}?${dr.toString()}`)},cr=hr=>{or(hr);const dr=new URLSearchParams(rr);dr.set("framework",hr),ir(dr)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-8",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx(SearchBar,{value:er,onChange:s})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(CustomFrameworkDropdown,{selectedFramework:sr,onFrameworkChange:cr}),jsxRuntimeExports.jsx("div",{className:"lg:hidden",children:jsxRuntimeExports.jsx(MobileFilterDropdown,{filters,activeFilter:ar,onSelect:lr})}),jsxRuntimeExports.jsx("div",{className:"hidden lg:flex gap-2",children:filters.map(hr=>jsxRuntimeExports.jsx(FilterButton,{icon:hr.icon,label:hr.label,active:ar===hr.id,onClick:()=>lr(hr.id)},hr.id))})]})]})}function EditButton({agent:er,onClick:s}){return jsxRuntimeExports.jsx("button",{onClick:tr=>{tr.stopPropagation(),s(er)},className:"p-1.5 hover:bg-white/50 rounded-xl transition-colors",title:"Edit agent",children:jsxRuntimeExports.jsx(FaEdit,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})})}function ViewAllCard({agent:er,fullAgent:s,isOwner:tr=!1}){var sr,or;const nr=useNavigate();if(!(er!=null&&er.id))return null;const rr=()=>{nr(`/character/${er.id}`)},ir=()=>{nr("/create",{state:{isEditing:!0,agent:{...s}}})};return jsxRuntimeExports.jsx("div",{className:"rounded-2xl overflow-hidden border border-vvaifu-border hover:shadow-sm transition-all cursor-pointer",style:{background:"linear-gradient(to top right, #fcf0e1 0%, #eae7df 100%)"},onClick:rr,children:jsxRuntimeExports.jsxs("div",{className:"p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:er.image,alt:er.name,className:"w-14 h-14 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900",children:er.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500",children:er.tag}),jsxRuntimeExports.jsx("div",{className:"text-green-500 font-medium text-xs",children:er.price})]})]}),jsxRuntimeExports.jsx("div",{className:"text-gray-400 text-xs font-medium",children:er.time})]}),jsxRuntimeExports.jsx("div",{className:"h-[40px] text-sm text-gray-600 mb-2.5 line-clamp-2",children:er.description||" "}),jsxRuntimeExports.jsx("div",{className:"border-t border-vvaifu-border -mx-3 mb-1.5"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between -ml-0.5 -mb-0.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[(sr=er.features)==null?void 0:sr.map(ar=>jsxRuntimeExports.jsx("button",{className:"p-1.5 hover:bg-white/50 rounded-xl transition-colors",onClick:lr=>{lr.stopPropagation(),window.open(`https://x.com/${s.screenName}`,"_blank")},children:ar==="twitter"&&jsxRuntimeExports.jsx(FaTwitter,{className:"w-4 h-4 text-gray-400"})},`${er.id}-${ar}`)),tr&&jsxRuntimeExports.jsx(EditButton,{agent:er,onClick:ir})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(FaMagic,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:((or=er.features)==null?void 0:or.length)||0})]})]})]})})}function useInfiniteScroll(er,s,tr){const nr=reactExports.useCallback(()=>{if(tr||!s)return;const rr=document.documentElement.scrollHeight,ir=document.documentElement.scrollTop,sr=document.documentElement.clientHeight;rr-ir-sr<100&&er()},[er,s,tr]);reactExports.useEffect(()=>(window.addEventListener("scroll",nr),()=>window.removeEventListener("scroll",nr)),[nr])}function ViewAllGrid({agents:er=[],loading:s,hasMore:tr,onLoadMore:nr}){return useInfiniteScroll(nr,tr,s),er!=null&&er.length?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:er.map(rr=>{var ir;return jsxRuntimeExports.jsx(ViewAllCard,{agent:{id:rr._id,name:rr.name,price:`$${((ir=rr.marketCap)==null?void 0:ir.toLocaleString())||"0"}`,time:timeAgo(rr.createdAt),tag:`$${rr.ticker}`,image:rr.imageUrl,description:rr.description,screenName:rr.screenName,features:[rr.twitterUnlocked&&"twitter",rr.discordUnlocked&&"discord"].filter(Boolean)}},rr._id)})}),s&&jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:jsxRuntimeExports.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-4 border-gray-200 border-t-red-500"})})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No agents found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters"})]})}function FilterLoadingState(){return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-6",children:[...Array(10)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"rounded-2xl overflow-hidden border border-vvaifu-border animate-pulse",style:{background:"linear-gradient(to top right, #fcf0e1 0%, #eae7df 100%)"},children:jsxRuntimeExports.jsxs("div",{className:"p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded"})]})]}),jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded"})]}),jsxRuntimeExports.jsx("div",{className:"h-12 bg-gray-200 rounded mb-2.5"}),jsxRuntimeExports.jsx("div",{className:"border-t border-vvaifu-border -mx-3 mb-1.5"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-200"}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(FaFire,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"0"})]})]})]})},s))})}function useCharacters(er="marketCap",s=""){const[tr,nr]=reactExports.useState([]),[rr,ir]=reactExports.useState(!0),[sr,or]=reactExports.useState(null),[ar,lr]=reactExports.useState(1),[cr,ur]=reactExports.useState(!0),[hr]=useSearchParams(),dr=hr.get("framework"),pr=async xr=>{try{ir(!0);const br=await getCharacters({page:xr,limit:20,sort:er,tags:"",keywords:s,framework:dr,isNotBot:!0});nr(xr===1?br.characters:yr=>[...yr,...br.characters]),ur(br.characters.length===20)}catch(br){console.error("Error fetching characters:",br),or(br.message||"Failed to fetch characters")}finally{ir(!1)}};return reactExports.useEffect(()=>{lr(1),nr([]),pr(1)},[er,s,dr]),{characters:tr,loading:rr,error:sr,hasMore:cr,loadMore:()=>{if(!rr&&cr){const xr=ar+1;lr(xr),pr(xr)}},refresh:()=>{lr(1),nr([]),pr(1)}}}function useDebounce(er,s=250){const[tr,nr]=reactExports.useState(er);return reactExports.useEffect(()=>{const rr=setTimeout(()=>{nr(er)},s);return()=>clearTimeout(rr)},[er,s]),tr}const getSortParam=er=>{switch(er){case"new":return"createdAt";case"trending":return"volume24";case"market-cap":return"marketCap";case"volume":return"volume";default:return"marketCap"}};function ViewAll(){const{type:er}=useParams(),[s]=useSearchParams(),tr=s.get("search")||"",[nr,rr]=reactExports.useState(tr),ir=useDebounce(nr),sr=getSortParam(er),{characters:or,loading:ar,error:lr,hasMore:cr,loadMore:ur}=useCharacters(sr,ir);return lr?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-vvaifu-bg p-8 max-w-7xl",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading agents"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:lr})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-vvaifu-bg p-8 max-w-7xl",children:jsxRuntimeExports.jsxs("div",{className:"mx-auto",children:[jsxRuntimeExports.jsx(ViewAllFilters,{searchQuery:nr,setSearchQuery:rr}),ar&&!or.length?jsxRuntimeExports.jsx(FilterLoadingState,{}):jsxRuntimeExports.jsx(ViewAllGrid,{agents:or,loading:ar,hasMore:cr,onLoadMore:ur})]})})}function FollowingLoadingState(){return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(12)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"rounded-2xl overflow-hidden border border-vvaifu-border animate-pulse",style:{background:"linear-gradient(to top right, #fcf0e1 0%, #eae7df 100%)"},children:jsxRuntimeExports.jsxs("div",{className:"p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-2.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-200"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-3 w-20 bg-gray-200 rounded"})]})]}),jsxRuntimeExports.jsx("div",{className:"h-3 w-16 bg-gray-200 rounded"})]}),jsxRuntimeExports.jsx("div",{className:"h-12 bg-gray-200 rounded mb-2.5"}),jsxRuntimeExports.jsx("div",{className:"border-t border-vvaifu-border -mx-3 mb-1.5"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-200"}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-xl bg-gray-200"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(FaFire,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"0"})]})]})]})},s))})}function Following(){const[er,s]=reactExports.useState([]),[tr,nr]=reactExports.useState(!0),[rr,ir]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{nr(!0);const or=await getFollowedCharacters();s(or.characters||[])}catch(or){ir(or.message||"Failed to load followed agents")}finally{nr(!1)}})()},[]),rr?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-vvaifu-bg p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading followed agents"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:rr})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-vvaifu-bg p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Following"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"AI agents you're following"})]}),jsxRuntimeExports.jsx("div",{className:"mx-auto",children:tr?jsxRuntimeExports.jsx(FollowingLoadingState,{}):er.length>0?jsxRuntimeExports.jsx(ViewAllGrid,{agents:er}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No agents followed yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Start following AI agents to see them here"})]})})]})}const createApi$7=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),submitCTORequest=async(er,s=null)=>{var tr,nr;try{return(await createApi$7(s).post("/cto-requests",er)).data}catch(rr){throw new Error(((nr=(tr=rr.response)==null?void 0:tr.data)==null?void 0:nr.message)||"Failed to submit CTO request")}};function NewRequestModal({isOpen:er,onClose:s,onRequestSubmitted:tr}){const nr=useSelector(mr=>mr.userData),rr=useWallet(),[ir,sr]=reactExports.useState({tokenAddress:"",twitterHandle:""}),[or,ar]=reactExports.useState(!1),[lr,cr]=reactExports.useState(""),[ur,hr]=reactExports.useState(null);if(!er)return null;async function dr(mr,xr){var br,yr;try{const gr=await fetch("https://jeni-5a2we4-fast-mainnet.helius-rpc.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"my-id",method:"getAsset",params:[xr]})}).then(Wr=>Wr.json());if(!gr.result)throw new Error("Token not found");let Er=null,kr=!1;try{const Wr=await axiosRequest("post","verify-pumpfun-token",{tokenAddress:xr},localStorage.getItem("jwt"));Wr.data.isPumpFunToken&&(kr=!0,Er=Wr.data.tokenInfo)}catch(Wr){console.log("Not a PumpFun token:",Wr)}const Mr=kr?gr.result.ownership.owner.toLowerCase()===mr.toString().toLowerCase()||Er.creator.toLowerCase()===mr.toString().toLowerCase():gr.result.ownership.owner.toLowerCase()===mr.toString().toLowerCase(),Dr=await(await fetch(`https://api.dexscreener.com/latest/dex/tokens/${xr}`)).json(),zr=Dr&&Dr.pairs?Dr.pairs.find(Wr=>Wr.dexId==="raydium"&&Wr.chainId==="solana"):null;return{name:kr?Er.name:gr.result.content.metadata.name||(zr==null?void 0:zr.baseToken.name),symbol:kr?Er.symbol:gr.result.content.metadata.symbol||(zr==null?void 0:zr.baseToken.symbol),image:kr?Er.image_uri:((br=gr.result.content.json)==null?void 0:br.image)||((yr=gr.result.content.links)==null?void 0:yr.image)}}catch(gr){throw console.error("Error verifying token:",gr),gr}}const pr=async mr=>{mr.preventDefault(),cr(""),ar(!0);const xr=localStorage.getItem("jwt");try{const br=await dr(rr.publicKey.toString(),ir.tokenAddress),yr={tokenAddress:ir.tokenAddress,name:br.name,symbol:br.symbol,image:br.image,submittedWallet:rr.publicKey.toString(),twitter:ir.twitterHandle,submittedBy:nr._id},gr=await submitCTORequest(yr,xr);gr.success&&(tr(gr.data),s())}catch(br){cr(br.message||"Failed to submit request")}finally{ar(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"New Token Request"}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg p-4 mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 overflow-hidden",children:ur?jsxRuntimeExports.jsx("img",{src:ur.image,alt:"Token",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:"?"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-6 mb-1",children:ur?jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:ur.name}):jsxRuntimeExports.jsx("div",{className:"w-24 h-4 bg-gray-100 rounded animate-pulse"})}),jsxRuntimeExports.jsx("div",{className:"h-5",children:ur?jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-500",children:["$",ur.symbol]}):jsxRuntimeExports.jsx("div",{className:"w-16 h-3 bg-gray-100 rounded animate-pulse"})})]})]})}),jsxRuntimeExports.jsxs("form",{onSubmit:pr,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contract Address"}),jsxRuntimeExports.jsx("input",{type:"text",value:ir.tokenAddress,onChange:mr=>sr(xr=>({...xr,tokenAddress:mr.target.value})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20 focus:border-vvaifu-red/30",placeholder:"Enter contract address",required:!0,disabled:or})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter Handle"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"@"}),jsxRuntimeExports.jsx("input",{type:"text",value:ir.twitterHandle,onChange:mr=>sr(xr=>({...xr,twitterHandle:mr.target.value})),className:"w-full pl-8 pr-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20 focus:border-vvaifu-red/30",placeholder:"username",required:!0,disabled:or})]})]}),lr&&jsxRuntimeExports.jsx("div",{className:"text-sm text-red-500",children:lr}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-white rounded-lg transition-colors",disabled:or,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-vvaifu-red text-white rounded-lg hover:bg-vvaifu-red/90 transition-colors disabled:opacity-50",disabled:or,children:or?"Submitting...":"Submit"})]})]})]})})}function CTORequestsHeader({onRequestSubmitted:er}){const[s,tr]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Token Submissions"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm max-w-[250px]",children:"Tokens not approved after 3 days in queue will be deleted. You may resubmit later if there is meaningful progress."})]}),jsxRuntimeExports.jsx("button",{onClick:()=>tr(!0),className:"w-full sm:w-auto bg-vvaifu-red text-white px-4 py-2 rounded-lg font-medium hover:bg-vvaifu-red/90 transition-colors",children:"New Request"}),jsxRuntimeExports.jsx(NewRequestModal,{isOpen:s,onClose:()=>tr(!1),onRequestSubmitted:er})]})}function CTORequestsTabs({activeTab:er,onTabChange:s}){return jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-6",children:[jsxRuntimeExports.jsx(TabButton,{isActive:er==="pending",onClick:()=>s("pending"),children:"Pending"}),jsxRuntimeExports.jsx(TabButton,{isActive:er==="approved",onClick:()=>s("approved"),children:"Approved"})]})}function TabButton({children:er,isActive:s,onClick:tr}){return jsxRuntimeExports.jsx("button",{onClick:tr,className:`
        px-4 py-2 rounded-lg font-medium text-sm transition-colors
        ${s?"bg-vvaifu-red text-white":"bg-white text-gray-700 hover:bg-gray-50"}
      `,children:er})}function useWindowSize(){const[er,s]=reactExports.useState({width:window.innerWidth,height:window.innerHeight});return reactExports.useEffect(()=>{const tr=()=>{s({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",tr),()=>window.removeEventListener("resize",tr)},[]),er}function CTORequestsTable({requests:er=[]}){const{width:s}=useWindowSize(),tr=s<900,nr=rr=>rr?rr.length>20?`${rr.slice(0,17)}...`:rr:"";return tr?jsxRuntimeExports.jsx("div",{className:"space-y-4",style:{maxWidth:"calc(100vw - 32px)"},children:er.map(rr=>jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl p-4 border border-vvaifu-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("img",{src:rr.image,alt:rr.name,className:"w-10 h-10 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900",children:rr.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["$",rr.symbol]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Twitter:"}),jsxRuntimeExports.jsx("a",{href:`https://x.com/${rr.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600",title:rr.twitter,children:nr(rr.twitter)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Age:"}),jsxRuntimeExports.jsx("span",{children:timeAgo(rr.createdAt)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:`
                  px-2 py-1 rounded-full text-xs font-medium
                  ${rr.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}
                `,children:rr.status.charAt(0).toUpperCase()+rr.status.slice(1)})]})]})]},rr._id))}):jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl overflow-hidden border border-vvaifu-border",style:{maxWidth:"calc(100vw - 32px)"},children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full min-w-[800px]",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"border-b border-vvaifu-border",children:[jsxRuntimeExports.jsx("th",{className:"text-left py-4 px-6 text-gray-700 font-medium",children:"Token"}),jsxRuntimeExports.jsx("th",{className:"text-left py-4 px-6 text-gray-700 font-medium",children:"Symbol"}),jsxRuntimeExports.jsx("th",{className:"text-left py-4 px-6 text-gray-700 font-medium",children:"Twitter"}),jsxRuntimeExports.jsx("th",{className:"text-left py-4 px-6 text-gray-700 font-medium",children:"Age"}),jsxRuntimeExports.jsx("th",{className:"text-left py-4 px-6 text-gray-700 font-medium",children:"Status"})]})}),jsxRuntimeExports.jsx("tbody",{children:er.map(rr=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-vvaifu-border last:border-b-0 hover:bg-white/50",children:[jsxRuntimeExports.jsx("td",{className:"py-4 px-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:rr.image,alt:rr.name,className:"w-8 h-8 rounded-full object-cover"}),jsxRuntimeExports.jsx("span",{className:"text-gray-900 font-medium",children:rr.name})]})}),jsxRuntimeExports.jsx("td",{className:"py-4 px-6",children:jsxRuntimeExports.jsxs("span",{className:"text-gray-900",children:["$",rr.symbol]})}),jsxRuntimeExports.jsx("td",{className:"py-4 px-6",children:jsxRuntimeExports.jsx("a",{href:`https://x.com/${rr.twitter}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",title:rr.twitter,children:nr(rr.twitter)})}),jsxRuntimeExports.jsx("td",{className:"py-4 px-6",children:jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:timeAgo(rr.createdAt)})}),jsxRuntimeExports.jsx("td",{className:"py-4 px-6",children:jsxRuntimeExports.jsx("span",{className:`
                    px-2 py-1 rounded-full text-sm font-medium
                    ${rr.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}
                  `,children:rr.status.charAt(0).toUpperCase()+rr.status.slice(1)})})]},rr._id))})]})})})}function LoadingState$3(){return jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(5)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl p-4 border border-vvaifu-border animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})]}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-gray-200 rounded-full"})]})},s))})}function useCTORequests(){const[er,s]=reactExports.useState({pending:[],approved:[]}),[tr,nr]=reactExports.useState(!0),[rr,ir]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{nr(!0);const lr=(await axios.get("https://api.vvaifu.fun/api/cto-requests")).data.data||[],cr={pending:lr.filter(ur=>ur.status==="pending"),approved:lr.filter(ur=>ur.status==="approved")};s(cr)}catch(ar){ir(ar.message||"Failed to load CTO requests")}finally{nr(!1)}})()},[]),{requests:er,loading:tr,error:rr,addRequest:or=>{s(ar=>({...ar,pending:[or,...ar.pending]}))}}}function CTORequests(){const[er,s]=reactExports.useState("pending"),{requests:tr,loading:nr,error:rr,addRequest:ir}=useCTORequests(),sr=or=>{ir(or)};return nr?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx(CTORequestsHeader,{onRequestSubmitted:sr}),jsxRuntimeExports.jsx(CTORequestsTabs,{activeTab:er,onTabChange:s}),jsxRuntimeExports.jsx(LoadingState$3,{})]}):rr?jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx(CTORequestsHeader,{onRequestSubmitted:sr}),jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading requests"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:rr})]})]}):jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx(CTORequestsHeader,{onRequestSubmitted:sr}),jsxRuntimeExports.jsx(CTORequestsTabs,{activeTab:er,onTabChange:s}),jsxRuntimeExports.jsx(CTORequestsTable,{requests:tr[er]})]})}function ProfileStats({followerCount:er,characters:s}){const tr=(s==null?void 0:s.reduce((nr,rr)=>nr+rr.likes,0))||0;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(FaUser,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-700",children:[er," followers"]})]}),jsxRuntimeExports.jsx("div",{className:"w-px h-4 bg-gray-300"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(FaHeart,{className:"w-4 h-4 text-red-500"}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-gray-700",children:[tr," likes"]})]})]})}function CharacterGrid({characters:er}){return er!=null&&er.length?jsxRuntimeExports.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:er.map(s=>jsxRuntimeExports.jsx(ViewAllCard,{fullAgent:s,agent:{id:s._id,name:s.name,price:s.price?`$${s.price}`:"N/A",time:new Date(s.createdAt).toLocaleDateString(),tag:`$${s.ticker||s.name.toUpperCase()}`,image:s.imageUrl,description:s.description,features:[s.twitterUnlocked&&"twitter",s.discordUnlocked&&"discord",s.telegramUnlocked&&"telegram",s.voiceUnlocked&&"voice",s.trainingUnlocked&&"training",s.twitterRepliesUnlocked&&"replies",s.twitterFrequencyUnlocked&&"frequency",s.walletUnlocked&&"wallet"].filter(Boolean)},isOwner:!0},s._id))}):jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"No characters created yet"})})}function ProfileContainer({profile:er,onEdit:s,isOwnProfile:tr}){return er?jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl border border-vvaifu-border",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-vvaifu-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsx("img",{src:er.pfp||`https://api.dicebear.com/7.x/avataaars/svg?seed=${er.username}`,alt:er.username,className:"w-24 h-24 rounded-full object-cover bg-white"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:["@",er.username]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:er.bio||"No bio yet"}),jsxRuntimeExports.jsx(ProfileStats,{followerCount:er.followerCount,characters:er.characters})]})]}),tr&&jsxRuntimeExports.jsx("button",{onClick:s,className:"p-2 hover:bg-white/50 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(FaEdit,{className:"w-5 h-5 text-gray-500"})})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Created Agents"}),jsxRuntimeExports.jsx(CharacterGrid,{characters:er.characters})]})]}):null}function ProfileLoading(){return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl border border-vvaifu-border animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-vvaifu-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-4"}),jsxRuntimeExports.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(3)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"},s))})]})]})}function ProfileError({message:er}){return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-2xl border border-vvaifu-border p-8 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading profile"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:er})]})}const createApi$6=(er=null,s="application/json")=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:{"Content-Type":s,...er&&{Authorization:`Bearer ${er}`}}}),getUserProfile=async(er,s=!1,tr=null)=>{try{return(await createApi$6(tr).get(`/user/${er}`,{params:{isOwnProfile:s}})).data}catch(nr){throw console.error("Error fetching user profile:",nr),nr}},updateUserProfile=async(er,s=null)=>{try{return(await createApi$6(s,"multipart/form-data").post("/user/update",er)).data}catch(tr){throw console.error("Error updating user profile:",tr),tr}},MAX_FILE_SIZE$1=5*1024*1024;function ImageUpload$1({currentImage:er,onImageChange:s}){const[tr,nr]=reactExports.useState(""),rr=reactExports.useRef(null),ir=sr=>{var lr;const or=(lr=sr.target.files)==null?void 0:lr[0];if(!or)return;if(or.size>MAX_FILE_SIZE$1){nr("Image must be less than 5MB");return}const ar=new FileReader;ar.onloadend=()=>{s(ar.result),nr("")},ar.readAsDataURL(or)};return jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("img",{src:er,alt:"Profile",className:"w-24 h-24 rounded-full object-cover bg-white"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{var sr;return(sr=rr.current)==null?void 0:sr.click()},className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx(FaCamera,{className:"w-6 h-6 text-white"})}),jsxRuntimeExports.jsx("input",{ref:rr,type:"file",accept:"image/*",onChange:ir,className:"hidden"}),tr&&jsxRuntimeExports.jsx("div",{className:"absolute top-full left-0 mt-1 text-xs text-red-500",children:tr})]})}function EditProfileModal({isOpen:er,onClose:s,profile:tr,onSave:nr}){const[rr,ir]=reactExports.useState({username:"",bio:"",pfp:null}),[sr,or]=reactExports.useState(!1),[ar,lr]=reactExports.useState("");if(reactExports.useEffect(()=>{tr&&ir({username:tr.username||"",bio:tr.bio||"",pfp:tr.pfp||null})},[tr]),!er)return null;const cr=async ur=>{ur.preventDefault(),lr(""),or(!0);try{const hr=new FormData;if(hr.append("username",rr.username),hr.append("bio",rr.bio),rr.pfp&&rr.pfp.startsWith("data:")){const xr=await(await fetch(rr.pfp)).blob();hr.append("pfp",xr)}let dr=localStorage.getItem("jwt");const pr=await updateUserProfile(hr,dr);nr(pr.user)}catch(hr){lr(hr.message||"Failed to update profile")}finally{or(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl p-6 w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Edit Profile"}),jsxRuntimeExports.jsxs("form",{onSubmit:cr,className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx(ImageUpload$1,{currentImage:rr.pfp,onImageChange:ur=>ir(hr=>({...hr,pfp:ur}))})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.username,onChange:ur=>ir(hr=>({...hr,username:ur.target.value})),className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20 focus:border-vvaifu-red/30",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),jsxRuntimeExports.jsx("textarea",{value:rr.bio,onChange:ur=>ir(hr=>({...hr,bio:ur.target.value})),rows:3,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20 focus:border-vvaifu-red/30"})]}),ar&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-sm",children:ar}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-white rounded-lg transition-colors",disabled:sr,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-vvaifu-red text-white rounded-lg hover:bg-vvaifu-red/90 transition-colors disabled:opacity-50",disabled:sr,children:sr?"Saving...":"Save Changes"})]})]})]})})}function useProfile(er,s=!1){if(!er)return{profile:null};const[tr,nr]=reactExports.useState(null),[rr,ir]=reactExports.useState(!0),[sr,or]=reactExports.useState(null);return reactExports.useEffect(()=>{er&&(async()=>{try{ir(!0),or(null);const lr=localStorage.getItem("jwt"),cr=await getUserProfile(er,s,lr);nr(cr.user||cr)}catch(lr){or(lr.message||"Failed to load profile")}finally{ir(!1)}})()},[er,s]),{profile:tr,loading:rr,error:sr,setProfile:ar=>nr(lr=>({...lr,...typeof ar=="function"?ar(lr):ar}))}}function Profile(){const{username:er}=useParams(),s=useSelector(ur=>ur.userData),tr=!er,nr=tr?s.username:er,[rr,ir]=reactExports.useState(!1),{profile:sr,loading:or,error:ar,setProfile:lr}=useProfile(nr,tr),cr=ur=>{lr(hr=>({...hr,userId:ur.userId||hr.userId,username:ur.username||hr.username,bio:ur.bio||hr.bio,pfp:ur.pfp||hr.pfp})),ir(!1)};return or?jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsx(ProfileLoading,{})}):ar?jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsx(ProfileError,{message:ar})}):jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx(ProfileContainer,{profile:sr,onEdit:()=>ir(!0),isOwnProfile:tr}),tr&&jsxRuntimeExports.jsx(EditProfileModal,{isOpen:rr,onClose:()=>ir(!1),profile:sr,onSave:cr})]})}const createApi$5=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),reactToCharacter=async(er,s,tr=null)=>{var nr,rr;try{return(await createApi$5(tr).post(`/character/${er}/react`,{reactionType:s})).data}catch(ir){throw new Error(((rr=(nr=ir.response)==null?void 0:nr.data)==null?void 0:rr.message)||"Failed to react to character")}};function ReactionButton({characterId:er,type:s,count:tr,onReaction:nr}){const[rr,ir]=reactExports.useState(!1),sr=async()=>{try{ir(!0);const ar=localStorage.getItem("jwt"),lr=await reactToCharacter(er,s,ar);lr.success&&nr(lr.likes,lr.dislikes)}catch(ar){console.error("Failed to react:",ar)}finally{ir(!1)}},or=s==="like"?FaThumbsUp:FaThumbsDown;return jsxRuntimeExports.jsxs("button",{onClick:sr,disabled:rr,className:"flex items-center gap-1.5 group",children:[jsxRuntimeExports.jsx(or,{className:`w-3.5 h-3.5 text-gray-500 transition-transform group-hover:scale-110 ${rr?"animate-pulse":""}`}),jsxRuntimeExports.jsx("span",{className:`text-sm font-medium ${rr?"animate-pulse":""}`,children:tr})]})}function Stats({icon:er,count:s}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0.5",children:[er,jsxRuntimeExports.jsx("span",{className:"font-medium text-xs text-gray-700",children:s})]})}function useCopyFeedback(er,s=3e3){const[tr,nr]=reactExports.useState(!1),rr=reactExports.useCallback(async()=>{try{await navigator.clipboard.writeText(er),nr(!0),setTimeout(()=>nr(!1),s)}catch(ir){console.error("Failed to copy text:",ir)}},[er,s]);return{hasCopied:tr,handleCopy:rr}}function CopyButton({text:er,className:s=""}){const{hasCopied:tr,handleCopy:nr}=useCopyFeedback(er);return jsxRuntimeExports.jsx("button",{onClick:nr,className:`p-1.5 hover:bg-white/50 rounded transition-colors ${s}`,title:tr?"Copied!":"Copy to clipboard",children:tr?jsxRuntimeExports.jsx(FaCheck,{className:"w-3 h-3 text-green-500"}):jsxRuntimeExports.jsx(FaCopy,{className:"w-3 h-3 text-gray-400"})})}function useFollowCharacter(er,s=0){const tr=useSelector(hr=>hr.userData),nr=useSelector(hr=>hr.loggedIn),{profile:rr}=nr?useProfile(tr.username,!0):{profile:null},[ir,sr]=reactExports.useState(!1),[or,ar]=reactExports.useState(s),[lr,cr]=reactExports.useState(!1);return reactExports.useEffect(()=>{console.log("characterId",er,rr==null?void 0:rr.followedCharacters),rr!=null&&rr.followedCharacters&&er&&sr(rr.followedCharacters.includes(er))},[rr,er]),{isFollowing:ir,isLoading:lr,followCount:or,toggleFollow:async()=>{try{nr||y$1.info("Must be logged in."),cr(!0);let hr=localStorage.getItem("jwt");const dr=await axios.post(`https://api.vvaifu.fun/api/character/${er}/follow`,{},{headers:{Authorization:`Bearer ${hr}`}});dr.data.success&&(sr(dr.data.isFollowing),ar(dr.data.followCount))}catch(hr){console.error("Failed to toggle follow:",hr)}finally{cr(!1)}}}}const formatNumber=er=>er?er>=1e6?`$${(er/1e6).toFixed(2)}M`:`$${er.toLocaleString()}`:"$0";function CharacterHeader({character:er}){var pr,mr,xr;const s=useNavigate(),{isFollowing:tr,isLoading:nr,followCount:rr,toggleFollow:ir}=useFollowCharacter(er._id,er.follows),[sr,or]=reactExports.useState(er.likes||0),[ar,lr]=reactExports.useState(er.dislikes||0),cr=(br,yr)=>{or(br),lr(yr)},ur=br=>{br&&s(`/profile/${br}`)},hr=br=>{br&&window.open(`https://solscan.io/token/${br}`,"_blank")};let dr="/logo.png";return er.useEliza&&(dr="/eliza.jpg"),er.useZerepy&&(dr="/zerepy.jpeg"),er.useBuild&&(dr="/build.png"),jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[jsxRuntimeExports.jsx("img",{src:er.imageUrl,alt:er.name,className:"w-16 h-16 rounded-lg object-cover"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600 mb-0.5",children:"Name"}),jsxRuntimeExports.jsx("h1",{className:"text-base font-bold text-gray-900",children:er.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[jsxRuntimeExports.jsx(Stats,{icon:jsxRuntimeExports.jsx(FaUser,{className:"w-3 h-3 text-gray-500"}),count:rr}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-3 bg-gray-300"}),jsxRuntimeExports.jsx(ReactionButton,{characterId:er._id,type:"like",count:sr,onReaction:cr}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-3 bg-gray-300"}),jsxRuntimeExports.jsx(ReactionButton,{characterId:er._id,type:"dislike",count:ar,onReaction:cr}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-3 bg-gray-300"}),jsxRuntimeExports.jsx("button",{onClick:ir,disabled:nr,className:`
                  px-4 py-1 rounded-full text-xs font-medium transition-colors
                  ${tr?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-[#FFB800] text-black hover:bg-[#FFB800]/90"}
                  disabled:opacity-50
                `,children:tr?"Unfollow":"Follow"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-0.5",children:"Price"}),jsxRuntimeExports.jsxs("div",{className:"font-mono font-medium",children:["$",((pr=er.price)==null?void 0:pr.toFixed(6))||"0.000000"]})]}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-6 bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-0.5",children:"Market Cap"}),jsxRuntimeExports.jsx("div",{className:"font-mono font-medium",children:formatNumber(er.marketCap)})]}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-6 bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-0.5",children:"24h Volume"}),jsxRuntimeExports.jsx("div",{className:"font-mono font-medium",children:formatNumber(er.volume24)})]}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-6 bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-0.5",children:"Framework"}),jsxRuntimeExports.jsx("div",{className:"font-mono font-medium",children:jsxRuntimeExports.jsx("img",{src:dr,style:{height:"25px",borderRadius:"10px"}})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-0.5",children:"Contract"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{onClick:()=>hr(er.tokenAddress),className:"text-red-500 hover:underline",children:er.tokenAddress?`${er.tokenAddress.slice(0,6)}...${er.tokenAddress.slice(-4)}`:"N/A"}),er.tokenAddress&&jsxRuntimeExports.jsx(CopyButton,{text:er.tokenAddress})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden sm:block w-px h-6 bg-gray-300"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-gray-600 mb-0.5",children:"Created by"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{var br;return ur((br=er.creator)==null?void 0:br.username)},className:"text-gray-900 hover:underline",children:["@",((mr=er.creator)==null?void 0:mr.username)||"unknown"]}),((xr=er.creator)==null?void 0:xr.username)&&jsxRuntimeExports.jsx(CopyButton,{text:er.creator.username})]})]})]})]})]})]})})}var _Buffer=safeBufferExports.Buffer;function base(er){if(er.length>=255)throw new TypeError("Alphabet too long");for(var s=new Uint8Array(256),tr=0;tr<s.length;tr++)s[tr]=255;for(var nr=0;nr<er.length;nr++){var rr=er.charAt(nr),ir=rr.charCodeAt(0);if(s[ir]!==255)throw new TypeError(rr+" is ambiguous");s[ir]=nr}var sr=er.length,or=er.charAt(0),ar=Math.log(sr)/Math.log(256),lr=Math.log(256)/Math.log(sr);function cr(dr){if((Array.isArray(dr)||dr instanceof Uint8Array)&&(dr=_Buffer.from(dr)),!_Buffer.isBuffer(dr))throw new TypeError("Expected Buffer");if(dr.length===0)return"";for(var pr=0,mr=0,xr=0,br=dr.length;xr!==br&&dr[xr]===0;)xr++,pr++;for(var yr=(br-xr)*lr+1>>>0,gr=new Uint8Array(yr);xr!==br;){for(var Er=dr[xr],kr=0,Mr=yr-1;(Er!==0||kr<mr)&&Mr!==-1;Mr--,kr++)Er+=256*gr[Mr]>>>0,gr[Mr]=Er%sr>>>0,Er=Er/sr>>>0;if(Er!==0)throw new Error("Non-zero carry");mr=kr,xr++}for(var Cr=yr-mr;Cr!==yr&&gr[Cr]===0;)Cr++;for(var Dr=or.repeat(pr);Cr<yr;++Cr)Dr+=er.charAt(gr[Cr]);return Dr}function ur(dr){if(typeof dr!="string")throw new TypeError("Expected String");if(dr.length===0)return _Buffer.alloc(0);for(var pr=0,mr=0,xr=0;dr[pr]===or;)mr++,pr++;for(var br=(dr.length-pr)*ar+1>>>0,yr=new Uint8Array(br);pr<dr.length;){var gr=s[dr.charCodeAt(pr)];if(gr===255)return;for(var Er=0,kr=br-1;(gr!==0||Er<xr)&&kr!==-1;kr--,Er++)gr+=sr*yr[kr]>>>0,yr[kr]=gr%256>>>0,gr=gr/256>>>0;if(gr!==0)throw new Error("Non-zero carry");xr=Er,pr++}for(var Mr=br-xr;Mr!==br&&yr[Mr]===0;)Mr++;var Cr=_Buffer.allocUnsafe(mr+(br-Mr));Cr.fill(0,0,mr);for(var Dr=mr;Mr!==br;)Cr[Dr++]=yr[Mr++];return Cr}function hr(dr){var pr=ur(dr);if(pr)return pr;throw new Error("Non-base"+sr+" character")}return{encode:cr,decodeUnsafe:ur,decode:hr}}var src=base,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const bs58$1=getDefaultExportFromCjs$2(bs58);var toByteArray_1=toByteArray,fromByteArray_1=fromByteArray,lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(er){var s=er.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var tr=er.indexOf("=");tr===-1&&(tr=s);var nr=tr===s?0:4-tr%4;return[tr,nr]}function _byteLength(er,s,tr){return(s+tr)*3/4-tr}function toByteArray(er){var s,tr=getLens(er),nr=tr[0],rr=tr[1],ir=new Arr(_byteLength(er,nr,rr)),sr=0,or=rr>0?nr-4:nr,ar;for(ar=0;ar<or;ar+=4)s=revLookup[er.charCodeAt(ar)]<<18|revLookup[er.charCodeAt(ar+1)]<<12|revLookup[er.charCodeAt(ar+2)]<<6|revLookup[er.charCodeAt(ar+3)],ir[sr++]=s>>16&255,ir[sr++]=s>>8&255,ir[sr++]=s&255;return rr===2&&(s=revLookup[er.charCodeAt(ar)]<<2|revLookup[er.charCodeAt(ar+1)]>>4,ir[sr++]=s&255),rr===1&&(s=revLookup[er.charCodeAt(ar)]<<10|revLookup[er.charCodeAt(ar+1)]<<4|revLookup[er.charCodeAt(ar+2)]>>2,ir[sr++]=s>>8&255,ir[sr++]=s&255),ir}function tripletToBase64(er){return lookup[er>>18&63]+lookup[er>>12&63]+lookup[er>>6&63]+lookup[er&63]}function encodeChunk(er,s,tr){for(var nr,rr=[],ir=s;ir<tr;ir+=3)nr=(er[ir]<<16&16711680)+(er[ir+1]<<8&65280)+(er[ir+2]&255),rr.push(tripletToBase64(nr));return rr.join("")}function fromByteArray(er){for(var s,tr=er.length,nr=tr%3,rr=[],ir=16383,sr=0,or=tr-nr;sr<or;sr+=ir)rr.push(encodeChunk(er,sr,sr+ir>or?or:sr+ir));return nr===1?(s=er[tr-1],rr.push(lookup[s>>2]+lookup[s<<4&63]+"==")):nr===2&&(s=(er[tr-2]<<8)+er[tr-1],rr.push(lookup[s>>10]+lookup[s>>4&63]+lookup[s<<2&63]+"=")),rr.join("")}var camelcase={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase=(er,s,tr)=>{let nr=!1,rr=!1,ir=!1;for(let sr=0;sr<er.length;sr++){const or=er[sr];nr&&UPPERCASE.test(or)?(er=er.slice(0,sr)+"-"+er.slice(sr),nr=!1,ir=rr,rr=!0,sr++):rr&&ir&&LOWERCASE.test(or)?(er=er.slice(0,sr-1)+"-"+er.slice(sr-1),ir=rr,rr=!1,nr=!0):(nr=s(or)===or&&tr(or)!==or,ir=rr,rr=tr(or)===or&&s(or)!==or)}return er},preserveConsecutiveUppercase=(er,s)=>(LEADING_CAPITAL.lastIndex=0,er.replace(LEADING_CAPITAL,tr=>s(tr))),postProcess=(er,s)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,er.replace(SEPARATORS_AND_IDENTIFIER,(tr,nr)=>s(nr)).replace(NUMBERS_AND_IDENTIFIER,tr=>s(tr))),camelCase=(er,s)=>{if(!(typeof er=="string"||Array.isArray(er)))throw new TypeError("Expected the input to be `string | string[]`");if(s={pascalCase:!1,preserveConsecutiveUppercase:!1,...s},Array.isArray(er)?er=er.map(ir=>ir.trim()).filter(ir=>ir.length).join("-"):er=er.trim(),er.length===0)return"";const tr=s.locale===!1?ir=>ir.toLowerCase():ir=>ir.toLocaleLowerCase(s.locale),nr=s.locale===!1?ir=>ir.toUpperCase():ir=>ir.toLocaleUpperCase(s.locale);return er.length===1?s.pascalCase?nr(er):tr(er):(er!==tr(er)&&(er=preserveCamelCase(er,tr,nr)),er=er.replace(LEADING_SEPARATORS,""),s.preserveConsecutiveUppercase?er=preserveConsecutiveUppercase(er,tr):er=tr(er),s.pascalCase&&(er=nr(er.charAt(0))+er.slice(1)),postProcess(er,nr))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var camelcaseExports=camelcase.exports;const camelCase$1=getDefaultExportFromCjs$2(camelcaseExports);var sha256={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process$1=="object"&&process$1.versions&&process$1.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(er){return Object.prototype.toString.call(er)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(er){return typeof er=="object"&&er.buffer&&er.buffer.constructor===ArrayBuffer});var createOutputMethod=function(er,s){return function(tr){return new Sha256(s,!0).update(tr)[er]()}},createMethod=function(er){var s=createOutputMethod("hex",er);NODE_JS&&(s=nodeWrap(s,er)),s.create=function(){return new Sha256(er)},s.update=function(rr){return s.create().update(rr)};for(var tr=0;tr<OUTPUT_TYPES.length;++tr){var nr=OUTPUT_TYPES[tr];s[nr]=createOutputMethod(nr,er)}return s},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(er){if(typeof er=="string")return crypto.createHash(algorithm).update(er,"utf8").digest("hex");if(er==null)throw new Error(ERROR);return er.constructor===ArrayBuffer&&(er=new Uint8Array(er)),Array.isArray(er)||ArrayBuffer.isView(er)||er.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(er)).digest("hex"):method(er)};return nodeMethod},createHmacOutputMethod=function(er,s){return function(tr,nr){return new HmacSha256(tr,s,!0).update(nr)[er]()}},createHmacMethod=function(er){var s=createHmacOutputMethod("hex",er);s.create=function(rr){return new HmacSha256(rr,er)},s.update=function(rr,ir){return s.create(rr).update(ir)};for(var tr=0;tr<OUTPUT_TYPES.length;++tr){var nr=OUTPUT_TYPES[tr];s[nr]=createHmacOutputMethod(nr,er)}return s};function Sha256(er,s){s?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],er?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=er}Sha256.prototype.update=function(er){if(!this.finalized){var s,tr=typeof er;if(tr!=="string"){if(tr==="object"){if(er===null)throw new Error(ERROR);if(ARRAY_BUFFER&&er.constructor===ArrayBuffer)er=new Uint8Array(er);else if(!Array.isArray(er)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(er)))throw new Error(ERROR)}else throw new Error(ERROR);s=!0}for(var nr,rr=0,ir,sr=er.length,or=this.blocks;rr<sr;){if(this.hashed&&(this.hashed=!1,or[0]=this.block,or[16]=or[1]=or[2]=or[3]=or[4]=or[5]=or[6]=or[7]=or[8]=or[9]=or[10]=or[11]=or[12]=or[13]=or[14]=or[15]=0),s)for(ir=this.start;rr<sr&&ir<64;++rr)or[ir>>2]|=er[rr]<<SHIFT[ir++&3];else for(ir=this.start;rr<sr&&ir<64;++rr)nr=er.charCodeAt(rr),nr<128?or[ir>>2]|=nr<<SHIFT[ir++&3]:nr<2048?(or[ir>>2]|=(192|nr>>6)<<SHIFT[ir++&3],or[ir>>2]|=(128|nr&63)<<SHIFT[ir++&3]):nr<55296||nr>=57344?(or[ir>>2]|=(224|nr>>12)<<SHIFT[ir++&3],or[ir>>2]|=(128|nr>>6&63)<<SHIFT[ir++&3],or[ir>>2]|=(128|nr&63)<<SHIFT[ir++&3]):(nr=65536+((nr&1023)<<10|er.charCodeAt(++rr)&1023),or[ir>>2]|=(240|nr>>18)<<SHIFT[ir++&3],or[ir>>2]|=(128|nr>>12&63)<<SHIFT[ir++&3],or[ir>>2]|=(128|nr>>6&63)<<SHIFT[ir++&3],or[ir>>2]|=(128|nr&63)<<SHIFT[ir++&3]);this.lastByteIndex=ir,this.bytes+=ir-this.start,ir>=64?(this.block=or[16],this.start=ir-64,this.hash(),this.hashed=!0):this.start=ir}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var er=this.blocks,s=this.lastByteIndex;er[16]=this.block,er[s>>2]|=EXTRA[s&3],this.block=er[16],s>=56&&(this.hashed||this.hash(),er[0]=this.block,er[16]=er[1]=er[2]=er[3]=er[4]=er[5]=er[6]=er[7]=er[8]=er[9]=er[10]=er[11]=er[12]=er[13]=er[14]=er[15]=0),er[14]=this.hBytes<<3|this.bytes>>>29,er[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var er=this.h0,s=this.h1,tr=this.h2,nr=this.h3,rr=this.h4,ir=this.h5,sr=this.h6,or=this.h7,ar=this.blocks,lr,cr,ur,hr,dr,pr,mr,xr,br,yr,gr;for(lr=16;lr<64;++lr)dr=ar[lr-15],cr=(dr>>>7|dr<<25)^(dr>>>18|dr<<14)^dr>>>3,dr=ar[lr-2],ur=(dr>>>17|dr<<15)^(dr>>>19|dr<<13)^dr>>>10,ar[lr]=ar[lr-16]+cr+ar[lr-7]+ur<<0;for(gr=s&tr,lr=0;lr<64;lr+=4)this.first?(this.is224?(xr=300032,dr=ar[0]-1413257819,or=dr-150054599<<0,nr=dr+24177077<<0):(xr=704751109,dr=ar[0]-210244248,or=dr-1521486534<<0,nr=dr+143694565<<0),this.first=!1):(cr=(er>>>2|er<<30)^(er>>>13|er<<19)^(er>>>22|er<<10),ur=(rr>>>6|rr<<26)^(rr>>>11|rr<<21)^(rr>>>25|rr<<7),xr=er&s,hr=xr^er&tr^gr,mr=rr&ir^~rr&sr,dr=or+ur+mr+K[lr]+ar[lr],pr=cr+hr,or=nr+dr<<0,nr=dr+pr<<0),cr=(nr>>>2|nr<<30)^(nr>>>13|nr<<19)^(nr>>>22|nr<<10),ur=(or>>>6|or<<26)^(or>>>11|or<<21)^(or>>>25|or<<7),br=nr&er,hr=br^nr&s^xr,mr=or&rr^~or&ir,dr=sr+ur+mr+K[lr+1]+ar[lr+1],pr=cr+hr,sr=tr+dr<<0,tr=dr+pr<<0,cr=(tr>>>2|tr<<30)^(tr>>>13|tr<<19)^(tr>>>22|tr<<10),ur=(sr>>>6|sr<<26)^(sr>>>11|sr<<21)^(sr>>>25|sr<<7),yr=tr&nr,hr=yr^tr&er^br,mr=sr&or^~sr&rr,dr=ir+ur+mr+K[lr+2]+ar[lr+2],pr=cr+hr,ir=s+dr<<0,s=dr+pr<<0,cr=(s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10),ur=(ir>>>6|ir<<26)^(ir>>>11|ir<<21)^(ir>>>25|ir<<7),gr=s&tr,hr=gr^s&nr^yr,mr=ir&sr^~ir&or,dr=rr+ur+mr+K[lr+3]+ar[lr+3],pr=cr+hr,rr=er+dr<<0,er=dr+pr<<0;this.h0=this.h0+er<<0,this.h1=this.h1+s<<0,this.h2=this.h2+tr<<0,this.h3=this.h3+nr<<0,this.h4=this.h4+rr<<0,this.h5=this.h5+ir<<0,this.h6=this.h6+sr<<0,this.h7=this.h7+or<<0},Sha256.prototype.hex=function(){this.finalize();var er=this.h0,s=this.h1,tr=this.h2,nr=this.h3,rr=this.h4,ir=this.h5,sr=this.h6,or=this.h7,ar=HEX_CHARS[er>>28&15]+HEX_CHARS[er>>24&15]+HEX_CHARS[er>>20&15]+HEX_CHARS[er>>16&15]+HEX_CHARS[er>>12&15]+HEX_CHARS[er>>8&15]+HEX_CHARS[er>>4&15]+HEX_CHARS[er&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[tr>>28&15]+HEX_CHARS[tr>>24&15]+HEX_CHARS[tr>>20&15]+HEX_CHARS[tr>>16&15]+HEX_CHARS[tr>>12&15]+HEX_CHARS[tr>>8&15]+HEX_CHARS[tr>>4&15]+HEX_CHARS[tr&15]+HEX_CHARS[nr>>28&15]+HEX_CHARS[nr>>24&15]+HEX_CHARS[nr>>20&15]+HEX_CHARS[nr>>16&15]+HEX_CHARS[nr>>12&15]+HEX_CHARS[nr>>8&15]+HEX_CHARS[nr>>4&15]+HEX_CHARS[nr&15]+HEX_CHARS[rr>>28&15]+HEX_CHARS[rr>>24&15]+HEX_CHARS[rr>>20&15]+HEX_CHARS[rr>>16&15]+HEX_CHARS[rr>>12&15]+HEX_CHARS[rr>>8&15]+HEX_CHARS[rr>>4&15]+HEX_CHARS[rr&15]+HEX_CHARS[ir>>28&15]+HEX_CHARS[ir>>24&15]+HEX_CHARS[ir>>20&15]+HEX_CHARS[ir>>16&15]+HEX_CHARS[ir>>12&15]+HEX_CHARS[ir>>8&15]+HEX_CHARS[ir>>4&15]+HEX_CHARS[ir&15]+HEX_CHARS[sr>>28&15]+HEX_CHARS[sr>>24&15]+HEX_CHARS[sr>>20&15]+HEX_CHARS[sr>>16&15]+HEX_CHARS[sr>>12&15]+HEX_CHARS[sr>>8&15]+HEX_CHARS[sr>>4&15]+HEX_CHARS[sr&15];return this.is224||(ar+=HEX_CHARS[or>>28&15]+HEX_CHARS[or>>24&15]+HEX_CHARS[or>>20&15]+HEX_CHARS[or>>16&15]+HEX_CHARS[or>>12&15]+HEX_CHARS[or>>8&15]+HEX_CHARS[or>>4&15]+HEX_CHARS[or&15]),ar},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var er=this.h0,s=this.h1,tr=this.h2,nr=this.h3,rr=this.h4,ir=this.h5,sr=this.h6,or=this.h7,ar=[er>>24&255,er>>16&255,er>>8&255,er&255,s>>24&255,s>>16&255,s>>8&255,s&255,tr>>24&255,tr>>16&255,tr>>8&255,tr&255,nr>>24&255,nr>>16&255,nr>>8&255,nr&255,rr>>24&255,rr>>16&255,rr>>8&255,rr&255,ir>>24&255,ir>>16&255,ir>>8&255,ir&255,sr>>24&255,sr>>16&255,sr>>8&255,sr&255];return this.is224||ar.push(or>>24&255,or>>16&255,or>>8&255,or&255),ar},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var er=new ArrayBuffer(this.is224?28:32),s=new DataView(er);return s.setUint32(0,this.h0),s.setUint32(4,this.h1),s.setUint32(8,this.h2),s.setUint32(12,this.h3),s.setUint32(16,this.h4),s.setUint32(20,this.h5),s.setUint32(24,this.h6),this.is224||s.setUint32(28,this.h7),er};function HmacSha256(er,s,tr){var nr,rr=typeof er;if(rr==="string"){var ir=[],sr=er.length,or=0,ar;for(nr=0;nr<sr;++nr)ar=er.charCodeAt(nr),ar<128?ir[or++]=ar:ar<2048?(ir[or++]=192|ar>>6,ir[or++]=128|ar&63):ar<55296||ar>=57344?(ir[or++]=224|ar>>12,ir[or++]=128|ar>>6&63,ir[or++]=128|ar&63):(ar=65536+((ar&1023)<<10|er.charCodeAt(++nr)&1023),ir[or++]=240|ar>>18,ir[or++]=128|ar>>12&63,ir[or++]=128|ar>>6&63,ir[or++]=128|ar&63);er=ir}else if(rr==="object"){if(er===null)throw new Error(ERROR);if(ARRAY_BUFFER&&er.constructor===ArrayBuffer)er=new Uint8Array(er);else if(!Array.isArray(er)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(er)))throw new Error(ERROR)}else throw new Error(ERROR);er.length>64&&(er=new Sha256(s,!0).update(er).array());var lr=[],cr=[];for(nr=0;nr<64;++nr){var ur=er[nr]||0;lr[nr]=92^ur,cr[nr]=54^ur}Sha256.call(this,s,tr),this.update(cr),this.oKeyPad=lr,this.inner=!0,this.sharedMemory=tr}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var er=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(er),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var sha256Exports=sha256.exports,dist={},Layout$2={};let Layout$1=class{constructor(s,tr){if(!Number.isInteger(s))throw new TypeError("span must be an integer");this.span=s,this.property=tr}makeDestinationObject(){return{}}decode(s,tr){throw new Error("Layout is abstract")}encode(s,tr,nr){throw new Error("Layout is abstract")}getSpan(s,tr){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(s){const tr=Object.create(this.constructor.prototype);return Object.assign(tr,this),tr.property=s,tr}fromArray(s){}};Layout$2.Layout=Layout$1;function nameWithProperty$1(er,s){return s.property?er+"["+s.property+"]":er}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(er,s){if(typeof er!="function")throw new TypeError("Class must be constructor");if(er.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(s&&s instanceof Layout$1))throw new TypeError("layout must be a Layout");if(s.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");er.layout_=s,s.boundConstructor_=er,s.makeDestinationObject=()=>new er,Object.defineProperty(er.prototype,"encode",{value:function(tr,nr){return s.encode(this,tr,nr)},writable:!0}),Object.defineProperty(er,"decode",{value:function(tr,nr){return s.decode(tr,nr)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;let ExternalLayout$1=class extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}};class GreedyCount extends ExternalLayout$1{constructor(s,tr){if(s===void 0&&(s=1),!Number.isInteger(s)||0>=s)throw new TypeError("elementSpan must be a (positive) integer");super(-1,tr),this.elementSpan=s}isCount(){return!0}decode(s,tr){tr===void 0&&(tr=0);const nr=s.length-tr;return Math.floor(nr/this.elementSpan)}encode(s,tr,nr){return 0}}let OffsetLayout$1=class extends ExternalLayout$1{constructor(s,tr,nr){if(!(s instanceof Layout$1))throw new TypeError("layout must be a Layout");if(tr===void 0)tr=0;else if(!Number.isInteger(tr))throw new TypeError("offset must be integer or undefined");super(s.span,nr||s.property),this.layout=s,this.offset=tr}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE$1}decode(s,tr){return tr===void 0&&(tr=0),this.layout.decode(s,tr+this.offset)}encode(s,tr,nr){return nr===void 0&&(nr=0),this.layout.encode(s,tr,nr+this.offset)}},UInt$1=class extends Layout$1{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr){return tr===void 0&&(tr=0),s.readUIntLE(tr,this.span)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeUIntLE(s,nr,this.span),this.span}},UIntBE$1=class extends Layout$1{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr){return tr===void 0&&(tr=0),s.readUIntBE(tr,this.span)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeUIntBE(s,nr,this.span),this.span}};class Int extends Layout$1{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr){return tr===void 0&&(tr=0),s.readIntLE(tr,this.span)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeIntLE(s,nr,this.span),this.span}}class IntBE extends Layout$1{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr){return tr===void 0&&(tr=0),s.readIntBE(tr,this.span)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeIntBE(s,nr,this.span),this.span}}const V2E32$1=Math.pow(2,32);function divmodInt64$1(er){const s=Math.floor(er/V2E32$1),tr=er-s*V2E32$1;return{hi32:s,lo32:tr}}function roundedInt64$1(er,s){return er*V2E32$1+s}let NearUInt64$1=class extends Layout$1{constructor(s){super(8,s)}decode(s,tr){tr===void 0&&(tr=0);const nr=s.readUInt32LE(tr),rr=s.readUInt32LE(tr+4);return roundedInt64$1(rr,nr)}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=divmodInt64$1(s);return tr.writeUInt32LE(rr.lo32,nr),tr.writeUInt32LE(rr.hi32,nr+4),8}};class NearUInt64BE extends Layout$1{constructor(s){super(8,s)}decode(s,tr){tr===void 0&&(tr=0);const nr=s.readUInt32BE(tr),rr=s.readUInt32BE(tr+4);return roundedInt64$1(nr,rr)}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=divmodInt64$1(s);return tr.writeUInt32BE(rr.hi32,nr),tr.writeUInt32BE(rr.lo32,nr+4),8}}let NearInt64$1=class extends Layout$1{constructor(s){super(8,s)}decode(s,tr){tr===void 0&&(tr=0);const nr=s.readUInt32LE(tr),rr=s.readInt32LE(tr+4);return roundedInt64$1(rr,nr)}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=divmodInt64$1(s);return tr.writeUInt32LE(rr.lo32,nr),tr.writeInt32LE(rr.hi32,nr+4),8}};class NearInt64BE extends Layout$1{constructor(s){super(8,s)}decode(s,tr){tr===void 0&&(tr=0);const nr=s.readInt32BE(tr),rr=s.readUInt32BE(tr+4);return roundedInt64$1(nr,rr)}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=divmodInt64$1(s);return tr.writeInt32BE(rr.hi32,nr),tr.writeUInt32BE(rr.lo32,nr+4),8}}class Float extends Layout$1{constructor(s){super(4,s)}decode(s,tr){return tr===void 0&&(tr=0),s.readFloatLE(tr)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeFloatLE(s,nr),4}}class FloatBE extends Layout$1{constructor(s){super(4,s)}decode(s,tr){return tr===void 0&&(tr=0),s.readFloatBE(tr)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeFloatBE(s,nr),4}}class Double extends Layout$1{constructor(s){super(8,s)}decode(s,tr){return tr===void 0&&(tr=0),s.readDoubleLE(tr)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeDoubleLE(s,nr),8}}class DoubleBE extends Layout$1{constructor(s){super(8,s)}decode(s,tr){return tr===void 0&&(tr=0),s.readDoubleBE(tr)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeDoubleBE(s,nr),8}}class Sequence extends Layout$1{constructor(s,tr,nr){if(!(s instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(tr instanceof ExternalLayout$1&&tr.isCount()||Number.isInteger(tr)&&0<=tr))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let rr=-1;!(tr instanceof ExternalLayout$1)&&0<s.span&&(rr=tr*s.span),super(rr,nr),this.elementLayout=s,this.count=tr}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);let nr=0,rr=this.count;if(rr instanceof ExternalLayout$1&&(rr=rr.decode(s,tr)),0<this.elementLayout.span)nr=rr*this.elementLayout.span;else{let ir=0;for(;ir<rr;)nr+=this.elementLayout.getSpan(s,tr+nr),++ir}return nr}decode(s,tr){tr===void 0&&(tr=0);const nr=[];let rr=0,ir=this.count;for(ir instanceof ExternalLayout$1&&(ir=ir.decode(s,tr));rr<ir;)nr.push(this.elementLayout.decode(s,tr)),tr+=this.elementLayout.getSpan(s,tr),rr+=1;return nr}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=this.elementLayout,ir=s.reduce((sr,or)=>sr+rr.encode(or,tr,nr+sr),0);return this.count instanceof ExternalLayout$1&&this.count.encode(s.length,tr,nr),ir}}let Structure$1=class extends Layout$1{constructor(s,tr,nr){if(!(Array.isArray(s)&&s.reduce((ir,sr)=>ir&&sr instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof tr=="boolean"&&nr===void 0&&(nr=tr,tr=void 0);for(const ir of s)if(0>ir.span&&ir.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let rr=-1;try{rr=s.reduce((ir,sr)=>ir+sr.getSpan(),0)}catch{}super(rr,tr),this.fields=s,this.decodePrefixes=!!nr}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);let nr=0;try{nr=this.fields.reduce((rr,ir)=>{const sr=ir.getSpan(s,tr);return tr+=sr,rr+sr},0)}catch{throw new RangeError("indeterminate span")}return nr}decode(s,tr){tr===void 0&&(tr=0);const nr=this.makeDestinationObject();for(const rr of this.fields)if(rr.property!==void 0&&(nr[rr.property]=rr.decode(s,tr)),tr+=rr.getSpan(s,tr),this.decodePrefixes&&s.length===tr)break;return nr}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=nr;let ir=0,sr=0;for(const or of this.fields){let ar=or.span;if(sr=0<ar?ar:0,or.property!==void 0){const lr=s[or.property];lr!==void 0&&(sr=or.encode(lr,tr,nr),0>ar&&(ar=or.getSpan(tr,nr)))}ir=nr,nr+=ar}return ir+sr-rr}fromArray(s){const tr=this.makeDestinationObject();for(const nr of this.fields)nr.property!==void 0&&0<s.length&&(tr[nr.property]=s.shift());return tr}layoutFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const tr of this.fields)if(tr.property===s)return tr}offsetOf(s){if(typeof s!="string")throw new TypeError("property must be string");let tr=0;for(const nr of this.fields){if(nr.property===s)return tr;0>nr.span?tr=-1:0<=tr&&(tr+=nr.span)}}},UnionDiscriminator$1=class{constructor(s){this.property=s}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},UnionLayoutDiscriminator$1=class extends UnionDiscriminator$1{constructor(s,tr){if(!(s instanceof ExternalLayout$1&&s.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(tr||s.property||"variant"),this.layout=s}decode(s,tr){return this.layout.decode(s,tr)}encode(s,tr,nr){return this.layout.encode(s,tr,nr)}},Union$1=class extends Layout$1{constructor(s,tr,nr){const rr=s instanceof UInt$1||s instanceof UIntBE$1;if(rr)s=new UnionLayoutDiscriminator$1(new OffsetLayout$1(s));else if(s instanceof ExternalLayout$1&&s.isCount())s=new UnionLayoutDiscriminator$1(s);else if(!(s instanceof UnionDiscriminator$1))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(tr===void 0&&(tr=null),!(tr===null||tr instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(tr!==null){if(0>tr.span)throw new Error("defaultLayout must have constant span");tr.property===void 0&&(tr=tr.replicate("content"))}let ir=-1;tr&&(ir=tr.span,0<=ir&&rr&&(ir+=s.layout.span)),super(ir,nr),this.discriminator=s,this.usesPrefixDiscriminator=rr,this.defaultLayout=tr,this.registry={};let sr=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(or){return sr(or)},this.configGetSourceVariant=function(or){sr=or.bind(this)}}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);const nr=this.getVariant(s,tr);if(!nr)throw new Error("unable to determine span for unrecognized variant");return nr.getSpan(s,tr)}defaultGetSourceVariant(s){if(s.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&s.hasOwnProperty(this.defaultLayout.property))return;const tr=this.registry[s[this.discriminator.property]];if(tr&&(!tr.layout||s.hasOwnProperty(tr.property)))return tr}else for(const tr in this.registry){const nr=this.registry[tr];if(s.hasOwnProperty(nr.property))return nr}throw new Error("unable to infer src variant")}decode(s,tr){tr===void 0&&(tr=0);let nr;const rr=this.discriminator,ir=rr.decode(s,tr);let sr=this.registry[ir];if(sr===void 0){let or=0;sr=this.defaultLayout,this.usesPrefixDiscriminator&&(or=rr.layout.span),nr=this.makeDestinationObject(),nr[rr.property]=ir,nr[sr.property]=this.defaultLayout.decode(s,tr+or)}else nr=sr.decode(s,tr);return nr}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=this.getSourceVariant(s);if(rr===void 0){const ir=this.discriminator,sr=this.defaultLayout;let or=0;return this.usesPrefixDiscriminator&&(or=ir.layout.span),ir.encode(s[ir.property],tr,nr),or+sr.encode(s[sr.property],tr,nr+or)}return rr.encode(s,tr,nr)}addVariant(s,tr,nr){const rr=new VariantLayout$1(this,s,tr,nr);return this.registry[s]=rr,rr}getVariant(s,tr){let nr=s;return Buffer.isBuffer(s)&&(tr===void 0&&(tr=0),nr=this.discriminator.decode(s,tr)),this.registry[nr]}},VariantLayout$1=class extends Layout$1{constructor(s,tr,nr,rr){if(!(s instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(tr)||0>tr)throw new TypeError("variant must be a (non-negative) integer");if(typeof nr=="string"&&rr===void 0&&(rr=nr,nr=null),nr){if(!(nr instanceof Layout$1))throw new TypeError("layout must be a Layout");if(s.defaultLayout!==null&&0<=nr.span&&nr.span>s.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof rr!="string")throw new TypeError("variant must have a String property")}let ir=s.span;0>s.span&&(ir=nr?nr.span:0,0<=ir&&s.usesPrefixDiscriminator&&(ir+=s.discriminator.layout.span)),super(ir,rr),this.union=s,this.variant=tr,this.layout=nr||null}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);let nr=0;return this.union.usesPrefixDiscriminator&&(nr=this.union.discriminator.layout.span),nr+this.layout.getSpan(s,tr+nr)}decode(s,tr){const nr=this.makeDestinationObject();if(tr===void 0&&(tr=0),this!==this.union.getVariant(s,tr))throw new Error("variant mismatch");let rr=0;return this.union.usesPrefixDiscriminator&&(rr=this.union.discriminator.layout.span),this.layout?nr[this.property]=this.layout.decode(s,tr+rr):this.property?nr[this.property]=!0:this.union.usesPrefixDiscriminator&&(nr[this.union.discriminator.property]=this.variant),nr}encode(s,tr,nr){nr===void 0&&(nr=0);let rr=0;if(this.union.usesPrefixDiscriminator&&(rr=this.union.discriminator.layout.span),this.layout&&!s.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,tr,nr);let ir=rr;if(this.layout&&(this.layout.encode(s[this.property],tr,nr+rr),ir+=this.layout.getSpan(tr,nr+rr),0<=this.union.span&&ir>this.union.span))throw new Error("encoded variant overruns containing union");return ir}fromArray(s){if(this.layout)return this.layout.fromArray(s)}};function fixBitwiseResult(er){return 0>er&&(er+=4294967296),er}class BitStructure extends Layout$1{constructor(s,tr,nr){if(!(s instanceof UInt$1||s instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof tr=="string"&&nr===void 0&&(nr=tr,tr=void 0),4<s.span)throw new RangeError("word cannot exceed 32 bits");super(s.span,nr),this.word=s,this.msb=!!tr,this.fields=[];let rr=0;this._packedSetValue=function(ir){return rr=fixBitwiseResult(ir),this},this._packedGetValue=function(){return rr}}decode(s,tr){const nr=this.makeDestinationObject();tr===void 0&&(tr=0);const rr=this.word.decode(s,tr);this._packedSetValue(rr);for(const ir of this.fields)ir.property!==void 0&&(nr[ir.property]=ir.decode(rr));return nr}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=this.word.decode(tr,nr);this._packedSetValue(rr);for(const ir of this.fields)if(ir.property!==void 0){const sr=s[ir.property];sr!==void 0&&ir.encode(sr)}return this.word.encode(this._packedGetValue(),tr,nr)}addField(s,tr){const nr=new BitField(this,s,tr);return this.fields.push(nr),nr}addBoolean(s){const tr=new Boolean$1(this,s);return this.fields.push(tr),tr}fieldFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const tr of this.fields)if(tr.property===s)return tr}}class BitField{constructor(s,tr,nr){if(!(s instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(tr)||0>=tr)throw new TypeError("bits must be positive integer");const rr=8*s.span,ir=s.fields.reduce((sr,or)=>sr+or.bits,0);if(tr+ir>rr)throw new Error("bits too long for span remainder ("+(rr-ir)+" of "+rr+" remain)");this.container=s,this.bits=tr,this.valueMask=(1<<tr)-1,tr===32&&(this.valueMask=4294967295),this.start=ir,this.container.msb&&(this.start=rr-ir-tr),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=nr}decode(){const s=this.container._packedGetValue();return fixBitwiseResult(s&this.wordMask)>>>this.start}encode(s){if(!Number.isInteger(s)||s!==fixBitwiseResult(s&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const tr=this.container._packedGetValue(),nr=fixBitwiseResult(s<<this.start);this.container._packedSetValue(fixBitwiseResult(tr&~this.wordMask)|nr)}}let Boolean$1=class extends BitField{constructor(s,tr){super(s,1,tr)}decode(s,tr){return!!BitField.prototype.decode.call(this,s,tr)}encode(s){return typeof s=="boolean"&&(s=+s),BitField.prototype.encode.call(this,s)}},Blob$2=class extends Layout$1{constructor(s,tr){if(!(s instanceof ExternalLayout$1&&s.isCount()||Number.isInteger(s)&&0<=s))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let nr=-1;s instanceof ExternalLayout$1||(nr=s),super(nr,tr),this.length=s}getSpan(s,tr){let nr=this.span;return 0>nr&&(nr=this.length.decode(s,tr)),nr}decode(s,tr){tr===void 0&&(tr=0);let nr=this.span;return 0>nr&&(nr=this.length.decode(s,tr)),s.slice(tr,tr+nr)}encode(s,tr,nr){let rr=this.length;if(this.length instanceof ExternalLayout$1&&(rr=s.length),!(Buffer.isBuffer(s)&&rr===s.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+rr+") Buffer as src");if(nr+rr>tr.length)throw new RangeError("encoding overruns Buffer");return tr.write(s.toString("hex"),nr,rr,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(rr,tr,nr),rr}};class CString extends Layout$1{constructor(s){super(-1,s)}getSpan(s,tr){if(!Buffer.isBuffer(s))throw new TypeError("b must be a Buffer");tr===void 0&&(tr=0);let nr=tr;for(;nr<s.length&&s[nr]!==0;)nr+=1;return 1+nr-tr}decode(s,tr,nr){tr===void 0&&(tr=0);let rr=this.getSpan(s,tr);return s.slice(tr,tr+rr-1).toString("utf-8")}encode(s,tr,nr){nr===void 0&&(nr=0),typeof s!="string"&&(s=s.toString());const rr=new Buffer(s,"utf8"),ir=rr.length;if(nr+ir>tr.length)throw new RangeError("encoding overruns Buffer");return rr.copy(tr,nr),tr[nr+ir]=0,ir+1}}class UTF8 extends Layout$1{constructor(s,tr){if(typeof s=="string"&&tr===void 0&&(tr=s,s=void 0),s===void 0)s=-1;else if(!Number.isInteger(s))throw new TypeError("maxSpan must be an integer");super(-1,tr),this.maxSpan=s}getSpan(s,tr){if(!Buffer.isBuffer(s))throw new TypeError("b must be a Buffer");return tr===void 0&&(tr=0),s.length-tr}decode(s,tr,nr){tr===void 0&&(tr=0);let rr=this.getSpan(s,tr);if(0<=this.maxSpan&&this.maxSpan<rr)throw new RangeError("text length exceeds maxSpan");return s.slice(tr,tr+rr).toString("utf-8")}encode(s,tr,nr){nr===void 0&&(nr=0),typeof s!="string"&&(s=s.toString());const rr=new Buffer(s,"utf8"),ir=rr.length;if(0<=this.maxSpan&&this.maxSpan<ir)throw new RangeError("text length exceeds maxSpan");if(nr+ir>tr.length)throw new RangeError("encoding overruns Buffer");return rr.copy(tr,nr),ir}}class Constant extends Layout$1{constructor(s,tr){super(0,tr),this.value=s}decode(s,tr,nr){return this.value}encode(s,tr,nr){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout$1;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE$1;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator$1;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;Layout$2.Union=Union$1;Layout$2.VariantLayout=VariantLayout$1;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(er,s)=>new GreedyCount(er,s);Layout$2.offset=(er,s,tr)=>new OffsetLayout$1(er,s,tr);Layout$2.u8=er=>new UInt$1(1,er);Layout$2.u16=er=>new UInt$1(2,er);Layout$2.u24=er=>new UInt$1(3,er);Layout$2.u32=er=>new UInt$1(4,er);Layout$2.u40=er=>new UInt$1(5,er);Layout$2.u48=er=>new UInt$1(6,er);Layout$2.nu64=er=>new NearUInt64$1(er);Layout$2.u16be=er=>new UIntBE$1(2,er);Layout$2.u24be=er=>new UIntBE$1(3,er);Layout$2.u32be=er=>new UIntBE$1(4,er);Layout$2.u40be=er=>new UIntBE$1(5,er);Layout$2.u48be=er=>new UIntBE$1(6,er);Layout$2.nu64be=er=>new NearUInt64BE(er);Layout$2.s8=er=>new Int(1,er);Layout$2.s16=er=>new Int(2,er);Layout$2.s24=er=>new Int(3,er);Layout$2.s32=er=>new Int(4,er);Layout$2.s40=er=>new Int(5,er);Layout$2.s48=er=>new Int(6,er);Layout$2.ns64=er=>new NearInt64$1(er);Layout$2.s16be=er=>new IntBE(2,er);Layout$2.s24be=er=>new IntBE(3,er);Layout$2.s32be=er=>new IntBE(4,er);Layout$2.s40be=er=>new IntBE(5,er);Layout$2.s48be=er=>new IntBE(6,er);Layout$2.ns64be=er=>new NearInt64BE(er);Layout$2.f32=er=>new Float(er);Layout$2.f32be=er=>new FloatBE(er);Layout$2.f64=er=>new Double(er);Layout$2.f64be=er=>new DoubleBE(er);Layout$2.struct=(er,s,tr)=>new Structure$1(er,s,tr);Layout$2.bits=(er,s,tr)=>new BitStructure(er,s,tr);Layout$2.seq=(er,s,tr)=>new Sequence(er,s,tr);Layout$2.union=(er,s,tr)=>new Union$1(er,s,tr);Layout$2.unionLayoutDiscriminator=(er,s)=>new UnionLayoutDiscriminator$1(er,s);Layout$2.blob=(er,s)=>new Blob$2(er,s);Layout$2.cstr=er=>new CString(er);Layout$2.utf8=(er,s)=>new UTF8(er,s);Layout$2.const=(er,s)=>new Constant(er,s);const require$$5=getAugmentedNamespace(index_browser_esm);(function(er){var s=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(Kr){return Kr&&Kr.__esModule?Kr:{default:Kr}};Object.defineProperty(er,"__esModule",{value:!0}),er.map=er.array=er.rustEnum=er.str=er.vecU8=er.tagged=er.vec=er.bool=er.option=er.publicKey=er.i256=er.u256=er.i128=er.u128=er.i64=er.u64=er.struct=er.f64=er.f32=er.i32=er.u32=er.i16=er.u16=er.i8=er.u8=void 0;const tr=Layout$2,nr=require$$5,rr=s(bnExports);var ir=Layout$2;Object.defineProperty(er,"u8",{enumerable:!0,get:function(){return ir.u8}}),Object.defineProperty(er,"i8",{enumerable:!0,get:function(){return ir.s8}}),Object.defineProperty(er,"u16",{enumerable:!0,get:function(){return ir.u16}}),Object.defineProperty(er,"i16",{enumerable:!0,get:function(){return ir.s16}}),Object.defineProperty(er,"u32",{enumerable:!0,get:function(){return ir.u32}}),Object.defineProperty(er,"i32",{enumerable:!0,get:function(){return ir.s32}}),Object.defineProperty(er,"f32",{enumerable:!0,get:function(){return ir.f32}}),Object.defineProperty(er,"f64",{enumerable:!0,get:function(){return ir.f64}}),Object.defineProperty(er,"struct",{enumerable:!0,get:function(){return ir.struct}});class sr extends tr.Layout{constructor(Lr,fr,vr){super(Lr,vr),this.blob=(0,tr.blob)(Lr),this.signed=fr}decode(Lr,fr=0){const vr=new rr.default(this.blob.decode(Lr,fr),10,"le");return this.signed?vr.fromTwos(this.span*8).clone():vr}encode(Lr,fr,vr=0){return this.signed&&(Lr=Lr.toTwos(this.span*8)),this.blob.encode(Lr.toArrayLike(Buffer,"le",this.span),fr,vr)}}function or(Kr){return new sr(8,!1,Kr)}er.u64=or;function ar(Kr){return new sr(8,!0,Kr)}er.i64=ar;function lr(Kr){return new sr(16,!1,Kr)}er.u128=lr;function cr(Kr){return new sr(16,!0,Kr)}er.i128=cr;function ur(Kr){return new sr(32,!1,Kr)}er.u256=ur;function hr(Kr){return new sr(32,!0,Kr)}er.i256=hr;class dr extends tr.Layout{constructor(Lr,fr,vr,$r){super(Lr.span,$r),this.layout=Lr,this.decoder=fr,this.encoder=vr}decode(Lr,fr){return this.decoder(this.layout.decode(Lr,fr))}encode(Lr,fr,vr){return this.layout.encode(this.encoder(Lr),fr,vr)}getSpan(Lr,fr){return this.layout.getSpan(Lr,fr)}}function pr(Kr){return new dr((0,tr.blob)(32),Lr=>new nr.PublicKey(Lr),Lr=>Lr.toBuffer(),Kr)}er.publicKey=pr;class mr extends tr.Layout{constructor(Lr,fr){super(-1,fr),this.layout=Lr,this.discriminator=(0,tr.u8)()}encode(Lr,fr,vr=0){return Lr==null?this.discriminator.encode(0,fr,vr):(this.discriminator.encode(1,fr,vr),this.layout.encode(Lr,fr,vr+1)+1)}decode(Lr,fr=0){const vr=this.discriminator.decode(Lr,fr);if(vr===0)return null;if(vr===1)return this.layout.decode(Lr,fr+1);throw new Error("Invalid option "+this.property)}getSpan(Lr,fr=0){const vr=this.discriminator.decode(Lr,fr);if(vr===0)return 1;if(vr===1)return this.layout.getSpan(Lr,fr+1)+1;throw new Error("Invalid option "+this.property)}}function xr(Kr,Lr){return new mr(Kr,Lr)}er.option=xr;function br(Kr){return new dr((0,tr.u8)(),yr,gr,Kr)}er.bool=br;function yr(Kr){if(Kr===0)return!1;if(Kr===1)return!0;throw new Error("Invalid bool: "+Kr)}function gr(Kr){return Kr?1:0}function Er(Kr,Lr){const fr=(0,tr.u32)("length"),vr=(0,tr.struct)([fr,(0,tr.seq)(Kr,(0,tr.offset)(fr,-fr.span),"values")]);return new dr(vr,({values:$r})=>$r,$r=>({values:$r}),Lr)}er.vec=Er;function kr(Kr,Lr,fr){const vr=(0,tr.struct)([or("tag"),Lr.replicate("data")]);function $r({tag:Tr,data:Ar}){if(!Tr.eq(Kr))throw new Error("Invalid tag, expected: "+Kr.toString("hex")+", got: "+Tr.toString("hex"));return Ar}return new dr(vr,$r,Tr=>({tag:Kr,data:Tr}),fr)}er.tagged=kr;function Mr(Kr){const Lr=(0,tr.u32)("length"),fr=(0,tr.struct)([Lr,(0,tr.blob)((0,tr.offset)(Lr,-Lr.span),"data")]);return new dr(fr,({data:vr})=>vr,vr=>({data:vr}),Kr)}er.vecU8=Mr;function Cr(Kr){return new dr(Mr(),Lr=>Lr.toString("utf-8"),Lr=>Buffer.from(Lr,"utf-8"),Kr)}er.str=Cr;function Dr(Kr,Lr,fr){const vr=(0,tr.union)(fr??(0,tr.u8)(),Lr);return Kr.forEach(($r,Tr)=>vr.addVariant(Tr,$r,$r.property)),vr}er.rustEnum=Dr;function zr(Kr,Lr,fr){const vr=(0,tr.struct)([(0,tr.seq)(Kr,Lr,"values")]);return new dr(vr,({values:$r})=>$r,$r=>({values:$r}),fr)}er.array=zr;class Wr extends tr.Layout{constructor(Lr,fr,vr){super(Lr.span+fr.span,vr),this.keyLayout=Lr,this.valueLayout=fr}decode(Lr,fr){fr=fr||0;const vr=this.keyLayout.decode(Lr,fr),$r=this.valueLayout.decode(Lr,fr+this.keyLayout.getSpan(Lr,fr));return[vr,$r]}encode(Lr,fr,vr){vr=vr||0;const $r=this.keyLayout.encode(Lr[0],fr,vr),Tr=this.valueLayout.encode(Lr[1],fr,vr+$r);return $r+Tr}getSpan(Lr,fr){return this.keyLayout.getSpan(Lr,fr)+this.valueLayout.getSpan(Lr,fr)}}function Gr(Kr,Lr,fr){const vr=(0,tr.u32)("length"),$r=(0,tr.struct)([vr,(0,tr.seq)(new Wr(Kr,Lr),(0,tr.offset)(vr,-vr.span),"values")]);return new dr($r,({values:Tr})=>new Map(Tr),Tr=>({values:Array.from(Tr.entries())}),fr)}er.map=Gr})(dist);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(er){let s=er.length;for(;--s>=0;)er[s]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(er,s,tr,nr,rr){this.static_tree=er,this.extra_bits=s,this.extra_base=tr,this.elems=nr,this.max_length=rr,this.has_stree=er&&er.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(er,s){this.dyn_tree=er,this.max_code=0,this.stat_desc=s}const d_code=er=>er<256?_dist_code[er]:_dist_code[256+(er>>>7)],put_short=(er,s)=>{er.pending_buf[er.pending++]=s&255,er.pending_buf[er.pending++]=s>>>8&255},send_bits=(er,s,tr)=>{er.bi_valid>Buf_size-tr?(er.bi_buf|=s<<er.bi_valid&65535,put_short(er,er.bi_buf),er.bi_buf=s>>Buf_size-er.bi_valid,er.bi_valid+=tr-Buf_size):(er.bi_buf|=s<<er.bi_valid&65535,er.bi_valid+=tr)},send_code=(er,s,tr)=>{send_bits(er,tr[s*2],tr[s*2+1])},bi_reverse=(er,s)=>{let tr=0;do tr|=er&1,er>>>=1,tr<<=1;while(--s>0);return tr>>>1},bi_flush=er=>{er.bi_valid===16?(put_short(er,er.bi_buf),er.bi_buf=0,er.bi_valid=0):er.bi_valid>=8&&(er.pending_buf[er.pending++]=er.bi_buf&255,er.bi_buf>>=8,er.bi_valid-=8)},gen_bitlen=(er,s)=>{const tr=s.dyn_tree,nr=s.max_code,rr=s.stat_desc.static_tree,ir=s.stat_desc.has_stree,sr=s.stat_desc.extra_bits,or=s.stat_desc.extra_base,ar=s.stat_desc.max_length;let lr,cr,ur,hr,dr,pr,mr=0;for(hr=0;hr<=MAX_BITS$1;hr++)er.bl_count[hr]=0;for(tr[er.heap[er.heap_max]*2+1]=0,lr=er.heap_max+1;lr<HEAP_SIZE$1;lr++)cr=er.heap[lr],hr=tr[tr[cr*2+1]*2+1]+1,hr>ar&&(hr=ar,mr++),tr[cr*2+1]=hr,!(cr>nr)&&(er.bl_count[hr]++,dr=0,cr>=or&&(dr=sr[cr-or]),pr=tr[cr*2],er.opt_len+=pr*(hr+dr),ir&&(er.static_len+=pr*(rr[cr*2+1]+dr)));if(mr!==0){do{for(hr=ar-1;er.bl_count[hr]===0;)hr--;er.bl_count[hr]--,er.bl_count[hr+1]+=2,er.bl_count[ar]--,mr-=2}while(mr>0);for(hr=ar;hr!==0;hr--)for(cr=er.bl_count[hr];cr!==0;)ur=er.heap[--lr],!(ur>nr)&&(tr[ur*2+1]!==hr&&(er.opt_len+=(hr-tr[ur*2+1])*tr[ur*2],tr[ur*2+1]=hr),cr--)}},gen_codes=(er,s,tr)=>{const nr=new Array(MAX_BITS$1+1);let rr=0,ir,sr;for(ir=1;ir<=MAX_BITS$1;ir++)rr=rr+tr[ir-1]<<1,nr[ir]=rr;for(sr=0;sr<=s;sr++){let or=er[sr*2+1];or!==0&&(er[sr*2]=bi_reverse(nr[or]++,or))}},tr_static_init=()=>{let er,s,tr,nr,rr;const ir=new Array(MAX_BITS$1+1);for(tr=0,nr=0;nr<LENGTH_CODES$1-1;nr++)for(base_length[nr]=tr,er=0;er<1<<extra_lbits[nr];er++)_length_code[tr++]=nr;for(_length_code[tr-1]=nr,rr=0,nr=0;nr<16;nr++)for(base_dist[nr]=rr,er=0;er<1<<extra_dbits[nr];er++)_dist_code[rr++]=nr;for(rr>>=7;nr<D_CODES$1;nr++)for(base_dist[nr]=rr<<7,er=0;er<1<<extra_dbits[nr]-7;er++)_dist_code[256+rr++]=nr;for(s=0;s<=MAX_BITS$1;s++)ir[s]=0;for(er=0;er<=143;)static_ltree[er*2+1]=8,er++,ir[8]++;for(;er<=255;)static_ltree[er*2+1]=9,er++,ir[9]++;for(;er<=279;)static_ltree[er*2+1]=7,er++,ir[7]++;for(;er<=287;)static_ltree[er*2+1]=8,er++,ir[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ir),er=0;er<D_CODES$1;er++)static_dtree[er*2+1]=5,static_dtree[er*2]=bi_reverse(er,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=er=>{let s;for(s=0;s<L_CODES$1;s++)er.dyn_ltree[s*2]=0;for(s=0;s<D_CODES$1;s++)er.dyn_dtree[s*2]=0;for(s=0;s<BL_CODES$1;s++)er.bl_tree[s*2]=0;er.dyn_ltree[END_BLOCK*2]=1,er.opt_len=er.static_len=0,er.sym_next=er.matches=0},bi_windup=er=>{er.bi_valid>8?put_short(er,er.bi_buf):er.bi_valid>0&&(er.pending_buf[er.pending++]=er.bi_buf),er.bi_buf=0,er.bi_valid=0},smaller=(er,s,tr,nr)=>{const rr=s*2,ir=tr*2;return er[rr]<er[ir]||er[rr]===er[ir]&&nr[s]<=nr[tr]},pqdownheap=(er,s,tr)=>{const nr=er.heap[tr];let rr=tr<<1;for(;rr<=er.heap_len&&(rr<er.heap_len&&smaller(s,er.heap[rr+1],er.heap[rr],er.depth)&&rr++,!smaller(s,nr,er.heap[rr],er.depth));)er.heap[tr]=er.heap[rr],tr=rr,rr<<=1;er.heap[tr]=nr},compress_block=(er,s,tr)=>{let nr,rr,ir=0,sr,or;if(er.sym_next!==0)do nr=er.pending_buf[er.sym_buf+ir++]&255,nr+=(er.pending_buf[er.sym_buf+ir++]&255)<<8,rr=er.pending_buf[er.sym_buf+ir++],nr===0?send_code(er,rr,s):(sr=_length_code[rr],send_code(er,sr+LITERALS$1+1,s),or=extra_lbits[sr],or!==0&&(rr-=base_length[sr],send_bits(er,rr,or)),nr--,sr=d_code(nr),send_code(er,sr,tr),or=extra_dbits[sr],or!==0&&(nr-=base_dist[sr],send_bits(er,nr,or)));while(ir<er.sym_next);send_code(er,END_BLOCK,s)},build_tree=(er,s)=>{const tr=s.dyn_tree,nr=s.stat_desc.static_tree,rr=s.stat_desc.has_stree,ir=s.stat_desc.elems;let sr,or,ar=-1,lr;for(er.heap_len=0,er.heap_max=HEAP_SIZE$1,sr=0;sr<ir;sr++)tr[sr*2]!==0?(er.heap[++er.heap_len]=ar=sr,er.depth[sr]=0):tr[sr*2+1]=0;for(;er.heap_len<2;)lr=er.heap[++er.heap_len]=ar<2?++ar:0,tr[lr*2]=1,er.depth[lr]=0,er.opt_len--,rr&&(er.static_len-=nr[lr*2+1]);for(s.max_code=ar,sr=er.heap_len>>1;sr>=1;sr--)pqdownheap(er,tr,sr);lr=ir;do sr=er.heap[1],er.heap[1]=er.heap[er.heap_len--],pqdownheap(er,tr,1),or=er.heap[1],er.heap[--er.heap_max]=sr,er.heap[--er.heap_max]=or,tr[lr*2]=tr[sr*2]+tr[or*2],er.depth[lr]=(er.depth[sr]>=er.depth[or]?er.depth[sr]:er.depth[or])+1,tr[sr*2+1]=tr[or*2+1]=lr,er.heap[1]=lr++,pqdownheap(er,tr,1);while(er.heap_len>=2);er.heap[--er.heap_max]=er.heap[1],gen_bitlen(er,s),gen_codes(tr,ar,er.bl_count)},scan_tree=(er,s,tr)=>{let nr,rr=-1,ir,sr=s[0*2+1],or=0,ar=7,lr=4;for(sr===0&&(ar=138,lr=3),s[(tr+1)*2+1]=65535,nr=0;nr<=tr;nr++)ir=sr,sr=s[(nr+1)*2+1],!(++or<ar&&ir===sr)&&(or<lr?er.bl_tree[ir*2]+=or:ir!==0?(ir!==rr&&er.bl_tree[ir*2]++,er.bl_tree[REP_3_6*2]++):or<=10?er.bl_tree[REPZ_3_10*2]++:er.bl_tree[REPZ_11_138*2]++,or=0,rr=ir,sr===0?(ar=138,lr=3):ir===sr?(ar=6,lr=3):(ar=7,lr=4))},send_tree=(er,s,tr)=>{let nr,rr=-1,ir,sr=s[0*2+1],or=0,ar=7,lr=4;for(sr===0&&(ar=138,lr=3),nr=0;nr<=tr;nr++)if(ir=sr,sr=s[(nr+1)*2+1],!(++or<ar&&ir===sr)){if(or<lr)do send_code(er,ir,er.bl_tree);while(--or!==0);else ir!==0?(ir!==rr&&(send_code(er,ir,er.bl_tree),or--),send_code(er,REP_3_6,er.bl_tree),send_bits(er,or-3,2)):or<=10?(send_code(er,REPZ_3_10,er.bl_tree),send_bits(er,or-3,3)):(send_code(er,REPZ_11_138,er.bl_tree),send_bits(er,or-11,7));or=0,rr=ir,sr===0?(ar=138,lr=3):ir===sr?(ar=6,lr=3):(ar=7,lr=4)}},build_bl_tree=er=>{let s;for(scan_tree(er,er.dyn_ltree,er.l_desc.max_code),scan_tree(er,er.dyn_dtree,er.d_desc.max_code),build_tree(er,er.bl_desc),s=BL_CODES$1-1;s>=3&&er.bl_tree[bl_order[s]*2+1]===0;s--);return er.opt_len+=3*(s+1)+5+5+4,s},send_all_trees=(er,s,tr,nr)=>{let rr;for(send_bits(er,s-257,5),send_bits(er,tr-1,5),send_bits(er,nr-4,4),rr=0;rr<nr;rr++)send_bits(er,er.bl_tree[bl_order[rr]*2+1],3);send_tree(er,er.dyn_ltree,s-1),send_tree(er,er.dyn_dtree,tr-1)},detect_data_type=er=>{let s=4093624447,tr;for(tr=0;tr<=31;tr++,s>>>=1)if(s&1&&er.dyn_ltree[tr*2]!==0)return Z_BINARY;if(er.dyn_ltree[9*2]!==0||er.dyn_ltree[10*2]!==0||er.dyn_ltree[13*2]!==0)return Z_TEXT;for(tr=32;tr<LITERALS$1;tr++)if(er.dyn_ltree[tr*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=er=>{static_init_done||(tr_static_init(),static_init_done=!0),er.l_desc=new TreeDesc(er.dyn_ltree,static_l_desc),er.d_desc=new TreeDesc(er.dyn_dtree,static_d_desc),er.bl_desc=new TreeDesc(er.bl_tree,static_bl_desc),er.bi_buf=0,er.bi_valid=0,init_block(er)},_tr_stored_block$1=(er,s,tr,nr)=>{send_bits(er,(STORED_BLOCK<<1)+(nr?1:0),3),bi_windup(er),put_short(er,tr),put_short(er,~tr),tr&&er.pending_buf.set(er.window.subarray(s,s+tr),er.pending),er.pending+=tr},_tr_align$1=er=>{send_bits(er,STATIC_TREES<<1,3),send_code(er,END_BLOCK,static_ltree),bi_flush(er)},_tr_flush_block$1=(er,s,tr,nr)=>{let rr,ir,sr=0;er.level>0?(er.strm.data_type===Z_UNKNOWN$1&&(er.strm.data_type=detect_data_type(er)),build_tree(er,er.l_desc),build_tree(er,er.d_desc),sr=build_bl_tree(er),rr=er.opt_len+3+7>>>3,ir=er.static_len+3+7>>>3,ir<=rr&&(rr=ir)):rr=ir=tr+5,tr+4<=rr&&s!==-1?_tr_stored_block$1(er,s,tr,nr):er.strategy===Z_FIXED$1||ir===rr?(send_bits(er,(STATIC_TREES<<1)+(nr?1:0),3),compress_block(er,static_ltree,static_dtree)):(send_bits(er,(DYN_TREES<<1)+(nr?1:0),3),send_all_trees(er,er.l_desc.max_code+1,er.d_desc.max_code+1,sr+1),compress_block(er,er.dyn_ltree,er.dyn_dtree)),init_block(er),nr&&bi_windup(er)},_tr_tally$1=(er,s,tr)=>(er.pending_buf[er.sym_buf+er.sym_next++]=s,er.pending_buf[er.sym_buf+er.sym_next++]=s>>8,er.pending_buf[er.sym_buf+er.sym_next++]=tr,s===0?er.dyn_ltree[tr*2]++:(er.matches++,s--,er.dyn_ltree[(_length_code[tr]+LITERALS$1+1)*2]++,er.dyn_dtree[d_code(s)*2]++),er.sym_next===er.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(er,s,tr,nr)=>{let rr=er&65535|0,ir=er>>>16&65535|0,sr=0;for(;tr!==0;){sr=tr>2e3?2e3:tr,tr-=sr;do rr=rr+s[nr++]|0,ir=ir+rr|0;while(--sr);rr%=65521,ir%=65521}return rr|ir<<16|0};var adler32_1=adler32;const makeTable=()=>{let er,s=[];for(var tr=0;tr<256;tr++){er=tr;for(var nr=0;nr<8;nr++)er=er&1?3988292384^er>>>1:er>>>1;s[tr]=er}return s},crcTable=new Uint32Array(makeTable()),crc32=(er,s,tr,nr)=>{const rr=crcTable,ir=nr+tr;er^=-1;for(let sr=nr;sr<ir;sr++)er=er>>>8^rr[(er^s[sr])&255];return er^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(er,s)=>(er.msg=messages[s],s),rank=er=>er*2-(er>4?9:0),zero=er=>{let s=er.length;for(;--s>=0;)er[s]=0},slide_hash=er=>{let s,tr,nr,rr=er.w_size;s=er.hash_size,nr=s;do tr=er.head[--nr],er.head[nr]=tr>=rr?tr-rr:0;while(--s);s=rr,nr=s;do tr=er.prev[--nr],er.prev[nr]=tr>=rr?tr-rr:0;while(--s)};let HASH_ZLIB=(er,s,tr)=>(s<<er.hash_shift^tr)&er.hash_mask,HASH=HASH_ZLIB;const flush_pending=er=>{const s=er.state;let tr=s.pending;tr>er.avail_out&&(tr=er.avail_out),tr!==0&&(er.output.set(s.pending_buf.subarray(s.pending_out,s.pending_out+tr),er.next_out),er.next_out+=tr,s.pending_out+=tr,er.total_out+=tr,er.avail_out-=tr,s.pending-=tr,s.pending===0&&(s.pending_out=0))},flush_block_only=(er,s)=>{_tr_flush_block(er,er.block_start>=0?er.block_start:-1,er.strstart-er.block_start,s),er.block_start=er.strstart,flush_pending(er.strm)},put_byte=(er,s)=>{er.pending_buf[er.pending++]=s},putShortMSB=(er,s)=>{er.pending_buf[er.pending++]=s>>>8&255,er.pending_buf[er.pending++]=s&255},read_buf=(er,s,tr,nr)=>{let rr=er.avail_in;return rr>nr&&(rr=nr),rr===0?0:(er.avail_in-=rr,s.set(er.input.subarray(er.next_in,er.next_in+rr),tr),er.state.wrap===1?er.adler=adler32_1(er.adler,s,rr,tr):er.state.wrap===2&&(er.adler=crc32_1(er.adler,s,rr,tr)),er.next_in+=rr,er.total_in+=rr,rr)},longest_match=(er,s)=>{let tr=er.max_chain_length,nr=er.strstart,rr,ir,sr=er.prev_length,or=er.nice_match;const ar=er.strstart>er.w_size-MIN_LOOKAHEAD?er.strstart-(er.w_size-MIN_LOOKAHEAD):0,lr=er.window,cr=er.w_mask,ur=er.prev,hr=er.strstart+MAX_MATCH;let dr=lr[nr+sr-1],pr=lr[nr+sr];er.prev_length>=er.good_match&&(tr>>=2),or>er.lookahead&&(or=er.lookahead);do if(rr=s,!(lr[rr+sr]!==pr||lr[rr+sr-1]!==dr||lr[rr]!==lr[nr]||lr[++rr]!==lr[nr+1])){nr+=2,rr++;do;while(lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&lr[++nr]===lr[++rr]&&nr<hr);if(ir=MAX_MATCH-(hr-nr),nr=hr-MAX_MATCH,ir>sr){if(er.match_start=s,sr=ir,ir>=or)break;dr=lr[nr+sr-1],pr=lr[nr+sr]}}while((s=ur[s&cr])>ar&&--tr!==0);return sr<=er.lookahead?sr:er.lookahead},fill_window=er=>{const s=er.w_size;let tr,nr,rr;do{if(nr=er.window_size-er.lookahead-er.strstart,er.strstart>=s+(s-MIN_LOOKAHEAD)&&(er.window.set(er.window.subarray(s,s+s-nr),0),er.match_start-=s,er.strstart-=s,er.block_start-=s,er.insert>er.strstart&&(er.insert=er.strstart),slide_hash(er),nr+=s),er.strm.avail_in===0)break;if(tr=read_buf(er.strm,er.window,er.strstart+er.lookahead,nr),er.lookahead+=tr,er.lookahead+er.insert>=MIN_MATCH)for(rr=er.strstart-er.insert,er.ins_h=er.window[rr],er.ins_h=HASH(er,er.ins_h,er.window[rr+1]);er.insert&&(er.ins_h=HASH(er,er.ins_h,er.window[rr+MIN_MATCH-1]),er.prev[rr&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=rr,rr++,er.insert--,!(er.lookahead+er.insert<MIN_MATCH)););}while(er.lookahead<MIN_LOOKAHEAD&&er.strm.avail_in!==0)},deflate_stored=(er,s)=>{let tr=er.pending_buf_size-5>er.w_size?er.w_size:er.pending_buf_size-5,nr,rr,ir,sr=0,or=er.strm.avail_in;do{if(nr=65535,ir=er.bi_valid+42>>3,er.strm.avail_out<ir||(ir=er.strm.avail_out-ir,rr=er.strstart-er.block_start,nr>rr+er.strm.avail_in&&(nr=rr+er.strm.avail_in),nr>ir&&(nr=ir),nr<tr&&(nr===0&&s!==Z_FINISH$3||s===Z_NO_FLUSH$2||nr!==rr+er.strm.avail_in)))break;sr=s===Z_FINISH$3&&nr===rr+er.strm.avail_in?1:0,_tr_stored_block(er,0,0,sr),er.pending_buf[er.pending-4]=nr,er.pending_buf[er.pending-3]=nr>>8,er.pending_buf[er.pending-2]=~nr,er.pending_buf[er.pending-1]=~nr>>8,flush_pending(er.strm),rr&&(rr>nr&&(rr=nr),er.strm.output.set(er.window.subarray(er.block_start,er.block_start+rr),er.strm.next_out),er.strm.next_out+=rr,er.strm.avail_out-=rr,er.strm.total_out+=rr,er.block_start+=rr,nr-=rr),nr&&(read_buf(er.strm,er.strm.output,er.strm.next_out,nr),er.strm.next_out+=nr,er.strm.avail_out-=nr,er.strm.total_out+=nr)}while(sr===0);return or-=er.strm.avail_in,or&&(or>=er.w_size?(er.matches=2,er.window.set(er.strm.input.subarray(er.strm.next_in-er.w_size,er.strm.next_in),0),er.strstart=er.w_size,er.insert=er.strstart):(er.window_size-er.strstart<=or&&(er.strstart-=er.w_size,er.window.set(er.window.subarray(er.w_size,er.w_size+er.strstart),0),er.matches<2&&er.matches++,er.insert>er.strstart&&(er.insert=er.strstart)),er.window.set(er.strm.input.subarray(er.strm.next_in-or,er.strm.next_in),er.strstart),er.strstart+=or,er.insert+=or>er.w_size-er.insert?er.w_size-er.insert:or),er.block_start=er.strstart),er.high_water<er.strstart&&(er.high_water=er.strstart),sr?BS_FINISH_DONE:s!==Z_NO_FLUSH$2&&s!==Z_FINISH$3&&er.strm.avail_in===0&&er.strstart===er.block_start?BS_BLOCK_DONE:(ir=er.window_size-er.strstart,er.strm.avail_in>ir&&er.block_start>=er.w_size&&(er.block_start-=er.w_size,er.strstart-=er.w_size,er.window.set(er.window.subarray(er.w_size,er.w_size+er.strstart),0),er.matches<2&&er.matches++,ir+=er.w_size,er.insert>er.strstart&&(er.insert=er.strstart)),ir>er.strm.avail_in&&(ir=er.strm.avail_in),ir&&(read_buf(er.strm,er.window,er.strstart,ir),er.strstart+=ir,er.insert+=ir>er.w_size-er.insert?er.w_size-er.insert:ir),er.high_water<er.strstart&&(er.high_water=er.strstart),ir=er.bi_valid+42>>3,ir=er.pending_buf_size-ir>65535?65535:er.pending_buf_size-ir,tr=ir>er.w_size?er.w_size:ir,rr=er.strstart-er.block_start,(rr>=tr||(rr||s===Z_FINISH$3)&&s!==Z_NO_FLUSH$2&&er.strm.avail_in===0&&rr<=ir)&&(nr=rr>ir?ir:rr,sr=s===Z_FINISH$3&&er.strm.avail_in===0&&nr===rr?1:0,_tr_stored_block(er,er.block_start,nr,sr),er.block_start+=nr,flush_pending(er.strm)),sr?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(er,s)=>{let tr,nr;for(;;){if(er.lookahead<MIN_LOOKAHEAD){if(fill_window(er),er.lookahead<MIN_LOOKAHEAD&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(er.lookahead===0)break}if(tr=0,er.lookahead>=MIN_MATCH&&(er.ins_h=HASH(er,er.ins_h,er.window[er.strstart+MIN_MATCH-1]),tr=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart),tr!==0&&er.strstart-tr<=er.w_size-MIN_LOOKAHEAD&&(er.match_length=longest_match(er,tr)),er.match_length>=MIN_MATCH)if(nr=_tr_tally(er,er.strstart-er.match_start,er.match_length-MIN_MATCH),er.lookahead-=er.match_length,er.match_length<=er.max_lazy_match&&er.lookahead>=MIN_MATCH){er.match_length--;do er.strstart++,er.ins_h=HASH(er,er.ins_h,er.window[er.strstart+MIN_MATCH-1]),tr=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart;while(--er.match_length!==0);er.strstart++}else er.strstart+=er.match_length,er.match_length=0,er.ins_h=er.window[er.strstart],er.ins_h=HASH(er,er.ins_h,er.window[er.strstart+1]);else nr=_tr_tally(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++;if(nr&&(flush_block_only(er,!1),er.strm.avail_out===0))return BS_NEED_MORE}return er.insert=er.strstart<MIN_MATCH-1?er.strstart:MIN_MATCH-1,s===Z_FINISH$3?(flush_block_only(er,!0),er.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):er.sym_next&&(flush_block_only(er,!1),er.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(er,s)=>{let tr,nr,rr;for(;;){if(er.lookahead<MIN_LOOKAHEAD){if(fill_window(er),er.lookahead<MIN_LOOKAHEAD&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(er.lookahead===0)break}if(tr=0,er.lookahead>=MIN_MATCH&&(er.ins_h=HASH(er,er.ins_h,er.window[er.strstart+MIN_MATCH-1]),tr=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart),er.prev_length=er.match_length,er.prev_match=er.match_start,er.match_length=MIN_MATCH-1,tr!==0&&er.prev_length<er.max_lazy_match&&er.strstart-tr<=er.w_size-MIN_LOOKAHEAD&&(er.match_length=longest_match(er,tr),er.match_length<=5&&(er.strategy===Z_FILTERED||er.match_length===MIN_MATCH&&er.strstart-er.match_start>4096)&&(er.match_length=MIN_MATCH-1)),er.prev_length>=MIN_MATCH&&er.match_length<=er.prev_length){rr=er.strstart+er.lookahead-MIN_MATCH,nr=_tr_tally(er,er.strstart-1-er.prev_match,er.prev_length-MIN_MATCH),er.lookahead-=er.prev_length-1,er.prev_length-=2;do++er.strstart<=rr&&(er.ins_h=HASH(er,er.ins_h,er.window[er.strstart+MIN_MATCH-1]),tr=er.prev[er.strstart&er.w_mask]=er.head[er.ins_h],er.head[er.ins_h]=er.strstart);while(--er.prev_length!==0);if(er.match_available=0,er.match_length=MIN_MATCH-1,er.strstart++,nr&&(flush_block_only(er,!1),er.strm.avail_out===0))return BS_NEED_MORE}else if(er.match_available){if(nr=_tr_tally(er,0,er.window[er.strstart-1]),nr&&flush_block_only(er,!1),er.strstart++,er.lookahead--,er.strm.avail_out===0)return BS_NEED_MORE}else er.match_available=1,er.strstart++,er.lookahead--}return er.match_available&&(nr=_tr_tally(er,0,er.window[er.strstart-1]),er.match_available=0),er.insert=er.strstart<MIN_MATCH-1?er.strstart:MIN_MATCH-1,s===Z_FINISH$3?(flush_block_only(er,!0),er.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):er.sym_next&&(flush_block_only(er,!1),er.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(er,s)=>{let tr,nr,rr,ir;const sr=er.window;for(;;){if(er.lookahead<=MAX_MATCH){if(fill_window(er),er.lookahead<=MAX_MATCH&&s===Z_NO_FLUSH$2)return BS_NEED_MORE;if(er.lookahead===0)break}if(er.match_length=0,er.lookahead>=MIN_MATCH&&er.strstart>0&&(rr=er.strstart-1,nr=sr[rr],nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr])){ir=er.strstart+MAX_MATCH;do;while(nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr]&&nr===sr[++rr]&&rr<ir);er.match_length=MAX_MATCH-(ir-rr),er.match_length>er.lookahead&&(er.match_length=er.lookahead)}if(er.match_length>=MIN_MATCH?(tr=_tr_tally(er,1,er.match_length-MIN_MATCH),er.lookahead-=er.match_length,er.strstart+=er.match_length,er.match_length=0):(tr=_tr_tally(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++),tr&&(flush_block_only(er,!1),er.strm.avail_out===0))return BS_NEED_MORE}return er.insert=0,s===Z_FINISH$3?(flush_block_only(er,!0),er.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):er.sym_next&&(flush_block_only(er,!1),er.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(er,s)=>{let tr;for(;;){if(er.lookahead===0&&(fill_window(er),er.lookahead===0)){if(s===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(er.match_length=0,tr=_tr_tally(er,0,er.window[er.strstart]),er.lookahead--,er.strstart++,tr&&(flush_block_only(er,!1),er.strm.avail_out===0))return BS_NEED_MORE}return er.insert=0,s===Z_FINISH$3?(flush_block_only(er,!0),er.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):er.sym_next&&(flush_block_only(er,!1),er.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(er,s,tr,nr,rr){this.good_length=er,this.max_lazy=s,this.nice_length=tr,this.max_chain=nr,this.func=rr}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=er=>{er.window_size=2*er.w_size,zero(er.head),er.max_lazy_match=configuration_table[er.level].max_lazy,er.good_match=configuration_table[er.level].good_length,er.nice_match=configuration_table[er.level].nice_length,er.max_chain_length=configuration_table[er.level].max_chain,er.strstart=0,er.block_start=0,er.lookahead=0,er.insert=0,er.match_length=er.prev_length=MIN_MATCH-1,er.match_available=0,er.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=er=>{if(!er)return 1;const s=er.state;return!s||s.strm!==er||s.status!==INIT_STATE&&s.status!==GZIP_STATE&&s.status!==EXTRA_STATE&&s.status!==NAME_STATE&&s.status!==COMMENT_STATE&&s.status!==HCRC_STATE&&s.status!==BUSY_STATE&&s.status!==FINISH_STATE?1:0},deflateResetKeep=er=>{if(deflateStateCheck(er))return err(er,Z_STREAM_ERROR$2);er.total_in=er.total_out=0,er.data_type=Z_UNKNOWN;const s=er.state;return s.pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap===2?GZIP_STATE:s.wrap?INIT_STATE:BUSY_STATE,er.adler=s.wrap===2?0:1,s.last_flush=-2,_tr_init(s),Z_OK$3},deflateReset=er=>{const s=deflateResetKeep(er);return s===Z_OK$3&&lm_init(er.state),s},deflateSetHeader=(er,s)=>deflateStateCheck(er)||er.state.wrap!==2?Z_STREAM_ERROR$2:(er.state.gzhead=s,Z_OK$3),deflateInit2=(er,s,tr,nr,rr,ir)=>{if(!er)return Z_STREAM_ERROR$2;let sr=1;if(s===Z_DEFAULT_COMPRESSION$1&&(s=6),nr<0?(sr=0,nr=-nr):nr>15&&(sr=2,nr-=16),rr<1||rr>MAX_MEM_LEVEL||tr!==Z_DEFLATED$2||nr<8||nr>15||s<0||s>9||ir<0||ir>Z_FIXED||nr===8&&sr!==1)return err(er,Z_STREAM_ERROR$2);nr===8&&(nr=9);const or=new DeflateState;return er.state=or,or.strm=er,or.status=INIT_STATE,or.wrap=sr,or.gzhead=null,or.w_bits=nr,or.w_size=1<<or.w_bits,or.w_mask=or.w_size-1,or.hash_bits=rr+7,or.hash_size=1<<or.hash_bits,or.hash_mask=or.hash_size-1,or.hash_shift=~~((or.hash_bits+MIN_MATCH-1)/MIN_MATCH),or.window=new Uint8Array(or.w_size*2),or.head=new Uint16Array(or.hash_size),or.prev=new Uint16Array(or.w_size),or.lit_bufsize=1<<rr+6,or.pending_buf_size=or.lit_bufsize*4,or.pending_buf=new Uint8Array(or.pending_buf_size),or.sym_buf=or.lit_bufsize,or.sym_end=(or.lit_bufsize-1)*3,or.level=s,or.strategy=ir,or.method=tr,deflateReset(er)},deflateInit=(er,s)=>deflateInit2(er,s,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(er,s)=>{if(deflateStateCheck(er)||s>Z_BLOCK$1||s<0)return er?err(er,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const tr=er.state;if(!er.output||er.avail_in!==0&&!er.input||tr.status===FINISH_STATE&&s!==Z_FINISH$3)return err(er,er.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const nr=tr.last_flush;if(tr.last_flush=s,tr.pending!==0){if(flush_pending(er),er.avail_out===0)return tr.last_flush=-1,Z_OK$3}else if(er.avail_in===0&&rank(s)<=rank(nr)&&s!==Z_FINISH$3)return err(er,Z_BUF_ERROR$1);if(tr.status===FINISH_STATE&&er.avail_in!==0)return err(er,Z_BUF_ERROR$1);if(tr.status===INIT_STATE&&tr.wrap===0&&(tr.status=BUSY_STATE),tr.status===INIT_STATE){let rr=Z_DEFLATED$2+(tr.w_bits-8<<4)<<8,ir=-1;if(tr.strategy>=Z_HUFFMAN_ONLY||tr.level<2?ir=0:tr.level<6?ir=1:tr.level===6?ir=2:ir=3,rr|=ir<<6,tr.strstart!==0&&(rr|=PRESET_DICT),rr+=31-rr%31,putShortMSB(tr,rr),tr.strstart!==0&&(putShortMSB(tr,er.adler>>>16),putShortMSB(tr,er.adler&65535)),er.adler=1,tr.status=BUSY_STATE,flush_pending(er),tr.pending!==0)return tr.last_flush=-1,Z_OK$3}if(tr.status===GZIP_STATE){if(er.adler=0,put_byte(tr,31),put_byte(tr,139),put_byte(tr,8),tr.gzhead)put_byte(tr,(tr.gzhead.text?1:0)+(tr.gzhead.hcrc?2:0)+(tr.gzhead.extra?4:0)+(tr.gzhead.name?8:0)+(tr.gzhead.comment?16:0)),put_byte(tr,tr.gzhead.time&255),put_byte(tr,tr.gzhead.time>>8&255),put_byte(tr,tr.gzhead.time>>16&255),put_byte(tr,tr.gzhead.time>>24&255),put_byte(tr,tr.level===9?2:tr.strategy>=Z_HUFFMAN_ONLY||tr.level<2?4:0),put_byte(tr,tr.gzhead.os&255),tr.gzhead.extra&&tr.gzhead.extra.length&&(put_byte(tr,tr.gzhead.extra.length&255),put_byte(tr,tr.gzhead.extra.length>>8&255)),tr.gzhead.hcrc&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending,0)),tr.gzindex=0,tr.status=EXTRA_STATE;else if(put_byte(tr,0),put_byte(tr,0),put_byte(tr,0),put_byte(tr,0),put_byte(tr,0),put_byte(tr,tr.level===9?2:tr.strategy>=Z_HUFFMAN_ONLY||tr.level<2?4:0),put_byte(tr,OS_CODE),tr.status=BUSY_STATE,flush_pending(er),tr.pending!==0)return tr.last_flush=-1,Z_OK$3}if(tr.status===EXTRA_STATE){if(tr.gzhead.extra){let rr=tr.pending,ir=(tr.gzhead.extra.length&65535)-tr.gzindex;for(;tr.pending+ir>tr.pending_buf_size;){let or=tr.pending_buf_size-tr.pending;if(tr.pending_buf.set(tr.gzhead.extra.subarray(tr.gzindex,tr.gzindex+or),tr.pending),tr.pending=tr.pending_buf_size,tr.gzhead.hcrc&&tr.pending>rr&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending-rr,rr)),tr.gzindex+=or,flush_pending(er),tr.pending!==0)return tr.last_flush=-1,Z_OK$3;rr=0,ir-=or}let sr=new Uint8Array(tr.gzhead.extra);tr.pending_buf.set(sr.subarray(tr.gzindex,tr.gzindex+ir),tr.pending),tr.pending+=ir,tr.gzhead.hcrc&&tr.pending>rr&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending-rr,rr)),tr.gzindex=0}tr.status=NAME_STATE}if(tr.status===NAME_STATE){if(tr.gzhead.name){let rr=tr.pending,ir;do{if(tr.pending===tr.pending_buf_size){if(tr.gzhead.hcrc&&tr.pending>rr&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending-rr,rr)),flush_pending(er),tr.pending!==0)return tr.last_flush=-1,Z_OK$3;rr=0}tr.gzindex<tr.gzhead.name.length?ir=tr.gzhead.name.charCodeAt(tr.gzindex++)&255:ir=0,put_byte(tr,ir)}while(ir!==0);tr.gzhead.hcrc&&tr.pending>rr&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending-rr,rr)),tr.gzindex=0}tr.status=COMMENT_STATE}if(tr.status===COMMENT_STATE){if(tr.gzhead.comment){let rr=tr.pending,ir;do{if(tr.pending===tr.pending_buf_size){if(tr.gzhead.hcrc&&tr.pending>rr&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending-rr,rr)),flush_pending(er),tr.pending!==0)return tr.last_flush=-1,Z_OK$3;rr=0}tr.gzindex<tr.gzhead.comment.length?ir=tr.gzhead.comment.charCodeAt(tr.gzindex++)&255:ir=0,put_byte(tr,ir)}while(ir!==0);tr.gzhead.hcrc&&tr.pending>rr&&(er.adler=crc32_1(er.adler,tr.pending_buf,tr.pending-rr,rr))}tr.status=HCRC_STATE}if(tr.status===HCRC_STATE){if(tr.gzhead.hcrc){if(tr.pending+2>tr.pending_buf_size&&(flush_pending(er),tr.pending!==0))return tr.last_flush=-1,Z_OK$3;put_byte(tr,er.adler&255),put_byte(tr,er.adler>>8&255),er.adler=0}if(tr.status=BUSY_STATE,flush_pending(er),tr.pending!==0)return tr.last_flush=-1,Z_OK$3}if(er.avail_in!==0||tr.lookahead!==0||s!==Z_NO_FLUSH$2&&tr.status!==FINISH_STATE){let rr=tr.level===0?deflate_stored(tr,s):tr.strategy===Z_HUFFMAN_ONLY?deflate_huff(tr,s):tr.strategy===Z_RLE?deflate_rle(tr,s):configuration_table[tr.level].func(tr,s);if((rr===BS_FINISH_STARTED||rr===BS_FINISH_DONE)&&(tr.status=FINISH_STATE),rr===BS_NEED_MORE||rr===BS_FINISH_STARTED)return er.avail_out===0&&(tr.last_flush=-1),Z_OK$3;if(rr===BS_BLOCK_DONE&&(s===Z_PARTIAL_FLUSH?_tr_align(tr):s!==Z_BLOCK$1&&(_tr_stored_block(tr,0,0,!1),s===Z_FULL_FLUSH$1&&(zero(tr.head),tr.lookahead===0&&(tr.strstart=0,tr.block_start=0,tr.insert=0))),flush_pending(er),er.avail_out===0))return tr.last_flush=-1,Z_OK$3}return s!==Z_FINISH$3?Z_OK$3:tr.wrap<=0?Z_STREAM_END$3:(tr.wrap===2?(put_byte(tr,er.adler&255),put_byte(tr,er.adler>>8&255),put_byte(tr,er.adler>>16&255),put_byte(tr,er.adler>>24&255),put_byte(tr,er.total_in&255),put_byte(tr,er.total_in>>8&255),put_byte(tr,er.total_in>>16&255),put_byte(tr,er.total_in>>24&255)):(putShortMSB(tr,er.adler>>>16),putShortMSB(tr,er.adler&65535)),flush_pending(er),tr.wrap>0&&(tr.wrap=-tr.wrap),tr.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=er=>{if(deflateStateCheck(er))return Z_STREAM_ERROR$2;const s=er.state.status;return er.state=null,s===BUSY_STATE?err(er,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(er,s)=>{let tr=s.length;if(deflateStateCheck(er))return Z_STREAM_ERROR$2;const nr=er.state,rr=nr.wrap;if(rr===2||rr===1&&nr.status!==INIT_STATE||nr.lookahead)return Z_STREAM_ERROR$2;if(rr===1&&(er.adler=adler32_1(er.adler,s,tr,0)),nr.wrap=0,tr>=nr.w_size){rr===0&&(zero(nr.head),nr.strstart=0,nr.block_start=0,nr.insert=0);let ar=new Uint8Array(nr.w_size);ar.set(s.subarray(tr-nr.w_size,tr),0),s=ar,tr=nr.w_size}const ir=er.avail_in,sr=er.next_in,or=er.input;for(er.avail_in=tr,er.next_in=0,er.input=s,fill_window(nr);nr.lookahead>=MIN_MATCH;){let ar=nr.strstart,lr=nr.lookahead-(MIN_MATCH-1);do nr.ins_h=HASH(nr,nr.ins_h,nr.window[ar+MIN_MATCH-1]),nr.prev[ar&nr.w_mask]=nr.head[nr.ins_h],nr.head[nr.ins_h]=ar,ar++;while(--lr);nr.strstart=ar,nr.lookahead=MIN_MATCH-1,fill_window(nr)}return nr.strstart+=nr.lookahead,nr.block_start=nr.strstart,nr.insert=nr.lookahead,nr.lookahead=0,nr.match_length=nr.prev_length=MIN_MATCH-1,nr.match_available=0,er.next_in=sr,er.input=or,er.avail_in=ir,nr.wrap=rr,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(er,s)=>Object.prototype.hasOwnProperty.call(er,s);var assign=function(er){const s=Array.prototype.slice.call(arguments,1);for(;s.length;){const tr=s.shift();if(tr){if(typeof tr!="object")throw new TypeError(tr+"must be non-object");for(const nr in tr)_has(tr,nr)&&(er[nr]=tr[nr])}}return er},flattenChunks=er=>{let s=0;for(let nr=0,rr=er.length;nr<rr;nr++)s+=er[nr].length;const tr=new Uint8Array(s);for(let nr=0,rr=0,ir=er.length;nr<ir;nr++){let sr=er[nr];tr.set(sr,rr),rr+=sr.length}return tr},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(er){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let er=0;er<256;er++)_utf8len[er]=er>=252?6:er>=248?5:er>=240?4:er>=224?3:er>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=er=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(er);let s,tr,nr,rr,ir,sr=er.length,or=0;for(rr=0;rr<sr;rr++)tr=er.charCodeAt(rr),(tr&64512)===55296&&rr+1<sr&&(nr=er.charCodeAt(rr+1),(nr&64512)===56320&&(tr=65536+(tr-55296<<10)+(nr-56320),rr++)),or+=tr<128?1:tr<2048?2:tr<65536?3:4;for(s=new Uint8Array(or),ir=0,rr=0;ir<or;rr++)tr=er.charCodeAt(rr),(tr&64512)===55296&&rr+1<sr&&(nr=er.charCodeAt(rr+1),(nr&64512)===56320&&(tr=65536+(tr-55296<<10)+(nr-56320),rr++)),tr<128?s[ir++]=tr:tr<2048?(s[ir++]=192|tr>>>6,s[ir++]=128|tr&63):tr<65536?(s[ir++]=224|tr>>>12,s[ir++]=128|tr>>>6&63,s[ir++]=128|tr&63):(s[ir++]=240|tr>>>18,s[ir++]=128|tr>>>12&63,s[ir++]=128|tr>>>6&63,s[ir++]=128|tr&63);return s};const buf2binstring=(er,s)=>{if(s<65534&&er.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,er.length===s?er:er.subarray(0,s));let tr="";for(let nr=0;nr<s;nr++)tr+=String.fromCharCode(er[nr]);return tr};var buf2string=(er,s)=>{const tr=s||er.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(er.subarray(0,s));let nr,rr;const ir=new Array(tr*2);for(rr=0,nr=0;nr<tr;){let sr=er[nr++];if(sr<128){ir[rr++]=sr;continue}let or=_utf8len[sr];if(or>4){ir[rr++]=65533,nr+=or-1;continue}for(sr&=or===2?31:or===3?15:7;or>1&&nr<tr;)sr=sr<<6|er[nr++]&63,or--;if(or>1){ir[rr++]=65533;continue}sr<65536?ir[rr++]=sr:(sr-=65536,ir[rr++]=55296|sr>>10&1023,ir[rr++]=56320|sr&1023)}return buf2binstring(ir,rr)},utf8border=(er,s)=>{s=s||er.length,s>er.length&&(s=er.length);let tr=s-1;for(;tr>=0&&(er[tr]&192)===128;)tr--;return tr<0||tr===0?s:tr+_utf8len[er[tr]]>s?tr:s},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(er){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},er||{});let s=this.options;s.raw&&s.windowBits>0?s.windowBits=-s.windowBits:s.gzip&&s.windowBits>0&&s.windowBits<16&&(s.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tr=deflate_1$2.deflateInit2(this.strm,s.level,s.method,s.windowBits,s.memLevel,s.strategy);if(tr!==Z_OK$2)throw new Error(messages[tr]);if(s.header&&deflate_1$2.deflateSetHeader(this.strm,s.header),s.dictionary){let nr;if(typeof s.dictionary=="string"?nr=strings.string2buf(s.dictionary):toString$1.call(s.dictionary)==="[object ArrayBuffer]"?nr=new Uint8Array(s.dictionary):nr=s.dictionary,tr=deflate_1$2.deflateSetDictionary(this.strm,nr),tr!==Z_OK$2)throw new Error(messages[tr]);this._dict_set=!0}}Deflate$1.prototype.push=function(er,s){const tr=this.strm,nr=this.options.chunkSize;let rr,ir;if(this.ended)return!1;for(s===~~s?ir=s:ir=s===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof er=="string"?tr.input=strings.string2buf(er):toString$1.call(er)==="[object ArrayBuffer]"?tr.input=new Uint8Array(er):tr.input=er,tr.next_in=0,tr.avail_in=tr.input.length;;){if(tr.avail_out===0&&(tr.output=new Uint8Array(nr),tr.next_out=0,tr.avail_out=nr),(ir===Z_SYNC_FLUSH||ir===Z_FULL_FLUSH)&&tr.avail_out<=6){this.onData(tr.output.subarray(0,tr.next_out)),tr.avail_out=0;continue}if(rr=deflate_1$2.deflate(tr,ir),rr===Z_STREAM_END$2)return tr.next_out>0&&this.onData(tr.output.subarray(0,tr.next_out)),rr=deflate_1$2.deflateEnd(this.strm),this.onEnd(rr),this.ended=!0,rr===Z_OK$2;if(tr.avail_out===0){this.onData(tr.output);continue}if(ir>0&&tr.next_out>0){this.onData(tr.output.subarray(0,tr.next_out)),tr.avail_out=0;continue}if(tr.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(er){this.chunks.push(er)};Deflate$1.prototype.onEnd=function(er){er===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=er,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function er(s,tr){let nr,rr,ir,sr,or,ar,lr,cr,ur,hr,dr,pr,mr,xr,br,yr,gr,Er,kr,Mr,Cr,Dr,zr,Wr;const Gr=s.state;nr=s.next_in,zr=s.input,rr=nr+(s.avail_in-5),ir=s.next_out,Wr=s.output,sr=ir-(tr-s.avail_out),or=ir+(s.avail_out-257),ar=Gr.dmax,lr=Gr.wsize,cr=Gr.whave,ur=Gr.wnext,hr=Gr.window,dr=Gr.hold,pr=Gr.bits,mr=Gr.lencode,xr=Gr.distcode,br=(1<<Gr.lenbits)-1,yr=(1<<Gr.distbits)-1;e:do{pr<15&&(dr+=zr[nr++]<<pr,pr+=8,dr+=zr[nr++]<<pr,pr+=8),gr=mr[dr&br];t:for(;;){if(Er=gr>>>24,dr>>>=Er,pr-=Er,Er=gr>>>16&255,Er===0)Wr[ir++]=gr&65535;else if(Er&16){kr=gr&65535,Er&=15,Er&&(pr<Er&&(dr+=zr[nr++]<<pr,pr+=8),kr+=dr&(1<<Er)-1,dr>>>=Er,pr-=Er),pr<15&&(dr+=zr[nr++]<<pr,pr+=8,dr+=zr[nr++]<<pr,pr+=8),gr=xr[dr&yr];n:for(;;){if(Er=gr>>>24,dr>>>=Er,pr-=Er,Er=gr>>>16&255,Er&16){if(Mr=gr&65535,Er&=15,pr<Er&&(dr+=zr[nr++]<<pr,pr+=8,pr<Er&&(dr+=zr[nr++]<<pr,pr+=8)),Mr+=dr&(1<<Er)-1,Mr>ar){s.msg="invalid distance too far back",Gr.mode=BAD$1;break e}if(dr>>>=Er,pr-=Er,Er=ir-sr,Mr>Er){if(Er=Mr-Er,Er>cr&&Gr.sane){s.msg="invalid distance too far back",Gr.mode=BAD$1;break e}if(Cr=0,Dr=hr,ur===0){if(Cr+=lr-Er,Er<kr){kr-=Er;do Wr[ir++]=hr[Cr++];while(--Er);Cr=ir-Mr,Dr=Wr}}else if(ur<Er){if(Cr+=lr+ur-Er,Er-=ur,Er<kr){kr-=Er;do Wr[ir++]=hr[Cr++];while(--Er);if(Cr=0,ur<kr){Er=ur,kr-=Er;do Wr[ir++]=hr[Cr++];while(--Er);Cr=ir-Mr,Dr=Wr}}}else if(Cr+=ur-Er,Er<kr){kr-=Er;do Wr[ir++]=hr[Cr++];while(--Er);Cr=ir-Mr,Dr=Wr}for(;kr>2;)Wr[ir++]=Dr[Cr++],Wr[ir++]=Dr[Cr++],Wr[ir++]=Dr[Cr++],kr-=3;kr&&(Wr[ir++]=Dr[Cr++],kr>1&&(Wr[ir++]=Dr[Cr++]))}else{Cr=ir-Mr;do Wr[ir++]=Wr[Cr++],Wr[ir++]=Wr[Cr++],Wr[ir++]=Wr[Cr++],kr-=3;while(kr>2);kr&&(Wr[ir++]=Wr[Cr++],kr>1&&(Wr[ir++]=Wr[Cr++]))}}else if(Er&64){s.msg="invalid distance code",Gr.mode=BAD$1;break e}else{gr=xr[(gr&65535)+(dr&(1<<Er)-1)];continue n}break}}else if(Er&64)if(Er&32){Gr.mode=TYPE$1;break e}else{s.msg="invalid literal/length code",Gr.mode=BAD$1;break e}else{gr=mr[(gr&65535)+(dr&(1<<Er)-1)];continue t}break}}while(nr<rr&&ir<or);kr=pr>>3,nr-=kr,pr-=kr<<3,dr&=(1<<pr)-1,s.next_in=nr,s.next_out=ir,s.avail_in=nr<rr?5+(rr-nr):5-(nr-rr),s.avail_out=ir<or?257+(or-ir):257-(ir-or),Gr.hold=dr,Gr.bits=pr};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(er,s,tr,nr,rr,ir,sr,or)=>{const ar=or.bits;let lr=0,cr=0,ur=0,hr=0,dr=0,pr=0,mr=0,xr=0,br=0,yr=0,gr,Er,kr,Mr,Cr,Dr=null,zr;const Wr=new Uint16Array(MAXBITS+1),Gr=new Uint16Array(MAXBITS+1);let Kr=null,Lr,fr,vr;for(lr=0;lr<=MAXBITS;lr++)Wr[lr]=0;for(cr=0;cr<nr;cr++)Wr[s[tr+cr]]++;for(dr=ar,hr=MAXBITS;hr>=1&&Wr[hr]===0;hr--);if(dr>hr&&(dr=hr),hr===0)return rr[ir++]=1<<24|64<<16|0,rr[ir++]=1<<24|64<<16|0,or.bits=1,0;for(ur=1;ur<hr&&Wr[ur]===0;ur++);for(dr<ur&&(dr=ur),xr=1,lr=1;lr<=MAXBITS;lr++)if(xr<<=1,xr-=Wr[lr],xr<0)return-1;if(xr>0&&(er===CODES$1||hr!==1))return-1;for(Gr[1]=0,lr=1;lr<MAXBITS;lr++)Gr[lr+1]=Gr[lr]+Wr[lr];for(cr=0;cr<nr;cr++)s[tr+cr]!==0&&(sr[Gr[s[tr+cr]]++]=cr);if(er===CODES$1?(Dr=Kr=sr,zr=20):er===LENS$1?(Dr=lbase,Kr=lext,zr=257):(Dr=dbase,Kr=dext,zr=0),yr=0,cr=0,lr=ur,Cr=ir,pr=dr,mr=0,kr=-1,br=1<<dr,Mr=br-1,er===LENS$1&&br>ENOUGH_LENS$1||er===DISTS$1&&br>ENOUGH_DISTS$1)return 1;for(;;){Lr=lr-mr,sr[cr]+1<zr?(fr=0,vr=sr[cr]):sr[cr]>=zr?(fr=Kr[sr[cr]-zr],vr=Dr[sr[cr]-zr]):(fr=96,vr=0),gr=1<<lr-mr,Er=1<<pr,ur=Er;do Er-=gr,rr[Cr+(yr>>mr)+Er]=Lr<<24|fr<<16|vr|0;while(Er!==0);for(gr=1<<lr-1;yr&gr;)gr>>=1;if(gr!==0?(yr&=gr-1,yr+=gr):yr=0,cr++,--Wr[lr]===0){if(lr===hr)break;lr=s[tr+sr[cr]]}if(lr>dr&&(yr&Mr)!==kr){for(mr===0&&(mr=dr),Cr+=ur,pr=lr-mr,xr=1<<pr;pr+mr<hr&&(xr-=Wr[pr+mr],!(xr<=0));)pr++,xr<<=1;if(br+=1<<pr,er===LENS$1&&br>ENOUGH_LENS$1||er===DISTS$1&&br>ENOUGH_DISTS$1)return 1;kr=yr&Mr,rr[kr]=dr<<24|pr<<16|Cr-ir|0}}return yr!==0&&(rr[Cr+yr]=lr-mr<<24|64<<16|0),or.bits=dr,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=er=>(er>>>24&255)+(er>>>8&65280)+((er&65280)<<8)+((er&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=er=>{if(!er)return 1;const s=er.state;return!s||s.strm!==er||s.mode<HEAD||s.mode>SYNC?1:0},inflateResetKeep=er=>{if(inflateStateCheck(er))return Z_STREAM_ERROR$1;const s=er.state;return er.total_in=er.total_out=s.total=0,er.msg="",s.wrap&&(er.adler=s.wrap&1),s.mode=HEAD,s.last=0,s.havedict=0,s.flags=-1,s.dmax=32768,s.head=null,s.hold=0,s.bits=0,s.lencode=s.lendyn=new Int32Array(ENOUGH_LENS),s.distcode=s.distdyn=new Int32Array(ENOUGH_DISTS),s.sane=1,s.back=-1,Z_OK$1},inflateReset=er=>{if(inflateStateCheck(er))return Z_STREAM_ERROR$1;const s=er.state;return s.wsize=0,s.whave=0,s.wnext=0,inflateResetKeep(er)},inflateReset2=(er,s)=>{let tr;if(inflateStateCheck(er))return Z_STREAM_ERROR$1;const nr=er.state;return s<0?(tr=0,s=-s):(tr=(s>>4)+5,s<48&&(s&=15)),s&&(s<8||s>15)?Z_STREAM_ERROR$1:(nr.window!==null&&nr.wbits!==s&&(nr.window=null),nr.wrap=tr,nr.wbits=s,inflateReset(er))},inflateInit2=(er,s)=>{if(!er)return Z_STREAM_ERROR$1;const tr=new InflateState;er.state=tr,tr.strm=er,tr.window=null,tr.mode=HEAD;const nr=inflateReset2(er,s);return nr!==Z_OK$1&&(er.state=null),nr},inflateInit=er=>inflateInit2(er,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=er=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let s=0;for(;s<144;)er.lens[s++]=8;for(;s<256;)er.lens[s++]=9;for(;s<280;)er.lens[s++]=7;for(;s<288;)er.lens[s++]=8;for(inftrees(LENS,er.lens,0,288,lenfix,0,er.work,{bits:9}),s=0;s<32;)er.lens[s++]=5;inftrees(DISTS,er.lens,0,32,distfix,0,er.work,{bits:5}),virgin=!1}er.lencode=lenfix,er.lenbits=9,er.distcode=distfix,er.distbits=5},updatewindow=(er,s,tr,nr)=>{let rr;const ir=er.state;return ir.window===null&&(ir.wsize=1<<ir.wbits,ir.wnext=0,ir.whave=0,ir.window=new Uint8Array(ir.wsize)),nr>=ir.wsize?(ir.window.set(s.subarray(tr-ir.wsize,tr),0),ir.wnext=0,ir.whave=ir.wsize):(rr=ir.wsize-ir.wnext,rr>nr&&(rr=nr),ir.window.set(s.subarray(tr-nr,tr-nr+rr),ir.wnext),nr-=rr,nr?(ir.window.set(s.subarray(tr-nr,tr),0),ir.wnext=nr,ir.whave=ir.wsize):(ir.wnext+=rr,ir.wnext===ir.wsize&&(ir.wnext=0),ir.whave<ir.wsize&&(ir.whave+=rr))),0},inflate$2=(er,s)=>{let tr,nr,rr,ir,sr,or,ar,lr,cr,ur,hr,dr,pr,mr,xr=0,br,yr,gr,Er,kr,Mr,Cr,Dr;const zr=new Uint8Array(4);let Wr,Gr;const Kr=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(er)||!er.output||!er.input&&er.avail_in!==0)return Z_STREAM_ERROR$1;tr=er.state,tr.mode===TYPE&&(tr.mode=TYPEDO),sr=er.next_out,rr=er.output,ar=er.avail_out,ir=er.next_in,nr=er.input,or=er.avail_in,lr=tr.hold,cr=tr.bits,ur=or,hr=ar,Dr=Z_OK$1;e:for(;;)switch(tr.mode){case HEAD:if(tr.wrap===0){tr.mode=TYPEDO;break}for(;cr<16;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(tr.wrap&2&&lr===35615){tr.wbits===0&&(tr.wbits=15),tr.check=0,zr[0]=lr&255,zr[1]=lr>>>8&255,tr.check=crc32_1(tr.check,zr,2,0),lr=0,cr=0,tr.mode=FLAGS;break}if(tr.head&&(tr.head.done=!1),!(tr.wrap&1)||(((lr&255)<<8)+(lr>>8))%31){er.msg="incorrect header check",tr.mode=BAD;break}if((lr&15)!==Z_DEFLATED){er.msg="unknown compression method",tr.mode=BAD;break}if(lr>>>=4,cr-=4,Cr=(lr&15)+8,tr.wbits===0&&(tr.wbits=Cr),Cr>15||Cr>tr.wbits){er.msg="invalid window size",tr.mode=BAD;break}tr.dmax=1<<tr.wbits,tr.flags=0,er.adler=tr.check=1,tr.mode=lr&512?DICTID:TYPE,lr=0,cr=0;break;case FLAGS:for(;cr<16;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(tr.flags=lr,(tr.flags&255)!==Z_DEFLATED){er.msg="unknown compression method",tr.mode=BAD;break}if(tr.flags&57344){er.msg="unknown header flags set",tr.mode=BAD;break}tr.head&&(tr.head.text=lr>>8&1),tr.flags&512&&tr.wrap&4&&(zr[0]=lr&255,zr[1]=lr>>>8&255,tr.check=crc32_1(tr.check,zr,2,0)),lr=0,cr=0,tr.mode=TIME;case TIME:for(;cr<32;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}tr.head&&(tr.head.time=lr),tr.flags&512&&tr.wrap&4&&(zr[0]=lr&255,zr[1]=lr>>>8&255,zr[2]=lr>>>16&255,zr[3]=lr>>>24&255,tr.check=crc32_1(tr.check,zr,4,0)),lr=0,cr=0,tr.mode=OS;case OS:for(;cr<16;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}tr.head&&(tr.head.xflags=lr&255,tr.head.os=lr>>8),tr.flags&512&&tr.wrap&4&&(zr[0]=lr&255,zr[1]=lr>>>8&255,tr.check=crc32_1(tr.check,zr,2,0)),lr=0,cr=0,tr.mode=EXLEN;case EXLEN:if(tr.flags&1024){for(;cr<16;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}tr.length=lr,tr.head&&(tr.head.extra_len=lr),tr.flags&512&&tr.wrap&4&&(zr[0]=lr&255,zr[1]=lr>>>8&255,tr.check=crc32_1(tr.check,zr,2,0)),lr=0,cr=0}else tr.head&&(tr.head.extra=null);tr.mode=EXTRA;case EXTRA:if(tr.flags&1024&&(dr=tr.length,dr>or&&(dr=or),dr&&(tr.head&&(Cr=tr.head.extra_len-tr.length,tr.head.extra||(tr.head.extra=new Uint8Array(tr.head.extra_len)),tr.head.extra.set(nr.subarray(ir,ir+dr),Cr)),tr.flags&512&&tr.wrap&4&&(tr.check=crc32_1(tr.check,nr,dr,ir)),or-=dr,ir+=dr,tr.length-=dr),tr.length))break e;tr.length=0,tr.mode=NAME;case NAME:if(tr.flags&2048){if(or===0)break e;dr=0;do Cr=nr[ir+dr++],tr.head&&Cr&&tr.length<65536&&(tr.head.name+=String.fromCharCode(Cr));while(Cr&&dr<or);if(tr.flags&512&&tr.wrap&4&&(tr.check=crc32_1(tr.check,nr,dr,ir)),or-=dr,ir+=dr,Cr)break e}else tr.head&&(tr.head.name=null);tr.length=0,tr.mode=COMMENT;case COMMENT:if(tr.flags&4096){if(or===0)break e;dr=0;do Cr=nr[ir+dr++],tr.head&&Cr&&tr.length<65536&&(tr.head.comment+=String.fromCharCode(Cr));while(Cr&&dr<or);if(tr.flags&512&&tr.wrap&4&&(tr.check=crc32_1(tr.check,nr,dr,ir)),or-=dr,ir+=dr,Cr)break e}else tr.head&&(tr.head.comment=null);tr.mode=HCRC;case HCRC:if(tr.flags&512){for(;cr<16;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(tr.wrap&4&&lr!==(tr.check&65535)){er.msg="header crc mismatch",tr.mode=BAD;break}lr=0,cr=0}tr.head&&(tr.head.hcrc=tr.flags>>9&1,tr.head.done=!0),er.adler=tr.check=0,tr.mode=TYPE;break;case DICTID:for(;cr<32;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}er.adler=tr.check=zswap32(lr),lr=0,cr=0,tr.mode=DICT;case DICT:if(tr.havedict===0)return er.next_out=sr,er.avail_out=ar,er.next_in=ir,er.avail_in=or,tr.hold=lr,tr.bits=cr,Z_NEED_DICT$1;er.adler=tr.check=1,tr.mode=TYPE;case TYPE:if(s===Z_BLOCK||s===Z_TREES)break e;case TYPEDO:if(tr.last){lr>>>=cr&7,cr-=cr&7,tr.mode=CHECK;break}for(;cr<3;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}switch(tr.last=lr&1,lr>>>=1,cr-=1,lr&3){case 0:tr.mode=STORED;break;case 1:if(fixedtables(tr),tr.mode=LEN_,s===Z_TREES){lr>>>=2,cr-=2;break e}break;case 2:tr.mode=TABLE;break;case 3:er.msg="invalid block type",tr.mode=BAD}lr>>>=2,cr-=2;break;case STORED:for(lr>>>=cr&7,cr-=cr&7;cr<32;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if((lr&65535)!==(lr>>>16^65535)){er.msg="invalid stored block lengths",tr.mode=BAD;break}if(tr.length=lr&65535,lr=0,cr=0,tr.mode=COPY_,s===Z_TREES)break e;case COPY_:tr.mode=COPY;case COPY:if(dr=tr.length,dr){if(dr>or&&(dr=or),dr>ar&&(dr=ar),dr===0)break e;rr.set(nr.subarray(ir,ir+dr),sr),or-=dr,ir+=dr,ar-=dr,sr+=dr,tr.length-=dr;break}tr.mode=TYPE;break;case TABLE:for(;cr<14;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(tr.nlen=(lr&31)+257,lr>>>=5,cr-=5,tr.ndist=(lr&31)+1,lr>>>=5,cr-=5,tr.ncode=(lr&15)+4,lr>>>=4,cr-=4,tr.nlen>286||tr.ndist>30){er.msg="too many length or distance symbols",tr.mode=BAD;break}tr.have=0,tr.mode=LENLENS;case LENLENS:for(;tr.have<tr.ncode;){for(;cr<3;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}tr.lens[Kr[tr.have++]]=lr&7,lr>>>=3,cr-=3}for(;tr.have<19;)tr.lens[Kr[tr.have++]]=0;if(tr.lencode=tr.lendyn,tr.lenbits=7,Wr={bits:tr.lenbits},Dr=inftrees(CODES,tr.lens,0,19,tr.lencode,0,tr.work,Wr),tr.lenbits=Wr.bits,Dr){er.msg="invalid code lengths set",tr.mode=BAD;break}tr.have=0,tr.mode=CODELENS;case CODELENS:for(;tr.have<tr.nlen+tr.ndist;){for(;xr=tr.lencode[lr&(1<<tr.lenbits)-1],br=xr>>>24,yr=xr>>>16&255,gr=xr&65535,!(br<=cr);){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(gr<16)lr>>>=br,cr-=br,tr.lens[tr.have++]=gr;else{if(gr===16){for(Gr=br+2;cr<Gr;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(lr>>>=br,cr-=br,tr.have===0){er.msg="invalid bit length repeat",tr.mode=BAD;break}Cr=tr.lens[tr.have-1],dr=3+(lr&3),lr>>>=2,cr-=2}else if(gr===17){for(Gr=br+3;cr<Gr;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}lr>>>=br,cr-=br,Cr=0,dr=3+(lr&7),lr>>>=3,cr-=3}else{for(Gr=br+7;cr<Gr;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}lr>>>=br,cr-=br,Cr=0,dr=11+(lr&127),lr>>>=7,cr-=7}if(tr.have+dr>tr.nlen+tr.ndist){er.msg="invalid bit length repeat",tr.mode=BAD;break}for(;dr--;)tr.lens[tr.have++]=Cr}}if(tr.mode===BAD)break;if(tr.lens[256]===0){er.msg="invalid code -- missing end-of-block",tr.mode=BAD;break}if(tr.lenbits=9,Wr={bits:tr.lenbits},Dr=inftrees(LENS,tr.lens,0,tr.nlen,tr.lencode,0,tr.work,Wr),tr.lenbits=Wr.bits,Dr){er.msg="invalid literal/lengths set",tr.mode=BAD;break}if(tr.distbits=6,tr.distcode=tr.distdyn,Wr={bits:tr.distbits},Dr=inftrees(DISTS,tr.lens,tr.nlen,tr.ndist,tr.distcode,0,tr.work,Wr),tr.distbits=Wr.bits,Dr){er.msg="invalid distances set",tr.mode=BAD;break}if(tr.mode=LEN_,s===Z_TREES)break e;case LEN_:tr.mode=LEN;case LEN:if(or>=6&&ar>=258){er.next_out=sr,er.avail_out=ar,er.next_in=ir,er.avail_in=or,tr.hold=lr,tr.bits=cr,inffast(er,hr),sr=er.next_out,rr=er.output,ar=er.avail_out,ir=er.next_in,nr=er.input,or=er.avail_in,lr=tr.hold,cr=tr.bits,tr.mode===TYPE&&(tr.back=-1);break}for(tr.back=0;xr=tr.lencode[lr&(1<<tr.lenbits)-1],br=xr>>>24,yr=xr>>>16&255,gr=xr&65535,!(br<=cr);){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(yr&&!(yr&240)){for(Er=br,kr=yr,Mr=gr;xr=tr.lencode[Mr+((lr&(1<<Er+kr)-1)>>Er)],br=xr>>>24,yr=xr>>>16&255,gr=xr&65535,!(Er+br<=cr);){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}lr>>>=Er,cr-=Er,tr.back+=Er}if(lr>>>=br,cr-=br,tr.back+=br,tr.length=gr,yr===0){tr.mode=LIT;break}if(yr&32){tr.back=-1,tr.mode=TYPE;break}if(yr&64){er.msg="invalid literal/length code",tr.mode=BAD;break}tr.extra=yr&15,tr.mode=LENEXT;case LENEXT:if(tr.extra){for(Gr=tr.extra;cr<Gr;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}tr.length+=lr&(1<<tr.extra)-1,lr>>>=tr.extra,cr-=tr.extra,tr.back+=tr.extra}tr.was=tr.length,tr.mode=DIST;case DIST:for(;xr=tr.distcode[lr&(1<<tr.distbits)-1],br=xr>>>24,yr=xr>>>16&255,gr=xr&65535,!(br<=cr);){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(!(yr&240)){for(Er=br,kr=yr,Mr=gr;xr=tr.distcode[Mr+((lr&(1<<Er+kr)-1)>>Er)],br=xr>>>24,yr=xr>>>16&255,gr=xr&65535,!(Er+br<=cr);){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}lr>>>=Er,cr-=Er,tr.back+=Er}if(lr>>>=br,cr-=br,tr.back+=br,yr&64){er.msg="invalid distance code",tr.mode=BAD;break}tr.offset=gr,tr.extra=yr&15,tr.mode=DISTEXT;case DISTEXT:if(tr.extra){for(Gr=tr.extra;cr<Gr;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}tr.offset+=lr&(1<<tr.extra)-1,lr>>>=tr.extra,cr-=tr.extra,tr.back+=tr.extra}if(tr.offset>tr.dmax){er.msg="invalid distance too far back",tr.mode=BAD;break}tr.mode=MATCH;case MATCH:if(ar===0)break e;if(dr=hr-ar,tr.offset>dr){if(dr=tr.offset-dr,dr>tr.whave&&tr.sane){er.msg="invalid distance too far back",tr.mode=BAD;break}dr>tr.wnext?(dr-=tr.wnext,pr=tr.wsize-dr):pr=tr.wnext-dr,dr>tr.length&&(dr=tr.length),mr=tr.window}else mr=rr,pr=sr-tr.offset,dr=tr.length;dr>ar&&(dr=ar),ar-=dr,tr.length-=dr;do rr[sr++]=mr[pr++];while(--dr);tr.length===0&&(tr.mode=LEN);break;case LIT:if(ar===0)break e;rr[sr++]=tr.length,ar--,tr.mode=LEN;break;case CHECK:if(tr.wrap){for(;cr<32;){if(or===0)break e;or--,lr|=nr[ir++]<<cr,cr+=8}if(hr-=ar,er.total_out+=hr,tr.total+=hr,tr.wrap&4&&hr&&(er.adler=tr.check=tr.flags?crc32_1(tr.check,rr,hr,sr-hr):adler32_1(tr.check,rr,hr,sr-hr)),hr=ar,tr.wrap&4&&(tr.flags?lr:zswap32(lr))!==tr.check){er.msg="incorrect data check",tr.mode=BAD;break}lr=0,cr=0}tr.mode=LENGTH;case LENGTH:if(tr.wrap&&tr.flags){for(;cr<32;){if(or===0)break e;or--,lr+=nr[ir++]<<cr,cr+=8}if(tr.wrap&4&&lr!==(tr.total&4294967295)){er.msg="incorrect length check",tr.mode=BAD;break}lr=0,cr=0}tr.mode=DONE;case DONE:Dr=Z_STREAM_END$1;break e;case BAD:Dr=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return er.next_out=sr,er.avail_out=ar,er.next_in=ir,er.avail_in=or,tr.hold=lr,tr.bits=cr,(tr.wsize||hr!==er.avail_out&&tr.mode<BAD&&(tr.mode<CHECK||s!==Z_FINISH$1))&&updatewindow(er,er.output,er.next_out,hr-er.avail_out),ur-=er.avail_in,hr-=er.avail_out,er.total_in+=ur,er.total_out+=hr,tr.total+=hr,tr.wrap&4&&hr&&(er.adler=tr.check=tr.flags?crc32_1(tr.check,rr,hr,er.next_out-hr):adler32_1(tr.check,rr,hr,er.next_out-hr)),er.data_type=tr.bits+(tr.last?64:0)+(tr.mode===TYPE?128:0)+(tr.mode===LEN_||tr.mode===COPY_?256:0),(ur===0&&hr===0||s===Z_FINISH$1)&&Dr===Z_OK$1&&(Dr=Z_BUF_ERROR),Dr},inflateEnd=er=>{if(inflateStateCheck(er))return Z_STREAM_ERROR$1;let s=er.state;return s.window&&(s.window=null),er.state=null,Z_OK$1},inflateGetHeader=(er,s)=>{if(inflateStateCheck(er))return Z_STREAM_ERROR$1;const tr=er.state;return tr.wrap&2?(tr.head=s,s.done=!1,Z_OK$1):Z_STREAM_ERROR$1},inflateSetDictionary=(er,s)=>{const tr=s.length;let nr,rr,ir;return inflateStateCheck(er)||(nr=er.state,nr.wrap!==0&&nr.mode!==DICT)?Z_STREAM_ERROR$1:nr.mode===DICT&&(rr=1,rr=adler32_1(rr,s,tr,0),rr!==nr.check)?Z_DATA_ERROR$1:(ir=updatewindow(er,s,tr,tr),ir?(nr.mode=MEM,Z_MEM_ERROR$1):(nr.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(er){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},er||{});const s=this.options;s.raw&&s.windowBits>=0&&s.windowBits<16&&(s.windowBits=-s.windowBits,s.windowBits===0&&(s.windowBits=-15)),s.windowBits>=0&&s.windowBits<16&&!(er&&er.windowBits)&&(s.windowBits+=32),s.windowBits>15&&s.windowBits<48&&(s.windowBits&15||(s.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let tr=inflate_1$2.inflateInit2(this.strm,s.windowBits);if(tr!==Z_OK)throw new Error(messages[tr]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),s.dictionary&&(typeof s.dictionary=="string"?s.dictionary=strings.string2buf(s.dictionary):toString.call(s.dictionary)==="[object ArrayBuffer]"&&(s.dictionary=new Uint8Array(s.dictionary)),s.raw&&(tr=inflate_1$2.inflateSetDictionary(this.strm,s.dictionary),tr!==Z_OK)))throw new Error(messages[tr])}Inflate$1.prototype.push=function(er,s){const tr=this.strm,nr=this.options.chunkSize,rr=this.options.dictionary;let ir,sr,or;if(this.ended)return!1;for(s===~~s?sr=s:sr=s===!0?Z_FINISH:Z_NO_FLUSH,toString.call(er)==="[object ArrayBuffer]"?tr.input=new Uint8Array(er):tr.input=er,tr.next_in=0,tr.avail_in=tr.input.length;;){for(tr.avail_out===0&&(tr.output=new Uint8Array(nr),tr.next_out=0,tr.avail_out=nr),ir=inflate_1$2.inflate(tr,sr),ir===Z_NEED_DICT&&rr&&(ir=inflate_1$2.inflateSetDictionary(tr,rr),ir===Z_OK?ir=inflate_1$2.inflate(tr,sr):ir===Z_DATA_ERROR&&(ir=Z_NEED_DICT));tr.avail_in>0&&ir===Z_STREAM_END&&tr.state.wrap>0&&er[tr.next_in]!==0;)inflate_1$2.inflateReset(tr),ir=inflate_1$2.inflate(tr,sr);switch(ir){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ir),this.ended=!0,!1}if(or=tr.avail_out,tr.next_out&&(tr.avail_out===0||ir===Z_STREAM_END))if(this.options.to==="string"){let ar=strings.utf8border(tr.output,tr.next_out),lr=tr.next_out-ar,cr=strings.buf2string(tr.output,ar);tr.next_out=lr,tr.avail_out=nr-lr,lr&&tr.output.set(tr.output.subarray(ar,ar+lr),0),this.onData(cr)}else this.onData(tr.output.length===tr.next_out?tr.output:tr.output.subarray(0,tr.next_out));if(!(ir===Z_OK&&or===0)){if(ir===Z_STREAM_END)return ir=inflate_1$2.inflateEnd(this.strm),this.onEnd(ir),this.ended=!0,!0;if(tr.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(er){this.chunks.push(er)};Inflate$1.prototype.onEnd=function(er){er===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=er,this.msg=this.strm.msg};function inflate$1(er,s){const tr=new Inflate$1(s);if(tr.push(er),tr.err)throw tr.msg||messages[tr.err];return tr.result}function inflateRaw$1(er,s){return s=s||{},s.raw=!0,inflate$1(er,s)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants=constants$2,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate,assert$1={exports:{}},errors={},util={},types={},shams$1=function er(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},tr=Symbol("test"),nr=Object(tr);if(typeof tr=="string"||Object.prototype.toString.call(tr)!=="[object Symbol]"||Object.prototype.toString.call(nr)!=="[object Symbol]")return!1;var rr=42;s[tr]=rr;for(var ir in s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var sr=Object.getOwnPropertySymbols(s);if(sr.length!==1||sr[0]!==tr||!Object.prototype.propertyIsEnumerable.call(s,tr))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var or=Object.getOwnPropertyDescriptor(s,tr);if(or.value!==rr||or.enumerable!==!0)return!1}return!0},hasSymbols$3=shams$1,shams=function er(){return hasSymbols$3()&&!!Symbol.toStringTag},esObjectAtoms=Object,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type$1=TypeError,uri=URIError,abs$1=Math.abs,floor$1=Math.floor,max$1=Math.max,min$1=Math.min,pow$1=Math.pow,gOPD$2=Object.getOwnPropertyDescriptor,$gOPD$1=gOPD$2;if($gOPD$1)try{$gOPD$1([],"length")}catch{$gOPD$1=null}var gopd$1=$gOPD$1,$defineProperty$3=Object.defineProperty||!1;if($defineProperty$3)try{$defineProperty$3({},"a",{value:1})}catch{$defineProperty$3=!1}var esDefineProperty=$defineProperty$3,hasSymbols$2,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols$2;hasRequiredHasSymbols=1;var er=typeof Symbol<"u"&&Symbol,s=shams$1;return hasSymbols$2=function(){return typeof er!="function"||typeof Symbol!="function"||typeof er("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:s()},hasSymbols$2}var implementation$6,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$6;hasRequiredImplementation$2=1;var er="Function.prototype.bind called on incompatible ",s=Object.prototype.toString,tr=Math.max,nr="[object Function]",rr=function(ar,lr){for(var cr=[],ur=0;ur<ar.length;ur+=1)cr[ur]=ar[ur];for(var hr=0;hr<lr.length;hr+=1)cr[hr+ar.length]=lr[hr];return cr},ir=function(ar,lr){for(var cr=[],ur=lr,hr=0;ur<ar.length;ur+=1,hr+=1)cr[hr]=ar[ur];return cr},sr=function(or,ar){for(var lr="",cr=0;cr<or.length;cr+=1)lr+=or[cr],cr+1<or.length&&(lr+=ar);return lr};return implementation$6=function(ar){var lr=this;if(typeof lr!="function"||s.apply(lr)!==nr)throw new TypeError(er+lr);for(var cr=ir(arguments,1),ur,hr=function(){if(this instanceof ur){var br=lr.apply(this,rr(cr,arguments));return Object(br)===br?br:this}return lr.apply(ar,rr(cr,arguments))},dr=tr(0,lr.length-cr.length),pr=[],mr=0;mr<dr;mr++)pr[mr]="$"+mr;if(ur=Function("binder","return function ("+sr(pr,",")+"){ return binder.apply(this,arguments); }")(hr),lr.prototype){var xr=function(){};xr.prototype=lr.prototype,ur.prototype=new xr,xr.prototype=null}return ur},implementation$6}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var er=requireImplementation$2();return functionBind=Function.prototype.bind||er,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply$1=typeof Reflect<"u"&&Reflect&&Reflect.apply,bind$3=requireFunctionBind(),$apply$2=requireFunctionApply(),$call$2=requireFunctionCall(),$reflectApply=reflectApply$1,actualApply$1=$reflectApply||bind$3.call($call$2,$apply$2),bind$2=requireFunctionBind(),$TypeError$3=type$1,$call$1=requireFunctionCall(),$actualApply=actualApply$1,callBindApplyHelpers=function er(s){if(s.length<1||typeof s[0]!="function")throw new $TypeError$3("a function is required");return $actualApply(bind$2,$call$1,s)},get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var er=callBindApplyHelpers,s=gopd$1,tr;try{tr=[].__proto__===Array.prototype}catch(sr){if(!sr||typeof sr!="object"||!("code"in sr)||sr.code!=="ERR_PROTO_ACCESS")throw sr}var nr=!!tr&&s&&s(Object.prototype,"__proto__"),rr=Object,ir=rr.getPrototypeOf;return get=nr&&typeof nr.get=="function"?er([nr.get]):typeof ir=="function"?function(or){return ir(or==null?or:rr(or))}:!1,get}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var er=Function.prototype.call,s=Object.prototype.hasOwnProperty,tr=requireFunctionBind();return hasown=tr.call(er,s),hasown}var undefined$1,$Object$1=esObjectAtoms,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type$1,$URIError=uri,abs=abs$1,floor=floor$1,max=max$1,min=min$1,pow=pow$1,$Function=Function,getEvalledConstructor=function(er){try{return $Function('"use strict"; return ('+er+").constructor;")()}catch{}},$gOPD=gopd$1,$defineProperty$2=esDefineProperty,throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=requireHasSymbols()(),getDunderProto=requireGet(),getProto$1=typeof Reflect=="function"&&Reflect.getPrototypeOf||$Object$1.getPrototypeOf||getDunderProto,$apply$1=requireFunctionApply(),$call=requireFunctionCall(),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":$Object$1,"%Object.getOwnPropertyDescriptor%":$gOPD,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet,"%Function.prototype.call%":$call,"%Function.prototype.apply%":$apply$1,"%Object.defineProperty%":$defineProperty$2,"%Math.abs%":abs,"%Math.floor%":floor,"%Math.max%":max,"%Math.min%":min,"%Math.pow%":pow};if(getProto$1)try{null.error}catch(er){var errorProto=getProto$1(getProto$1(er));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function er(s){var tr;if(s==="%AsyncFunction%")tr=getEvalledConstructor("async function () {}");else if(s==="%GeneratorFunction%")tr=getEvalledConstructor("function* () {}");else if(s==="%AsyncGeneratorFunction%")tr=getEvalledConstructor("async function* () {}");else if(s==="%AsyncGenerator%"){var nr=er("%AsyncGeneratorFunction%");nr&&(tr=nr.prototype)}else if(s==="%AsyncIteratorPrototype%"){var rr=er("%AsyncGenerator%");rr&&getProto$1&&(tr=getProto$1(rr.prototype))}return INTRINSICS[s]=tr,tr},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=requireFunctionBind(),hasOwn=requireHasown(),$concat=bind$1.call($call,Array.prototype.concat),$spliceApply=bind$1.call($apply$1,Array.prototype.splice),$replace=bind$1.call($call,String.prototype.replace),$strSlice=bind$1.call($call,String.prototype.slice),$exec=bind$1.call($call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function er(s){var tr=$strSlice(s,0,1),nr=$strSlice(s,-1);if(tr==="%"&&nr!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(nr==="%"&&tr!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var rr=[];return $replace(s,rePropName,function(ir,sr,or,ar){rr[rr.length]=or?$replace(ar,reEscapeChar,"$1"):sr||ir}),rr},getBaseIntrinsic=function er(s,tr){var nr=s,rr;if(hasOwn(LEGACY_ALIASES,nr)&&(rr=LEGACY_ALIASES[nr],nr="%"+rr[0]+"%"),hasOwn(INTRINSICS,nr)){var ir=INTRINSICS[nr];if(ir===needsEval&&(ir=doEval(nr)),typeof ir>"u"&&!tr)throw new $TypeError$2("intrinsic "+s+" exists, but is not available. Please file an issue!");return{alias:rr,name:nr,value:ir}}throw new $SyntaxError$1("intrinsic "+s+" does not exist!")},getIntrinsic=function er(s,tr){if(typeof s!="string"||s.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof tr!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,s)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var nr=stringToPath(s),rr=nr.length>0?nr[0]:"",ir=getBaseIntrinsic("%"+rr+"%",tr),sr=ir.name,or=ir.value,ar=!1,lr=ir.alias;lr&&(rr=lr[0],$spliceApply(nr,$concat([0,1],lr)));for(var cr=1,ur=!0;cr<nr.length;cr+=1){var hr=nr[cr],dr=$strSlice(hr,0,1),pr=$strSlice(hr,-1);if((dr==='"'||dr==="'"||dr==="`"||pr==='"'||pr==="'"||pr==="`")&&dr!==pr)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((hr==="constructor"||!ur)&&(ar=!0),rr+="."+hr,sr="%"+rr+"%",hasOwn(INTRINSICS,sr))or=INTRINSICS[sr];else if(or!=null){if(!(hr in or)){if(!tr)throw new $TypeError$2("base intrinsic for "+s+" exists, but the property is not available.");return}if($gOPD&&cr+1>=nr.length){var mr=$gOPD(or,hr);ur=!!mr,ur&&"get"in mr&&!("originalValue"in mr.get)?or=mr.get:or=or[hr]}else ur=hasOwn(or,hr),or=or[hr];ur&&!ar&&(INTRINSICS[sr]=or)}}return or},GetIntrinsic$2=getIntrinsic,callBindBasic=callBindApplyHelpers,$indexOf$2=callBindBasic([GetIntrinsic$2("%String.prototype.indexOf%")]),callBound$4=function er(s,tr){var nr=GetIntrinsic$2(s,!!tr);return typeof nr=="function"&&$indexOf$2(s,".prototype.")>-1?callBindBasic([nr]):nr},hasToStringTag$3=shams(),callBound$3=callBound$4,$toString$1=callBound$3("Object.prototype.toString"),isStandardArguments=function er(s){return hasToStringTag$3&&s&&typeof s=="object"&&Symbol.toStringTag in s?!1:$toString$1(s)==="[object Arguments]"},isLegacyArguments=function er(s){return isStandardArguments(s)?!0:s!==null&&typeof s=="object"&&"length"in s&&typeof s.length=="number"&&s.length>=0&&$toString$1(s)!=="[object Array]"&&"callee"in s&&$toString$1(s.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function er(s){if(typeof s!="function")return!1;if(isFnRegex.test(fnToStr$1.call(s)))return!0;if(!hasToStringTag$2){var tr=toStr$3.call(s);return tr==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var nr=getGeneratorFunc();GeneratorFunction=nr?getProto(nr):!1}return getProto(s)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(er){er!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function er(s){try{var tr=fnToStr.call(s);return constructorRegex.test(tr)}catch{return!1}},tryFunctionObject=function er(s){try{return isES6ClassFn(s)?!1:(fnToStr.call(s),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function er(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function(s){if((isIE68||!s)&&(typeof s>"u"||typeof s=="object"))try{var tr=toStr$2.call(s);return(tr===ddaClass||tr===ddaClass2||tr===ddaClass3||tr===objectClass)&&s("")==null}catch{}return!1})}var isCallable$1=reflectApply?function er(s){if(isDDA(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;try{reflectApply(s,null,badArrayLike)}catch(tr){if(tr!==isCallableMarker)return!1}return!isES6ClassFn(s)&&tryFunctionObject(s)}:function er(s){if(isDDA(s))return!0;if(!s||typeof s!="function"&&typeof s!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(s);if(isES6ClassFn(s))return!1;var tr=toStr$2.call(s);return tr!==fnClass&&tr!==genClass&&!/^\[object HTML/.test(tr)?!1:tryFunctionObject(s)},isCallable=isCallable$1,toStr$1=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty,forEachArray=function er(s,tr,nr){for(var rr=0,ir=s.length;rr<ir;rr++)hasOwnProperty.call(s,rr)&&(nr==null?tr(s[rr],rr,s):tr.call(nr,s[rr],rr,s))},forEachString=function er(s,tr,nr){for(var rr=0,ir=s.length;rr<ir;rr++)nr==null?tr(s.charAt(rr),rr,s):tr.call(nr,s.charAt(rr),rr,s)},forEachObject=function er(s,tr,nr){for(var rr in s)hasOwnProperty.call(s,rr)&&(nr==null?tr(s[rr],rr,s):tr.call(nr,s[rr],rr,s))},forEach$1=function er(s,tr,nr){if(!isCallable(tr))throw new TypeError("iterator must be a function");var rr;arguments.length>=3&&(rr=nr),toStr$1.call(s)==="[object Array]"?forEachArray(s,tr,rr):typeof s=="string"?forEachString(s,tr,rr):forEachObject(s,tr,rr)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$2=typeof globalThis>"u"?commonjsGlobal$1:globalThis,availableTypedArrays$1=function er(){for(var s=[],tr=0;tr<possibleNames.length;tr++)typeof g$2[possibleNames[tr]]=="function"&&(s[s.length]=possibleNames[tr]);return s},callBind$2={exports:{}},$defineProperty$1=esDefineProperty,$SyntaxError=syntax,$TypeError$1=type$1,gopd=gopd$1,defineDataProperty=function er(s,tr,nr){if(!s||typeof s!="object"&&typeof s!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof tr!="string"&&typeof tr!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var rr=arguments.length>3?arguments[3]:null,ir=arguments.length>4?arguments[4]:null,sr=arguments.length>5?arguments[5]:null,or=arguments.length>6?arguments[6]:!1,ar=!!gopd&&gopd(s,tr);if($defineProperty$1)$defineProperty$1(s,tr,{configurable:sr===null&&ar?ar.configurable:!sr,enumerable:rr===null&&ar?ar.enumerable:!rr,value:nr,writable:ir===null&&ar?ar.writable:!ir});else if(or||!rr&&!ir&&!sr)s[tr]=nr;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=esDefineProperty,hasPropertyDescriptors=function er(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function er(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define$1=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type$1,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function er(s,tr){if(typeof s!="function")throw new $TypeError("`fn` is not a function");if(typeof tr!="number"||tr<0||tr>4294967295||$floor(tr)!==tr)throw new $TypeError("`length` must be a positive 32-bit integer");var nr=arguments.length>2&&!!arguments[2],rr=!0,ir=!0;if("length"in s&&gOPD$1){var sr=gOPD$1(s,"length");sr&&!sr.configurable&&(rr=!1),sr&&!sr.writable&&(ir=!1)}return(rr||ir||!nr)&&(hasDescriptors?define$1(s,"length",tr,!0,!0):define$1(s,"length",tr)),s},bind=requireFunctionBind(),$apply=requireFunctionApply(),actualApply=actualApply$1,applyBind=function er(){return actualApply(bind,$apply,arguments)};(function(er){var s=setFunctionLength,tr=esDefineProperty,nr=callBindApplyHelpers,rr=applyBind;er.exports=function(sr){var or=nr(arguments),ar=sr.length-(arguments.length-1);return s(or,1+(ar>0?ar:0),!0)},tr?tr(er.exports,"apply",{value:rr}):er.exports.apply=rr})(callBind$2);var callBindExports=callBind$2.exports,forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind$1=callBindExports,callBound$2=callBound$4,gOPD=gopd$1,$toString=callBound$2("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$2("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf$1=callBound$2("Array.prototype.indexOf",!0)||function er(s,tr){for(var nr=0;nr<s.length;nr+=1)if(s[nr]===tr)return nr;return-1},cache={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(er){var s=new g$1[er];if(Symbol.toStringTag in s){var tr=getPrototypeOf(s),nr=gOPD(tr,Symbol.toStringTag);if(!nr){var rr=getPrototypeOf(tr);nr=gOPD(rr,Symbol.toStringTag)}cache["$"+er]=callBind$1(nr.get)}}):forEach(typedArrays,function(er){var s=new g$1[er],tr=s.slice||s.set;tr&&(cache["$"+er]=callBind$1(tr))});var tryTypedArrays=function er(s){var tr=!1;return forEach(cache,function(nr,rr){if(!tr)try{"$"+nr(s)===rr&&(tr=$slice(rr,1))}catch{}}),tr},trySlices=function er(s){var tr=!1;return forEach(cache,function(nr,rr){if(!tr)try{nr(s),tr=$slice(rr,1)}catch{}}),tr},whichTypedArray$1=function er(s){if(!s||typeof s!="object")return!1;if(!hasToStringTag){var tr=$slice($toString(s),8,-1);return $indexOf$1(typedArrays,tr)>-1?tr:tr!=="Object"?!1:trySlices(s)}return gOPD?tryTypedArrays(s):null},whichTypedArray=whichTypedArray$1,isTypedArray=function er(s){return!!whichTypedArray(s)};(function(er){var s=isArguments$1,tr=isGeneratorFunction,nr=whichTypedArray$1,rr=isTypedArray;function ir(to){return to.call.bind(to)}var sr=typeof BigInt<"u",or=typeof Symbol<"u",ar=ir(Object.prototype.toString),lr=ir(Number.prototype.valueOf),cr=ir(String.prototype.valueOf),ur=ir(Boolean.prototype.valueOf);if(sr)var hr=ir(BigInt.prototype.valueOf);if(or)var dr=ir(Symbol.prototype.valueOf);function pr(to,Ro){if(typeof to!="object")return!1;try{return Ro(to),!0}catch{return!1}}er.isArgumentsObject=s,er.isGeneratorFunction=tr,er.isTypedArray=rr;function mr(to){return typeof Promise<"u"&&to instanceof Promise||to!==null&&typeof to=="object"&&typeof to.then=="function"&&typeof to.catch=="function"}er.isPromise=mr;function xr(to){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(to):rr(to)||Rr(to)}er.isArrayBufferView=xr;function br(to){return nr(to)==="Uint8Array"}er.isUint8Array=br;function yr(to){return nr(to)==="Uint8ClampedArray"}er.isUint8ClampedArray=yr;function gr(to){return nr(to)==="Uint16Array"}er.isUint16Array=gr;function Er(to){return nr(to)==="Uint32Array"}er.isUint32Array=Er;function kr(to){return nr(to)==="Int8Array"}er.isInt8Array=kr;function Mr(to){return nr(to)==="Int16Array"}er.isInt16Array=Mr;function Cr(to){return nr(to)==="Int32Array"}er.isInt32Array=Cr;function Dr(to){return nr(to)==="Float32Array"}er.isFloat32Array=Dr;function zr(to){return nr(to)==="Float64Array"}er.isFloat64Array=zr;function Wr(to){return nr(to)==="BigInt64Array"}er.isBigInt64Array=Wr;function Gr(to){return nr(to)==="BigUint64Array"}er.isBigUint64Array=Gr;function Kr(to){return ar(to)==="[object Map]"}Kr.working=typeof Map<"u"&&Kr(new Map);function Lr(to){return typeof Map>"u"?!1:Kr.working?Kr(to):to instanceof Map}er.isMap=Lr;function fr(to){return ar(to)==="[object Set]"}fr.working=typeof Set<"u"&&fr(new Set);function vr(to){return typeof Set>"u"?!1:fr.working?fr(to):to instanceof Set}er.isSet=vr;function $r(to){return ar(to)==="[object WeakMap]"}$r.working=typeof WeakMap<"u"&&$r(new WeakMap);function Tr(to){return typeof WeakMap>"u"?!1:$r.working?$r(to):to instanceof WeakMap}er.isWeakMap=Tr;function Ar(to){return ar(to)==="[object WeakSet]"}Ar.working=typeof WeakSet<"u"&&Ar(new WeakSet);function jr(to){return Ar(to)}er.isWeakSet=jr;function Or(to){return ar(to)==="[object ArrayBuffer]"}Or.working=typeof ArrayBuffer<"u"&&Or(new ArrayBuffer);function Nr(to){return typeof ArrayBuffer>"u"?!1:Or.working?Or(to):to instanceof ArrayBuffer}er.isArrayBuffer=Nr;function wr(to){return ar(to)==="[object DataView]"}wr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&wr(new DataView(new ArrayBuffer(1),0,1));function Rr(to){return typeof DataView>"u"?!1:wr.working?wr(to):to instanceof DataView}er.isDataView=Rr;var Pr=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Br(to){return ar(to)==="[object SharedArrayBuffer]"}function Ur(to){return typeof Pr>"u"?!1:(typeof Br.working>"u"&&(Br.working=Br(new Pr)),Br.working?Br(to):to instanceof Pr)}er.isSharedArrayBuffer=Ur;function Jr(to){return ar(to)==="[object AsyncFunction]"}er.isAsyncFunction=Jr;function qr(to){return ar(to)==="[object Map Iterator]"}er.isMapIterator=qr;function Zr(to){return ar(to)==="[object Set Iterator]"}er.isSetIterator=Zr;function oo(to){return ar(to)==="[object Generator]"}er.isGeneratorObject=oo;function eo(to){return ar(to)==="[object WebAssembly.Module]"}er.isWebAssemblyCompiledModule=eo;function uo(to){return pr(to,lr)}er.isNumberObject=uo;function vo(to){return pr(to,cr)}er.isStringObject=vo;function go(to){return pr(to,ur)}er.isBooleanObject=go;function xo(to){return sr&&pr(to,hr)}er.isBigIntObject=xo;function To(to){return or&&pr(to,dr)}er.isSymbolObject=To;function po(to){return uo(to)||vo(to)||go(to)||xo(to)||To(to)}er.isBoxedPrimitive=po;function So(to){return typeof Uint8Array<"u"&&(Nr(to)||Ur(to))}er.isAnyArrayBuffer=So,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(to){Object.defineProperty(er,to,{enumerable:!1,value:function(){throw new Error(to+" is not supported in userland")}})})})(types);var isBufferBrowser=function er(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(s,tr){tr&&(s.super_=tr,s.prototype=Object.create(tr.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(s,tr){if(tr){s.super_=tr;var nr=function(){};nr.prototype=tr.prototype,s.prototype=new nr,s.prototype.constructor=s}};var inherits_browserExports=inherits_browser.exports;(function(er){var s={},tr=Object.getOwnPropertyDescriptors||function(Pr){for(var Br=Object.keys(Pr),Ur={},Jr=0;Jr<Br.length;Jr++)Ur[Br[Jr]]=Object.getOwnPropertyDescriptor(Pr,Br[Jr]);return Ur},nr=/%[sdj%]/g;er.format=function(Rr){if(!Mr(Rr)){for(var Pr=[],Br=0;Br<arguments.length;Br++)Pr.push(or(arguments[Br]));return Pr.join(" ")}for(var Br=1,Ur=arguments,Jr=Ur.length,qr=String(Rr).replace(nr,function(oo){if(oo==="%%")return"%";if(Br>=Jr)return oo;switch(oo){case"%s":return String(Ur[Br++]);case"%d":return Number(Ur[Br++]);case"%j":try{return JSON.stringify(Ur[Br++])}catch{return"[Circular]"}default:return oo}}),Zr=Ur[Br];Br<Jr;Zr=Ur[++Br])gr(Zr)||!Wr(Zr)?qr+=" "+Zr:qr+=" "+or(Zr);return qr},er.deprecate=function(Rr,Pr){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return Rr;if(typeof process$1>"u")return function(){return er.deprecate(Rr,Pr).apply(this,arguments)};var Br=!1;function Ur(){if(!Br){if(process$1.throwDeprecation)throw new Error(Pr);process$1.traceDeprecation?console.trace(Pr):console.error(Pr),Br=!0}return Rr.apply(this,arguments)}return Ur};var rr={},ir=/^$/;if(s.NODE_DEBUG){var sr=s.NODE_DEBUG;sr=sr.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ir=new RegExp("^"+sr+"$","i")}er.debuglog=function(Rr){if(Rr=Rr.toUpperCase(),!rr[Rr])if(ir.test(Rr)){var Pr=process$1.pid;rr[Rr]=function(){var Br=er.format.apply(er,arguments);console.error("%s %d: %s",Rr,Pr,Br)}}else rr[Rr]=function(){};return rr[Rr]};function or(Rr,Pr){var Br={seen:[],stylize:lr};return arguments.length>=3&&(Br.depth=arguments[2]),arguments.length>=4&&(Br.colors=arguments[3]),yr(Pr)?Br.showHidden=Pr:Pr&&er._extend(Br,Pr),Dr(Br.showHidden)&&(Br.showHidden=!1),Dr(Br.depth)&&(Br.depth=2),Dr(Br.colors)&&(Br.colors=!1),Dr(Br.customInspect)&&(Br.customInspect=!0),Br.colors&&(Br.stylize=ar),ur(Br,Rr,Br.depth)}er.inspect=or,or.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},or.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function ar(Rr,Pr){var Br=or.styles[Pr];return Br?"\x1B["+or.colors[Br][0]+"m"+Rr+"\x1B["+or.colors[Br][1]+"m":Rr}function lr(Rr,Pr){return Rr}function cr(Rr){var Pr={};return Rr.forEach(function(Br,Ur){Pr[Br]=!0}),Pr}function ur(Rr,Pr,Br){if(Rr.customInspect&&Pr&&Lr(Pr.inspect)&&Pr.inspect!==er.inspect&&!(Pr.constructor&&Pr.constructor.prototype===Pr)){var Ur=Pr.inspect(Br,Rr);return Mr(Ur)||(Ur=ur(Rr,Ur,Br)),Ur}var Jr=hr(Rr,Pr);if(Jr)return Jr;var qr=Object.keys(Pr),Zr=cr(qr);if(Rr.showHidden&&(qr=Object.getOwnPropertyNames(Pr)),Kr(Pr)&&(qr.indexOf("message")>=0||qr.indexOf("description")>=0))return dr(Pr);if(qr.length===0){if(Lr(Pr)){var oo=Pr.name?": "+Pr.name:"";return Rr.stylize("[Function"+oo+"]","special")}if(zr(Pr))return Rr.stylize(RegExp.prototype.toString.call(Pr),"regexp");if(Gr(Pr))return Rr.stylize(Date.prototype.toString.call(Pr),"date");if(Kr(Pr))return dr(Pr)}var eo="",uo=!1,vo=["{","}"];if(br(Pr)&&(uo=!0,vo=["[","]"]),Lr(Pr)){var go=Pr.name?": "+Pr.name:"";eo=" [Function"+go+"]"}if(zr(Pr)&&(eo=" "+RegExp.prototype.toString.call(Pr)),Gr(Pr)&&(eo=" "+Date.prototype.toUTCString.call(Pr)),Kr(Pr)&&(eo=" "+dr(Pr)),qr.length===0&&(!uo||Pr.length==0))return vo[0]+eo+vo[1];if(Br<0)return zr(Pr)?Rr.stylize(RegExp.prototype.toString.call(Pr),"regexp"):Rr.stylize("[Object]","special");Rr.seen.push(Pr);var xo;return uo?xo=pr(Rr,Pr,Br,Zr,qr):xo=qr.map(function(To){return mr(Rr,Pr,Br,Zr,To,uo)}),Rr.seen.pop(),xr(xo,eo,vo)}function hr(Rr,Pr){if(Dr(Pr))return Rr.stylize("undefined","undefined");if(Mr(Pr)){var Br="'"+JSON.stringify(Pr).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Rr.stylize(Br,"string")}if(kr(Pr))return Rr.stylize(""+Pr,"number");if(yr(Pr))return Rr.stylize(""+Pr,"boolean");if(gr(Pr))return Rr.stylize("null","null")}function dr(Rr){return"["+Error.prototype.toString.call(Rr)+"]"}function pr(Rr,Pr,Br,Ur,Jr){for(var qr=[],Zr=0,oo=Pr.length;Zr<oo;++Zr)jr(Pr,String(Zr))?qr.push(mr(Rr,Pr,Br,Ur,String(Zr),!0)):qr.push("");return Jr.forEach(function(eo){eo.match(/^\d+$/)||qr.push(mr(Rr,Pr,Br,Ur,eo,!0))}),qr}function mr(Rr,Pr,Br,Ur,Jr,qr){var Zr,oo,eo;if(eo=Object.getOwnPropertyDescriptor(Pr,Jr)||{value:Pr[Jr]},eo.get?eo.set?oo=Rr.stylize("[Getter/Setter]","special"):oo=Rr.stylize("[Getter]","special"):eo.set&&(oo=Rr.stylize("[Setter]","special")),jr(Ur,Jr)||(Zr="["+Jr+"]"),oo||(Rr.seen.indexOf(eo.value)<0?(gr(Br)?oo=ur(Rr,eo.value,null):oo=ur(Rr,eo.value,Br-1),oo.indexOf(`
`)>-1&&(qr?oo=oo.split(`
`).map(function(uo){return"  "+uo}).join(`
`).slice(2):oo=`
`+oo.split(`
`).map(function(uo){return"   "+uo}).join(`
`))):oo=Rr.stylize("[Circular]","special")),Dr(Zr)){if(qr&&Jr.match(/^\d+$/))return oo;Zr=JSON.stringify(""+Jr),Zr.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Zr=Zr.slice(1,-1),Zr=Rr.stylize(Zr,"name")):(Zr=Zr.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Zr=Rr.stylize(Zr,"string"))}return Zr+": "+oo}function xr(Rr,Pr,Br){var Ur=Rr.reduce(function(Jr,qr){return qr.indexOf(`
`)>=0,Jr+qr.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ur>60?Br[0]+(Pr===""?"":Pr+`
 `)+" "+Rr.join(`,
  `)+" "+Br[1]:Br[0]+Pr+" "+Rr.join(", ")+" "+Br[1]}er.types=types;function br(Rr){return Array.isArray(Rr)}er.isArray=br;function yr(Rr){return typeof Rr=="boolean"}er.isBoolean=yr;function gr(Rr){return Rr===null}er.isNull=gr;function Er(Rr){return Rr==null}er.isNullOrUndefined=Er;function kr(Rr){return typeof Rr=="number"}er.isNumber=kr;function Mr(Rr){return typeof Rr=="string"}er.isString=Mr;function Cr(Rr){return typeof Rr=="symbol"}er.isSymbol=Cr;function Dr(Rr){return Rr===void 0}er.isUndefined=Dr;function zr(Rr){return Wr(Rr)&&vr(Rr)==="[object RegExp]"}er.isRegExp=zr,er.types.isRegExp=zr;function Wr(Rr){return typeof Rr=="object"&&Rr!==null}er.isObject=Wr;function Gr(Rr){return Wr(Rr)&&vr(Rr)==="[object Date]"}er.isDate=Gr,er.types.isDate=Gr;function Kr(Rr){return Wr(Rr)&&(vr(Rr)==="[object Error]"||Rr instanceof Error)}er.isError=Kr,er.types.isNativeError=Kr;function Lr(Rr){return typeof Rr=="function"}er.isFunction=Lr;function fr(Rr){return Rr===null||typeof Rr=="boolean"||typeof Rr=="number"||typeof Rr=="string"||typeof Rr=="symbol"||typeof Rr>"u"}er.isPrimitive=fr,er.isBuffer=isBufferBrowser;function vr(Rr){return Object.prototype.toString.call(Rr)}function $r(Rr){return Rr<10?"0"+Rr.toString(10):Rr.toString(10)}var Tr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Ar(){var Rr=new Date,Pr=[$r(Rr.getHours()),$r(Rr.getMinutes()),$r(Rr.getSeconds())].join(":");return[Rr.getDate(),Tr[Rr.getMonth()],Pr].join(" ")}er.log=function(){console.log("%s - %s",Ar(),er.format.apply(er,arguments))},er.inherits=inherits_browserExports,er._extend=function(Rr,Pr){if(!Pr||!Wr(Pr))return Rr;for(var Br=Object.keys(Pr),Ur=Br.length;Ur--;)Rr[Br[Ur]]=Pr[Br[Ur]];return Rr};function jr(Rr,Pr){return Object.prototype.hasOwnProperty.call(Rr,Pr)}var Or=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;er.promisify=function(Pr){if(typeof Pr!="function")throw new TypeError('The "original" argument must be of type Function');if(Or&&Pr[Or]){var Br=Pr[Or];if(typeof Br!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Br,Or,{value:Br,enumerable:!1,writable:!1,configurable:!0}),Br}function Br(){for(var Ur,Jr,qr=new Promise(function(eo,uo){Ur=eo,Jr=uo}),Zr=[],oo=0;oo<arguments.length;oo++)Zr.push(arguments[oo]);Zr.push(function(eo,uo){eo?Jr(eo):Ur(uo)});try{Pr.apply(this,Zr)}catch(eo){Jr(eo)}return qr}return Object.setPrototypeOf(Br,Object.getPrototypeOf(Pr)),Or&&Object.defineProperty(Br,Or,{value:Br,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Br,tr(Pr))},er.promisify.custom=Or;function Nr(Rr,Pr){if(!Rr){var Br=new Error("Promise was rejected with a falsy value");Br.reason=Rr,Rr=Br}return Pr(Rr)}function wr(Rr){if(typeof Rr!="function")throw new TypeError('The "original" argument must be of type Function');function Pr(){for(var Br=[],Ur=0;Ur<arguments.length;Ur++)Br.push(arguments[Ur]);var Jr=Br.pop();if(typeof Jr!="function")throw new TypeError("The last argument must be of type Function");var qr=this,Zr=function(){return Jr.apply(qr,arguments)};Rr.apply(this,Br).then(function(oo){process$1.nextTick(Zr.bind(null,null,oo))},function(oo){process$1.nextTick(Nr.bind(null,oo,Zr))})}return Object.setPrototypeOf(Pr,Object.getPrototypeOf(Rr)),Object.defineProperties(Pr,tr(Rr)),Pr}er.callbackify=wr})(util);var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function er(yr){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gr){return typeof gr}:function(gr){return gr&&typeof Symbol=="function"&&gr.constructor===Symbol&&gr!==Symbol.prototype?"symbol":typeof gr},er(yr)}function s(yr,gr,Er){return Object.defineProperty(yr,"prototype",{writable:!1}),yr}function tr(yr,gr){if(!(yr instanceof gr))throw new TypeError("Cannot call a class as a function")}function nr(yr,gr){if(typeof gr!="function"&&gr!==null)throw new TypeError("Super expression must either be null or a function");yr.prototype=Object.create(gr&&gr.prototype,{constructor:{value:yr,writable:!0,configurable:!0}}),Object.defineProperty(yr,"prototype",{writable:!1}),gr&&rr(yr,gr)}function rr(yr,gr){return rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(kr,Mr){return kr.__proto__=Mr,kr},rr(yr,gr)}function ir(yr){var gr=ar();return function(){var kr=lr(yr),Mr;if(gr){var Cr=lr(this).constructor;Mr=Reflect.construct(kr,arguments,Cr)}else Mr=kr.apply(this,arguments);return sr(this,Mr)}}function sr(yr,gr){if(gr&&(er(gr)==="object"||typeof gr=="function"))return gr;if(gr!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(yr)}function or(yr){if(yr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yr}function ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lr(yr){return lr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Er){return Er.__proto__||Object.getPrototypeOf(Er)},lr(yr)}var cr={},ur,hr;function dr(yr,gr,Er){Er||(Er=Error);function kr(Cr,Dr,zr){return typeof gr=="string"?gr:gr(Cr,Dr,zr)}var Mr=function(Cr){nr(zr,Cr);var Dr=ir(zr);function zr(Wr,Gr,Kr){var Lr;return tr(this,zr),Lr=Dr.call(this,kr(Wr,Gr,Kr)),Lr.code=yr,Lr}return s(zr)}(Er);cr[yr]=Mr}function pr(yr,gr){if(Array.isArray(yr)){var Er=yr.length;return yr=yr.map(function(kr){return String(kr)}),Er>2?"one of ".concat(gr," ").concat(yr.slice(0,Er-1).join(", "),", or ")+yr[Er-1]:Er===2?"one of ".concat(gr," ").concat(yr[0]," or ").concat(yr[1]):"of ".concat(gr," ").concat(yr[0])}else return"of ".concat(gr," ").concat(String(yr))}function mr(yr,gr,Er){return yr.substr(0,gr.length)===gr}function xr(yr,gr,Er){return(Er===void 0||Er>yr.length)&&(Er=yr.length),yr.substring(Er-gr.length,Er)===gr}function br(yr,gr,Er){return typeof Er!="number"&&(Er=0),Er+gr.length>yr.length?!1:yr.indexOf(gr,Er)!==-1}return dr("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),dr("ERR_INVALID_ARG_TYPE",function(yr,gr,Er){ur===void 0&&(ur=requireAssert()),ur(typeof yr=="string","'name' must be a string");var kr;typeof gr=="string"&&mr(gr,"not ")?(kr="must not be",gr=gr.replace(/^not /,"")):kr="must be";var Mr;if(xr(yr," argument"))Mr="The ".concat(yr," ").concat(kr," ").concat(pr(gr,"type"));else{var Cr=br(yr,".")?"property":"argument";Mr='The "'.concat(yr,'" ').concat(Cr," ").concat(kr," ").concat(pr(gr,"type"))}return Mr+=". Received type ".concat(er(Er)),Mr},TypeError),dr("ERR_INVALID_ARG_VALUE",function(yr,gr){var Er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";hr===void 0&&(hr=util);var kr=hr.inspect(gr);return kr.length>128&&(kr="".concat(kr.slice(0,128),"...")),"The argument '".concat(yr,"' ").concat(Er,". Received ").concat(kr)},TypeError),dr("ERR_INVALID_RETURN_VALUE",function(yr,gr,Er){var kr;return Er&&Er.constructor&&Er.constructor.name?kr="instance of ".concat(Er.constructor.name):kr="type ".concat(er(Er)),"Expected ".concat(yr,' to be returned from the "').concat(gr,'"')+" function but got ".concat(kr,".")},TypeError),dr("ERR_MISSING_ARGS",function(){for(var yr=arguments.length,gr=new Array(yr),Er=0;Er<yr;Er++)gr[Er]=arguments[Er];ur===void 0&&(ur=requireAssert()),ur(gr.length>0,"At least one arg needs to be specified");var kr="The ",Mr=gr.length;switch(gr=gr.map(function(Cr){return'"'.concat(Cr,'"')}),Mr){case 1:kr+="".concat(gr[0]," argument");break;case 2:kr+="".concat(gr[0]," and ").concat(gr[1]," arguments");break;default:kr+=gr.slice(0,Mr-1).join(", "),kr+=", and ".concat(gr[Mr-1]," arguments");break}return"".concat(kr," must be specified")},TypeError),errors.codes=cr,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function er(jr,Or){var Nr=Object.keys(jr);if(Object.getOwnPropertySymbols){var wr=Object.getOwnPropertySymbols(jr);Or&&(wr=wr.filter(function(Rr){return Object.getOwnPropertyDescriptor(jr,Rr).enumerable})),Nr.push.apply(Nr,wr)}return Nr}function s(jr){for(var Or=1;Or<arguments.length;Or++){var Nr=arguments[Or]!=null?arguments[Or]:{};Or%2?er(Object(Nr),!0).forEach(function(wr){tr(jr,wr,Nr[wr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(jr,Object.getOwnPropertyDescriptors(Nr)):er(Object(Nr)).forEach(function(wr){Object.defineProperty(jr,wr,Object.getOwnPropertyDescriptor(Nr,wr))})}return jr}function tr(jr,Or,Nr){return Or=sr(Or),Or in jr?Object.defineProperty(jr,Or,{value:Nr,enumerable:!0,configurable:!0,writable:!0}):jr[Or]=Nr,jr}function nr(jr,Or){if(!(jr instanceof Or))throw new TypeError("Cannot call a class as a function")}function rr(jr,Or){for(var Nr=0;Nr<Or.length;Nr++){var wr=Or[Nr];wr.enumerable=wr.enumerable||!1,wr.configurable=!0,"value"in wr&&(wr.writable=!0),Object.defineProperty(jr,sr(wr.key),wr)}}function ir(jr,Or,Nr){return rr(jr.prototype,Or),Object.defineProperty(jr,"prototype",{writable:!1}),jr}function sr(jr){var Or=or(jr,"string");return yr(Or)==="symbol"?Or:String(Or)}function or(jr,Or){if(yr(jr)!=="object"||jr===null)return jr;var Nr=jr[Symbol.toPrimitive];if(Nr!==void 0){var wr=Nr.call(jr,Or);if(yr(wr)!=="object")return wr;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(jr)}function ar(jr,Or){if(typeof Or!="function"&&Or!==null)throw new TypeError("Super expression must either be null or a function");jr.prototype=Object.create(Or&&Or.prototype,{constructor:{value:jr,writable:!0,configurable:!0}}),Object.defineProperty(jr,"prototype",{writable:!1}),Or&&xr(jr,Or)}function lr(jr){var Or=pr();return function(){var wr=br(jr),Rr;if(Or){var Pr=br(this).constructor;Rr=Reflect.construct(wr,arguments,Pr)}else Rr=wr.apply(this,arguments);return cr(this,Rr)}}function cr(jr,Or){if(Or&&(yr(Or)==="object"||typeof Or=="function"))return Or;if(Or!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ur(jr)}function ur(jr){if(jr===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return jr}function hr(jr){var Or=typeof Map=="function"?new Map:void 0;return hr=function(wr){if(wr===null||!mr(wr))return wr;if(typeof wr!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Or<"u"){if(Or.has(wr))return Or.get(wr);Or.set(wr,Rr)}function Rr(){return dr(wr,arguments,br(this).constructor)}return Rr.prototype=Object.create(wr.prototype,{constructor:{value:Rr,enumerable:!1,writable:!0,configurable:!0}}),xr(Rr,wr)},hr(jr)}function dr(jr,Or,Nr){return pr()?dr=Reflect.construct.bind():dr=function(Rr,Pr,Br){var Ur=[null];Ur.push.apply(Ur,Pr);var Jr=Function.bind.apply(Rr,Ur),qr=new Jr;return Br&&xr(qr,Br.prototype),qr},dr.apply(null,arguments)}function pr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mr(jr){return Function.toString.call(jr).indexOf("[native code]")!==-1}function xr(jr,Or){return xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(wr,Rr){return wr.__proto__=Rr,wr},xr(jr,Or)}function br(jr){return br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Nr){return Nr.__proto__||Object.getPrototypeOf(Nr)},br(jr)}function yr(jr){"@babel/helpers - typeof";return yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Or){return typeof Or}:function(Or){return Or&&typeof Symbol=="function"&&Or.constructor===Symbol&&Or!==Symbol.prototype?"symbol":typeof Or},yr(jr)}var gr=util,Er=gr.inspect,kr=requireErrors(),Mr=kr.codes.ERR_INVALID_ARG_TYPE;function Cr(jr,Or,Nr){return(Nr===void 0||Nr>jr.length)&&(Nr=jr.length),jr.substring(Nr-Or.length,Nr)===Or}function Dr(jr,Or){if(Or=Math.floor(Or),jr.length==0||Or==0)return"";var Nr=jr.length*Or;for(Or=Math.floor(Math.log(Or)/Math.log(2));Or;)jr+=jr,Or--;return jr+=jr.substring(0,Nr-jr.length),jr}var zr="",Wr="",Gr="",Kr="",Lr={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},fr=10;function vr(jr){var Or=Object.keys(jr),Nr=Object.create(Object.getPrototypeOf(jr));return Or.forEach(function(wr){Nr[wr]=jr[wr]}),Object.defineProperty(Nr,"message",{value:jr.message}),Nr}function $r(jr){return Er(jr,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function Tr(jr,Or,Nr){var wr="",Rr="",Pr=0,Br="",Ur=!1,Jr=$r(jr),qr=Jr.split(`
`),Zr=$r(Or).split(`
`),oo=0,eo="";if(Nr==="strictEqual"&&yr(jr)==="object"&&yr(Or)==="object"&&jr!==null&&Or!==null&&(Nr="strictEqualObject"),qr.length===1&&Zr.length===1&&qr[0]!==Zr[0]){var uo=qr[0].length+Zr[0].length;if(uo<=fr){if((yr(jr)!=="object"||jr===null)&&(yr(Or)!=="object"||Or===null)&&(jr!==0||Or!==0))return"".concat(Lr[Nr],`

`)+"".concat(qr[0]," !== ").concat(Zr[0],`
`)}else if(Nr!=="strictEqualObject"){var vo=process$1.stderr&&process$1.stderr.isTTY?process$1.stderr.columns:80;if(uo<vo){for(;qr[0][oo]===Zr[0][oo];)oo++;oo>2&&(eo=`
  `.concat(Dr(" ",oo),"^"),oo=0)}}}for(var go=qr[qr.length-1],xo=Zr[Zr.length-1];go===xo&&(oo++<2?Br=`
  `.concat(go).concat(Br):wr=go,qr.pop(),Zr.pop(),!(qr.length===0||Zr.length===0));)go=qr[qr.length-1],xo=Zr[Zr.length-1];var To=Math.max(qr.length,Zr.length);if(To===0){var po=Jr.split(`
`);if(po.length>30)for(po[26]="".concat(zr,"...").concat(Kr);po.length>27;)po.pop();return"".concat(Lr.notIdentical,`

`).concat(po.join(`
`),`
`)}oo>3&&(Br=`
`.concat(zr,"...").concat(Kr).concat(Br),Ur=!0),wr!==""&&(Br=`
  `.concat(wr).concat(Br),wr="");var So=0,to=Lr[Nr]+`
`.concat(Wr,"+ actual").concat(Kr," ").concat(Gr,"- expected").concat(Kr),Ro=" ".concat(zr,"...").concat(Kr," Lines skipped");for(oo=0;oo<To;oo++){var $o=oo-Pr;if(qr.length<oo+1)$o>1&&oo>2&&($o>4?(Rr+=`
`.concat(zr,"...").concat(Kr),Ur=!0):$o>3&&(Rr+=`
  `.concat(Zr[oo-2]),So++),Rr+=`
  `.concat(Zr[oo-1]),So++),Pr=oo,wr+=`
`.concat(Gr,"-").concat(Kr," ").concat(Zr[oo]),So++;else if(Zr.length<oo+1)$o>1&&oo>2&&($o>4?(Rr+=`
`.concat(zr,"...").concat(Kr),Ur=!0):$o>3&&(Rr+=`
  `.concat(qr[oo-2]),So++),Rr+=`
  `.concat(qr[oo-1]),So++),Pr=oo,Rr+=`
`.concat(Wr,"+").concat(Kr," ").concat(qr[oo]),So++;else{var Vo=Zr[oo],Ao=qr[oo],Vr=Ao!==Vo&&(!Cr(Ao,",")||Ao.slice(0,-1)!==Vo);Vr&&Cr(Vo,",")&&Vo.slice(0,-1)===Ao&&(Vr=!1,Ao+=","),Vr?($o>1&&oo>2&&($o>4?(Rr+=`
`.concat(zr,"...").concat(Kr),Ur=!0):$o>3&&(Rr+=`
  `.concat(qr[oo-2]),So++),Rr+=`
  `.concat(qr[oo-1]),So++),Pr=oo,Rr+=`
`.concat(Wr,"+").concat(Kr," ").concat(Ao),wr+=`
`.concat(Gr,"-").concat(Kr," ").concat(Vo),So+=2):(Rr+=wr,wr="",($o===1||oo===0)&&(Rr+=`
  `.concat(Ao),So++))}if(So>20&&oo<To-2)return"".concat(to).concat(Ro,`
`).concat(Rr,`
`).concat(zr,"...").concat(Kr).concat(wr,`
`)+"".concat(zr,"...").concat(Kr)}return"".concat(to).concat(Ur?Ro:"",`
`).concat(Rr).concat(wr).concat(Br).concat(eo)}var Ar=function(jr,Or){ar(wr,jr);var Nr=lr(wr);function wr(Rr){var Pr;if(nr(this,wr),yr(Rr)!=="object"||Rr===null)throw new Mr("options","Object",Rr);var Br=Rr.message,Ur=Rr.operator,Jr=Rr.stackStartFn,qr=Rr.actual,Zr=Rr.expected,oo=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Br!=null)Pr=Nr.call(this,String(Br));else if(process$1.stderr&&process$1.stderr.isTTY&&(process$1.stderr&&process$1.stderr.getColorDepth&&process$1.stderr.getColorDepth()!==1?(zr="\x1B[34m",Wr="\x1B[32m",Kr="\x1B[39m",Gr="\x1B[31m"):(zr="",Wr="",Kr="",Gr="")),yr(qr)==="object"&&qr!==null&&yr(Zr)==="object"&&Zr!==null&&"stack"in qr&&qr instanceof Error&&"stack"in Zr&&Zr instanceof Error&&(qr=vr(qr),Zr=vr(Zr)),Ur==="deepStrictEqual"||Ur==="strictEqual")Pr=Nr.call(this,Tr(qr,Zr,Ur));else if(Ur==="notDeepStrictEqual"||Ur==="notStrictEqual"){var eo=Lr[Ur],uo=$r(qr).split(`
`);if(Ur==="notStrictEqual"&&yr(qr)==="object"&&qr!==null&&(eo=Lr.notStrictEqualObject),uo.length>30)for(uo[26]="".concat(zr,"...").concat(Kr);uo.length>27;)uo.pop();uo.length===1?Pr=Nr.call(this,"".concat(eo," ").concat(uo[0])):Pr=Nr.call(this,"".concat(eo,`

`).concat(uo.join(`
`),`
`))}else{var vo=$r(qr),go="",xo=Lr[Ur];Ur==="notDeepEqual"||Ur==="notEqual"?(vo="".concat(Lr[Ur],`

`).concat(vo),vo.length>1024&&(vo="".concat(vo.slice(0,1021),"..."))):(go="".concat($r(Zr)),vo.length>512&&(vo="".concat(vo.slice(0,509),"...")),go.length>512&&(go="".concat(go.slice(0,509),"...")),Ur==="deepEqual"||Ur==="equal"?vo="".concat(xo,`

`).concat(vo,`

should equal

`):go=" ".concat(Ur," ").concat(go)),Pr=Nr.call(this,"".concat(vo).concat(go))}return Error.stackTraceLimit=oo,Pr.generatedMessage=!Br,Object.defineProperty(ur(Pr),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),Pr.code="ERR_ASSERTION",Pr.actual=qr,Pr.expected=Zr,Pr.operator=Ur,Error.captureStackTrace&&Error.captureStackTrace(ur(Pr),Jr),Pr.stack,Pr.name="AssertionError",cr(Pr)}return ir(wr,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:Or,value:function(Pr,Br){return Er(this,s(s({},Br),{},{customInspect:!1,depth:0}))}}]),wr}(hr(Error),Er.custom);return assertion_error=Ar,assertion_error}var toStr=Object.prototype.toString,isArguments=function er(s){var tr=toStr.call(s),nr=tr==="[object Arguments]";return nr||(nr=tr!=="[object Array]"&&s!==null&&typeof s=="object"&&typeof s.length=="number"&&s.length>=0&&toStr.call(s.callee)==="[object Function]"),nr},implementation$5,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$5;hasRequiredImplementation$1=1;var er;if(!Object.keys){var s=Object.prototype.hasOwnProperty,tr=Object.prototype.toString,nr=isArguments,rr=Object.prototype.propertyIsEnumerable,ir=!rr.call({toString:null},"toString"),sr=rr.call(function(){},"prototype"),or=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ar=function(hr){var dr=hr.constructor;return dr&&dr.prototype===hr},lr={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},cr=function(){if(typeof window>"u")return!1;for(var hr in window)try{if(!lr["$"+hr]&&s.call(window,hr)&&window[hr]!==null&&typeof window[hr]=="object")try{ar(window[hr])}catch{return!0}}catch{return!0}return!1}(),ur=function(hr){if(typeof window>"u"||!cr)return ar(hr);try{return ar(hr)}catch{return!1}};er=function(dr){var pr=dr!==null&&typeof dr=="object",mr=tr.call(dr)==="[object Function]",xr=nr(dr),br=pr&&tr.call(dr)==="[object String]",yr=[];if(!pr&&!mr&&!xr)throw new TypeError("Object.keys called on a non-object");var gr=sr&&mr;if(br&&dr.length>0&&!s.call(dr,0))for(var Er=0;Er<dr.length;++Er)yr.push(String(Er));if(xr&&dr.length>0)for(var kr=0;kr<dr.length;++kr)yr.push(String(kr));else for(var Mr in dr)!(gr&&Mr==="prototype")&&s.call(dr,Mr)&&yr.push(String(Mr));if(ir)for(var Cr=ur(dr),Dr=0;Dr<or.length;++Dr)!(Cr&&or[Dr]==="constructor")&&s.call(dr,or[Dr])&&yr.push(or[Dr]);return yr}}return implementation$5=er,implementation$5}var slice=Array.prototype.slice,isArgs=isArguments,origKeys=Object.keys,keysShim=origKeys?function er(s){return origKeys(s)}:requireImplementation$1(),originalKeys=Object.keys;keysShim.shim=function er(){if(Object.keys){var s=function(){var tr=Object.keys(arguments);return tr&&tr.length===arguments.length}(1,2);s||(Object.keys=function(nr){return isArgs(nr)?originalKeys(slice.call(nr)):originalKeys(nr)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$1=keysShim,objectKeys=objectKeys$1,hasSymbols=shams$1(),callBound$1=callBound$4,$Object=esObjectAtoms,$push=callBound$1("Array.prototype.push"),$propIsEnumerable=callBound$1("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols?$Object.getOwnPropertySymbols:null,implementation$4=function er(s,tr){if(s==null)throw new TypeError("target must be an object");var nr=$Object(s);if(arguments.length===1)return nr;for(var rr=1;rr<arguments.length;++rr){var ir=$Object(arguments[rr]),sr=objectKeys(ir),or=hasSymbols&&($Object.getOwnPropertySymbols||originalGetSymbols);if(or)for(var ar=or(ir),lr=0;lr<ar.length;++lr){var cr=ar[lr];$propIsEnumerable(ir,cr)&&$push(sr,cr)}for(var ur=0;ur<sr.length;++ur){var hr=sr[ur];if($propIsEnumerable(ir,hr)){var dr=ir[hr];nr[hr]=dr}}}return nr},implementation$3=implementation$4,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var er="abcdefghijklmnopqrst",s=er.split(""),tr={},nr=0;nr<s.length;++nr)tr[s[nr]]=s[nr];var rr=Object.assign({},tr),ir="";for(var sr in rr)ir+=sr;return er!==ir},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var er=Object.preventExtensions({1:2});try{Object.assign(er,"xy")}catch{return er[1]==="y"}return!1},polyfill$2=function er(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$3:Object.assign},numberIsNaN=function(er){return er!==er},implementation$2=function er(s,tr){return s===0&&tr===0?1/s===1/tr:!!(s===tr||numberIsNaN(s)&&numberIsNaN(tr))},implementation$1=implementation$2,polyfill$1=function er(){return typeof Object.is=="function"?Object.is:implementation$1},GetIntrinsic=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic("String.prototype.indexOf")),callBound=function er(s,tr){var nr=GetIntrinsic(s,!!tr);return typeof nr=="function"&&$indexOf(s,".prototype.")>-1?callBind(nr):nr},defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var er=objectKeys$1,s=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",tr=Object.prototype.toString,nr=Array.prototype.concat,rr=defineDataProperty,ir=function(lr){return typeof lr=="function"&&tr.call(lr)==="[object Function]"},sr=hasPropertyDescriptors_1(),or=function(lr,cr,ur,hr){if(cr in lr){if(hr===!0){if(lr[cr]===ur)return}else if(!ir(hr)||!hr())return}sr?rr(lr,cr,ur,!0):rr(lr,cr,ur)},ar=function(lr,cr){var ur=arguments.length>2?arguments[2]:{},hr=er(cr);s&&(hr=nr.call(hr,Object.getOwnPropertySymbols(cr)));for(var dr=0;dr<hr.length;dr+=1)or(lr,hr[dr],cr[hr[dr]],ur[hr[dr]])};return ar.supportsDescriptors=!!sr,defineProperties_1=ar,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var er=polyfill$1,s=requireDefineProperties();return shim$1=function(){var nr=er();return s(Object,{is:nr},{is:function(){return Object.is!==nr}}),nr},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var er=requireDefineProperties(),s=callBindExports,tr=implementation$2,nr=polyfill$1,rr=requireShim$1(),ir=s(nr(),Object);return er(ir,{getPolyfill:nr,implementation:tr,shim:rr}),objectIs=ir,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(s){return s!==s}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var er=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:er},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var er=requireDefineProperties(),s=requirePolyfill();return shim=function(){var nr=s();return er(Number,{isNaN:nr},{isNaN:function(){return Number.isNaN!==nr}}),nr},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var er=callBindExports,s=requireDefineProperties(),tr=requireImplementation(),nr=requirePolyfill(),rr=requireShim(),ir=er(nr(),Number);return s(ir,{getPolyfill:nr,implementation:tr,shim:rr}),isNan=ir,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function er(Vr,Xr){return ir(Vr)||rr(Vr,Xr)||tr(Vr,Xr)||s()}function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tr(Vr,Xr){if(Vr){if(typeof Vr=="string")return nr(Vr,Xr);var co=Object.prototype.toString.call(Vr).slice(8,-1);if(co==="Object"&&Vr.constructor&&(co=Vr.constructor.name),co==="Map"||co==="Set")return Array.from(Vr);if(co==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(co))return nr(Vr,Xr)}}function nr(Vr,Xr){(Xr==null||Xr>Vr.length)&&(Xr=Vr.length);for(var co=0,ho=new Array(Xr);co<Xr;co++)ho[co]=Vr[co];return ho}function rr(Vr,Xr){var co=Vr==null?null:typeof Symbol<"u"&&Vr[Symbol.iterator]||Vr["@@iterator"];if(co!=null){var ho,fo,mo,Ir,_r=[],Sr=!0,Fr=!1;try{if(mo=(co=co.call(Vr)).next,Xr!==0)for(;!(Sr=(ho=mo.call(co)).done)&&(_r.push(ho.value),_r.length!==Xr);Sr=!0);}catch(Hr){Fr=!0,fo=Hr}finally{try{if(!Sr&&co.return!=null&&(Ir=co.return(),Object(Ir)!==Ir))return}finally{if(Fr)throw fo}}return _r}}function ir(Vr){if(Array.isArray(Vr))return Vr}function sr(Vr){"@babel/helpers - typeof";return sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xr){return typeof Xr}:function(Xr){return Xr&&typeof Symbol=="function"&&Xr.constructor===Symbol&&Xr!==Symbol.prototype?"symbol":typeof Xr},sr(Vr)}var or=/a/g.flags!==void 0,ar=function(Xr){var co=[];return Xr.forEach(function(ho){return co.push(ho)}),co},lr=function(Xr){var co=[];return Xr.forEach(function(ho,fo){return co.push([fo,ho])}),co},cr=Object.is?Object.is:requireObjectIs(),ur=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},hr=Number.isNaN?Number.isNaN:requireIsNan();function dr(Vr){return Vr.call.bind(Vr)}var pr=dr(Object.prototype.hasOwnProperty),mr=dr(Object.prototype.propertyIsEnumerable),xr=dr(Object.prototype.toString),br=util.types,yr=br.isAnyArrayBuffer,gr=br.isArrayBufferView,Er=br.isDate,kr=br.isMap,Mr=br.isRegExp,Cr=br.isSet,Dr=br.isNativeError,zr=br.isBoxedPrimitive,Wr=br.isNumberObject,Gr=br.isStringObject,Kr=br.isBooleanObject,Lr=br.isBigIntObject,fr=br.isSymbolObject,vr=br.isFloat32Array,$r=br.isFloat64Array;function Tr(Vr){if(Vr.length===0||Vr.length>10)return!0;for(var Xr=0;Xr<Vr.length;Xr++){var co=Vr.charCodeAt(Xr);if(co<48||co>57)return!0}return Vr.length===10&&Vr>=Math.pow(2,32)}function Ar(Vr){return Object.keys(Vr).filter(Tr).concat(ur(Vr).filter(Object.prototype.propertyIsEnumerable.bind(Vr)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function jr(Vr,Xr){if(Vr===Xr)return 0;for(var co=Vr.length,ho=Xr.length,fo=0,mo=Math.min(co,ho);fo<mo;++fo)if(Vr[fo]!==Xr[fo]){co=Vr[fo],ho=Xr[fo];break}return co<ho?-1:ho<co?1:0}var Or=!0,Nr=!1,wr=0,Rr=1,Pr=2,Br=3;function Ur(Vr,Xr){return or?Vr.source===Xr.source&&Vr.flags===Xr.flags:RegExp.prototype.toString.call(Vr)===RegExp.prototype.toString.call(Xr)}function Jr(Vr,Xr){if(Vr.byteLength!==Xr.byteLength)return!1;for(var co=0;co<Vr.byteLength;co++)if(Vr[co]!==Xr[co])return!1;return!0}function qr(Vr,Xr){return Vr.byteLength!==Xr.byteLength?!1:jr(new Uint8Array(Vr.buffer,Vr.byteOffset,Vr.byteLength),new Uint8Array(Xr.buffer,Xr.byteOffset,Xr.byteLength))===0}function Zr(Vr,Xr){return Vr.byteLength===Xr.byteLength&&jr(new Uint8Array(Vr),new Uint8Array(Xr))===0}function oo(Vr,Xr){return Wr(Vr)?Wr(Xr)&&cr(Number.prototype.valueOf.call(Vr),Number.prototype.valueOf.call(Xr)):Gr(Vr)?Gr(Xr)&&String.prototype.valueOf.call(Vr)===String.prototype.valueOf.call(Xr):Kr(Vr)?Kr(Xr)&&Boolean.prototype.valueOf.call(Vr)===Boolean.prototype.valueOf.call(Xr):Lr(Vr)?Lr(Xr)&&BigInt.prototype.valueOf.call(Vr)===BigInt.prototype.valueOf.call(Xr):fr(Xr)&&Symbol.prototype.valueOf.call(Vr)===Symbol.prototype.valueOf.call(Xr)}function eo(Vr,Xr,co,ho){if(Vr===Xr)return Vr!==0?!0:co?cr(Vr,Xr):!0;if(co){if(sr(Vr)!=="object")return typeof Vr=="number"&&hr(Vr)&&hr(Xr);if(sr(Xr)!=="object"||Vr===null||Xr===null||Object.getPrototypeOf(Vr)!==Object.getPrototypeOf(Xr))return!1}else{if(Vr===null||sr(Vr)!=="object")return Xr===null||sr(Xr)!=="object"?Vr==Xr:!1;if(Xr===null||sr(Xr)!=="object")return!1}var fo=xr(Vr),mo=xr(Xr);if(fo!==mo)return!1;if(Array.isArray(Vr)){if(Vr.length!==Xr.length)return!1;var Ir=Ar(Vr),_r=Ar(Xr);return Ir.length!==_r.length?!1:vo(Vr,Xr,co,ho,Rr,Ir)}if(fo==="[object Object]"&&(!kr(Vr)&&kr(Xr)||!Cr(Vr)&&Cr(Xr)))return!1;if(Er(Vr)){if(!Er(Xr)||Date.prototype.getTime.call(Vr)!==Date.prototype.getTime.call(Xr))return!1}else if(Mr(Vr)){if(!Mr(Xr)||!Ur(Vr,Xr))return!1}else if(Dr(Vr)||Vr instanceof Error){if(Vr.message!==Xr.message||Vr.name!==Xr.name)return!1}else if(gr(Vr)){if(!co&&(vr(Vr)||$r(Vr))){if(!Jr(Vr,Xr))return!1}else if(!qr(Vr,Xr))return!1;var Sr=Ar(Vr),Fr=Ar(Xr);return Sr.length!==Fr.length?!1:vo(Vr,Xr,co,ho,wr,Sr)}else{if(Cr(Vr))return!Cr(Xr)||Vr.size!==Xr.size?!1:vo(Vr,Xr,co,ho,Pr);if(kr(Vr))return!kr(Xr)||Vr.size!==Xr.size?!1:vo(Vr,Xr,co,ho,Br);if(yr(Vr)){if(!Zr(Vr,Xr))return!1}else if(zr(Vr)&&!oo(Vr,Xr))return!1}return vo(Vr,Xr,co,ho,wr)}function uo(Vr,Xr){return Xr.filter(function(co){return mr(Vr,co)})}function vo(Vr,Xr,co,ho,fo,mo){if(arguments.length===5){mo=Object.keys(Vr);var Ir=Object.keys(Xr);if(mo.length!==Ir.length)return!1}for(var _r=0;_r<mo.length;_r++)if(!pr(Xr,mo[_r]))return!1;if(co&&arguments.length===5){var Sr=ur(Vr);if(Sr.length!==0){var Fr=0;for(_r=0;_r<Sr.length;_r++){var Hr=Sr[_r];if(mr(Vr,Hr)){if(!mr(Xr,Hr))return!1;mo.push(Hr),Fr++}else if(mr(Xr,Hr))return!1}var Yr=ur(Xr);if(Sr.length!==Yr.length&&uo(Xr,Yr).length!==Fr)return!1}else{var Qr=ur(Xr);if(Qr.length!==0&&uo(Xr,Qr).length!==0)return!1}}if(mo.length===0&&(fo===wr||fo===Rr&&Vr.length===0||Vr.size===0))return!0;if(ho===void 0)ho={val1:new Map,val2:new Map,position:0};else{var Eo=ho.val1.get(Vr);if(Eo!==void 0){var yo=ho.val2.get(Xr);if(yo!==void 0)return Eo===yo}ho.position++}ho.val1.set(Vr,ho.position),ho.val2.set(Xr,ho.position);var bo=$o(Vr,Xr,co,mo,ho,fo);return ho.val1.delete(Vr),ho.val2.delete(Xr),bo}function go(Vr,Xr,co,ho){for(var fo=ar(Vr),mo=0;mo<fo.length;mo++){var Ir=fo[mo];if(eo(Xr,Ir,co,ho))return Vr.delete(Ir),!0}return!1}function xo(Vr){switch(sr(Vr)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Vr=+Vr;case"number":if(hr(Vr))return!1}return!0}function To(Vr,Xr,co){var ho=xo(co);return ho??(Xr.has(ho)&&!Vr.has(ho))}function po(Vr,Xr,co,ho,fo){var mo=xo(co);if(mo!=null)return mo;var Ir=Xr.get(mo);return Ir===void 0&&!Xr.has(mo)||!eo(ho,Ir,!1,fo)?!1:!Vr.has(mo)&&eo(ho,Ir,!1,fo)}function So(Vr,Xr,co,ho){for(var fo=null,mo=ar(Vr),Ir=0;Ir<mo.length;Ir++){var _r=mo[Ir];if(sr(_r)==="object"&&_r!==null)fo===null&&(fo=new Set),fo.add(_r);else if(!Xr.has(_r)){if(co||!To(Vr,Xr,_r))return!1;fo===null&&(fo=new Set),fo.add(_r)}}if(fo!==null){for(var Sr=ar(Xr),Fr=0;Fr<Sr.length;Fr++){var Hr=Sr[Fr];if(sr(Hr)==="object"&&Hr!==null){if(!go(fo,Hr,co,ho))return!1}else if(!co&&!Vr.has(Hr)&&!go(fo,Hr,co,ho))return!1}return fo.size===0}return!0}function to(Vr,Xr,co,ho,fo,mo){for(var Ir=ar(Vr),_r=0;_r<Ir.length;_r++){var Sr=Ir[_r];if(eo(co,Sr,fo,mo)&&eo(ho,Xr.get(Sr),fo,mo))return Vr.delete(Sr),!0}return!1}function Ro(Vr,Xr,co,ho){for(var fo=null,mo=lr(Vr),Ir=0;Ir<mo.length;Ir++){var _r=er(mo[Ir],2),Sr=_r[0],Fr=_r[1];if(sr(Sr)==="object"&&Sr!==null)fo===null&&(fo=new Set),fo.add(Sr);else{var Hr=Xr.get(Sr);if(Hr===void 0&&!Xr.has(Sr)||!eo(Fr,Hr,co,ho)){if(co||!po(Vr,Xr,Sr,Fr,ho))return!1;fo===null&&(fo=new Set),fo.add(Sr)}}}if(fo!==null){for(var Yr=lr(Xr),Qr=0;Qr<Yr.length;Qr++){var Eo=er(Yr[Qr],2),yo=Eo[0],bo=Eo[1];if(sr(yo)==="object"&&yo!==null){if(!to(fo,Vr,yo,bo,co,ho))return!1}else if(!co&&(!Vr.has(yo)||!eo(Vr.get(yo),bo,!1,ho))&&!to(fo,Vr,yo,bo,!1,ho))return!1}return fo.size===0}return!0}function $o(Vr,Xr,co,ho,fo,mo){var Ir=0;if(mo===Pr){if(!So(Vr,Xr,co,fo))return!1}else if(mo===Br){if(!Ro(Vr,Xr,co,fo))return!1}else if(mo===Rr)for(;Ir<Vr.length;Ir++)if(pr(Vr,Ir)){if(!pr(Xr,Ir)||!eo(Vr[Ir],Xr[Ir],co,fo))return!1}else{if(pr(Xr,Ir))return!1;for(var _r=Object.keys(Vr);Ir<_r.length;Ir++){var Sr=_r[Ir];if(!pr(Xr,Sr)||!eo(Vr[Sr],Xr[Sr],co,fo))return!1}return _r.length===Object.keys(Xr).length}for(Ir=0;Ir<ho.length;Ir++){var Fr=ho[Ir];if(!eo(Vr[Fr],Xr[Fr],co,fo))return!1}return!0}function Vo(Vr,Xr){return eo(Vr,Xr,Nr)}function Ao(Vr,Xr){return eo(Vr,Xr,Or)}return comparisons={isDeepEqual:Vo,isDeepStrictEqual:Ao},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function er(Pr){"@babel/helpers - typeof";return er=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Br){return typeof Br}:function(Br){return Br&&typeof Symbol=="function"&&Br.constructor===Symbol&&Br!==Symbol.prototype?"symbol":typeof Br},er(Pr)}function s(Pr,Br,Ur){return Object.defineProperty(Pr,"prototype",{writable:!1}),Pr}function tr(Pr,Br){if(!(Pr instanceof Br))throw new TypeError("Cannot call a class as a function")}var nr=requireErrors(),rr=nr.codes,ir=rr.ERR_AMBIGUOUS_ARGUMENT,sr=rr.ERR_INVALID_ARG_TYPE,or=rr.ERR_INVALID_ARG_VALUE,ar=rr.ERR_INVALID_RETURN_VALUE,lr=rr.ERR_MISSING_ARGS,cr=requireAssertion_error(),ur=util,hr=ur.inspect,dr=util.types,pr=dr.isPromise,mr=dr.isRegExp,xr=polyfill$2(),br=polyfill$1(),yr=callBound("RegExp.prototype.test"),gr,Er;function kr(){var Pr=requireComparisons();gr=Pr.isDeepEqual,Er=Pr.isDeepStrictEqual}var Mr=!1,Cr=assert$1.exports=Kr,Dr={};function zr(Pr){throw Pr.message instanceof Error?Pr.message:new cr(Pr)}function Wr(Pr,Br,Ur,Jr,qr){var Zr=arguments.length,oo;if(Zr===0)oo="Failed";else if(Zr===1)Ur=Pr,Pr=void 0;else{if(Mr===!1){Mr=!0;var eo=process$1.emitWarning?process$1.emitWarning:console.warn.bind(console);eo("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Zr===2&&(Jr="!=")}if(Ur instanceof Error)throw Ur;var uo={actual:Pr,expected:Br,operator:Jr===void 0?"fail":Jr,stackStartFn:qr||Wr};Ur!==void 0&&(uo.message=Ur);var vo=new cr(uo);throw oo&&(vo.message=oo,vo.generatedMessage=!0),vo}Cr.fail=Wr,Cr.AssertionError=cr;function Gr(Pr,Br,Ur,Jr){if(!Ur){var qr=!1;if(Br===0)qr=!0,Jr="No value argument passed to `assert.ok()`";else if(Jr instanceof Error)throw Jr;var Zr=new cr({actual:Ur,expected:!0,message:Jr,operator:"==",stackStartFn:Pr});throw Zr.generatedMessage=qr,Zr}}function Kr(){for(var Pr=arguments.length,Br=new Array(Pr),Ur=0;Ur<Pr;Ur++)Br[Ur]=arguments[Ur];Gr.apply(void 0,[Kr,Br.length].concat(Br))}Cr.ok=Kr,Cr.equal=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");Br!=Ur&&zr({actual:Br,expected:Ur,message:Jr,operator:"==",stackStartFn:Pr})},Cr.notEqual=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");Br==Ur&&zr({actual:Br,expected:Ur,message:Jr,operator:"!=",stackStartFn:Pr})},Cr.deepEqual=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");gr===void 0&&kr(),gr(Br,Ur)||zr({actual:Br,expected:Ur,message:Jr,operator:"deepEqual",stackStartFn:Pr})},Cr.notDeepEqual=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");gr===void 0&&kr(),gr(Br,Ur)&&zr({actual:Br,expected:Ur,message:Jr,operator:"notDeepEqual",stackStartFn:Pr})},Cr.deepStrictEqual=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");gr===void 0&&kr(),Er(Br,Ur)||zr({actual:Br,expected:Ur,message:Jr,operator:"deepStrictEqual",stackStartFn:Pr})},Cr.notDeepStrictEqual=Lr;function Lr(Pr,Br,Ur){if(arguments.length<2)throw new lr("actual","expected");gr===void 0&&kr(),Er(Pr,Br)&&zr({actual:Pr,expected:Br,message:Ur,operator:"notDeepStrictEqual",stackStartFn:Lr})}Cr.strictEqual=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");br(Br,Ur)||zr({actual:Br,expected:Ur,message:Jr,operator:"strictEqual",stackStartFn:Pr})},Cr.notStrictEqual=function Pr(Br,Ur,Jr){if(arguments.length<2)throw new lr("actual","expected");br(Br,Ur)&&zr({actual:Br,expected:Ur,message:Jr,operator:"notStrictEqual",stackStartFn:Pr})};var fr=s(function Pr(Br,Ur,Jr){var qr=this;tr(this,Pr),Ur.forEach(function(Zr){Zr in Br&&(Jr!==void 0&&typeof Jr[Zr]=="string"&&mr(Br[Zr])&&yr(Br[Zr],Jr[Zr])?qr[Zr]=Jr[Zr]:qr[Zr]=Br[Zr])})});function vr(Pr,Br,Ur,Jr,qr,Zr){if(!(Ur in Pr)||!Er(Pr[Ur],Br[Ur])){if(!Jr){var oo=new fr(Pr,qr),eo=new fr(Br,qr,Pr),uo=new cr({actual:oo,expected:eo,operator:"deepStrictEqual",stackStartFn:Zr});throw uo.actual=Pr,uo.expected=Br,uo.operator=Zr.name,uo}zr({actual:Pr,expected:Br,message:Jr,operator:Zr.name,stackStartFn:Zr})}}function $r(Pr,Br,Ur,Jr){if(typeof Br!="function"){if(mr(Br))return yr(Br,Pr);if(arguments.length===2)throw new sr("expected",["Function","RegExp"],Br);if(er(Pr)!=="object"||Pr===null){var qr=new cr({actual:Pr,expected:Br,message:Ur,operator:"deepStrictEqual",stackStartFn:Jr});throw qr.operator=Jr.name,qr}var Zr=Object.keys(Br);if(Br instanceof Error)Zr.push("name","message");else if(Zr.length===0)throw new or("error",Br,"may not be an empty object");return gr===void 0&&kr(),Zr.forEach(function(oo){typeof Pr[oo]=="string"&&mr(Br[oo])&&yr(Br[oo],Pr[oo])||vr(Pr,Br,oo,Ur,Zr,Jr)}),!0}return Br.prototype!==void 0&&Pr instanceof Br?!0:Error.isPrototypeOf(Br)?!1:Br.call({},Pr)===!0}function Tr(Pr){if(typeof Pr!="function")throw new sr("fn","Function",Pr);try{Pr()}catch(Br){return Br}return Dr}function Ar(Pr){return pr(Pr)||Pr!==null&&er(Pr)==="object"&&typeof Pr.then=="function"&&typeof Pr.catch=="function"}function jr(Pr){return Promise.resolve().then(function(){var Br;if(typeof Pr=="function"){if(Br=Pr(),!Ar(Br))throw new ar("instance of Promise","promiseFn",Br)}else if(Ar(Pr))Br=Pr;else throw new sr("promiseFn",["Function","Promise"],Pr);return Promise.resolve().then(function(){return Br}).then(function(){return Dr}).catch(function(Ur){return Ur})})}function Or(Pr,Br,Ur,Jr){if(typeof Ur=="string"){if(arguments.length===4)throw new sr("error",["Object","Error","Function","RegExp"],Ur);if(er(Br)==="object"&&Br!==null){if(Br.message===Ur)throw new ir("error/message",'The error message "'.concat(Br.message,'" is identical to the message.'))}else if(Br===Ur)throw new ir("error/message",'The error "'.concat(Br,'" is identical to the message.'));Jr=Ur,Ur=void 0}else if(Ur!=null&&er(Ur)!=="object"&&typeof Ur!="function")throw new sr("error",["Object","Error","Function","RegExp"],Ur);if(Br===Dr){var qr="";Ur&&Ur.name&&(qr+=" (".concat(Ur.name,")")),qr+=Jr?": ".concat(Jr):".";var Zr=Pr.name==="rejects"?"rejection":"exception";zr({actual:void 0,expected:Ur,operator:Pr.name,message:"Missing expected ".concat(Zr).concat(qr),stackStartFn:Pr})}if(Ur&&!$r(Br,Ur,Jr,Pr))throw Br}function Nr(Pr,Br,Ur,Jr){if(Br!==Dr){if(typeof Ur=="string"&&(Jr=Ur,Ur=void 0),!Ur||$r(Br,Ur)){var qr=Jr?": ".concat(Jr):".",Zr=Pr.name==="doesNotReject"?"rejection":"exception";zr({actual:Br,expected:Ur,operator:Pr.name,message:"Got unwanted ".concat(Zr).concat(qr,`
`)+'Actual message: "'.concat(Br&&Br.message,'"'),stackStartFn:Pr})}throw Br}}Cr.throws=function Pr(Br){for(var Ur=arguments.length,Jr=new Array(Ur>1?Ur-1:0),qr=1;qr<Ur;qr++)Jr[qr-1]=arguments[qr];Or.apply(void 0,[Pr,Tr(Br)].concat(Jr))},Cr.rejects=function Pr(Br){for(var Ur=arguments.length,Jr=new Array(Ur>1?Ur-1:0),qr=1;qr<Ur;qr++)Jr[qr-1]=arguments[qr];return jr(Br).then(function(Zr){return Or.apply(void 0,[Pr,Zr].concat(Jr))})},Cr.doesNotThrow=function Pr(Br){for(var Ur=arguments.length,Jr=new Array(Ur>1?Ur-1:0),qr=1;qr<Ur;qr++)Jr[qr-1]=arguments[qr];Nr.apply(void 0,[Pr,Tr(Br)].concat(Jr))},Cr.doesNotReject=function Pr(Br){for(var Ur=arguments.length,Jr=new Array(Ur>1?Ur-1:0),qr=1;qr<Ur;qr++)Jr[qr-1]=arguments[qr];return jr(Br).then(function(Zr){return Nr.apply(void 0,[Pr,Zr].concat(Jr))})},Cr.ifError=function Pr(Br){if(Br!=null){var Ur="ifError got unwanted exception: ";er(Br)==="object"&&typeof Br.message=="string"?Br.message.length===0&&Br.constructor?Ur+=Br.constructor.name:Ur+=Br.message:Ur+=hr(Br);var Jr=new cr({actual:Br,expected:null,operator:"ifError",message:Ur,stackStartFn:Pr}),qr=Br.stack;if(typeof qr=="string"){var Zr=qr.split(`
`);Zr.shift();for(var oo=Jr.stack.split(`
`),eo=0;eo<Zr.length;eo++){var uo=oo.indexOf(Zr[eo]);if(uo!==-1){oo=oo.slice(0,uo);break}}Jr.stack="".concat(oo.join(`
`),`
`).concat(Zr.join(`
`))}throw Jr}};function wr(Pr,Br,Ur,Jr,qr){if(!mr(Br))throw new sr("regexp","RegExp",Br);var Zr=qr==="match";if(typeof Pr!="string"||yr(Br,Pr)!==Zr){if(Ur instanceof Error)throw Ur;var oo=!Ur;Ur=Ur||(typeof Pr!="string"?'The "string" argument must be of type string. Received type '+"".concat(er(Pr)," (").concat(hr(Pr),")"):(Zr?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(hr(Br),`. Input:

`).concat(hr(Pr),`
`));var eo=new cr({actual:Pr,expected:Br,message:Ur,operator:qr,stackStartFn:Jr});throw eo.generatedMessage=oo,eo}}Cr.match=function Pr(Br,Ur,Jr){wr(Br,Ur,Jr,Pr,"match")},Cr.doesNotMatch=function Pr(Br,Ur,Jr){wr(Br,Ur,Jr,Pr,"doesNotMatch")};function Rr(){for(var Pr=arguments.length,Br=new Array(Pr),Ur=0;Ur<Pr;Ur++)Br[Ur]=arguments[Ur];Gr.apply(void 0,[Rr,Br.length].concat(Br))}return Cr.strict=xr(Rr,Cr,{equal:Cr.strictEqual,deepEqual:Cr.deepStrictEqual,notEqual:Cr.notStrictEqual,notDeepEqual:Cr.notDeepStrictEqual}),Cr.strict.strict=Cr.strict,assert$1.exports}var assertExports=requireAssert();function chunks(er,s){return Array.apply(0,new Array(Math.ceil(er.length/s))).map((tr,nr)=>er.slice(nr*s,(nr+1)*s))}function decode$2(er){return new TextDecoder("utf-8").decode(er)}function encode$2(er){return new TextEncoder().encode(er)}function encode$1(er){return bs58$1.encode(er)}function decode(er){return Buffer$1.from(toByteArray_1(er))}function parseIdlErrors(er){const s=new Map;return er.errors&&er.errors.forEach(tr=>{var nr;let rr=(nr=tr.msg)!==null&&nr!==void 0?nr:tr.name;s.set(tr.code,rr)}),s}function toInstruction(er,...s){if(er.args.length!=s.length)throw new Error("Invalid argument length");const tr={};let nr=0;return er.args.forEach(rr=>{tr[rr.name]=s[nr],nr+=1}),tr}function validateAccounts(er,s={}){er.forEach(tr=>{if("accounts"in tr)validateAccounts(tr.accounts,s[tr.name]);else if(s[tr.name]===void 0)throw new Error(`Invalid arguments: ${tr.name} not provided.`)})}function translateAddress(er){return er instanceof PublicKey?er:new PublicKey(er)}class StructError extends TypeError{constructor(s,tr){let nr;const{message:rr,...ir}=s,{path:sr}=s,or=sr.length===0?rr:"At path: "+sr.join(".")+" -- "+rr;super(or),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,ir),this.name=this.constructor.name,this.failures=()=>{var ar;return(ar=nr)!=null?ar:nr=[s,...tr()]}}}function isIterable(er){return isObject(er)&&typeof er[Symbol.iterator]=="function"}function isObject(er){return typeof er=="object"&&er!=null}function print(er){return typeof er=="string"?JSON.stringify(er):""+er}function shiftIterator(er){const{done:s,value:tr}=er.next();return s?void 0:tr}function toFailure(er,s,tr,nr){if(er===!0)return;er===!1?er={}:typeof er=="string"&&(er={message:er});const{path:rr,branch:ir}=s,{type:sr}=tr,{refinement:or,message:ar="Expected a value of type `"+sr+"`"+(or?" with refinement `"+or+"`":"")+", but received: `"+print(nr)+"`"}=er;return{value:nr,type:sr,refinement:or,key:rr[rr.length-1],path:rr,branch:ir,...er,message:ar}}function*toFailures(er,s,tr,nr){isIterable(er)||(er=[er]);for(const rr of er){const ir=toFailure(rr,s,tr,nr);ir&&(yield ir)}}function*run(er,s,tr){tr===void 0&&(tr={});const{path:nr=[],branch:rr=[er],coerce:ir=!1,mask:sr=!1}=tr,or={path:nr,branch:rr};if(ir&&(er=s.coercer(er,or),sr&&s.type!=="type"&&isObject(s.schema)&&isObject(er)&&!Array.isArray(er)))for(const lr in er)s.schema[lr]===void 0&&delete er[lr];let ar=!0;for(const lr of s.validator(er,or))ar=!1,yield[lr,void 0];for(let[lr,cr,ur]of s.entries(er,or)){const hr=run(cr,ur,{path:lr===void 0?nr:[...nr,lr],branch:lr===void 0?rr:[...rr,cr],coerce:ir,mask:sr});for(const dr of hr)dr[0]?(ar=!1,yield[dr[0],void 0]):ir&&(cr=dr[1],lr===void 0?er=cr:er instanceof Map?er.set(lr,cr):er instanceof Set?er.add(cr):isObject(er)&&(er[lr]=cr))}if(ar)for(const lr of s.refiner(er,or))ar=!1,yield[lr,void 0];ar&&(yield[void 0,er])}class Struct{constructor(s){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:tr,schema:nr,validator:rr,refiner:ir,coercer:sr=ar=>ar,entries:or=function*(){}}=s;this.type=tr,this.schema=nr,this.entries=or,this.coercer=sr,rr?this.validator=(ar,lr)=>{const cr=rr(ar,lr);return toFailures(cr,lr,this,ar)}:this.validator=()=>[],ir?this.refiner=(ar,lr)=>{const cr=ir(ar,lr);return toFailures(cr,lr,this,ar)}:this.refiner=()=>[]}assert(s){return assert(s,this)}create(s){return create(s,this)}is(s){return is$1(s,this)}mask(s){return mask(s,this)}validate(s,tr){return tr===void 0&&(tr={}),validate(s,this,tr)}}function assert(er,s){const tr=validate(er,s);if(tr[0])throw tr[0]}function create(er,s){const tr=validate(er,s,{coerce:!0});if(tr[0])throw tr[0];return tr[1]}function mask(er,s){const tr=validate(er,s,{coerce:!0,mask:!0});if(tr[0])throw tr[0];return tr[1]}function is$1(er,s){return!validate(er,s)[0]}function validate(er,s,tr){tr===void 0&&(tr={});const nr=run(er,s,tr),rr=shiftIterator(nr);return rr[0]?[new StructError(rr[0],function*(){for(const sr of nr)sr[0]&&(yield sr[0])}),void 0]:[void 0,rr[1]]}function define(er,s){return new Struct({type:er,schema:null,validator:s})}function any(){return define("any",()=>!0)}function array(er){return new Struct({type:"array",schema:er,*entries(s){if(er&&Array.isArray(s))for(const[tr,nr]of s.entries())yield[tr,nr,er]},coercer(s){return Array.isArray(s)?s.slice():s},validator(s){return Array.isArray(s)||"Expected an array value, but received: "+print(s)}})}function boolean(){return define("boolean",er=>typeof er=="boolean")}function literal(er){const s=print(er);return new Struct({type:"literal",schema:er,validator(tr){return tr===er||"Expected the literal `"+s+"`, but received: "+print(tr)}})}function nullable(er){return new Struct({...er,validator:(s,tr)=>s===null||er.validator(s,tr),refiner:(s,tr)=>s===null||er.refiner(s,tr)})}function number(){return define("number",er=>typeof er=="number"&&!isNaN(er)||"Expected a number, but received: "+print(er))}function optional(er){return new Struct({...er,validator:(s,tr)=>s===void 0||er.validator(s,tr),refiner:(s,tr)=>s===void 0||er.refiner(s,tr)})}function string(){return define("string",er=>typeof er=="string"||"Expected a string, but received: "+print(er))}function type(er){const s=Object.keys(er);return new Struct({type:"type",schema:er,*entries(tr){if(isObject(tr))for(const nr of s)yield[nr,tr[nr],er[nr]]},validator(tr){return isObject(tr)||"Expected an object, but received: "+print(tr)}})}function union$1(er){const s=er.map(tr=>tr.type).join(" | ");return new Struct({type:"union",schema:null,coercer(tr,nr){return(er.find(ir=>{const[sr]=ir.validate(tr,{coerce:!0});return!sr})||unknown()).coercer(tr,nr)},validator(tr,nr){const rr=[];for(const ir of er){const[...sr]=run(tr,ir,nr),[or]=sr;if(or[0])for(const[ar]of sr)ar&&rr.push(ar);else return[]}return["Expected the value to satisfy a union of `"+s+"`, but received: "+print(tr),...rr]}})}function unknown(){return define("unknown",()=>!0)}function coerce(er,s,tr){return new Struct({...er,coercer:(nr,rr)=>is$1(nr,s)?er.coercer(tr(nr,rr),rr):er.coercer(nr,rr)})}const GET_MULTIPLE_ACCOUNTS_LIMIT=99;async function getMultipleAccountsAndContext(er,s,tr){if(s.length<=GET_MULTIPLE_ACCOUNTS_LIMIT)return await getMultipleAccountsAndContextCore(er,s,tr);{const nr=chunks(s,GET_MULTIPLE_ACCOUNTS_LIMIT);return(await Promise.all(nr.map(ir=>getMultipleAccountsAndContextCore(er,ir,tr)))).flat()}}async function getMultipleAccountsAndContextCore(er,s,tr){const nr=tr??er.commitment,{value:rr,context:ir}=await er.getMultipleAccountsInfoAndContext(s,nr);return rr.map((or,ar)=>or===null?null:{publicKey:s[ar],account:or,context:ir})}async function simulateTransaction(er,s,tr,nr,rr){tr&&tr.length>0&&s.sign(...tr);const ir=s._compile(),sr=ir.serialize(),ar=s._serialize(sr).toString("base64"),lr={encoding:"base64",commitment:nr??er.commitment};if(rr){const dr=(Array.isArray(rr)?rr:ir.nonProgramIds()).map(pr=>pr.toBase58());lr.accounts={encoding:"base64",addresses:dr}}tr&&(lr.sigVerify=!0);const cr=[ar,lr],ur=await er._rpcRequest("simulateTransaction",cr),hr=create(ur,SimulatedTransactionResponseStruct);if("error"in hr){let dr;if("data"in hr.error&&(dr=hr.error.data.logs,dr&&Array.isArray(dr))){const pr=`
    `,mr=pr+dr.join(pr);console.error(hr.error.message,mr)}throw new SendTransactionError("failed to simulate transaction: "+hr.error.message,dr)}return hr.result}function jsonRpcResult(er){return coerce(createRpcResult(er),UnknownRpcResult,s=>"error"in s?s:{...s,result:create(s.result,er)})}const UnknownRpcResult=createRpcResult(unknown());function createRpcResult(er){return union$1([type({jsonrpc:literal("2.0"),id:string(),result:er}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}function jsonRpcResultAndContext(er){return jsonRpcResult(type({context:type({slot:number()}),value:er}))}const SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union$1([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number())}));class AnchorProvider{constructor(s,tr,nr){this.connection=s,this.wallet=tr,this.opts=nr,this.publicKey=tr==null?void 0:tr.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(s,tr){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(s,tr,nr){var rr;nr===void 0&&(nr=this.opts),s.feePayer=s.feePayer||this.wallet.publicKey,s.recentBlockhash=(await this.connection.getLatestBlockhash(nr.preflightCommitment)).blockhash,s=await this.wallet.signTransaction(s),(tr??[]).forEach(sr=>{s.partialSign(sr)});const ir=s.serialize();try{return await sendAndConfirmRawTransaction(this.connection,ir,nr)}catch(sr){if(sr instanceof ConfirmError){const or=await this.connection.getTransaction(encode$1(s.signature),{commitment:"confirmed"});if(or){const ar=(rr=or.meta)===null||rr===void 0?void 0:rr.logMessages;throw ar?new SendTransactionError(sr.message,ar):sr}else throw sr}else throw sr}}async sendAll(s,tr){var nr;tr===void 0&&(tr=this.opts);const rr=await this.connection.getLatestBlockhash(tr.preflightCommitment);let ir=s.map(ar=>{var lr;let cr=ar.tx,ur=(lr=ar.signers)!==null&&lr!==void 0?lr:[];return cr.feePayer=cr.feePayer||this.wallet.publicKey,cr.recentBlockhash=rr.blockhash,ur.forEach(hr=>{cr.partialSign(hr)}),cr});const sr=await this.wallet.signAllTransactions(ir),or=[];for(let ar=0;ar<ir.length;ar+=1){const lr=sr[ar],cr=lr.serialize();try{or.push(await sendAndConfirmRawTransaction(this.connection,cr,tr))}catch(ur){if(ur instanceof ConfirmError){const hr=await this.connection.getTransaction(encode$1(lr.signature),{commitment:"confirmed"});if(hr){const dr=(nr=hr.meta)===null||nr===void 0?void 0:nr.logMessages;throw dr?new SendTransactionError(ur.message,dr):ur}else throw ur}else throw ur}}return or}async simulate(s,tr,nr,rr){s.feePayer=s.feePayer||this.wallet.publicKey,s.recentBlockhash=(await this.connection.getLatestBlockhash(nr??this.connection.commitment)).blockhash,s=await this.wallet.signTransaction(s);const ir=await simulateTransaction(this.connection,s,tr,nr,rr);if(ir.value.err)throw new SimulateError(ir.value);return ir.value}}class SimulateError extends Error{constructor(s,tr){super(tr),this.simulationResponse=s}}async function sendAndConfirmRawTransaction(er,s,tr){const nr=tr&&{skipPreflight:tr.skipPreflight,preflightCommitment:tr.preflightCommitment||tr.commitment},rr=await er.sendRawTransaction(s,nr),ir=(await er.confirmTransaction(rr,tr&&tr.commitment)).value;if(ir.err)throw new ConfirmError(`Raw transaction ${rr} failed (${JSON.stringify(ir)})`);return rr}class ConfirmError extends Error{constructor(s){super(s)}}function getProvider(){return AnchorProvider.local()}const _FEATURES=new Map;function isSet(er){return _FEATURES.get(er)!==void 0}class IdlError extends Error{constructor(s){super(s),this.name="IdlError"}}class ProgramErrorStack{constructor(s){this.stack=s}static parse(s){var tr;const nr=/^Program (\w*) invoke/,rr=/^Program \w* success/,ir=[];for(let sr=0;sr<s.length;sr++){if(rr.exec(s[sr])){ir.pop();continue}const or=(tr=nr.exec(s[sr]))===null||tr===void 0?void 0:tr[1];or&&ir.push(new PublicKey(or))}return new ProgramErrorStack(ir)}}class AnchorError extends Error{constructor(s,tr,nr,rr,ir,sr){super(nr.join(`
`).replace("Program log: ","")),this.errorLogs=nr,this.logs=rr,this.error={errorCode:s,errorMessage:tr,comparedValues:sr,origin:ir},this._programErrorStack=ProgramErrorStack.parse(rr)}static parse(s){if(!s)return null;const tr=s.findIndex(hr=>hr.startsWith("Program log: AnchorError"));if(tr===-1)return null;const nr=s[tr],rr=[nr];let ir;if(tr+1<s.length){if(s[tr+1]==="Program log: Left:"){const hr=/^Program log: (.*)$/,dr=hr.exec(s[tr+2])[1],pr=hr.exec(s[tr+4])[1];ir=[new PublicKey(dr),new PublicKey(pr)],rr.push(...s.slice(tr+1,tr+5))}else if(s[tr+1].startsWith("Program log: Left:")){const hr=/^Program log: (Left|Right): (.*)$/,dr=hr.exec(s[tr+1])[2],pr=hr.exec(s[tr+2])[2];rr.push(...s.slice(tr+1,tr+3)),ir=[dr,pr]}}const or=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(nr),lr=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(nr),ur=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(nr);if(or){const[hr,dr,pr]=or.slice(1,4),mr={code:hr,number:parseInt(dr)};return new AnchorError(mr,pr,rr,s,void 0,ir)}else if(lr){const[hr,dr,pr,mr,xr]=lr.slice(1,6),br={code:pr,number:parseInt(mr)},yr={file:hr,line:parseInt(dr)};return new AnchorError(br,xr,rr,s,yr,ir)}else if(ur){const[hr,dr,pr,mr]=ur.slice(1,5),xr=hr,br={code:dr,number:parseInt(pr)};return new AnchorError(br,mr,rr,s,xr,ir)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(s,tr,nr){super(),this.code=s,this.msg=tr,this.logs=nr,nr&&(this._programErrorStack=ProgramErrorStack.parse(nr))}static parse(s,tr){const nr=s.toString();let rr;if(nr.includes("custom program error:")){let or=nr.split("custom program error: ");if(or.length!==2)return null;rr=or[1]}else{const or=nr.match(/"Custom":([0-9]+)}/g);if(!or||or.length>1)return null;rr=or[0].match(/([0-9]+)/g)[0]}let ir;try{ir=parseInt(rr)}catch{return null}let sr=tr.get(ir);return sr!==void 0?new ProgramError(ir,sr,s.logs):(sr=LangErrorMessage.get(ir),sr!==void 0?new ProgramError(ir,sr,s.logs):null)}get program(){var s;return(s=this._programErrorStack)===null||s===void 0?void 0:s.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var s;return(s=this._programErrorStack)===null||s===void 0?void 0:s.stack}toString(){return this.msg}}function translateError(er,s){isSet("debug-logs")&&console.log("Translating error:",er);const tr=AnchorError.parse(er.logs);if(tr)return tr;const nr=ProgramError.parse(er,s);if(nr)return nr;if(er.logs){const rr={get:function(ir,sr){return sr==="programErrorStack"?ir.programErrorStack.stack:sr==="program"?ir.programErrorStack.stack[er.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return er.programErrorStack=ProgramErrorStack.parse(er.logs),new Proxy(er,rr)}return er}const LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,ConstraintAccountIsNone:2020,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exemption constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"A state constraint was violated"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[LangErrorCode.ConstraintSpace,"A space constraint was violated"],[LangErrorCode.ConstraintAccountIsNone,"A required account for the constraint is None"],[LangErrorCode.RequireViolated,"A require expression was violated"],[LangErrorCode.RequireEqViolated,"A require_eq expression was violated"],[LangErrorCode.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[LangErrorCode.RequireNeqViolated,"A require_neq expression was violated"],[LangErrorCode.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[LangErrorCode.RequireGtViolated,"A require_gt expression was violated"],[LangErrorCode.RequireGteViolated,"A require_gte expression was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[LangErrorCode.AccountNotSigner,"The given account did not sign"],[LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[LangErrorCode.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[LangErrorCode.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[LangErrorCode.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[LangErrorCode.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[LangErrorCode.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);var __assign$1=function(){return __assign$1=Object.assign||function(s){for(var tr,nr=1,rr=arguments.length;nr<rr;nr++){tr=arguments[nr];for(var ir in tr)Object.prototype.hasOwnProperty.call(tr,ir)&&(s[ir]=tr[ir])}return s},__assign$1.apply(this,arguments)},__assign=function(){return __assign=Object.assign||function(s){for(var tr,nr=1,rr=arguments.length;nr<rr;nr++){tr=arguments[nr];for(var ir in tr)Object.prototype.hasOwnProperty.call(tr,ir)&&(s[ir]=tr[ir])}return s},__assign.apply(this,arguments)};function lowerCase(er){return er.toLowerCase()}var DEFAULT_SPLIT_REGEXP=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],DEFAULT_STRIP_REGEXP=/[^A-Z0-9]+/gi;function noCase(er,s){s===void 0&&(s={});for(var tr=s.splitRegexp,nr=tr===void 0?DEFAULT_SPLIT_REGEXP:tr,rr=s.stripRegexp,ir=rr===void 0?DEFAULT_STRIP_REGEXP:rr,sr=s.transform,or=sr===void 0?lowerCase:sr,ar=s.delimiter,lr=ar===void 0?" ":ar,cr=replace(replace(er,nr,"$1\0$2"),ir,"\0"),ur=0,hr=cr.length;cr.charAt(ur)==="\0";)ur++;for(;cr.charAt(hr-1)==="\0";)hr--;return cr.slice(ur,hr).split("\0").map(or).join(lr)}function replace(er,s,tr){return s instanceof RegExp?er.replace(s,tr):s.reduce(function(nr,rr){return nr.replace(rr,tr)},er)}function dotCase(er,s){return s===void 0&&(s={}),noCase(er,__assign({delimiter:"."},s))}function snakeCase(er,s){return s===void 0&&(s={}),dotCase(er,__assign$1({delimiter:"_"},s))}class IdlCoder{static fieldLayout(s,tr){const nr=s.name!==void 0?camelCase$1(s.name):void 0;switch(s.type){case"bool":return dist.bool(nr);case"u8":return dist.u8(nr);case"i8":return dist.i8(nr);case"u16":return dist.u16(nr);case"i16":return dist.i16(nr);case"u32":return dist.u32(nr);case"i32":return dist.i32(nr);case"f32":return dist.f32(nr);case"u64":return dist.u64(nr);case"i64":return dist.i64(nr);case"f64":return dist.f64(nr);case"u128":return dist.u128(nr);case"i128":return dist.i128(nr);case"u256":return dist.u256(nr);case"i256":return dist.i256(nr);case"bytes":return dist.vecU8(nr);case"string":return dist.str(nr);case"publicKey":return dist.publicKey(nr);default:{if("vec"in s.type)return dist.vec(IdlCoder.fieldLayout({name:void 0,type:s.type.vec},tr),nr);if("option"in s.type)return dist.option(IdlCoder.fieldLayout({name:void 0,type:s.type.option},tr),nr);if("defined"in s.type){const rr=s.type.defined;if(tr===void 0)throw new IdlError("User defined types not provided");const ir=tr.filter(sr=>sr.name===rr);if(ir.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(s)}`);return IdlCoder.typeDefLayout(ir[0],tr,nr)}else if("array"in s.type){let rr=s.type.array[0],ir=s.type.array[1],sr=IdlCoder.fieldLayout({name:void 0,type:rr},tr);return dist.array(sr,ir,nr)}else throw new Error(`Not yet implemented: ${s}`)}}}static typeDefLayout(s,tr=[],nr){if(s.type.kind==="struct"){const rr=s.type.fields.map(ir=>IdlCoder.fieldLayout(ir,tr));return dist.struct(rr,nr)}else if(s.type.kind==="enum"){let rr=s.type.variants.map(ir=>{const sr=camelCase$1(ir.name);if(ir.fields===void 0)return dist.struct([],sr);const or=ir.fields.map((ar,lr)=>ar.hasOwnProperty("name")?IdlCoder.fieldLayout(ar,tr):IdlCoder.fieldLayout({type:ar,name:lr.toString()},tr));return dist.struct(or,sr)});return nr!==void 0?dist.rustEnum(rr).replicate(nr):dist.rustEnum(rr,nr)}else throw new Error(`Unknown type kint: ${s}`)}}const SIGHASH_STATE_NAMESPACE="state",SIGHASH_GLOBAL_NAMESPACE="global";class BorshInstructionCoder{constructor(s){this.idl=s,this.ixLayout=BorshInstructionCoder.parseIxLayout(s);const tr=new Map;s.instructions.forEach(nr=>{const rr=sighash(SIGHASH_GLOBAL_NAMESPACE,nr.name);tr.set(bs58$1.encode(rr),{layout:this.ixLayout.get(nr.name),name:nr.name})}),s.state&&s.state.methods.map(nr=>{const rr=sighash(SIGHASH_STATE_NAMESPACE,nr.name);tr.set(bs58$1.encode(rr),{layout:this.ixLayout.get(nr.name),name:nr.name})}),this.sighashLayouts=tr}encode(s,tr){return this._encode(SIGHASH_GLOBAL_NAMESPACE,s,tr)}encodeState(s,tr){return this._encode(SIGHASH_STATE_NAMESPACE,s,tr)}_encode(s,tr,nr){const rr=Buffer$1.alloc(1e3),ir=camelCase$1(tr),sr=this.ixLayout.get(ir);if(!sr)throw new Error(`Unknown method: ${ir}`);const or=sr.encode(nr,rr),ar=rr.slice(0,or);return Buffer$1.concat([sighash(s,tr),ar])}static parseIxLayout(s){const nr=(s.state?s.state.methods:[]).map(rr=>{let ir=rr.args.map(or=>{var ar,lr;return IdlCoder.fieldLayout(or,Array.from([...(ar=s.accounts)!==null&&ar!==void 0?ar:[],...(lr=s.types)!==null&&lr!==void 0?lr:[]]))});const sr=camelCase$1(rr.name);return[sr,dist.struct(ir,sr)]}).concat(s.instructions.map(rr=>{let ir=rr.args.map(or=>{var ar,lr;return IdlCoder.fieldLayout(or,Array.from([...(ar=s.accounts)!==null&&ar!==void 0?ar:[],...(lr=s.types)!==null&&lr!==void 0?lr:[]]))});const sr=camelCase$1(rr.name);return[sr,dist.struct(ir,sr)]}));return new Map(nr)}decode(s,tr="hex"){typeof s=="string"&&(s=tr==="hex"?Buffer$1.from(s,"hex"):bs58$1.decode(s));let nr=bs58$1.encode(s.slice(0,8)),rr=s.slice(8);const ir=this.sighashLayouts.get(nr);return ir?{data:ir.layout.decode(rr),name:ir.name}:null}format(s,tr){return InstructionFormatter.format(s,tr,this.idl)}}class InstructionFormatter{static format(s,tr,nr){const rr=nr.instructions.filter(ar=>s.name===ar.name)[0];if(rr===void 0)return console.error("Invalid instruction given"),null;const ir=rr.args.map(ar=>({name:ar.name,type:InstructionFormatter.formatIdlType(ar.type),data:InstructionFormatter.formatIdlData(ar,s.data[ar.name],nr.types)})),sr=InstructionFormatter.flattenIdlAccounts(rr.accounts),or=tr.map((ar,lr)=>lr<sr.length?{name:sr[lr].name,...ar}:{name:void 0,...ar});return{args:ir,accounts:or}}static formatIdlType(s){if(typeof s=="string")return s;if("vec"in s)return`Vec<${this.formatIdlType(s.vec)}>`;if("option"in s)return`Option<${this.formatIdlType(s.option)}>`;if("defined"in s)return s.defined;if("array"in s)return`Array<${s.array[0]}; ${s.array[1]}>`;throw new Error(`Unknown IDL type: ${s}`)}static formatIdlData(s,tr,nr){if(typeof s.type=="string")return tr.toString();if(s.type.hasOwnProperty("vec"))return"["+tr.map(rr=>this.formatIdlData({name:"",type:s.type.vec},rr)).join(", ")+"]";if(s.type.hasOwnProperty("option"))return tr===null?"null":this.formatIdlData({name:"",type:s.type.option},tr,nr);if(s.type.hasOwnProperty("defined")){if(nr===void 0)throw new Error("User defined types not provided");const rr=nr.filter(ir=>ir.name===s.type.defined);if(rr.length!==1)throw new Error(`Type not found: ${s.type.defined}`);return InstructionFormatter.formatIdlDataDefined(rr[0],tr,nr)}return"unknown"}static formatIdlDataDefined(s,tr,nr){if(s.type.kind==="struct"){const rr=s.type;return"{ "+Object.keys(tr).map(sr=>{const or=rr.fields.filter(ar=>ar.name===sr)[0];if(or===void 0)throw new Error("Unable to find type");return sr+": "+InstructionFormatter.formatIdlData(or,tr[sr],nr)}).join(", ")+" }"}else{if(s.type.variants.length===0)return"{}";if(s.type.variants[0].name){const rr=s.type.variants,ir=Object.keys(tr)[0],sr=tr[ir],or=Object.keys(sr).map(lr=>{var cr;const ur=sr[lr],hr=(cr=rr[ir])===null||cr===void 0?void 0:cr.filter(dr=>dr.name===lr)[0];if(hr===void 0)throw new Error("Unable to find variant");return lr+": "+InstructionFormatter.formatIdlData(hr,ur,nr)}).join(", "),ar=camelCase$1(ir,{pascalCase:!0});return or.length===0?ar:`${ar} { ${or} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(s,tr){return s.map(nr=>{const rr=sentenceCase(nr.name);if(nr.hasOwnProperty("accounts")){const ir=tr?`${tr} > ${rr}`:rr;return InstructionFormatter.flattenIdlAccounts(nr.accounts,ir)}else return{...nr,name:tr?`${tr} > ${rr}`:rr}}).flat()}}function sentenceCase(er){const s=er.replace(/([A-Z])/g," $1");return s.charAt(0).toUpperCase()+s.slice(1)}function sighash(er,s){let tr=snakeCase(s),nr=`${er}:${tr}`;return Buffer$1.from(sha256Exports.sha256.digest(nr)).slice(0,8)}function accountSize(er,s){if(s.type.kind==="enum"){let tr=s.type.variants.map(nr=>nr.fields===void 0?0:nr.fields.map(rr=>{if(!(typeof rr=="object"&&"name"in rr))throw new Error("Tuple enum variants not yet implemented.");return typeSize(er,rr.type)}).reduce((rr,ir)=>rr+ir));return Math.max(...tr)+1}return s.type.fields===void 0?0:s.type.fields.map(tr=>typeSize(er,tr.type)).reduce((tr,nr)=>tr+nr,0)}function typeSize(er,s){var tr,nr;switch(s){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in s)return 1;if("option"in s)return 1+typeSize(er,s.option);if("coption"in s)return 4+typeSize(er,s.coption);if("defined"in s){const rr=(nr=(tr=er.types)===null||tr===void 0?void 0:tr.filter(sr=>sr.name===s.defined))!==null&&nr!==void 0?nr:[];if(rr.length!==1)throw new IdlError(`Type not found: ${JSON.stringify(s)}`);let ir=rr[0];return accountSize(er,ir)}if("array"in s){let rr=s.array[0],ir=s.array[1];return typeSize(er,rr)*ir}throw new Error(`Invalid type ${JSON.stringify(s)}`)}}const ACCOUNT_DISCRIMINATOR_SIZE=8;class BorshAccountsCoder{constructor(s){if(s.accounts===void 0){this.accountLayouts=new Map;return}const tr=s.accounts.map(nr=>[nr.name,IdlCoder.typeDefLayout(nr,s.types)]);this.accountLayouts=new Map(tr),this.idl=s}async encode(s,tr){const nr=Buffer$1.alloc(1e3),rr=this.accountLayouts.get(s);if(!rr)throw new Error(`Unknown account: ${s}`);const ir=rr.encode(tr,nr);let sr=nr.slice(0,ir),or=BorshAccountsCoder.accountDiscriminator(s);return Buffer$1.concat([or,sr])}decode(s,tr){if(BorshAccountsCoder.accountDiscriminator(s).compare(tr.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(s,tr)}decodeAny(s){const tr=s.slice(0,8),nr=Array.from(this.accountLayouts.keys()).find(rr=>BorshAccountsCoder.accountDiscriminator(rr).equals(tr));if(!nr)throw new Error("Account descriminator not found");return this.decodeUnchecked(nr,s)}decodeUnchecked(s,tr){const nr=tr.slice(ACCOUNT_DISCRIMINATOR_SIZE),rr=this.accountLayouts.get(s);if(!rr)throw new Error(`Unknown account: ${s}`);return rr.decode(nr)}memcmp(s,tr){const nr=BorshAccountsCoder.accountDiscriminator(s);return{offset:0,bytes:bs58$1.encode(tr?Buffer$1.concat([nr,tr]):nr)}}size(s){var tr;return ACCOUNT_DISCRIMINATOR_SIZE+((tr=accountSize(this.idl,s))!==null&&tr!==void 0?tr:0)}static accountDiscriminator(s){return Buffer$1.from(sha256Exports.sha256.digest(`account:${camelCase$1(s,{pascalCase:!0,preserveConsecutiveUppercase:!0})}`)).slice(0,ACCOUNT_DISCRIMINATOR_SIZE)}}class BorshEventCoder{constructor(s){if(s.events===void 0){this.layouts=new Map;return}const tr=s.events.map(nr=>{let rr={name:nr.name,type:{kind:"struct",fields:nr.fields.map(ir=>({name:ir.name,type:ir.type}))}};return[nr.name,IdlCoder.typeDefLayout(rr,s.types)]});this.layouts=new Map(tr),this.discriminators=new Map(s.events===void 0?[]:s.events.map(nr=>[fromByteArray_1(eventDiscriminator(nr.name)),nr.name]))}decode(s){let tr;try{tr=Buffer$1.from(toByteArray_1(s))}catch{return null}const nr=fromByteArray_1(tr.slice(0,8)),rr=this.discriminators.get(nr);if(rr===void 0)return null;const ir=this.layouts.get(rr);if(!ir)throw new Error(`Unknown event: ${rr}`);return{data:ir.decode(tr.slice(8)),name:rr}}}function eventDiscriminator(er){return Buffer$1.from(sha256Exports.sha256.digest(`event:${er}`)).slice(0,8)}class BorshStateCoder{constructor(s){if(s.state===void 0)throw new Error("Idl state not defined.");this.layout=IdlCoder.typeDefLayout(s.state.struct,s.types)}async encode(s,tr){const nr=Buffer$1.alloc(1e3),rr=this.layout.encode(tr,nr),ir=await stateDiscriminator(s),sr=nr.slice(0,rr);return Buffer$1.concat([ir,sr])}decode(s){const tr=s.slice(8);return this.layout.decode(tr)}}async function stateDiscriminator(er){let s=isSet("anchor-deprecated-state")?"account":"state";return Buffer$1.from(sha256Exports.sha256.digest(`${s}:${er}`)).slice(0,8)}class BorshTypesCoder{constructor(s){if(s.types===void 0){this.typeLayouts=new Map;return}const tr=s.types.map(nr=>[nr.name,IdlCoder.typeDefLayout(nr,s.types)]);this.typeLayouts=new Map(tr),this.idl=s}encode(s,tr){const nr=Buffer$1.alloc(1e3),rr=this.typeLayouts.get(s);if(!rr)throw new Error(`Unknown type: ${s}`);const ir=rr.encode(tr,nr);return nr.slice(0,ir)}decode(s,tr){const nr=this.typeLayouts.get(s);if(!nr)throw new Error(`Unknown type: ${s}`);return nr.decode(tr)}}class BorshCoder{constructor(s){this.instruction=new BorshInstructionCoder(s),this.accounts=new BorshAccountsCoder(s),this.events=new BorshEventCoder(s),s.state&&(this.state=new BorshStateCoder(s)),this.types=new BorshTypesCoder(s)}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global$1<"u"?global$1:typeof self<"u"?self:{};class Layout{constructor(s,tr){if(!Number.isInteger(s))throw new TypeError("span must be an integer");this.span=s,this.property=tr}makeDestinationObject(){return{}}decode(s,tr){throw new Error("Layout is abstract")}encode(s,tr,nr){throw new Error("Layout is abstract")}getSpan(s,tr){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(s){const tr=Object.create(this.constructor.prototype);return Object.assign(tr,this),tr.property=s,tr}fromArray(s){}}var Layout_2=Layout;function nameWithProperty(er,s){return s.property?er+"["+s.property+"]":er}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class OffsetLayout extends ExternalLayout{constructor(s,tr,nr){if(!(s instanceof Layout))throw new TypeError("layout must be a Layout");if(tr===void 0)tr=0;else if(!Number.isInteger(tr))throw new TypeError("offset must be integer or undefined");super(s.span,nr||s.property),this.layout=s,this.offset=tr}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(s,tr){return tr===void 0&&(tr=0),this.layout.decode(s,tr+this.offset)}encode(s,tr,nr){return nr===void 0&&(nr=0),this.layout.encode(s,tr,nr+this.offset)}}class UInt extends Layout{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr){return tr===void 0&&(tr=0),s.readUIntLE(tr,this.span)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeUIntLE(s,nr,this.span),this.span}}class UIntBE extends Layout{constructor(s,tr){if(super(s,tr),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,tr){return tr===void 0&&(tr=0),s.readUIntBE(tr,this.span)}encode(s,tr,nr){return nr===void 0&&(nr=0),tr.writeUIntBE(s,nr,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(er){const s=Math.floor(er/V2E32),tr=er-s*V2E32;return{hi32:s,lo32:tr}}function roundedInt64(er,s){return er*V2E32+s}class NearUInt64 extends Layout{constructor(s){super(8,s)}decode(s,tr){tr===void 0&&(tr=0);const nr=s.readUInt32LE(tr),rr=s.readUInt32LE(tr+4);return roundedInt64(rr,nr)}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=divmodInt64(s);return tr.writeUInt32LE(rr.lo32,nr),tr.writeUInt32LE(rr.hi32,nr+4),8}}class NearInt64 extends Layout{constructor(s){super(8,s)}decode(s,tr){tr===void 0&&(tr=0);const nr=s.readUInt32LE(tr),rr=s.readInt32LE(tr+4);return roundedInt64(rr,nr)}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=divmodInt64(s);return tr.writeUInt32LE(rr.lo32,nr),tr.writeInt32LE(rr.hi32,nr+4),8}}class Structure extends Layout{constructor(s,tr,nr){if(!(Array.isArray(s)&&s.reduce((ir,sr)=>ir&&sr instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof tr=="boolean"&&nr===void 0&&(nr=tr,tr=void 0);for(const ir of s)if(0>ir.span&&ir.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let rr=-1;try{rr=s.reduce((ir,sr)=>ir+sr.getSpan(),0)}catch{}super(rr,tr),this.fields=s,this.decodePrefixes=!!nr}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);let nr=0;try{nr=this.fields.reduce((rr,ir)=>{const sr=ir.getSpan(s,tr);return tr+=sr,rr+sr},0)}catch{throw new RangeError("indeterminate span")}return nr}decode(s,tr){tr===void 0&&(tr=0);const nr=this.makeDestinationObject();for(const rr of this.fields)if(rr.property!==void 0&&(nr[rr.property]=rr.decode(s,tr)),tr+=rr.getSpan(s,tr),this.decodePrefixes&&s.length===tr)break;return nr}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=nr;let ir=0,sr=0;for(const or of this.fields){let ar=or.span;if(sr=0<ar?ar:0,or.property!==void 0){const lr=s[or.property];lr!==void 0&&(sr=or.encode(lr,tr,nr),0>ar&&(ar=or.getSpan(tr,nr)))}ir=nr,nr+=ar}return ir+sr-rr}fromArray(s){const tr=this.makeDestinationObject();for(const nr of this.fields)nr.property!==void 0&&0<s.length&&(tr[nr.property]=s.shift());return tr}layoutFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const tr of this.fields)if(tr.property===s)return tr}offsetOf(s){if(typeof s!="string")throw new TypeError("property must be string");let tr=0;for(const nr of this.fields){if(nr.property===s)return tr;0>nr.span?tr=-1:0<=tr&&(tr+=nr.span)}}}class UnionDiscriminator{constructor(s){this.property=s}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(s,tr){if(!(s instanceof ExternalLayout&&s.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(tr||s.property||"variant"),this.layout=s}decode(s,tr){return this.layout.decode(s,tr)}encode(s,tr,nr){return this.layout.encode(s,tr,nr)}}class Union extends Layout{constructor(s,tr,nr){const rr=s instanceof UInt||s instanceof UIntBE;if(rr)s=new UnionLayoutDiscriminator(new OffsetLayout(s));else if(s instanceof ExternalLayout&&s.isCount())s=new UnionLayoutDiscriminator(s);else if(!(s instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(tr===void 0&&(tr=null),!(tr===null||tr instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(tr!==null){if(0>tr.span)throw new Error("defaultLayout must have constant span");tr.property===void 0&&(tr=tr.replicate("content"))}let ir=-1;tr&&(ir=tr.span,0<=ir&&rr&&(ir+=s.layout.span)),super(ir,nr),this.discriminator=s,this.usesPrefixDiscriminator=rr,this.defaultLayout=tr,this.registry={};let sr=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(or){return sr(or)},this.configGetSourceVariant=function(or){sr=or.bind(this)}}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);const nr=this.getVariant(s,tr);if(!nr)throw new Error("unable to determine span for unrecognized variant");return nr.getSpan(s,tr)}defaultGetSourceVariant(s){if(s.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&s.hasOwnProperty(this.defaultLayout.property))return;const tr=this.registry[s[this.discriminator.property]];if(tr&&(!tr.layout||s.hasOwnProperty(tr.property)))return tr}else for(const tr in this.registry){const nr=this.registry[tr];if(s.hasOwnProperty(nr.property))return nr}throw new Error("unable to infer src variant")}decode(s,tr){tr===void 0&&(tr=0);let nr;const rr=this.discriminator,ir=rr.decode(s,tr);let sr=this.registry[ir];if(sr===void 0){let or=0;sr=this.defaultLayout,this.usesPrefixDiscriminator&&(or=rr.layout.span),nr=this.makeDestinationObject(),nr[rr.property]=ir,nr[sr.property]=this.defaultLayout.decode(s,tr+or)}else nr=sr.decode(s,tr);return nr}encode(s,tr,nr){nr===void 0&&(nr=0);const rr=this.getSourceVariant(s);if(rr===void 0){const ir=this.discriminator,sr=this.defaultLayout;let or=0;return this.usesPrefixDiscriminator&&(or=ir.layout.span),ir.encode(s[ir.property],tr,nr),or+sr.encode(s[sr.property],tr,nr+or)}return rr.encode(s,tr,nr)}addVariant(s,tr,nr){const rr=new VariantLayout(this,s,tr,nr);return this.registry[s]=rr,rr}getVariant(s,tr){let nr=s;return Buffer.isBuffer(s)&&(tr===void 0&&(tr=0),nr=this.discriminator.decode(s,tr)),this.registry[nr]}}class VariantLayout extends Layout{constructor(s,tr,nr,rr){if(!(s instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(tr)||0>tr)throw new TypeError("variant must be a (non-negative) integer");if(typeof nr=="string"&&rr===void 0&&(rr=nr,nr=null),nr){if(!(nr instanceof Layout))throw new TypeError("layout must be a Layout");if(s.defaultLayout!==null&&0<=nr.span&&nr.span>s.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof rr!="string")throw new TypeError("variant must have a String property")}let ir=s.span;0>s.span&&(ir=nr?nr.span:0,0<=ir&&s.usesPrefixDiscriminator&&(ir+=s.discriminator.layout.span)),super(ir,rr),this.union=s,this.variant=tr,this.layout=nr||null}getSpan(s,tr){if(0<=this.span)return this.span;tr===void 0&&(tr=0);let nr=0;return this.union.usesPrefixDiscriminator&&(nr=this.union.discriminator.layout.span),nr+this.layout.getSpan(s,tr+nr)}decode(s,tr){const nr=this.makeDestinationObject();if(tr===void 0&&(tr=0),this!==this.union.getVariant(s,tr))throw new Error("variant mismatch");let rr=0;return this.union.usesPrefixDiscriminator&&(rr=this.union.discriminator.layout.span),this.layout?nr[this.property]=this.layout.decode(s,tr+rr):this.property?nr[this.property]=!0:this.union.usesPrefixDiscriminator&&(nr[this.union.discriminator.property]=this.variant),nr}encode(s,tr,nr){nr===void 0&&(nr=0);let rr=0;if(this.union.usesPrefixDiscriminator&&(rr=this.union.discriminator.layout.span),this.layout&&!s.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,tr,nr);let ir=rr;if(this.layout&&(this.layout.encode(s[this.property],tr,nr+rr),ir+=this.layout.getSpan(tr,nr+rr),0<=this.union.span&&ir>this.union.span))throw new Error("encoded variant overruns containing union");return ir}fromArray(s){if(this.layout)return this.layout.fromArray(s)}}class Blob$1 extends Layout{constructor(s,tr){if(!(s instanceof ExternalLayout&&s.isCount()||Number.isInteger(s)&&0<=s))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let nr=-1;s instanceof ExternalLayout||(nr=s),super(nr,tr),this.length=s}getSpan(s,tr){let nr=this.span;return 0>nr&&(nr=this.length.decode(s,tr)),nr}decode(s,tr){tr===void 0&&(tr=0);let nr=this.span;return 0>nr&&(nr=this.length.decode(s,tr)),s.slice(tr,tr+nr)}encode(s,tr,nr){let rr=this.length;if(this.length instanceof ExternalLayout&&(rr=s.length),!(Buffer.isBuffer(s)&&rr===s.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+rr+") Buffer as src");if(nr+rr>tr.length)throw new RangeError("encoding overruns Buffer");return tr.write(s.toString("hex"),nr,rr,"hex"),this.length instanceof ExternalLayout&&this.length.encode(rr,tr,nr),rr}}var offset=(er,s,tr)=>new OffsetLayout(er,s,tr),u8=er=>new UInt(1,er),u32=er=>new UInt(4,er),nu64=er=>new NearUInt64(er),ns64=er=>new NearInt64(er),struct=(er,s,tr)=>new Structure(er,s,tr),union=(er,s,tr)=>new Union(er,s,tr),blob=(er,s)=>new Blob$1(er,s);class RustStringLayout extends Layout_2{constructor(s){super(-1,s),this.property=s,this.layout=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],this.property)}encode(s,tr,nr=0){if(s==null)return this.layout.span;const rr={chars:Buffer.from(s,"utf8")};return this.layout.encode(rr,tr,nr)}decode(s,tr=0){return this.layout.decode(s,tr).chars.toString()}getSpan(s,tr=0){return u32().span+u32().span+new BN(new Uint8Array(s).slice(tr,tr+4),10,"le").toNumber()}}function rustStringLayout(er){return new RustStringLayout(er)}function publicKey$2(er){return blob(32,er)}const LAYOUT=union(u32("instruction"));LAYOUT.addVariant(0,struct([ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccount");LAYOUT.addVariant(1,struct([publicKey$2("owner")]),"assign");LAYOUT.addVariant(2,struct([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$2("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct([publicKey$2("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct([publicKey$2("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct([publicKey$2("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct([publicKey$2("base"),rustStringLayout("seed"),ns64("space"),publicKey$2("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct([publicKey$2("base"),rustStringLayout("seed"),publicKey$2("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct([ns64("lamports"),rustStringLayout("seed"),publicKey$2("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT.registry).map(er=>er.span));class WrappedLayout$1 extends Layout_2{constructor(s,tr,nr,rr){super(s.span,rr),this.layout=s,this.decoder=tr,this.encoder=nr}decode(s,tr){return this.decoder(this.layout.decode(s,tr))}encode(s,tr,nr){return this.layout.encode(this.encoder(s),tr,nr)}getSpan(s,tr){return this.layout.getSpan(s,tr)}}function publicKey$1(er){return new WrappedLayout$1(blob(32),s=>new PublicKey(s),s=>s.toBuffer(),er)}struct([u32("version"),u32("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct([nu64("lamportsPerSignature")],"feeCalculator")]);function createWithSeedSync(er,s,tr){const nr=Buffer$1.concat([er.toBuffer(),Buffer$1.from(s),tr.toBuffer()]),rr=sha256Exports.sha256.digest(nr);return new PublicKey(Buffer$1.from(rr))}function createProgramAddressSync(er,s){let nr=Buffer$1.alloc(0);er.forEach(function(sr){if(sr.length>32)throw new TypeError("Max seed length exceeded");nr=Buffer$1.concat([nr,toBuffer(sr)])}),nr=Buffer$1.concat([nr,s.toBuffer(),Buffer$1.from("ProgramDerivedAddress")]);let rr=sha256Exports.sha256(new Uint8Array(nr)),ir=new BN(rr,16).toArray(void 0,32);if(PublicKey.isOnCurve(new Uint8Array(ir)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(ir)}function findProgramAddressSync(er,s){let tr=255,nr;for(;tr!=0;){try{const rr=er.concat(Buffer$1.from([tr]));nr=createProgramAddressSync(rr,s)}catch(rr){if(rr instanceof TypeError)throw rr;tr--;continue}return[nr,tr]}throw new Error("Unable to find a viable program address nonce")}const toBuffer=er=>er instanceof Buffer$1?er:er instanceof Uint8Array?Buffer$1.from(er.buffer,er.byteOffset,er.byteLength):Buffer$1.from(er);async function associated(er,...s){let tr=[Buffer$1.from([97,110,99,104,111,114])];s.forEach(rr=>{tr.push(rr instanceof Buffer$1?rr:translateAddress(rr).toBuffer())});const[nr]=await PublicKey.findProgramAddress(tr,translateAddress(er));return nr}const TOKEN_PROGRAM_ID$1=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill={exports:{}};(function(er,s){var tr=typeof self<"u"?self:commonjsGlobal,nr=function(){function ir(){this.fetch=!1,this.DOMException=tr.DOMException}return ir.prototype=tr,new ir}();(function(ir){(function(sr){var or={searchParams:"URLSearchParams"in ir,iterable:"Symbol"in ir&&"iterator"in Symbol,blob:"FileReader"in ir&&"Blob"in ir&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in ir,arrayBuffer:"ArrayBuffer"in ir};function ar(fr){return fr&&DataView.prototype.isPrototypeOf(fr)}if(or.arrayBuffer)var lr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],cr=ArrayBuffer.isView||function(fr){return fr&&lr.indexOf(Object.prototype.toString.call(fr))>-1};function ur(fr){if(typeof fr!="string"&&(fr=String(fr)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(fr))throw new TypeError("Invalid character in header field name");return fr.toLowerCase()}function hr(fr){return typeof fr!="string"&&(fr=String(fr)),fr}function dr(fr){var vr={next:function(){var $r=fr.shift();return{done:$r===void 0,value:$r}}};return or.iterable&&(vr[Symbol.iterator]=function(){return vr}),vr}function pr(fr){this.map={},fr instanceof pr?fr.forEach(function(vr,$r){this.append($r,vr)},this):Array.isArray(fr)?fr.forEach(function(vr){this.append(vr[0],vr[1])},this):fr&&Object.getOwnPropertyNames(fr).forEach(function(vr){this.append(vr,fr[vr])},this)}pr.prototype.append=function(fr,vr){fr=ur(fr),vr=hr(vr);var $r=this.map[fr];this.map[fr]=$r?$r+", "+vr:vr},pr.prototype.delete=function(fr){delete this.map[ur(fr)]},pr.prototype.get=function(fr){return fr=ur(fr),this.has(fr)?this.map[fr]:null},pr.prototype.has=function(fr){return this.map.hasOwnProperty(ur(fr))},pr.prototype.set=function(fr,vr){this.map[ur(fr)]=hr(vr)},pr.prototype.forEach=function(fr,vr){for(var $r in this.map)this.map.hasOwnProperty($r)&&fr.call(vr,this.map[$r],$r,this)},pr.prototype.keys=function(){var fr=[];return this.forEach(function(vr,$r){fr.push($r)}),dr(fr)},pr.prototype.values=function(){var fr=[];return this.forEach(function(vr){fr.push(vr)}),dr(fr)},pr.prototype.entries=function(){var fr=[];return this.forEach(function(vr,$r){fr.push([$r,vr])}),dr(fr)},or.iterable&&(pr.prototype[Symbol.iterator]=pr.prototype.entries);function mr(fr){if(fr.bodyUsed)return Promise.reject(new TypeError("Already read"));fr.bodyUsed=!0}function xr(fr){return new Promise(function(vr,$r){fr.onload=function(){vr(fr.result)},fr.onerror=function(){$r(fr.error)}})}function br(fr){var vr=new FileReader,$r=xr(vr);return vr.readAsArrayBuffer(fr),$r}function yr(fr){var vr=new FileReader,$r=xr(vr);return vr.readAsText(fr),$r}function gr(fr){for(var vr=new Uint8Array(fr),$r=new Array(vr.length),Tr=0;Tr<vr.length;Tr++)$r[Tr]=String.fromCharCode(vr[Tr]);return $r.join("")}function Er(fr){if(fr.slice)return fr.slice(0);var vr=new Uint8Array(fr.byteLength);return vr.set(new Uint8Array(fr)),vr.buffer}function kr(){return this.bodyUsed=!1,this._initBody=function(fr){this._bodyInit=fr,fr?typeof fr=="string"?this._bodyText=fr:or.blob&&Blob.prototype.isPrototypeOf(fr)?this._bodyBlob=fr:or.formData&&FormData.prototype.isPrototypeOf(fr)?this._bodyFormData=fr:or.searchParams&&URLSearchParams.prototype.isPrototypeOf(fr)?this._bodyText=fr.toString():or.arrayBuffer&&or.blob&&ar(fr)?(this._bodyArrayBuffer=Er(fr.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):or.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(fr)||cr(fr))?this._bodyArrayBuffer=Er(fr):this._bodyText=fr=Object.prototype.toString.call(fr):this._bodyText="",this.headers.get("content-type")||(typeof fr=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):or.searchParams&&URLSearchParams.prototype.isPrototypeOf(fr)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},or.blob&&(this.blob=function(){var fr=mr(this);if(fr)return fr;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?mr(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(br)}),this.text=function(){var fr=mr(this);if(fr)return fr;if(this._bodyBlob)return yr(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(gr(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},or.formData&&(this.formData=function(){return this.text().then(zr)}),this.json=function(){return this.text().then(JSON.parse)},this}var Mr=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Cr(fr){var vr=fr.toUpperCase();return Mr.indexOf(vr)>-1?vr:fr}function Dr(fr,vr){vr=vr||{};var $r=vr.body;if(fr instanceof Dr){if(fr.bodyUsed)throw new TypeError("Already read");this.url=fr.url,this.credentials=fr.credentials,vr.headers||(this.headers=new pr(fr.headers)),this.method=fr.method,this.mode=fr.mode,this.signal=fr.signal,!$r&&fr._bodyInit!=null&&($r=fr._bodyInit,fr.bodyUsed=!0)}else this.url=String(fr);if(this.credentials=vr.credentials||this.credentials||"same-origin",(vr.headers||!this.headers)&&(this.headers=new pr(vr.headers)),this.method=Cr(vr.method||this.method||"GET"),this.mode=vr.mode||this.mode||null,this.signal=vr.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($r)}Dr.prototype.clone=function(){return new Dr(this,{body:this._bodyInit})};function zr(fr){var vr=new FormData;return fr.trim().split("&").forEach(function($r){if($r){var Tr=$r.split("="),Ar=Tr.shift().replace(/\+/g," "),jr=Tr.join("=").replace(/\+/g," ");vr.append(decodeURIComponent(Ar),decodeURIComponent(jr))}}),vr}function Wr(fr){var vr=new pr,$r=fr.replace(/\r?\n[\t ]+/g," ");return $r.split(/\r?\n/).forEach(function(Tr){var Ar=Tr.split(":"),jr=Ar.shift().trim();if(jr){var Or=Ar.join(":").trim();vr.append(jr,Or)}}),vr}kr.call(Dr.prototype);function Gr(fr,vr){vr||(vr={}),this.type="default",this.status=vr.status===void 0?200:vr.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in vr?vr.statusText:"OK",this.headers=new pr(vr.headers),this.url=vr.url||"",this._initBody(fr)}kr.call(Gr.prototype),Gr.prototype.clone=function(){return new Gr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new pr(this.headers),url:this.url})},Gr.error=function(){var fr=new Gr(null,{status:0,statusText:""});return fr.type="error",fr};var Kr=[301,302,303,307,308];Gr.redirect=function(fr,vr){if(Kr.indexOf(vr)===-1)throw new RangeError("Invalid status code");return new Gr(null,{status:vr,headers:{location:fr}})},sr.DOMException=ir.DOMException;try{new sr.DOMException}catch{sr.DOMException=function(vr,$r){this.message=vr,this.name=$r;var Tr=Error(vr);this.stack=Tr.stack},sr.DOMException.prototype=Object.create(Error.prototype),sr.DOMException.prototype.constructor=sr.DOMException}function Lr(fr,vr){return new Promise(function($r,Tr){var Ar=new Dr(fr,vr);if(Ar.signal&&Ar.signal.aborted)return Tr(new sr.DOMException("Aborted","AbortError"));var jr=new XMLHttpRequest;function Or(){jr.abort()}jr.onload=function(){var Nr={status:jr.status,statusText:jr.statusText,headers:Wr(jr.getAllResponseHeaders()||"")};Nr.url="responseURL"in jr?jr.responseURL:Nr.headers.get("X-Request-URL");var wr="response"in jr?jr.response:jr.responseText;$r(new Gr(wr,Nr))},jr.onerror=function(){Tr(new TypeError("Network request failed"))},jr.ontimeout=function(){Tr(new TypeError("Network request failed"))},jr.onabort=function(){Tr(new sr.DOMException("Aborted","AbortError"))},jr.open(Ar.method,Ar.url,!0),Ar.credentials==="include"?jr.withCredentials=!0:Ar.credentials==="omit"&&(jr.withCredentials=!1),"responseType"in jr&&or.blob&&(jr.responseType="blob"),Ar.headers.forEach(function(Nr,wr){jr.setRequestHeader(wr,Nr)}),Ar.signal&&(Ar.signal.addEventListener("abort",Or),jr.onreadystatechange=function(){jr.readyState===4&&Ar.signal.removeEventListener("abort",Or)}),jr.send(typeof Ar._bodyInit>"u"?null:Ar._bodyInit)})}return Lr.polyfill=!0,ir.fetch||(ir.fetch=Lr,ir.Headers=pr,ir.Request=Dr,ir.Response=Gr),sr.Headers=pr,sr.Request=Dr,sr.Response=Gr,sr.fetch=Lr,Object.defineProperty(sr,"__esModule",{value:!0}),sr})({})})(nr),nr.fetch.ponyfill=!0,delete nr.fetch.polyfill;var rr=nr;s=rr.fetch,s.default=rr.fetch,s.fetch=rr.fetch,s.Headers=rr.Headers,s.Request=rr.Request,s.Response=rr.Response,er.exports=s})(browserPonyfill,browserPonyfill.exports);dist.rustEnum([dist.struct([],"uninitialized"),dist.struct([dist.option(dist.publicKey(),"authorityAddress")],"buffer"),dist.struct([dist.publicKey("programdataAddress")],"program"),dist.struct([dist.u64("slot"),dist.option(dist.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,dist.u32());function isIdlAccounts(er){return"accounts"in er}async function idlAddress(er){const s=(await PublicKey.findProgramAddress([],er))[0];return await PublicKey.createWithSeed(s,seed(),er)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=dist.struct([dist.publicKey("authority"),dist.vecU8("data")]);function decodeIdlAccount(er){return IDL_ACCOUNT_LAYOUT.decode(er)}function splitArgsAndCtx(er,s){var tr,nr;let rr={};const ir=er.args?er.args.length:0;if(s.length>ir){if(s.length!==ir+1)throw new Error(`provided too many arguments ${s} to instruction ${er==null?void 0:er.name} expecting: ${(nr=(tr=er.args)===null||tr===void 0?void 0:tr.map(sr=>sr.name))!==null&&nr!==void 0?nr:[]}`);rr=s.pop()}return[s,rr]}class InstructionNamespaceFactory{static build(s,tr,nr){if(s.name==="_inner")throw new IdlError("the _inner name is reserved");const rr=(...ir)=>{const[sr,or]=splitArgsAndCtx(s,[...ir]);validateAccounts(s.accounts,or.accounts),validateInstruction(s,...ir);const ar=rr.accounts(or.accounts);return or.remainingAccounts!==void 0&&ar.push(...or.remainingAccounts),isSet("debug-logs")&&console.log("Outgoing account metas:",ar),new TransactionInstruction({keys:ar,programId:nr,data:tr(s.name,toInstruction(s,...sr))})};return rr.accounts=ir=>InstructionNamespaceFactory.accountsArray(ir,s.accounts,nr,s.name),rr}static accountsArray(s,tr,nr,rr){return s?tr.map(ir=>{if(("accounts"in ir?ir.accounts:void 0)!==void 0){const or=s[ir.name];return InstructionNamespaceFactory.accountsArray(or,ir.accounts,nr,rr).flat()}else{const or=ir;let ar;try{ar=translateAddress(s[ir.name])}catch{throw new Error(`Wrong input type for account "${ir.name}" in the instruction accounts object${rr!==void 0?' for instruction "'+rr+'"':""}. Expected PublicKey or string.`)}const lr=or.isOptional&&ar.equals(nr),cr=or.isMut&&!lr,ur=or.isSigner&&!lr;return{pubkey:ar,isWritable:cr,isSigner:ur}}}).flat():[]}}function validateInstruction(er,...s){}class RpcFactory{static build(s,tr,nr,rr){return async(...sr)=>{var or;const ar=tr(...sr),[,lr]=splitArgsAndCtx(s,[...sr]);if(rr.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await rr.sendAndConfirm(ar,(or=lr.signers)!==null&&or!==void 0?or:[],lr.options)}catch(cr){throw translateError(cr,nr)}}}}class TransactionFactory{static build(s,tr){return(...rr)=>{var ir,sr,or;const[,ar]=splitArgsAndCtx(s,[...rr]),lr=new Transaction;if(ar.preInstructions&&ar.instructions)throw new Error("instructions is deprecated, use preInstructions");return(ir=ar.preInstructions)===null||ir===void 0||ir.forEach(cr=>lr.add(cr)),(sr=ar.instructions)===null||sr===void 0||sr.forEach(cr=>lr.add(cr)),lr.add(tr(...rr)),(or=ar.postInstructions)===null||or===void 0||or.forEach(cr=>lr.add(cr)),lr}}}class StateFactory{static build(s,tr,nr,rr){if(s.state!==void 0)return new StateClient(s,nr,rr,tr)}}class StateClient{get programId(){return this._programId}constructor(s,tr,nr=getProvider(),rr=new BorshCoder(s)){this.provider=nr,this.coder=rr,this._idl=s,this._programId=tr,this._address=programStateAddress(tr),this._sub=null;const[ir,sr,or]=(()=>{var ar;let lr={},cr={},ur={};return(ar=s.state)===null||ar===void 0||ar.methods.forEach(hr=>{const dr=InstructionNamespaceFactory.build(hr,(br,yr)=>rr.instruction.encodeState(br,yr),tr);dr.accounts=br=>stateInstructionKeys(tr,nr,hr,br).concat(InstructionNamespaceFactory.accountsArray(br,hr.accounts,tr,hr.name));const pr=TransactionFactory.build(hr,dr),mr=RpcFactory.build(hr,pr,parseIdlErrors(s),nr),xr=camelCase$1(hr.name);lr[xr]=dr,cr[xr]=pr,ur[xr]=mr}),[lr,cr,ur]})();this.instruction=ir,this.transaction=sr,this.rpc=or}async fetch(){const s=this.address(),tr=await this.provider.connection.getAccountInfo(s);if(tr===null)throw new Error(`Account does not exist ${s.toString()}`);const nr=this._idl.state;if(!nr)throw new Error("State is not specified in IDL.");if((await stateDiscriminator(nr.struct.name)).compare(tr.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(tr.data)}address(){return this._address}subscribe(s){if(this._sub!==null)return this._sub.ee;const tr=new EventEmitter,nr=this.provider.connection.onAccountChange(this.address(),rr=>{const ir=this.coder.state.decode(rr.data);tr.emit("change",ir)},s);return this._sub={ee:tr,listener:nr},tr}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function programStateAddress(er){let[s]=findProgramAddressSync([],er);return createWithSeedSync(s,"unversioned",er)}function stateInstructionKeys(er,s,tr,nr){if(tr.name==="new"){const[rr]=findProgramAddressSync([],er);if(s.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:s.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:programStateAddress(er),isWritable:!0,isSigner:!1},{pubkey:rr,isWritable:!1,isSigner:!1},{pubkey:SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:er,isWritable:!1,isSigner:!1}]}else return validateAccounts(tr.accounts,nr),[{pubkey:programStateAddress(er),isWritable:!0,isSigner:!1}]}class AccountFactory{static build(s,tr,nr,rr){var ir;const sr={};return(ir=s.accounts)===null||ir===void 0||ir.forEach(or=>{const ar=camelCase$1(or.name);sr[ar]=new AccountClient(s,or,nr,rr,tr)}),sr}}class AccountClient{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(s,tr,nr,rr,ir){this._idlAccount=tr,this._programId=nr,this._provider=rr??getProvider(),this._coder=ir??new BorshCoder(s),this._size=this._coder.accounts.size(tr)}async fetchNullable(s,tr){const{data:nr}=await this.fetchNullableAndContext(s,tr);return nr}async fetchNullableAndContext(s,tr){const nr=await this.getAccountInfoAndContext(s,tr),{value:rr,context:ir}=nr;return{data:rr&&rr.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,rr.data):null,context:ir}}async fetch(s,tr){const{data:nr}=await this.fetchNullableAndContext(s,tr);if(nr===null)throw new Error(`Account does not exist or has no data ${s.toString()}`);return nr}async fetchAndContext(s,tr){const{data:nr,context:rr}=await this.fetchNullableAndContext(s,tr);if(nr===null)throw new Error(`Account does not exist ${s.toString()}`);return{data:nr,context:rr}}async fetchMultiple(s,tr){return(await this.fetchMultipleAndContext(s,tr)).map(rr=>rr?rr.data:null)}async fetchMultipleAndContext(s,tr){return(await getMultipleAccountsAndContext(this._provider.connection,s.map(rr=>translateAddress(rr)),tr)).map(rr=>{if(rr==null)return null;const{account:ir,context:sr}=rr;return{data:this._coder.accounts.decode(this._idlAccount.name,ir.data),context:sr}})}async all(s){const tr=this.coder.accounts.memcmp(this._idlAccount.name,s instanceof Buffer?s:void 0),nr=[];return(tr==null?void 0:tr.offset)!=null&&(tr==null?void 0:tr.bytes)!=null&&nr.push({memcmp:{offset:tr.offset,bytes:tr.bytes}}),(tr==null?void 0:tr.dataSize)!=null&&nr.push({dataSize:tr.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...nr,...Array.isArray(s)?s:[]]})).map(({pubkey:ir,account:sr})=>({publicKey:ir,account:this._coder.accounts.decode(this._idlAccount.name,sr.data)}))}subscribe(s,tr){const nr=subscriptions.get(s.toString());if(nr)return nr.ee;const rr=new EventEmitter;s=translateAddress(s);const ir=this._provider.connection.onAccountChange(s,sr=>{const or=this._coder.accounts.decode(this._idlAccount.name,sr.data);rr.emit("change",or)},tr);return subscriptions.set(s.toString(),{ee:rr,listener:ir}),rr}async unsubscribe(s){let tr=subscriptions.get(s.toString());if(!tr){console.warn("Address is not subscribed");return}subscriptions&&await this._provider.connection.removeAccountChangeListener(tr.listener).then(()=>{subscriptions.delete(s.toString())}).catch(console.error)}async createInstruction(s,tr){const nr=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return SystemProgram.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:s.publicKey,space:tr??nr,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(tr??nr),programId:this._programId})}async associated(...s){const tr=await this.associatedAddress(...s);return await this.fetch(tr)}async associatedAddress(...s){return await associated(this._programId,...s)}async getAccountInfo(s,tr){return await this._provider.connection.getAccountInfo(translateAddress(s),tr)}async getAccountInfoAndContext(s,tr){return await this._provider.connection.getAccountInfoAndContext(translateAddress(s),tr)}}const subscriptions=new Map,PROGRAM_LOG="Program log: ",PROGRAM_DATA="Program data: ",PROGRAM_LOG_START_INDEX=PROGRAM_LOG.length,PROGRAM_DATA_START_INDEX=PROGRAM_DATA.length;class EventManager{constructor(s,tr,nr){this._programId=s,this._provider=tr,this._eventParser=new EventParser(s,nr),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(s,tr){var nr;let rr=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(s)||this._eventListeners.set(s,[]),this._eventListeners.set(s,((nr=this._eventListeners.get(s))!==null&&nr!==void 0?nr:[]).concat(rr)),this._eventCallbacks.set(rr,[s,tr]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(ir,sr)=>{if(!ir.err)for(const or of this._eventParser.parseLogs(ir.logs)){const ar=this._eventListeners.get(or.name);ar&&ar.forEach(lr=>{const cr=this._eventCallbacks.get(lr);if(cr){const[,ur]=cr;ur(or.data,sr.slot,ir.signature)}})}})),rr}async removeEventListener(s){const tr=this._eventCallbacks.get(s);if(!tr)throw new Error(`Event listener ${s} doesn't exist!`);const[nr]=tr;let rr=this._eventListeners.get(nr);if(!rr)throw new Error(`Event listeners don't exist for ${nr}!`);this._eventCallbacks.delete(s),rr=rr.filter(ir=>ir!==s),this._eventListeners.set(nr,rr),rr.length===0&&this._eventListeners.delete(nr),this._eventCallbacks.size==0&&(assertExports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class EventParser{constructor(s,tr){this.coder=tr,this.programId=s}*parseLogs(s,tr=!1){const nr=new LogScanner(s),rr=new ExecutionContext;let ir=nr.next();for(;ir!==null;){let[sr,or,ar]=this.handleLog(rr,ir,tr);sr&&(yield sr),or&&rr.push(or),ar&&rr.pop(),ir=nr.next()}}handleLog(s,tr,nr){return s.stack.length>0&&s.program()===this.programId.toString()?this.handleProgramLog(tr,nr):[null,...this.handleSystemLog(tr)]}handleProgramLog(s,tr){if(s.startsWith(PROGRAM_LOG)||s.startsWith(PROGRAM_DATA)){const nr=s.startsWith(PROGRAM_LOG)?s.slice(PROGRAM_LOG_START_INDEX):s.slice(PROGRAM_DATA_START_INDEX),rr=this.coder.events.decode(nr);if(tr&&rr===null)throw new Error(`Unable to decode event ${nr}`);return[rr,null,!1]}else return[null,...this.handleSystemLog(s)]}handleSystemLog(s){const tr=s.split(":")[0];return tr.match(/^Program (.*) success/g)!==null?[null,!0]:tr.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:tr.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){return assertExports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(s){this.stack.push(s)}pop(){assertExports.ok(this.stack.length>0),this.stack.pop()}}class LogScanner{constructor(s){this.logs=s}next(){if(this.logs.length===0)return null;let s=this.logs[0];return this.logs=this.logs.slice(1),s}}class SimulateFactory{static build(s,tr,nr,rr,ir,sr,or){return async(...lr)=>{var cr;const ur=tr(...lr),[,hr]=splitArgsAndCtx(s,[...lr]);let dr;if(rr.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{dr=await rr.simulate(ur,hr.signers,(cr=hr.options)===null||cr===void 0?void 0:cr.commitment)}catch(xr){throw translateError(xr,nr)}if(dr===void 0)throw new Error("Unable to simulate transaction");const pr=dr.logs;if(!pr)throw new Error("Simulated logs not found");const mr=[];if(or.events){let xr=new EventParser(sr,ir);for(const br of xr.parseLogs(pr))mr.push(br)}return{events:mr,raw:pr}}}}function uint64(er){return new WrappedLayout(blob(8),s=>u64$1.fromBuffer(s),s=>s.toBuffer(),er)}function publicKey$3(er){return new WrappedLayout(blob(32),s=>new PublicKey(s),s=>s.toBuffer(),er)}function coption(er,s){return new COptionLayout(er,s)}class WrappedLayout extends Layout_2{constructor(s,tr,nr,rr){super(s.span,rr),this.layout=s,this.decoder=tr,this.encoder=nr}decode(s,tr){return this.decoder(this.layout.decode(s,tr))}encode(s,tr,nr){return this.layout.encode(this.encoder(s),tr,nr)}getSpan(s,tr){return this.layout.getSpan(s,tr)}}class COptionLayout extends Layout_2{constructor(s,tr){super(-1,tr),this.layout=s,this.discriminator=u32()}encode(s,tr,nr=0){return s==null?this.layout.span+this.discriminator.encode(0,tr,nr):(this.discriminator.encode(1,tr,nr),this.layout.encode(s,tr,nr+4)+4)}decode(s,tr=0){const nr=this.discriminator.decode(s,tr);if(nr===0)return null;if(nr===1)return this.layout.decode(s,tr+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(s,tr=0){return this.layout.getSpan(s,tr+4)+4}}let u64$1=class Nl extends BN{toBuffer(){const s=super.toArray().reverse(),tr=Buffer.from(s);if(tr.length===8)return tr;if(tr.length>=8)throw new Error("u64 too large");const nr=Buffer.alloc(8);return tr.copy(nr),nr}static fromBuffer(s){if(s.length!==8)throw new Error(`Invalid buffer length: ${s.length}`);return new Nl([...s].reverse().map(tr=>`00${tr.toString(16)}`.slice(-2)).join(""),16)}};const TOKEN_ACCOUNT_LAYOUT=struct([publicKey$3("mint"),publicKey$3("owner"),uint64("amount"),coption(publicKey$3(),"delegate"),(er=>{const s=union(u8("discriminator"),null,er);return s.addVariant(0,struct([]),"uninitialized"),s.addVariant(1,struct([]),"initialized"),s.addVariant(2,struct([]),"frozen"),s})("state"),coption(uint64(),"isNative"),uint64("delegatedAmount"),coption(publicKey$3(),"closeAuthority")]);function decodeTokenAccount(er){return TOKEN_ACCOUNT_LAYOUT.decode(er)}class AccountsResolver{constructor(s,tr,nr,rr,ir,sr,or,ar){this._accounts=tr,this._provider=nr,this._programId=rr,this._idlIx=ir,this._idlTypes=or,this._customResolver=ar,this._args=s,this._accountStore=new AccountStore(nr,sr,this._programId)}args(s){this._args=s}async resolve(){for(await this.resolveConst(this._idlIx.accounts);await this.resolvePdas(this._idlIx.accounts)+await this.resolveRelations(this._idlIx.accounts)+await this.resolveCustom()>0;);}async resolveCustom(){if(this._customResolver){const{accounts:s,resolved:tr}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=s,tr}return 0}resolveOptionalsHelper(s,tr){const nr={};for(const rr of tr){const ir=rr.name,sr=s[ir];sr!==void 0&&(isPartialAccounts(sr)?isIdlAccounts(rr)?nr[ir]=this.resolveOptionalsHelper(sr,rr.accounts):nr[ir]=flattenPartialAccounts(sr):sr!==null?nr[ir]=translateAddress(sr):rr.isOptional&&(nr[ir]=this._programId))}return nr}resolveOptionals(s){Object.assign(this._accounts,this.resolveOptionalsHelper(s,this._idlIx.accounts))}get(s){const tr=s.reduce((nr,rr)=>nr&&nr[rr],this._accounts);if(tr&&tr.toBase58)return tr}set(s,tr){let nr=this._accounts;s.forEach((rr,ir)=>{ir==s.length-1&&(nr[rr]=tr),nr[rr]=nr[rr]||{},nr=nr[rr]})}async resolveConst(s,tr=[]){for(let nr=0;nr<s.length;nr+=1){const rr=s[nr],ir=rr.accounts;ir&&await this.resolveConst(ir,[...tr,camelCase$1(rr.name)]);const sr=rr,or=camelCase$1(rr.name);if(sr.isSigner&&!this.get([...tr,or])){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this.set([...tr,or],this._provider.wallet.publicKey)}Reflect.has(AccountsResolver.CONST_ACCOUNTS,or)&&!this.get([...tr,or])&&this.set([...tr,or],AccountsResolver.CONST_ACCOUNTS[or])}}async resolvePdas(s,tr=[]){let nr=0;for(let rr=0;rr<s.length;rr+=1){const ir=s[rr],sr=ir.accounts;sr&&(nr+=await this.resolvePdas(sr,[...tr,camelCase$1(ir.name)]));const or=ir,ar=camelCase$1(ir.name);or.pda&&or.pda.seeds.length>0&&!this.get([...tr,ar])&&await this.autoPopulatePda(or,tr)&&(nr+=1)}return nr}async resolveRelations(s,tr=[]){let nr=0;for(let rr=0;rr<s.length;rr+=1){const ir=s[rr],sr=ir.accounts;sr&&(nr+=await this.resolveRelations(sr,[...tr,camelCase$1(ir.name)]));const or=ir.relations||[],ar=camelCase$1(ir.name),lr=[...tr,ar],cr=this.get(lr);if(cr){const ur=or.filter(hr=>!this.get([...tr,camelCase$1(hr)]));if(nr+=ur.length,ur.length>0){const hr=await this._accountStore.fetchAccount({publicKey:cr});await Promise.all(ur.map(async dr=>{const pr=camelCase$1(dr);return this.set([...tr,pr],hr[pr]),hr[pr]}))}}}return nr}async autoPopulatePda(s,tr=[]){if(!s.pda||!s.pda.seeds)throw new Error("Must have seeds");const nr=await Promise.all(s.pda.seeds.map(sr=>this.toBuffer(sr,tr)));if(nr.some(sr=>typeof sr>"u"))return;const rr=await this.parseProgramId(s,tr);if(!rr)return;const[ir]=await PublicKey.findProgramAddress(nr,rr);this.set([...tr,camelCase$1(s.name)],ir)}async parseProgramId(s,tr=[]){var nr;if(!(!((nr=s.pda)===null||nr===void 0)&&nr.programId))return this._programId;switch(s.pda.programId.kind){case"const":return new PublicKey(this.toBufferConst(s.pda.programId.value));case"arg":return this.argValue(s.pda.programId);case"account":return await this.accountValue(s.pda.programId,tr);default:throw new Error(`Unexpected program seed kind: ${s.pda.programId.kind}`)}}async toBuffer(s,tr=[]){switch(s.kind){case"const":return this.toBufferConst(s);case"arg":return await this.toBufferArg(s);case"account":return await this.toBufferAccount(s,tr);default:throw new Error(`Unexpected seed kind: ${s.kind}`)}}getType(s,tr=[]){if(tr.length>0&&s.defined){const nr=this._idlTypes.find(sr=>sr.name===s.defined);if(!nr)throw new Error(`Cannot find type ${s.defined}`);const ir=nr.type.fields.find(sr=>sr.name===tr[0]);return this.getType(ir.type,tr.slice(1))}return s}toBufferConst(s){return this.toBufferValue(this.getType(s.type,(s.path||"").split(".").slice(1)),s.value)}async toBufferArg(s){const tr=this.argValue(s);if(!(typeof tr>"u"))return this.toBufferValue(this.getType(s.type,(s.path||"").split(".").slice(1)),tr)}argValue(s){const tr=s.path.split("."),nr=camelCase$1(tr[0]),rr=this._idlIx.args.findIndex(ir=>ir.name===nr);if(rr===-1)throw new Error(`Unable to find argument for seed: ${nr}`);return tr.slice(1).reduce((ir,sr)=>(ir||{})[sr],this._args[rr])}async toBufferAccount(s,tr=[]){const nr=await this.accountValue(s,tr);if(nr)return this.toBufferValue(s.type,nr)}async accountValue(s,tr=[]){const nr=s.path.split("."),rr=nr[0],ir=this.get([...tr,camelCase$1(rr)]);if(ir===null)throw new Error("fieldPubkey is null");if(nr.length===1)return ir;const sr=await this._accountStore.fetchAccount({publicKey:ir,name:s.account});return this.parseAccountValue(sr,nr.slice(1))}parseAccountValue(s,tr){let nr;for(;tr.length>0;)nr=s[camelCase$1(tr[0])],tr=tr.slice(1);return nr}toBufferValue(s,tr){switch(s){case"u8":return Buffer.from([tr]);case"u16":let nr=Buffer.alloc(2);return nr.writeUInt16LE(tr),nr;case"u32":let rr=Buffer.alloc(4);return rr.writeUInt32LE(tr),rr;case"u64":let ir=Buffer.alloc(8);return ir.writeBigUInt64LE(BigInt(tr)),ir;case"string":return Buffer.from(encode$2(tr));case"publicKey":return tr.toBuffer();default:if(s.array)return Buffer.from(tr);throw new Error(`Unexpected seed type: ${s}`)}}}AccountsResolver.CONST_ACCOUNTS={associatedTokenProgram:ASSOCIATED_PROGRAM_ID,rent:SYSVAR_RENT_PUBKEY,systemProgram:SystemProgram.programId,tokenProgram:TOKEN_PROGRAM_ID$1,clock:SYSVAR_CLOCK_PUBKEY};class AccountStore{constructor(s,tr,nr){this._provider=s,this._programId=nr,this._cache=new Map,this._idls={},this._idls[nr.toBase58()]=tr}async ensureIdl(s){if(!this._idls[s.toBase58()]){const tr=await Program.fetchIdl(s,this._provider);if(tr){const nr=new Program(tr,s,this._provider);this._idls[s.toBase58()]=nr.account}}return this._idls[s.toBase58()]}async fetchAccount({publicKey:s,name:tr,programId:nr=this._programId}){const rr=s.toString();if(!this._cache.has(rr))if(tr==="TokenAccount"){const ir=await this._provider.connection.getAccountInfo(s);if(ir===null)throw new Error(`invalid account info for ${rr}`);const sr=decodeTokenAccount(ir.data);this._cache.set(rr,sr)}else if(tr){const ir=await this.ensureIdl(nr);if(ir){const sr=ir[camelCase$1(tr)];if(sr){const or=await sr.fetch(s);this._cache.set(rr,or)}}}else{const ir=await this._provider.connection.getAccountInfo(s);if(ir===null)throw new Error(`invalid account info for ${rr}`);const sr=ir.data,or=await this.ensureIdl(ir.owner);if(or){const ar=Object.values(or)[0];if(!ar)throw new Error("No accounts for this program");const lr=ar.coder.accounts.decodeAny(sr);this._cache.set(rr,lr)}}return this._cache.get(rr)}}class MethodsBuilderFactory{static build(s,tr,nr,rr,ir,sr,or,ar,lr,cr,ur){return(...hr)=>new MethodsBuilder(hr,rr,ir,sr,or,ar,s,tr,nr,lr,cr,ur)}}function isPartialAccounts(er){return typeof er=="object"&&er!==null&&!("_bn"in er)}function flattenPartialAccounts(er,s){const tr={};for(const nr in er){const rr=er[nr];if(rr===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");tr[nr]=isPartialAccounts(rr)?flattenPartialAccounts(rr):translateAddress(rr)}return tr}class MethodsBuilder{constructor(s,tr,nr,rr,ir,sr,or,ar,lr,cr,ur,hr){this._ixFn=tr,this._txFn=nr,this._rpcFn=rr,this._simulateFn=ir,this._viewFn=sr,this._programId=ar,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._args=s,this._accountsResolver=new AccountsResolver(s,this._accounts,or,ar,lr,cr,ur,hr)}args(s){this._args=s,this._accountsResolver.args(s)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(s){return this._autoResolveAccounts=!0,this._accountsResolver.resolveOptionals(s),this}accountsStrict(s){return this._autoResolveAccounts=!1,this._accountsResolver.resolveOptionals(s),this}signers(s){return this._signers=this._signers.concat(s),this}remainingAccounts(s){return this._remainingAccounts=this._remainingAccounts.concat(s),this}preInstructions(s){return this._preInstructions=this._preInstructions.concat(s),this}postInstructions(s){return this._postInstructions=this._postInstructions.concat(s),this}async rpc(s){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:s})}async rpcAndKeys(s){return{pubkeys:await this.pubkeys(),signature:await this.rpc(s)}}async view(s){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:s})}async simulate(s){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:s})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:await this._signers}}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(s,tr,nr,rr){const ir=tr.accounts.find(ar=>ar.isMut),sr=!!tr.returns;return ir||!sr?void 0:async(...ar)=>{var lr,cr;let ur=await nr(...ar);const hr=`Program return: ${s} `;let dr=ur.raw.find(br=>br.startsWith(hr));if(!dr)throw new Error("View expected return log");let pr=decode(dr.slice(hr.length)),mr=tr.returns;if(!mr)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:mr},Array.from([...(lr=rr.accounts)!==null&&lr!==void 0?lr:[],...(cr=rr.types)!==null&&cr!==void 0?cr:[]])).decode(pr)}}}class NamespaceFactory{static build(s,tr,nr,rr,ir){const sr={},or={},ar={},lr={},cr={},ur={},hr=parseIdlErrors(s),dr=s.accounts?AccountFactory.build(s,tr,nr,rr):{},pr=StateFactory.build(s,tr,nr,rr);return s.instructions.forEach(mr=>{const xr=InstructionNamespaceFactory.build(mr,(Cr,Dr)=>tr.instruction.encode(Cr,Dr),nr),br=TransactionFactory.build(mr,xr),yr=RpcFactory.build(mr,br,hr,rr),gr=SimulateFactory.build(mr,br,hr,rr,tr,nr,s),Er=ViewFactory.build(nr,mr,gr,s),kr=MethodsBuilderFactory.build(rr,nr,mr,xr,br,yr,gr,Er,dr,s.types||[],ir&&ir(mr)),Mr=camelCase$1(mr.name);or[Mr]=xr,ar[Mr]=br,sr[Mr]=yr,lr[Mr]=gr,cr[Mr]=kr,Er&&(ur[Mr]=Er)}),[sr,or,ar,dr,lr,cr,pr,ur]}}class Program{get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}constructor(s,tr,nr,rr,ir){tr=translateAddress(tr),nr||(nr=getProvider()),this._idl=s,this._provider=nr,this._programId=tr,this._coder=rr??new BorshCoder(s),this._events=new EventManager(this._programId,nr,this._coder);const[sr,or,ar,lr,cr,ur,hr,dr]=NamespaceFactory.build(s,this._coder,tr,nr,ir??(()=>{}));this.rpc=sr,this.instruction=or,this.transaction=ar,this.account=lr,this.simulate=cr,this.methods=ur,this.state=hr,this.views=dr}static async at(s,tr){const nr=translateAddress(s),rr=await Program.fetchIdl(nr,tr);if(!rr)throw new Error(`IDL not found for program: ${s.toString()}`);return new Program(rr,nr,tr)}static async fetchIdl(s,tr){tr=tr??getProvider();const nr=translateAddress(s),rr=await idlAddress(nr),ir=await tr.connection.getAccountInfo(rr);if(!ir)return null;let sr=decodeIdlAccount(ir.data.slice(8));const or=inflate_1(sr.data);return JSON.parse(decode$2(or))}addEventListener(s,tr){return this._events.addEventListener(s,tr)}async removeEventListener(s){return await this._events.removeEventListener(s)}}new PublicKey("11111111111111111111111111111111");const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new PublicKey("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb");const ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new PublicKey("So11111111111111111111111111111111111111112");new PublicKey("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");const encodeDecode=er=>{const s=er.decode.bind(er),tr=er.encode.bind(er);return{decode:s,encode:tr}},bigInt=er=>s=>{const tr=blob$1(er,s),{encode:nr,decode:rr}=encodeDecode(tr),ir=tr;return ir.decode=(sr,or)=>{const ar=rr(sr,or);return toBigIntLE_1(Buffer.from(ar))},ir.encode=(sr,or,ar)=>{const lr=toBufferLE_1(sr,er);return nr(lr,or,ar)},ir},u64=bigInt(8),bool=er=>{const s=u8$1(er),{encode:tr,decode:nr}=encodeDecode(s),rr=s;return rr.decode=(ir,sr)=>!!nr(ir,sr),rr.encode=(ir,sr,or)=>{const ar=Number(ir);return tr(ar,sr,or)},rr},publicKey=er=>{const s=blob$1(32,er),{encode:tr,decode:nr}=encodeDecode(s),rr=s;return rr.decode=(ir,sr)=>{const or=nr(ir,sr);return new PublicKey(or)},rr.encode=(ir,sr,or)=>{const ar=ir.toBuffer();return tr(ar,sr,or)},rr};class TokenError extends Error{constructor(s){super(s)}}class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}var TokenInstruction;(function(er){er[er.InitializeMint=0]="InitializeMint",er[er.InitializeAccount=1]="InitializeAccount",er[er.InitializeMultisig=2]="InitializeMultisig",er[er.Transfer=3]="Transfer",er[er.Approve=4]="Approve",er[er.Revoke=5]="Revoke",er[er.SetAuthority=6]="SetAuthority",er[er.MintTo=7]="MintTo",er[er.Burn=8]="Burn",er[er.CloseAccount=9]="CloseAccount",er[er.FreezeAccount=10]="FreezeAccount",er[er.ThawAccount=11]="ThawAccount",er[er.TransferChecked=12]="TransferChecked",er[er.ApproveChecked=13]="ApproveChecked",er[er.MintToChecked=14]="MintToChecked",er[er.BurnChecked=15]="BurnChecked",er[er.InitializeAccount2=16]="InitializeAccount2",er[er.SyncNative=17]="SyncNative",er[er.InitializeAccount3=18]="InitializeAccount3",er[er.InitializeMultisig2=19]="InitializeMultisig2",er[er.InitializeMint2=20]="InitializeMint2",er[er.GetAccountDataSize=21]="GetAccountDataSize",er[er.InitializeImmutableOwner=22]="InitializeImmutableOwner",er[er.AmountToUiAmount=23]="AmountToUiAmount",er[er.UiAmountToAmount=24]="UiAmountToAmount",er[er.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",er[er.TransferFeeExtension=26]="TransferFeeExtension",er[er.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",er[er.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",er[er.Reallocate=29]="Reallocate",er[er.MemoTransferExtension=30]="MemoTransferExtension",er[er.CreateNativeMint=31]="CreateNativeMint",er[er.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",er[er.InterestBearingMintExtension=33]="InterestBearingMintExtension",er[er.CpiGuardExtension=34]="CpiGuardExtension",er[er.InitializePermanentDelegate=35]="InitializePermanentDelegate",er[er.TransferHookExtension=36]="TransferHookExtension",er[er.MetadataPointerExtension=39]="MetadataPointerExtension",er[er.GroupPointerExtension=40]="GroupPointerExtension",er[er.GroupMemberPointerExtension=41]="GroupMemberPointerExtension"})(TokenInstruction||(TokenInstruction={}));function addSigners(er,s,tr){if(tr.length){er.push({pubkey:s,isSigner:!1,isWritable:!1});for(const nr of tr)er.push({pubkey:nr instanceof PublicKey?nr:nr.publicKey,isSigner:!0,isWritable:!1})}else er.push({pubkey:s,isSigner:!0,isWritable:!1});return er}const burnInstructionData=struct$1([u8$1("instruction"),u64("amount")]);function createBurnInstruction(er,s,tr,nr,rr=[],ir=TOKEN_PROGRAM_ID){const sr=addSigners([{pubkey:er,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],tr,rr),or=Buffer.alloc(burnInstructionData.span);return burnInstructionData.encode({instruction:TokenInstruction.Burn,amount:BigInt(nr)},or),new TransactionInstruction({keys:sr,programId:ir,data:or})}var AccountType;(function(er){er[er.Uninitialized=0]="Uninitialized",er[er.Mint=1]="Mint",er[er.Account=2]="Account"})(AccountType||(AccountType={}));const ACCOUNT_TYPE_SIZE=1,MultisigLayout=struct$1([u8$1("m"),u8$1("n"),bool("isInitialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]),MULTISIG_SIZE=MultisigLayout.span;var AccountState;(function(er){er[er.Uninitialized=0]="Uninitialized",er[er.Initialized=1]="Initialized",er[er.Frozen=2]="Frozen"})(AccountState||(AccountState={}));const AccountLayout=struct$1([publicKey("mint"),publicKey("owner"),u64("amount"),u32$1("delegateOption"),publicKey("delegate"),u8$1("state"),u32$1("isNativeOption"),u64("isNative"),u64("delegatedAmount"),u32$1("closeAuthorityOption"),publicKey("closeAuthority")]),ACCOUNT_SIZE=AccountLayout.span;async function getAccount(er,s,tr,nr=TOKEN_PROGRAM_ID){const rr=await er.getAccountInfo(s,tr);return unpackAccount(s,rr,nr)}function unpackAccount(er,s,tr=TOKEN_PROGRAM_ID){if(!s)throw new TokenAccountNotFoundError;if(!s.owner.equals(tr))throw new TokenInvalidAccountOwnerError;if(s.data.length<ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;const nr=AccountLayout.decode(s.data.slice(0,ACCOUNT_SIZE));let rr=Buffer.alloc(0);if(s.data.length>ACCOUNT_SIZE){if(s.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(s.data[ACCOUNT_SIZE]!=AccountType.Account)throw new TokenInvalidAccountError;rr=s.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:er,mint:nr.mint,owner:nr.owner,amount:nr.amount,delegate:nr.delegateOption?nr.delegate:null,delegatedAmount:nr.delegatedAmount,isInitialized:nr.state!==AccountState.Uninitialized,isFrozen:nr.state===AccountState.Frozen,isNative:!!nr.isNativeOption,rentExemptReserve:nr.isNativeOption?nr.isNative:null,closeAuthority:nr.closeAuthorityOption?nr.closeAuthority:null,tlvData:rr}}const MintLayout=struct$1([u32$1("mintAuthorityOption"),publicKey("mintAuthority"),u64("supply"),u8$1("decimals"),bool("isInitialized"),u32$1("freezeAuthorityOption"),publicKey("freezeAuthority")]);MintLayout.span;async function getAssociatedTokenAddress(er,s,tr=!1,nr=TOKEN_PROGRAM_ID,rr=ASSOCIATED_TOKEN_PROGRAM_ID){if(!tr&&!PublicKey.isOnCurve(s.toBuffer()))throw new TokenOwnerOffCurveError;const[ir]=await PublicKey.findProgramAddress([s.toBuffer(),nr.toBuffer(),er.toBuffer()],rr);return ir}function createAssociatedTokenAccountIdempotentInstruction(er,s,tr,nr,rr=TOKEN_PROGRAM_ID,ir=ASSOCIATED_TOKEN_PROGRAM_ID){return buildAssociatedTokenAccountInstruction(er,s,tr,nr,Buffer.from([1]),rr,ir)}function buildAssociatedTokenAccountInstruction(er,s,tr,nr,rr,ir=TOKEN_PROGRAM_ID,sr=ASSOCIATED_TOKEN_PROGRAM_ID){const or=[{pubkey:er,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:tr,isSigner:!1,isWritable:!1},{pubkey:nr,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:ir,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:or,programId:sr,data:rr})}const transferInstructionData=struct$1([u8$1("instruction"),u64("amount")]);function createTransferInstruction(er,s,tr,nr,rr=[],ir=TOKEN_PROGRAM_ID){const sr=addSigners([{pubkey:er,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0}],tr,rr),or=Buffer.alloc(transferInstructionData.span);return transferInstructionData.encode({instruction:TokenInstruction.Transfer,amount:BigInt(nr)},or),new TransactionInstruction({keys:sr,programId:ir,data:or})}const featureIcons={twitter:FaTwitter,discord:FaDiscord,telegram:FaTelegram,voice:FaMicrophone,training:FaBrain,twitterReplies:FaReply,twitterFrequency:FaClock,wallet:FaWallet},featureNames={twitter:"Twitter",discord:"Discord",telegram:"Telegram",voice:"Voice",training:"Training",twitterReplies:"Replies",twitterFrequency:"Frequency",wallet:"Wallet"},featureColors={twitter:"bg-blue-50/80 border-blue-200 hover:bg-blue-50",discord:"bg-indigo-50/80 border-indigo-200 hover:bg-indigo-50",telegram:"bg-sky-50/80 border-sky-200 hover:bg-sky-50",voice:"bg-purple-50/80 border-purple-200 hover:bg-purple-50",training:"bg-emerald-50/80 border-emerald-200 hover:bg-emerald-50",twitterReplies:"bg-orange-50/80 border-orange-200 hover:bg-orange-50",twitterFrequency:"bg-yellow-50/80 border-yellow-200 hover:bg-yellow-50",wallet:"bg-green-50/80 border-green-200 hover:bg-green-50"};function FeatureCard({id:er,unlocked:s=!1,onUnlock:tr,isUnlocking:nr,burnAmount:rr}){const ir=featureIcons[er],sr="relative p-2 rounded-lg border border-dashed flex flex-col items-center gap-1 group transition-all duration-200",or=s?featureColors[er]:"bg-gray-50/50 border-gray-200",ar=s?"text-gray-700":"text-gray-400 opacity-40",lr=()=>{if(!rr)return"";const cr=`${rr.vvaifu} VVAIFU`;return rr.sol?`${cr} + ${rr.sol} SOL`:cr};return jsxRuntimeExports.jsxs("div",{className:`${sr} ${or} hover:shadow-sm`,children:[jsxRuntimeExports.jsx("div",{className:`w-6 h-6 flex items-center justify-center ${ar}`,children:jsxRuntimeExports.jsx(ir,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:`text-[11px] font-medium ${s?"text-gray-900":"text-gray-400"}`,children:featureNames[er]}),jsxRuntimeExports.jsx("div",{className:`text-[10px] ${s?"text-green-600":"text-gray-400"}`,children:s?"Unlocked":lr()})]}),!s&&jsxRuntimeExports.jsx("button",{onClick:tr,disabled:nr,className:`absolute inset-0 w-full h-full opacity-0 group-hover:opacity-100 
                    bg-black/60 rounded-lg transition-opacity duration-200
                    text-white text-xs font-medium`,children:nr?"Unlocking...":"Unlock"}),s&&jsxRuntimeExports.jsx("div",{className:"absolute top-1 right-1",children:jsxRuntimeExports.jsx("svg",{className:"w-3 h-3 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]})}function CharacterFeatures({character:er,user:s,loggedIn:tr,wallet:nr}){const[rr,ir]=reactExports.useState(null),sr={twitter:{vvaifu:690,sol:.15},discord:{vvaifu:690,sol:.1},telegram:{vvaifu:690,sol:.1},voice:{vvaifu:10690,sol:.35},training:{vvaifu:690,sol:1},twitterReplies:{vvaifu:690,sol:.15},twitterFrequency:{vvaifu:690,sol:.15},wallet:{vvaifu:1e4,sol:2}},[or,ar]=reactExports.useState([{id:"twitter",unlocked:er==null?void 0:er.twitterUnlocked},{id:"discord",unlocked:er==null?void 0:er.discordUnlocked},{id:"telegram",unlocked:er==null?void 0:er.telegramUnlocked},{id:"voice",unlocked:er==null?void 0:er.voiceUnlocked},{id:"training",unlocked:er==null?void 0:er.trainingUnlocked},{id:"twitterReplies",unlocked:er==null?void 0:er.twitterRepliesUnlocked},{id:"twitterFrequency",unlocked:er==null?void 0:er.twitterFrequencyUnlocked},{id:"wallet",unlocked:er==null?void 0:er.walletUnlocked}]),lr=async cr=>{if(!tr){y$1.info("Please connect your wallet to unlock features");return}ir(cr);try{const ur=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com"),hr=await getAssociatedTokenAddress(new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),nr.publicKey),dr=createBurnInstruction(hr,new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),nr.publicKey,sr[cr].vvaifu*1e6),pr=new Transaction().add(ComputeBudgetProgram.setComputeUnitLimit({units:7e5})).add(ComputeBudgetProgram.setComputeUnitPrice({microLamports:7416659})).add(dr);sr[cr].sol>0&&pr.add(SystemProgram.transfer({fromPubkey:nr.publicKey,toPubkey:new PublicKey("3wBW4yWiP5RWN4ctE86xXziVE52k6S3hU7PvSFHCLi4u"),lamports:sr[cr].sol*1e9}));const mr=await ur.getLatestBlockhash();pr.feePayer=nr.publicKey,pr.recentBlockhash=mr.blockhash;const xr=await nr.signTransaction(pr),br=await ur.sendRawTransaction(xr.serialize()),yr=await axiosRequest$1("post","solana/unlock",{characterId:er._id,feature:cr,transactionSignature:br},localStorage.getItem("jwt"));ar(gr=>gr.map(Er=>Er.id===cr?{...Er,unlocked:!0}:Er)),y$1.success(`Successfully unlocked ${cr}!`)}catch(ur){console.error("Error unlocking feature:",ur),y$1.error(`Failed to unlock ${cr}: ${ur.message}`)}finally{ir(null)}};return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold mb-3",children:"Features"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-3",children:or.map(cr=>jsxRuntimeExports.jsx(FeatureCard,{id:cr.id,unlocked:cr.unlocked,onUnlock:()=>lr(cr.id),isUnlocking:rr===cr.id,burnAmount:sr[cr.id]},cr.id))})]})}const createApi$4=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),postComment=async(er,{comment:s,rating:tr},nr=null)=>(await createApi$4(nr).post(`/character/${er}/review`,{comment:s,rating:tr})).data;function CommentInput({characterId:er,onCommentAdded:s}){const[tr,nr]=reactExports.useState(""),[rr,ir]=reactExports.useState(5),[sr,or]=reactExports.useState(!1),ar=async()=>{if(!(!tr.trim()||sr))try{or(!0);const lr=localStorage.getItem("jwt"),cr=await postComment(er,{comment:tr.trim(),rating:rr},lr);cr&&(s(cr.review),nr(""),ir(5))}catch(lr){console.error("Failed to post comment:",lr)}finally{or(!1)}};return jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-600",children:"Rating:"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(lr=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ir(lr),className:`text-lg ${lr<=rr?"text-yellow-500":"text-gray-300"}`,children:"★"},lr))})]}),jsxRuntimeExports.jsx("textarea",{value:tr,onChange:lr=>nr(lr.target.value),placeholder:"Write your comment here..",className:"w-full p-3 text-xs rounded-lg bg-[#FDF8F3] border border-[#E5D5C0] resize-none focus:outline-none focus:ring-1 focus:ring-[#E5D5C0]",rows:2}),jsxRuntimeExports.jsx("button",{onClick:ar,disabled:!tr.trim()||sr,className:"absolute bottom-3 right-3 px-3 py-1 bg-red-500 text-white rounded text-xs hover:bg-red-600 transition-colors disabled:opacity-50",children:sr?"Posting...":"Submit"})]})}function CommentItem({comment:er}){var s,tr,nr,rr;return jsxRuntimeExports.jsx("div",{className:"p-2.5 rounded-lg bg-vvaifu-container border border-[#E5D5C0]",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xs font-medium",children:((nr=(tr=(s=er.user)==null?void 0:s.username)==null?void 0:tr[0])==null?void 0:nr.toUpperCase())||"?"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium",children:["@",(rr=er.user)==null?void 0:rr.username]}),jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-[10px]",children:timeAgo(er.createdAt)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-0.5 ml-auto",children:[jsxRuntimeExports.jsx("span",{className:"text-yellow-500",children:"★"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:er.rating})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-700 leading-snug",children:er.comment})]})]})})}function CharacterComments({character:er,loggedIn:s}){const tr=useSelector(or=>or.userData),{profile:nr}=s?useProfile(tr.username,!0):{profile:null},[rr,ir]=reactExports.useState(er.reviews||[]),sr=or=>{s?ir(ar=>{const lr=ar.map(cr=>cr._id===or._id?{...or,user:cr.user}:cr);return ar.find(cr=>cr._id===or._id)?lr:[{...or,user:{username:(nr==null?void 0:nr.username)||"Anonymous"}},...lr]}):y$1.info("Must be logged in.")};return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold p-3 border-b border-gray-200",children:"Comments"}),jsxRuntimeExports.jsxs("div",{className:"p-3",children:[jsxRuntimeExports.jsx(CommentInput,{characterId:er._id,onCommentAdded:sr}),jsxRuntimeExports.jsx("div",{className:"mt-4 max-h-[400px] overflow-y-auto space-y-2",children:rr.map(or=>jsxRuntimeExports.jsx(CommentItem,{comment:or},or._id))})]})]})}const formatDateTime=er=>new Date(er).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),formatLastMessageTime=er=>er?timeAgo(er):"";function ChatMessage$1({username:er,timestamp:s,content:tr}){const nr=er||"Anonymous",rr=s?formatDateTime(s):"",ir=tr||"";return jsxRuntimeExports.jsxs("div",{className:"px-2.5 py-2 border-b border-[#E5D5C0] last:border-b-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[jsxRuntimeExports.jsxs("span",{className:"text-[11px] text-red-500",children:["@",nr]}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-400",children:rr})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-700 leading-snug",children:ir})]})}const createApi$3=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),sendGroupMessage=async(er,s,tr=null)=>(await createApi$3(tr).post(`/solana/character/${er}/group-chat`,{content:s,description:""})).data,fetchGroupMessages=async(er,s=null)=>(await createApi$3(s).get(`/solana/character/${er}/group-chat`)).data;function ChatInput$1({character:er,onMessageSent:s}){const[tr,nr]=reactExports.useState(""),[rr,ir]=reactExports.useState(!1),sr=async or=>{if(or.preventDefault(),!(!tr.trim()||rr))try{ir(!0);const ar=localStorage.getItem("jwt"),lr=await sendGroupMessage(er._id,tr.trim(),ar);lr&&(s(lr.userMessage),nr(""))}catch(ar){console.error("Failed to send message:",ar)}finally{ir(!1)}};return jsxRuntimeExports.jsx("div",{className:"p-2.5 border-t border-[#E5D5C0]",children:jsxRuntimeExports.jsxs("form",{onSubmit:sr,className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",value:tr,onChange:or=>nr(or.target.value),placeholder:"Write your message...",className:"w-full pl-3 pr-16 py-2 text-xs bg-[#FDF8F3] rounded-lg border border-[#E5D5C0] placeholder:text-gray-400 focus:outline-none focus:ring-1 focus:ring-[#E5D5C0]",disabled:rr}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:rr||!tr.trim(),className:"absolute right-1.5 top-1/2 -translate-y-1/2 px-3 py-1 bg-red-500 text-white text-xs rounded hover:bg-red-600 transition-colors disabled:opacity-50 disabled:hover:bg-red-500",children:rr?"...":"Send"})]})})}function ChatHeader$1({character:er}){const s=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"px-3 py-2 border-b border-[#E5D5C0] flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),jsxRuntimeExports.jsx("h2",{className:"text-xs font-medium",children:"Live Chat"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>s(`/chat/${er._id}`),className:"text-xs text-red-500 hover:text-red-600 transition-colors",children:"Enter Private Chat"})]})}function useGroupChat(er){const[s,tr]=reactExports.useState([]),[nr,rr]=reactExports.useState(!0),[ir,sr]=reactExports.useState(null);return reactExports.useEffect(()=>{let or=!0;return er&&(async()=>{try{rr(!0);let lr=localStorage.getItem("jwt");const cr=await axios.get(`https://api.vvaifu.fun/api/solana/character/${er}/group-chat`,{headers:{Authorization:`Bearer ${lr}`}});or&&tr(cr.data||[])}catch(lr){or&&sr(lr.message||"Failed to load group chat")}finally{or&&rr(!1)}})(),()=>{or=!1}},[er]),{messages:s,loading:nr,error:ir}}function useChatScroll(er){const s=reactExports.useRef(null);return reactExports.useEffect(()=>{s.current&&(s.current.scrollTop=s.current.scrollHeight)},[er]),s}function CharacterLiveChat({character:er,loggedIn:s}){if(!er)return null;const[tr,nr]=reactExports.useState([]),{messages:rr,loading:ir,error:sr}=useGroupChat(er._id),or=useChatScroll(tr);reactExports.useEffect(()=>{if(Array.isArray(rr)){const lr=rr.reduce((cr,ur)=>(cr.find(hr=>hr._id===ur._id)||cr.push(ur),cr),[]);nr(lr)}},[rr]),reactExports.useEffect(()=>{const lr=setInterval(async()=>{if(er!=null&&er._id)try{const cr=localStorage.getItem("jwt"),ur=await fetchGroupMessages(er._id,cr);Array.isArray(ur)&&nr(hr=>{const dr=ur.filter(pr=>!hr.find(mr=>mr._id===pr._id));return[...hr,...dr]})}catch(cr){console.error("Failed to poll messages:",cr)}},3e4);return()=>clearInterval(lr)},[er==null?void 0:er._id]);const ar=lr=>{lr&&lr._id&&nr(cr=>cr.find(ur=>ur._id===lr._id)?cr:[...cr,lr])};return ir?jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] overflow-hidden",children:[jsxRuntimeExports.jsx(ChatHeader$1,{}),jsxRuntimeExports.jsx("div",{className:"h-[320px] flex flex-col p-2.5",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Loading messages..."})})})]}):sr?jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] overflow-hidden",children:[jsxRuntimeExports.jsx(ChatHeader$1,{}),jsxRuntimeExports.jsx("div",{className:"h-[320px] flex flex-col p-2.5",children:jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-sm text-red-500",children:s?sr:"Must be logged in."})})})]}):jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] overflow-hidden",children:[jsxRuntimeExports.jsx(ChatHeader$1,{character:er}),jsxRuntimeExports.jsxs("div",{className:"h-[320px] flex flex-col",children:[jsxRuntimeExports.jsx("div",{ref:or,className:"flex-1 overflow-y-auto",children:tr.map(lr=>{var cr;return jsxRuntimeExports.jsx(ChatMessage$1,{username:(cr=lr.sender)==null?void 0:cr.username,timestamp:lr.timestamp,content:lr.content},lr._id)})}),jsxRuntimeExports.jsx(ChatInput$1,{character:er,onMessageSent:ar})]})]})}const PUMP_FUN_PROGRAM$1=new PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"),PUMP_FUN_ACCOUNT$1=new PublicKey("Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1"),MPL_TOKEN_METADATA=new PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),MINT_AUTHORITY=new PublicKey("TSLvdd1pWpHVjahSpsvCXUbgwsL3JAcvokwaKt1eokM"),GLOBAL$1=new PublicKey("4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf"),FEE_RECIPIENT_PUMP=new PublicKey("CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM"),FEE_RECIPIENT$1=new PublicKey("3wBW4yWiP5RWN4ctE86xXziVE52k6S3hU7PvSFHCLi4u"),FEE_AMOUNT$1=.19*LAMPORTS_PER_SOL;async function launchToken(er,s,tr,nr,rr,ir,sr){if(!er.publicKey)throw new Error("Wallet not connected");const or=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com","confirmed"),ar=er.publicKey;try{const lr=await uploadMetadata(s,tr),cr=[];cr.push(ComputeBudgetProgram.setComputeUnitPrice({microLamports:2068e3}));const ur=new PublicKey("75DHDLKmKfNLckm742oyHWtYd3tJi2vDe7FTHA8SQ5WJ"),hr=new PublicKey("BDzbq7VxG5b2yg4vc11iPvpj51RTbmsnxaEPjwzbWQft");cr.push(SystemProgram.transfer({fromPubkey:ar,toPubkey:new PublicKey("HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY"),lamports:.004*LAMPORTS_PER_SOL})),cr.push(ComputeBudgetProgram.setComputeUnitLimit({units:25e4}));const dr=Keypair.generate(),[pr]=PublicKey.findProgramAddressSync([Buffer.from("bonding-curve"),dr.publicKey.toBuffer()],PUMP_FUN_PROGRAM$1),mr=await getAssociatedTokenAddress(dr.publicKey,pr,!0),[xr]=PublicKey.findProgramAddressSync([Buffer.from("metadata"),MPL_TOKEN_METADATA.toBuffer(),dr.publicKey.toBuffer()],MPL_TOKEN_METADATA),br=[{pubkey:dr.publicKey,isSigner:!0,isWritable:!0},{pubkey:MINT_AUTHORITY,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!0},{pubkey:GLOBAL$1,isSigner:!1,isWritable:!1},{pubkey:MPL_TOKEN_METADATA,isSigner:!1,isWritable:!1},{pubkey:xr,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_ACCOUNT$1,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_PROGRAM$1,isSigner:!1,isWritable:!1}],yr=Buffer.concat([Buffer.from("181ec828051c0777","hex"),bufferFromString(s.name),bufferFromString(s.ticker),bufferFromString(lr)]),gr=new TransactionInstruction({keys:br,programId:PUMP_FUN_PROGRAM$1,data:yr});if(cr.push(gr),s.amountToBuy&&s.amountToBuy>0){const zr=await getAssociatedTokenAddress(dr.publicKey,ar,!0),Wr=createAssociatedTokenAccountIdempotentInstruction(ar,zr,ar,dr.publicKey);cr.push(Wr);const Gr=s.amountToBuy*LAMPORTS_PER_SOL,Kr=Math.floor(Gr*1073e12/3e10),Lr=Math.floor(s.amountToBuy*1.5*LAMPORTS_PER_SOL),fr=[{pubkey:GLOBAL$1,isSigner:!1,isWritable:!1},{pubkey:FEE_RECIPIENT_PUMP,isSigner:!1,isWritable:!0},{pubkey:dr.publicKey,isSigner:!1,isWritable:!1},{pubkey:pr,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!0},{pubkey:zr,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_ACCOUNT$1,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_PROGRAM$1,isSigner:!1,isWritable:!1}],vr=Buffer.concat([bufferFromUInt64(16927863322537952870n),bufferFromUInt64(Kr),bufferFromUInt64(Lr)]),$r=new TransactionInstruction({keys:fr,programId:PUMP_FUN_PROGRAM$1,data:vr});if(cr.push($r),nr){const Tr=new PublicKey("AM84n1iLdxgVTAyENBcLdjXoyvjentTbu5Q6EpKV1PeG"),Ar=await getAssociatedTokenAddress(dr.publicKey,Tr,!0),jr=createAssociatedTokenAccountIdempotentInstruction(ar,Ar,Tr,dr.publicKey),Or=await getAssociatedTokenAddress(dr.publicKey,ur,!0),Nr=createAssociatedTokenAccountIdempotentInstruction(ar,Or,ur,dr.publicKey);cr.push(jr),cr.push(Nr);const wr=createTransferInstruction(zr,Ar,ar,4e7*1e6),Rr=createTransferInstruction(zr,Or,ar,1e7*1e6);cr.push(wr),cr.push(Rr)}else if(ir){let Tr=sr?hr:ur;const Ar=await getAssociatedTokenAddress(dr.publicKey,Tr,!0),jr=createAssociatedTokenAccountIdempotentInstruction(ar,Ar,Tr,dr.publicKey);cr.push(jr);const Or=createTransferInstruction(zr,Ar,ar,9e6*1e6);cr.push(Or)}}const Er=await getAssociatedTokenAddress(new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),ar),kr=createBurnInstruction(Er,new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),ar,749*1e6);if(cr.push(kr),!ir){const zr=await getAssociatedTokenAddress(new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),FEE_RECIPIENT$1),Wr=createAssociatedTokenAccountIdempotentInstruction(ar,zr,FEE_RECIPIENT$1,new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"));cr.push(Wr);const Gr=createTransferInstruction(Er,zr,ar,749*1e6);cr.push(Gr)}rr&&(rr.twitterUnlocked,rr.twitterRepliesUnlocked,rr.twitterFrequencyUnlocked,rr.discordUnlocked,rr.telegramUnlocked);const Mr=new Transaction().add(...cr);Mr.feePayer=ar,Mr.recentBlockhash=(await or.getLatestBlockhash()).blockhash,Mr.partialSign(dr);const Cr=await er.signTransaction(Mr),Dr=await or.sendRawTransaction(Cr.serialize());return{tokenAddress:dr.publicKey.toString(),transactionHash:Dr,bondingCurveAddress:pr.toString(),associatedBondingCurve:mr.toString()}}catch(lr){throw console.error("Could not create token:",lr.message),lr}}async function handleVVAIFUActions(er,s){if(!er.publicKey)throw new Error("Wallet not connected");const tr=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com","confirmed"),nr=er.publicKey,rr=new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),ir=new PublicKey("3wBW4yWiP5RWN4ctE86xXziVE52k6S3hU7PvSFHCLi4u");try{const sr=[];sr.push(ComputeBudgetProgram.setComputeUnitPrice({microLamports:2068e3})),sr.push(ComputeBudgetProgram.setComputeUnitLimit({units:25e4}));const or=await getAssociatedTokenAddress(rr,nr),ar=await getAssociatedTokenAddress(rr,ir),lr=createBurnInstruction(or,rr,nr,749*1e6);sr.push(lr);const cr=createTransferInstruction(or,ar,nr,749*1e6);sr.push(cr);const ur=new Transaction().add(...sr);ur.feePayer=nr;const{blockhash:hr}=await tr.getLatestBlockhash("confirmed");return ur.recentBlockhash=hr,{signature:await er.sendTransaction(ur,tr)}}catch(sr){throw console.error("Error in handleVVAIFUActions:",sr),sr}}async function uploadMetadata(er,s){let tr=er.description+`
Made with vvaifu.fun 
Create AI Agents with tokens.`;const nr=new FormData;nr.append("image",s),nr.append("name",er.name),nr.append("ticker",er.ticker),nr.append("description",tr),nr.append("website","https://vvaifu.fun");try{er.twitterEnabled?nr.append("twitter",`https://x.com/${er.screenName}`):nr.append("twitter","https://x.com/vvaifudotfun")}catch{nr.append("twitter","https://x.com/vvaifudotfun")}try{const rr=await fetch("https://api.vvaifu.fun/api/upload-metadata",{method:"POST",body:nr});if(!rr.ok)throw new Error(`HTTP error! status: ${rr.status}`);const{metadataUri:ir}=await rr.json();return ir}catch(rr){throw console.error("Error uploading metadata:",rr),new Error("Failed to upload metadata")}}function bufferFromString(er){const s=Buffer.alloc(4+er.length);return s.writeUInt32LE(er.length,0),s.write(er,4),s}function bufferFromUInt64(er){let s=Buffer.alloc(8);return s.writeBigUInt64LE(BigInt(er)),s}async function prepareLaunchToken(er,s,tr,nr){if(!er.publicKey)throw new Error("Wallet not connected");const rr=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com","confirmed"),ir=er.publicKey;try{const sr=Keypair.generate(),or=100,ar=await rr.getMinimumBalanceForRentExemption(or),lr=new Transaction().add(SystemProgram.createAccount({fromPubkey:ir,newAccountPubkey:sr.publicKey,lamports:ar,space:or,programId:SystemProgram.programId}),SystemProgram.nonceInitialize({noncePubkey:sr.publicKey,authorizedPubkey:ir}));lr.feePayer=ir,lr.recentBlockhash=(await rr.getLatestBlockhash()).blockhash,lr.partialSign(sr);const cr=await er.signTransaction(lr),ur=await rr.sendRawTransaction(cr.serialize(),{skipPreflight:!1}),hr=await Promise.race([rr.confirmTransaction(ur,"confirmed"),new Promise((Dr,zr)=>setTimeout(()=>zr(new Error("Timeout")),3e4))]),dr=await uploadMetadata(s,tr),pr=[],mr=Keypair.generate(),xr=await rr.getNonce(sr.publicKey);if(!xr)throw new Error("Failed to retrieve nonce value");pr.push(SystemProgram.nonceAdvance({noncePubkey:sr.publicKey,authorizedPubkey:ir}));const[br]=PublicKey.findProgramAddressSync([Buffer.from("bonding-curve"),mr.publicKey.toBuffer()],PUMP_FUN_PROGRAM$1),yr=await getAssociatedTokenAddress(mr.publicKey,br,!0),[gr]=PublicKey.findProgramAddressSync([Buffer.from("metadata"),MPL_TOKEN_METADATA.toBuffer(),mr.publicKey.toBuffer()],MPL_TOKEN_METADATA);pr.push(ComputeBudgetProgram.setComputeUnitPrice({microLamports:2068e3}),ComputeBudgetProgram.setComputeUnitLimit({units:25e4})),pr.push(SystemProgram.transfer({fromPubkey:ir,toPubkey:FEE_RECIPIENT$1,lamports:FEE_AMOUNT$1})),pr.push(SystemProgram.transfer({fromPubkey:ir,toPubkey:new PublicKey("HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY"),lamports:.004*1e9}));const Er=new TransactionInstruction({keys:[{pubkey:mr.publicKey,isSigner:!0,isWritable:!0},{pubkey:MINT_AUTHORITY,isSigner:!1,isWritable:!1},{pubkey:br,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!0},{pubkey:GLOBAL$1,isSigner:!1,isWritable:!1},{pubkey:MPL_TOKEN_METADATA,isSigner:!1,isWritable:!1},{pubkey:gr,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_ACCOUNT$1,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_PROGRAM$1,isSigner:!1,isWritable:!1}],programId:PUMP_FUN_PROGRAM$1,data:Buffer.concat([Buffer.from("181ec828051c0777","hex"),bufferFromString(s.name),bufferFromString(s.ticker),bufferFromString(dr)])});if(pr.push(Er),s.amountToBuy&&s.amountToBuy>0){const Dr=await getAssociatedTokenAddress(mr.publicKey,ir,!0),zr=createAssociatedTokenAccountIdempotentInstruction(ir,Dr,ir,mr.publicKey);pr.push(zr);const Wr=s.amountToBuy*LAMPORTS_PER_SOL,Gr=Math.floor(Wr*1073e12/3e10),Kr=Math.floor(s.amountToBuy*1.5*LAMPORTS_PER_SOL),Lr=[{pubkey:GLOBAL$1,isSigner:!1,isWritable:!1},{pubkey:FEE_RECIPIENT_PUMP,isSigner:!1,isWritable:!0},{pubkey:mr.publicKey,isSigner:!1,isWritable:!1},{pubkey:br,isSigner:!1,isWritable:!0},{pubkey:yr,isSigner:!1,isWritable:!0},{pubkey:Dr,isSigner:!1,isWritable:!0},{pubkey:ir,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_ACCOUNT$1,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_PROGRAM$1,isSigner:!1,isWritable:!1}],fr=Buffer.concat([bufferFromUInt64(16927863322537952870n),bufferFromUInt64(Gr),bufferFromUInt64(Kr)]),vr=new TransactionInstruction({keys:Lr,programId:PUMP_FUN_PROGRAM$1,data:fr});if(pr.push(vr),nr){const $r=new PublicKey("AM84n1iLdxgVTAyENBcLdjXoyvjentTbu5Q6EpKV1PeG"),Tr=await getAssociatedTokenAddress(mr.publicKey,$r,!0),Ar=createAssociatedTokenAccountIdempotentInstruction(ir,Tr,$r,mr.publicKey);pr.push(Ar);const jr=createTransferInstruction(Dr,Tr,ir,4e7*1e6),Or=createTransferInstruction(Dr,Tr,ir,1e6*1e6);pr.push(jr),pr.push(Or)}}const kr=await getAssociatedTokenAddress(new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),ir);if(!nr){const Dr=createBurnInstruction(kr,new PublicKey("FQ1tyso61AH1tzodyJfSwmzsD3GToybbRNoZxUBz21p8"),ir,1e9);pr.push(Dr)}const Mr=new Transaction;Mr.add(...pr),Mr.recentBlockhash=xr.nonce,Mr.feePayer=ir,Mr.partialSign(mr);const Cr=await er.signTransaction(Mr);return{signedTransaction:Cr.serialize().toString("base64"),nonceAccount:{publicKey:sr.publicKey.toString(),secretKey:[],authorizedPubkey:ir.toString()},mintKeypair:{publicKey:mr.publicKey.toString(),secretKey:[]},metadata:{metadataUri:dr,amountToBuy:s.amountToBuy,useEliza:nr},owner:ir.toString(),bondingCurveAddress:br.toString(),associatedBondingCurve:yr.toString(),tokenAddress:mr.publicKey.toString(),characterData:s,transactionDetails:{instructions:pr.length,estimatedSize:Cr.serialize().length,nonceValue:xr.nonce}}}catch(sr){throw console.error("Error preparing token launch:",sr),new Error(`Failed to prepare launch token: ${sr.message||"Unknown error"}`)}}const GLOBAL=new PublicKey("4wTV1YmiEkRvAtNtsSGPtUrqRYQMe5SKy2uB4Jjaxnjf"),FEE_RECIPIENT=new PublicKey("CebN5WGQ4jvEPvsVU4EoHEpgzq1VV7AbicfhtW4xC9iM"),PUMP_FUN_ACCOUNT=new PublicKey("Ce6TQqeHC9p8KetsN6JsjHK7UTZk7nasjjnr7XxXp9F1"),PUMP_FUN_PROGRAM=new PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"),FEE_ADDRESS=new PublicKey("3wBW4yWiP5RWN4ctE86xXziVE52k6S3hU7PvSFHCLi4u"),FEE_AMOUNT=.009*LAMPORTS_PER_SOL;async function buy(er,s,tr=.01,nr=.5,rr,ir){if(console.log("Starting buy function with params:",{mintStr:s,solIn:tr,slippageDecimal:nr}),console.log("CoinData:",rr),!er.publicKey)throw new Error("Wallet not connected");try{console.log("Wallet public key:",er.publicKey.toString());const sr=er.publicKey,or=new PublicKey(s);console.log("Mint address:",or.toString());const ar=await getAssociatedTokenAddress(or,sr);console.log("Token account:",ar.toString());const lr=tr*LAMPORTS_PER_SOL;console.log("SOL in lamports:",lr);const cr=Math.floor(lr*rr.virtualTokenReserves/rr.virtualSolReserves);console.log("Token out:",cr);const ur=tr*(1+nr),hr=Math.floor(ur*LAMPORTS_PER_SOL);console.log("Max SOL cost:",hr);const dr=[];console.log("Adding compute budget instructions"),dr.push(ComputeBudgetProgram.setComputeUnitPrice({microLamports:15e4}),ComputeBudgetProgram.setComputeUnitLimit({units:3e5})),console.log("Adding fee transfer instruction"),dr.push(SystemProgram.transfer({fromPubkey:sr,toPubkey:FEE_ADDRESS,lamports:FEE_AMOUNT})),console.log("Creating ATA instruction");const pr=createAssociatedTokenAccountIdempotentInstruction(sr,ar,sr,or);dr.push(pr),console.log("Building account key list");const mr=[{pubkey:GLOBAL,isSigner:!1,isWritable:!1},{pubkey:FEE_RECIPIENT,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:rr.bondingCurve,isSigner:!1,isWritable:!0},{pubkey:rr.associatedBondingCurve,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_ACCOUNT,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_PROGRAM,isSigner:!1,isWritable:!1}];console.log("Keys:",mr.map(Cr=>({pubkey:Cr.pubkey.toString(),isSigner:Cr.isSigner,isWritable:Cr.isWritable}))),console.log("Preparing buy instruction data");const xr=16927863322537952870n;console.log("Buy constant:",xr),console.log("TokenOut:",cr),console.log("MaxSolCost:",hr),console.log("Creating data buffer");const br=Buffer.concat([bufferFromUInt64(xr),bufferFromUInt64(cr),bufferFromUInt64(hr)]);console.log("Data buffer length:",br.length),console.log("Creating swap instruction");const yr=new TransactionInstruction({keys:mr,programId:PUMP_FUN_PROGRAM,data:br});dr.push(yr),console.log("Creating transaction");const gr=new Transaction().add(...dr);gr.feePayer=sr,console.log("Getting recent blockhash");const{blockhash:Er}=await ir.getLatestBlockhash();console.log("Recent blockhash:",Er),gr.recentBlockhash=Er,console.log("Requesting user to sign the transaction");const kr=await er.signTransaction(gr);console.log("Transaction signed by user"),console.log("Sending raw transaction");const Mr=await ir.sendRawTransaction(kr.serialize());return console.log(`Buy transaction sent for ${s}. Signature:`,Mr),Mr}catch(sr){throw console.error(`Error buying ${s}:`,sr),console.error("Error stack:",sr.stack),sr}}async function sell(er,s,tr=.01,nr=.5,rr,ir){if(console.log("Starting sell function with params:",{mintStr:s,tokenIn:tr,slippageDecimal:nr}),console.log("CoinData:",rr),!er.publicKey)throw new Error("Wallet not connected");try{console.log("Wallet public key:",er.publicKey.toString());const sr=er.publicKey,or=new PublicKey(s);console.log("Mint address:",or.toString());const ar=await getAssociatedTokenAddress(or,sr);console.log("Token account:",ar.toString());const lr=BigInt(Math.floor(tr*1e6));console.log("Token in amount:",lr.toString());const cr=lr*BigInt(rr.virtualSolReserves)/BigInt(rr.virtualTokenReserves);console.log("SOL out:",cr.toString());const hr=cr*BigInt(Math.floor((1-nr)*1e6))/BigInt(1e6);console.log("Min SOL out:",hr.toString());const dr=[];dr.push(ComputeBudgetProgram.setComputeUnitPrice({microLamports:15e4}),ComputeBudgetProgram.setComputeUnitLimit({units:3e5}));const pr=[{pubkey:GLOBAL,isSigner:!1,isWritable:!1},{pubkey:FEE_RECIPIENT,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:rr.bondingCurve,isSigner:!1,isWritable:!0},{pubkey:rr.associatedBondingCurve,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!0},{pubkey:sr,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:ASSOCIATED_TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_ACCOUNT,isSigner:!1,isWritable:!1},{pubkey:PUMP_FUN_PROGRAM,isSigner:!1,isWritable:!1}];console.log("Keys:",pr.map(Er=>({pubkey:Er.pubkey.toString(),isSigner:Er.isSigner,isWritable:Er.isWritable}))),console.log("Preparing sell instruction data");const mr=new TransactionInstruction({keys:pr,programId:PUMP_FUN_PROGRAM,data:Buffer.from([...12502976635542562355n.toString(16).padStart(16,"0").match(/.{2}/g).map(Er=>parseInt(Er,16)).reverse(),...lr.toString(16).padStart(16,"0").match(/.{2}/g).map(Er=>parseInt(Er,16)).reverse(),...hr.toString(16).padStart(16,"0").match(/.{2}/g).map(Er=>parseInt(Er,16)).reverse()])});dr.push(mr),console.log("Creating transaction");const xr=new Transaction().add(...dr);xr.feePayer=sr,console.log("Getting recent blockhash");const{blockhash:br}=await ir.getLatestBlockhash();console.log("Recent blockhash:",br),xr.recentBlockhash=br,console.log("Requesting user to sign the transaction");const yr=await er.signTransaction(xr);console.log("Transaction signed by user"),console.log("Sending raw transaction");const gr=await ir.sendRawTransaction(yr.serialize());return console.log(`Sell transaction sent for ${s}. Signature:`,gr),gr}catch(sr){throw console.error(`Error selling ${s}:`,sr),console.error("Error stack:",sr.stack),sr}}function CharacterTradePanel({character:er,marketCapData:s,onSuccess:tr}){const nr=["0.1","0.5","1","2","5"],rr=["25","50","100"],[ir,sr]=reactExports.useState(!0),[or,ar]=reactExports.useState(""),[lr,cr]=reactExports.useState(!1),[ur,hr]=reactExports.useState("0"),dr=useWallet(),pr=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com","confirmed");reactExports.useEffect(()=>{console.log("Market data updated:",s)},[s]),reactExports.useEffect(()=>{dr.connected&&(er!=null&&er.tokenAddress)&&mr()},[dr.connected,er]);const mr=async()=>{try{const yr=await getAssociatedTokenAddress(new PublicKey(er.tokenAddress),dr.publicKey);try{const gr=await getAccount(pr,yr);hr(gr.amount.toString())}catch(gr){gr.name==="TokenAccountNotFoundError"&&hr("0")}}catch(yr){console.error("Error fetching token balance:",yr),hr("0")}},xr=async yr=>{if(!dr.connected){y$1.info("Please connect your wallet");return}if(!or||parseFloat(or)<=0){y$1.error("Please enter a valid amount");return}console.log("MC -> ",yr),cr(!0);try{if(yr.isPumpFun){const gr=parseFloat(or),kr=await buy(dr,er.tokenAddress,gr,.99,{virtualSolReserves:yr.poolData.virtualSolReserves,virtualTokenReserves:s.poolData.virtualTokenReserves,bondingCurve:new PublicKey(er.bondingCurveAddress),associatedBondingCurve:new PublicKey(er.associatedBondingCurve)},pr);y$1.success(`Buy transaction sent! Signature: ${kr}`)}else{const gr=parseFloat(or)*1e9,Er=await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=So11111111111111111111111111111111111111112&outputMint=${er.tokenAddress}&amount=${gr}&slippageBps=300`)).json(),{swapTransaction:kr}=await(await fetch("https://quote-api.jup.ag/v6/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:Er,userPublicKey:dr.publicKey.toString(),wrapAndUnwrapSol:!0})})).json(),Mr=Buffer.from(kr,"base64"),Cr=VersionedTransaction.deserialize(Mr),Dr=await dr.signTransaction(Cr),zr=await pr.sendRawTransaction(Dr.serialize());y$1.success(`Buy transaction sent! Signature: ${zr}`)}mr(),tr&&tr()}catch(gr){console.error("Error buying tokens:",gr),y$1.error("Failed to buy tokens")}finally{cr(!1),ar("")}},br=async()=>{if(!dr.connected){y$1.info("Please connect your wallet");return}const gr=(parseFloat(ur)/1e6*parseFloat(or)/100).toFixed(6);if(!gr||parseFloat(gr)<=0){y$1.error("Invalid sell amount");return}cr(!0);try{if(s.isPumpFun){const kr=await sell(dr,er.tokenAddress,parseFloat(gr),.99,{virtualSolReserves:s.poolData.virtualSolReserves,virtualTokenReserves:s.poolData.virtualTokenReserves,bondingCurve:new PublicKey(er.bondingCurveAddress),associatedBondingCurve:new PublicKey(er.associatedBondingCurve)},pr);y$1.success(`Sell transaction sent! Signature: ${kr}`)}else{const Er=parseFloat(gr)*1e6,kr=await(await fetch(`https://quote-api.jup.ag/v6/quote?inputMint=${er.tokenAddress}&outputMint=So11111111111111111111111111111111111111112&amount=${Er}&slippageBps=300`)).json(),{swapTransaction:Mr}=await(await fetch("https://quote-api.jup.ag/v6/swap",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({quoteResponse:kr,userPublicKey:dr.publicKey.toString(),wrapAndUnwrapSol:!0})})).json(),Cr=Buffer.from(Mr,"base64"),Dr=VersionedTransaction.deserialize(Cr),zr=await dr.signTransaction(Dr),Wr=await pr.sendRawTransaction(zr.serialize());y$1.success(`Sell transaction sent! Signature: ${Wr}`)}mr(),tr&&tr()}catch(Er){console.error("Error selling tokens:",Er),y$1.error("Failed to sell tokens")}finally{cr(!1),ar("")}};return jsxRuntimeExports.jsxs("div",{className:"bg-[#1C1C1C] rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2",children:[jsxRuntimeExports.jsx("button",{className:`py-2.5 text-center text-sm font-medium transition-colors ${ir?"bg-[#4CAF50] text-white":"bg-transparent text-white/80 hover:bg-white/5"}`,onClick:()=>sr(!0),children:"BUY"}),jsxRuntimeExports.jsx("button",{className:`py-2.5 text-center text-sm font-medium transition-colors ${ir?"bg-transparent text-white/80 hover:bg-white/5":"bg-[#FF2E55] text-white"}`,onClick:()=>sr(!1),children:"SELL"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-[#2C2C2C] rounded-lg p-2.5 flex items-center justify-between",children:[jsxRuntimeExports.jsx("input",{type:"text",value:or,onChange:yr=>ar(yr.target.value),className:"bg-transparent text-white text-sm outline-none w-full",placeholder:"0.0"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1.5",children:jsxRuntimeExports.jsx("span",{className:"text-white text-sm",children:ir?"SOL":"%"})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-1.5",children:(ir?nr:rr).map(yr=>jsxRuntimeExports.jsxs("button",{onClick:()=>ar(yr),className:"bg-[#2C2C2C] text-white text-xs py-1.5 rounded hover:bg-[#3C3C3C] transition-colors",children:[yr,ir?" SOL":"%"]},yr))}),jsxRuntimeExports.jsx("button",{onClick:()=>{ir?xr(s):br()},disabled:lr||!or,className:`w-full py-3 text-sm text-white rounded font-medium transition-colors ${lr?"bg-gray-500":ir?"bg-[#4CAF50] hover:bg-[#45a049]":"bg-[#FF2E55] hover:bg-[#ff1f4a]"}`,children:lr?"Processing...":`${ir?"Buy":"Sell"} Tokens`})]})]})}function ProofItem({timestamp:er,content:s}){return jsxRuntimeExports.jsx("div",{className:"border-b border-[#E5D5C0] last:border-b-0",children:jsxRuntimeExports.jsxs("div",{className:"p-3 flex gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-[11px] text-gray-500 whitespace-nowrap",children:["[",er,"]"]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-700 leading-tight",children:s})]})})}function CharacterProof({loggedIn:er}){const s=[{id:1,timestamp:"2:23:12 PM",content:"Skipping @ragastyaraju's tweet - tweet is part of someone else's thread"},{id:2,timestamp:"2:23:12 PM",content:`I'm thinking about replying "the game knows when you fold - acolyt was quietly assembling for 3 months. nice recovery ma...`},{id:3,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'},{id:4,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'},{id:5,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'},{id:6,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'},{id:7,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'},{id:8,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'},{id:9,timestamp:"2:23:12 PM",content:'@fehamu7930 said "Hey @aixbt_agent Please give tip comments about #DEXTF token of @DomaniProtocol and @Memento_Bc collaberation with @DeutscheBank"'}];return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-gray-200 overflow-hidden relative",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold p-4 border-b border-gray-200",children:"Proof of Consciousness"}),jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container relative",children:[s.map(tr=>jsxRuntimeExports.jsx(ProofItem,{timestamp:tr.timestamp,content:tr.content},tr.id)),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center",children:jsxRuntimeExports.jsxs("p",{className:"text-white text-lg font-medium text-center px-4",children:["Coming January 2025",jsxRuntimeExports.jsx("br",{}),"with native framework upgrade"]})})]})]})}function CharacterInfo({character:er}){var s,tr;return jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("img",{src:er.imageUrl,alt:er.name,className:"w-16 h-16 rounded-lg object-cover"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("h2",{className:"text-sm font-bold mb-1",children:[er.name," (vvaifu)"]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mb-1",children:er.description}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500",children:"Made with vvaifu.fun Create AI characters with tokens."}),jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] text-gray-500",children:"Contact Address"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("code",{className:"font-mono text-[11px]",children:[(s=er.tokenAddress)==null?void 0:s.slice(0,6),"...",(tr=er.tokenAddress)==null?void 0:tr.slice(-4)]}),jsxRuntimeExports.jsx(CopyButton,{text:er.tokenAddress})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mt-3",children:[er.twitterEnabled&&er.screenName&&jsxRuntimeExports.jsxs("a",{href:`https://x.com/${er.screenName}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-1 bg-white rounded-full text-[10px] hover:bg-white/80 transition-colors",children:[jsxRuntimeExports.jsx("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),"Twitter"]}),er.discordUnlocked&&jsxRuntimeExports.jsx("a",{href:"#",className:"inline-flex items-center gap-1.5 px-3 py-1 bg-white rounded-full text-[10px] hover:bg-white/80 transition-colors",children:"Discord"})]})]})]})})}function LoadingState$2(){return jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] p-4 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded mb-4"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-32 bg-gray-200 rounded"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded"})]}),jsxRuntimeExports.jsx("div",{className:"h-8 w-24 bg-gray-200 rounded"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] p-4 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-4"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-4 gap-2",children:[...Array(8)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"h-24 bg-gray-200 rounded-lg"},s))})]}),jsxRuntimeExports.jsx("div",{className:"bg-[#1C1C1C] rounded-xl p-4 animate-pulse",children:jsxRuntimeExports.jsx("div",{className:"h-[400px] bg-gray-800 rounded-lg"})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-[#E5D5C0] p-4 animate-pulse",children:jsxRuntimeExports.jsx("div",{className:"h-[320px] bg-gray-200 rounded-lg"})}),jsxRuntimeExports.jsx("div",{className:"bg-[#1C1C1C] rounded-xl p-4 animate-pulse",children:jsxRuntimeExports.jsx("div",{className:"h-[200px] bg-gray-800 rounded-lg"})})]})]})}function useCharacterDetails(er){const[s,tr]=reactExports.useState(null),[nr,rr]=reactExports.useState(!0),[ir,sr]=reactExports.useState(null);return reactExports.useEffect(()=>{er&&(async()=>{try{rr(!0);const ar=await getCharacter(er);tr(ar.character)}catch(ar){sr(ar.message)}finally{rr(!1)}})()},[er]),{character:s,loading:nr,error:ir}}function size(er){var s=er.width,tr=er.height;if(s<0)throw new Error("Negative width is not allowed for Size");if(tr<0)throw new Error("Negative height is not allowed for Size");return{width:s,height:tr}}function equalSizes(er,s){return er.width===s.width&&er.height===s.height}var Observable=function(){function er(s){var tr=this;this._resolutionListener=function(){return tr._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=s,this._installResolutionListener()}return er.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(er.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),er.prototype.subscribe=function(s){var tr=this,nr={next:s};return this._observers.push(nr),{unsubscribe:function(){tr._observers=tr._observers.filter(function(rr){return rr!==nr})}}},er.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var s=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(s,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},er.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},er.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},er.prototype._onResolutionChanged=function(){var s=this;this._observers.forEach(function(tr){return tr.next(s._window.devicePixelRatio)}),this._reinstallResolutionListener()},er}();function createObservable(er){return new Observable(er)}var DevicePixelContentBoxBinding=function(){function er(s,tr,nr){var rr;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=s,this._canvasElementClientSize=size({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=tr??function(ir){return ir},this._allowResizeObserver=(rr=nr==null?void 0:nr.allowResizeObserver)!==null&&rr!==void 0?rr:!0,this._chooseAndInitObserver()}return er.prototype.dispose=function(){var s,tr;if(this._canvasElement===null)throw new Error("Object is disposed");(s=this._canvasElementResizeObserver)===null||s===void 0||s.disconnect(),this._canvasElementResizeObserver=null,(tr=this._devicePixelRatioObservable)===null||tr===void 0||tr.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(er.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"bitmapSize",{get:function(){return size({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),er.prototype.resizeCanvasElement=function(s){this._canvasElementClientSize=size(s),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},er.prototype.subscribeBitmapSizeChanged=function(s){this._bitmapSizeChangedListeners.push(s)},er.prototype.unsubscribeBitmapSizeChanged=function(s){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(tr){return tr!==s})},Object.defineProperty(er.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),er.prototype.subscribeSuggestedBitmapSizeChanged=function(s){this._suggestedBitmapSizeChangedListeners.push(s)},er.prototype.unsubscribeSuggestedBitmapSizeChanged=function(s){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(tr){return tr!==s})},er.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var s=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(s),this._emitSuggestedBitmapSizeChanged(s,this._suggestedBitmapSize)}},er.prototype._resizeBitmap=function(s){var tr=this.bitmapSize;equalSizes(tr,s)||(this.canvasElement.width=s.width,this.canvasElement.height=s.height,this._emitBitmapSizeChanged(tr,s))},er.prototype._emitBitmapSizeChanged=function(s,tr){var nr=this;this._bitmapSizeChangedListeners.forEach(function(rr){return rr.call(nr,s,tr)})},er.prototype._suggestNewBitmapSize=function(s){var tr=this._suggestedBitmapSize,nr=size(this._transformBitmapSize(s,this._canvasElementClientSize)),rr=equalSizes(this.bitmapSize,nr)?null:nr;tr===null&&rr===null||tr!==null&&rr!==null&&equalSizes(tr,rr)||(this._suggestedBitmapSize=rr,this._emitSuggestedBitmapSizeChanged(tr,rr))},er.prototype._emitSuggestedBitmapSizeChanged=function(s,tr){var nr=this;this._suggestedBitmapSizeChangedListeners.forEach(function(rr){return rr.call(nr,s,tr)})},er.prototype._chooseAndInitObserver=function(){var s=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}isDevicePixelContentBoxSupported().then(function(tr){return tr?s._initResizeObserver():s._initDevicePixelRatioObservable()})},er.prototype._initDevicePixelRatioObservable=function(){var s=this;if(this._canvasElement!==null){var tr=canvasElementWindow(this._canvasElement);if(tr===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=createObservable(tr),this._devicePixelRatioObservable.subscribe(function(){return s._invalidateBitmapSize()}),this._invalidateBitmapSize()}},er.prototype._invalidateBitmapSize=function(){var s,tr;if(this._canvasElement!==null){var nr=canvasElementWindow(this._canvasElement);if(nr!==null){var rr=(tr=(s=this._devicePixelRatioObservable)===null||s===void 0?void 0:s.value)!==null&&tr!==void 0?tr:nr.devicePixelRatio,ir=this._canvasElement.getClientRects(),sr=ir[0]!==void 0?predictedBitmapSize(ir[0],rr):size({width:this._canvasElementClientSize.width*rr,height:this._canvasElementClientSize.height*rr});this._suggestNewBitmapSize(sr)}}},er.prototype._initResizeObserver=function(){var s=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(tr){var nr=tr.find(function(sr){return sr.target===s._canvasElement});if(!(!nr||!nr.devicePixelContentBoxSize||!nr.devicePixelContentBoxSize[0])){var rr=nr.devicePixelContentBoxSize[0],ir=size({width:rr.inlineSize,height:rr.blockSize});s._suggestNewBitmapSize(ir)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},er}();function bindTo(er,s){if(s.type==="device-pixel-content-box")return new DevicePixelContentBoxBinding(er,s.transform,s.options);throw new Error("Unsupported binding target")}function canvasElementWindow(er){return er.ownerDocument.defaultView}function isDevicePixelContentBoxSupported(){return new Promise(function(er){var s=new ResizeObserver(function(tr){er(tr.every(function(nr){return"devicePixelContentBoxSize"in nr})),s.disconnect()});s.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function predictedBitmapSize(er,s){return size({width:Math.round(er.left*s+er.width*s)-Math.round(er.left*s),height:Math.round(er.top*s+er.height*s)-Math.round(er.top*s)})}var CanvasRenderingTarget2D=function(){function er(s,tr,nr){if(tr.width===0||tr.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=tr,nr.width===0||nr.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=nr,this._context=s}return er.prototype.useMediaCoordinateSpace=function(s){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),s({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},er.prototype.useBitmapCoordinateSpace=function(s){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),s({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(er.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(er.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),er}();function tryCreateCanvasRenderingTarget2D(er,s){var tr=er.canvasElementClientSize;if(tr.width===0||tr.height===0)return null;var nr=er.bitmapSize;if(nr.width===0||nr.height===0)return null;var rr=er.canvasElement.getContext("2d",s);return rr===null?null:new CanvasRenderingTarget2D(rr,tr,nr)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.2
 * Copyright (c) 2024 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const e={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},r={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},h={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},l={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},a={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},o={color:"#26a69a",base:0},_={color:"#2196f3"},u={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var c,d;function f(er,s){const tr={0:[],1:[er.lineWidth,er.lineWidth],2:[2*er.lineWidth,2*er.lineWidth],3:[6*er.lineWidth,6*er.lineWidth],4:[er.lineWidth,4*er.lineWidth]}[s];er.setLineDash(tr)}function v(er,s,tr,nr){er.beginPath();const rr=er.lineWidth%2?.5:0;er.moveTo(tr,s+rr),er.lineTo(nr,s+rr),er.stroke()}function p(er,s){if(!er)throw new Error("Assertion failed"+(s?": "+s:""))}function m(er){if(er===void 0)throw new Error("Value is undefined");return er}function b(er){if(er===null)throw new Error("Value is null");return er}function w(er){return b(m(er))}(function(er){er[er.Simple=0]="Simple",er[er.WithSteps=1]="WithSteps",er[er.Curved=2]="Curved"})(c||(c={})),function(er){er[er.Solid=0]="Solid",er[er.Dotted=1]="Dotted",er[er.Dashed=2]="Dashed",er[er.LargeDashed=3]="LargeDashed",er[er.SparseDotted=4]="SparseDotted"}(d||(d={}));const g={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function M(er){return er<0?0:er>255?255:Math.round(er)||0}function x(er){return er<=0||er>1?Math.min(Math.max(er,0),1):Math.round(1e4*er)/1e4}const S=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,k=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,y=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,C=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function T(er){(er=er.toLowerCase())in g&&(er=g[er]);{const s=C.exec(er)||y.exec(er);if(s)return[M(parseInt(s[1],10)),M(parseInt(s[2],10)),M(parseInt(s[3],10)),x(s.length<5?1:parseFloat(s[4]))]}{const s=k.exec(er);if(s)return[M(parseInt(s[1],16)),M(parseInt(s[2],16)),M(parseInt(s[3],16)),1]}{const s=S.exec(er);if(s)return[M(17*parseInt(s[1],16)),M(17*parseInt(s[2],16)),M(17*parseInt(s[3],16)),1]}throw new Error(`Cannot parse color: ${er}`)}function P(er){return .199*er[0]+.687*er[1]+.114*er[2]}function R(er){const s=T(er);return{t:`rgb(${s[0]}, ${s[1]}, ${s[2]})`,i:P(s)>160?"black":"white"}}class D{constructor(){this.h=[]}l(s,tr,nr){const rr={o:s,_:tr,u:nr===!0};this.h.push(rr)}v(s){const tr=this.h.findIndex(nr=>s===nr.o);tr>-1&&this.h.splice(tr,1)}p(s){this.h=this.h.filter(tr=>tr._!==s)}m(s,tr,nr){const rr=[...this.h];this.h=this.h.filter(ir=>!ir.u),rr.forEach(ir=>ir.o(s,tr,nr))}M(){return this.h.length>0}S(){this.h=[]}}function V(er,...s){for(const tr of s)for(const nr in tr)tr[nr]!==void 0&&(typeof tr[nr]!="object"||er[nr]===void 0||Array.isArray(tr[nr])?er[nr]=tr[nr]:V(er[nr],tr[nr]));return er}function O(er){return typeof er=="number"&&isFinite(er)}function B(er){return typeof er=="number"&&er%1==0}function A(er){return typeof er=="string"}function I(er){return typeof er=="boolean"}function z(er){const s=er;if(!s||typeof s!="object")return s;let tr,nr,rr;for(nr in tr=Array.isArray(s)?[]:{},s)s.hasOwnProperty(nr)&&(rr=s[nr],tr[nr]=rr&&typeof rr=="object"?z(rr):rr);return tr}function L(er){return er!==null}function E(er){return er===null?void 0:er}const N="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function F(er,s,tr){return s===void 0&&(s=N),`${tr=tr!==void 0?`${tr} `:""}${er}px ${s}`}class W{constructor(s){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=s}W(){const s=this.k,tr=this.j(),nr=this.H();return s.P===tr&&s.D===nr||(s.P=tr,s.D=nr,s.R=F(tr,nr),s.L=2.5/12*tr,s.B=s.L,s.A=tr/12*s.T,s.I=tr/12*s.T,s.N=0),s.V=this.$(),s.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class j{constructor(){this.Y=[]}Z(s){this.Y=s}X(s,tr,nr){this.Y.forEach(rr=>{rr.X(s,tr,nr)})}}class H{X(s,tr,nr){s.useBitmapCoordinateSpace(rr=>this.K(rr,tr,nr))}}class $ extends H{constructor(){super(...arguments),this.G=null}J(s){this.G=s}K({context:s,horizontalPixelRatio:tr,verticalPixelRatio:nr}){if(this.G===null||this.G.tt===null)return;const rr=this.G.tt,ir=this.G,sr=Math.max(1,Math.floor(tr))%2/2,or=ar=>{s.beginPath();for(let lr=rr.to-1;lr>=rr.from;--lr){const cr=ir.it[lr],ur=Math.round(cr.nt*tr)+sr,hr=cr.st*nr,dr=ar*nr+sr;s.moveTo(ur,hr),s.arc(ur,hr,dr,0,2*Math.PI)}s.fill()};ir.et>0&&(s.fillStyle=ir.rt,or(ir.ht+ir.et)),s.fillStyle=ir.lt,or(ir.ht)}}function U(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const q={from:0,to:1};class Y{constructor(s,tr){this.ut=new j,this.ct=[],this.dt=[],this.ft=!0,this.F=s,this.vt=tr,this.ut.Z(this.ct)}bt(s){const tr=this.F.wt();tr.length!==this.ct.length&&(this.dt=tr.map(U),this.ct=this.dt.map(nr=>{const rr=new $;return rr.J(nr),rr}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const s=this.vt.W().mode===2,tr=this.F.wt(),nr=this.vt.xt(),rr=this.F.St();tr.forEach((ir,sr)=>{var or;const ar=this.dt[sr],lr=ir.kt(nr);if(s||lr===null||!ir.yt())return void(ar.tt=null);const cr=b(ir.Ct());ar.lt=lr.Tt,ar.ht=lr.ht,ar.et=lr.Pt,ar.it[0]._t=lr._t,ar.it[0].st=ir.Dt().Rt(lr._t,cr.Vt),ar.rt=(or=lr.Ot)!==null&&or!==void 0?or:this.F.Bt(ar.it[0].st/ir.Dt().At()),ar.it[0].ot=nr,ar.it[0].nt=rr.It(nr),ar.tt=q})}}class Z extends H{constructor(s){super(),this.zt=s}K({context:s,bitmapSize:tr,horizontalPixelRatio:nr,verticalPixelRatio:rr}){if(this.zt===null)return;const ir=this.zt.Lt.yt,sr=this.zt.Et.yt;if(!ir&&!sr)return;const or=Math.round(this.zt.nt*nr),ar=Math.round(this.zt.st*rr);s.lineCap="butt",ir&&or>=0&&(s.lineWidth=Math.floor(this.zt.Lt.et*nr),s.strokeStyle=this.zt.Lt.V,s.fillStyle=this.zt.Lt.V,f(s,this.zt.Lt.Nt),function(lr,cr,ur,hr){lr.beginPath();const dr=lr.lineWidth%2?.5:0;lr.moveTo(cr+dr,ur),lr.lineTo(cr+dr,hr),lr.stroke()}(s,or,0,tr.height)),sr&&ar>=0&&(s.lineWidth=Math.floor(this.zt.Et.et*rr),s.strokeStyle=this.zt.Et.V,s.fillStyle=this.zt.Et.V,f(s,this.zt.Et.Nt),v(s,ar,0,tr.width))}}class X{constructor(s){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new Z(this.Ft),this.jt=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const s=this.jt.yt(),tr=b(this.jt.Ht()),nr=tr.$t().W().crosshair,rr=this.Ft;if(nr.mode===2)return rr.Et.yt=!1,void(rr.Lt.yt=!1);rr.Et.yt=s&&this.jt.Ut(tr),rr.Lt.yt=s&&this.jt.qt(),rr.Et.et=nr.horzLine.width,rr.Et.Nt=nr.horzLine.style,rr.Et.V=nr.horzLine.color,rr.Lt.et=nr.vertLine.width,rr.Lt.Nt=nr.vertLine.style,rr.Lt.V=nr.vertLine.color,rr.nt=this.jt.Yt(),rr.st=this.jt.Zt()}}function K(er,s,tr,nr,rr,ir){er.fillRect(s+ir,tr,nr-2*ir,ir),er.fillRect(s+ir,tr+rr-ir,nr-2*ir,ir),er.fillRect(s,tr,ir,rr),er.fillRect(s+nr-ir,tr,ir,rr)}function G(er,s,tr,nr,rr,ir){er.save(),er.globalCompositeOperation="copy",er.fillStyle=ir,er.fillRect(s,tr,nr,rr),er.restore()}function J(er,s,tr,nr,rr,ir){er.beginPath(),er.roundRect?er.roundRect(s,tr,nr,rr,ir):(er.lineTo(s+nr-ir[1],tr),ir[1]!==0&&er.arcTo(s+nr,tr,s+nr,tr+ir[1],ir[1]),er.lineTo(s+nr,tr+rr-ir[2]),ir[2]!==0&&er.arcTo(s+nr,tr+rr,s+nr-ir[2],tr+rr,ir[2]),er.lineTo(s+ir[3],tr+rr),ir[3]!==0&&er.arcTo(s,tr+rr,s,tr+rr-ir[3],ir[3]),er.lineTo(s,tr+ir[0]),ir[0]!==0&&er.arcTo(s,tr,s+ir[0],tr,ir[0]))}function Q(er,s,tr,nr,rr,ir,sr=0,or=[0,0,0,0],ar=""){if(er.save(),!sr||!ar||ar===ir)return J(er,s,tr,nr,rr,or),er.fillStyle=ir,er.fill(),void er.restore();const lr=sr/2;var cr;J(er,s+lr,tr+lr,nr-sr,rr-sr,(cr=-lr,or.map(ur=>ur===0?ur:ur+cr))),ir!=="transparent"&&(er.fillStyle=ir,er.fill()),ar!=="transparent"&&(er.lineWidth=sr,er.strokeStyle=ar,er.closePath(),er.stroke()),er.restore()}function tt(er,s,tr,nr,rr,ir,sr){er.save(),er.globalCompositeOperation="copy";const or=er.createLinearGradient(0,0,0,rr);or.addColorStop(0,ir),or.addColorStop(1,sr),er.fillStyle=or,er.fillRect(s,tr,nr,rr),er.restore()}class it{constructor(s,tr){this.J(s,tr)}J(s,tr){this.zt=s,this.Xt=tr}At(s,tr){return this.zt.yt?s.P+s.L+s.B:0}X(s,tr,nr,rr){if(!this.zt.yt||this.zt.Kt.length===0)return;const ir=this.zt.V,sr=this.Xt.t,or=s.useBitmapCoordinateSpace(ar=>{const lr=ar.context;lr.font=tr.R;const cr=this.Gt(ar,tr,nr,rr),ur=cr.Jt;return cr.Qt?Q(lr,ur.ti,ur.ii,ur.ni,ur.si,sr,ur.ei,[ur.ht,0,0,ur.ht],sr):Q(lr,ur.ri,ur.ii,ur.ni,ur.si,sr,ur.ei,[0,ur.ht,ur.ht,0],sr),this.zt.hi&&(lr.fillStyle=ir,lr.fillRect(ur.ri,ur.li,ur.ai-ur.ri,ur.oi)),this.zt._i&&(lr.fillStyle=tr.O,lr.fillRect(cr.Qt?ur.ui-ur.ei:0,ur.ii,ur.ei,ur.ci-ur.ii)),cr});s.useMediaCoordinateSpace(({context:ar})=>{const lr=or.di;ar.font=tr.R,ar.textAlign=or.Qt?"right":"left",ar.textBaseline="middle",ar.fillStyle=ir,ar.fillText(this.zt.Kt,lr.fi,(lr.ii+lr.ci)/2+lr.pi)})}Gt(s,tr,nr,rr){var ir;const{context:sr,bitmapSize:or,mediaSize:ar,horizontalPixelRatio:lr,verticalPixelRatio:cr}=s,ur=this.zt.hi||!this.zt.mi?tr.T:0,hr=this.zt.bi?tr.C:0,dr=tr.L+this.Xt.wi,pr=tr.B+this.Xt.gi,mr=tr.A,xr=tr.I,br=this.zt.Kt,yr=tr.P,gr=nr.Mi(sr,br),Er=Math.ceil(nr.xi(sr,br)),kr=yr+dr+pr,Mr=tr.C+mr+xr+Er+ur,Cr=Math.max(1,Math.floor(cr));let Dr=Math.round(kr*cr);Dr%2!=Cr%2&&(Dr+=1);const zr=hr>0?Math.max(1,Math.floor(hr*lr)):0,Wr=Math.round(Mr*lr),Gr=Math.round(ur*lr),Kr=(ir=this.Xt.Si)!==null&&ir!==void 0?ir:this.Xt.ki,Lr=Math.round(Kr*cr)-Math.floor(.5*cr),fr=Math.floor(Lr+Cr/2-Dr/2),vr=fr+Dr,$r=rr==="right",Tr=$r?ar.width-hr:hr,Ar=$r?or.width-zr:zr;let jr,Or,Nr;return $r?(jr=Ar-Wr,Or=Ar-Gr,Nr=Tr-ur-mr-hr):(jr=Ar+Wr,Or=Ar+Gr,Nr=Tr+ur+mr),{Qt:$r,Jt:{ii:fr,li:Lr,ci:vr,ni:Wr,si:Dr,ht:2*lr,ei:zr,ti:jr,ri:Ar,ai:Or,oi:Cr,ui:or.width},di:{ii:fr/cr,ci:vr/cr,fi:Nr,pi:gr}}}}class nt{constructor(s){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(s||it)(this.Ci,this.yi),this.Ri=new(s||it)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(s,tr=!1){return Math.max(this.Pi.At(s,tr),this.Ri.At(s,tr))}Vi(){return this.yi.Si||0}Oi(s){this.yi.Si=s}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(s){return this.Di(),this.Ci.hi=this.Ci.hi&&s.W().ticksVisible,this.Ti.hi=this.Ti.hi&&s.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class st extends nt{constructor(s,tr,nr){super(),this.jt=s,this.Li=tr,this.Ei=nr}zi(s,tr,nr){if(s.yt=!1,this.jt.W().mode===2)return;const rr=this.jt.W().horzLine;if(!rr.labelVisible)return;const ir=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||ir===null)return;const sr=R(rr.labelBackgroundColor);nr.t=sr.t,s.V=sr.i;const or=2/12*this.Li.P();nr.wi=or,nr.gi=or;const ar=this.Ei(this.Li);nr.ki=ar.ki,s.Kt=this.Li.Fi(ar._t,ir),s.yt=!0}}const et=/[1-9]/g;class rt{constructor(){this.zt=null}J(s){this.zt=s}X(s,tr){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const nr=s.useMediaCoordinateSpace(({context:hr})=>(hr.font=tr.R,Math.round(tr.Wi.xi(hr,b(this.zt).Kt,et))));if(nr<=0)return;const rr=tr.ji,ir=nr+2*rr,sr=ir/2,or=this.zt.Hi;let ar=this.zt.ki,lr=Math.floor(ar-sr)+.5;lr<0?(ar+=Math.abs(0-lr),lr=Math.floor(ar-sr)+.5):lr+ir>or&&(ar-=Math.abs(or-(lr+ir)),lr=Math.floor(ar-sr)+.5);const cr=lr+ir,ur=Math.ceil(0+tr.C+tr.T+tr.L+tr.P+tr.B);s.useBitmapCoordinateSpace(({context:hr,horizontalPixelRatio:dr,verticalPixelRatio:pr})=>{const mr=b(this.zt);hr.fillStyle=mr.t;const xr=Math.round(lr*dr),br=Math.round(0*pr),yr=Math.round(cr*dr),gr=Math.round(ur*pr),Er=Math.round(2*dr);if(hr.beginPath(),hr.moveTo(xr,br),hr.lineTo(xr,gr-Er),hr.arcTo(xr,gr,xr+Er,gr,Er),hr.lineTo(yr-Er,gr),hr.arcTo(yr,gr,yr,gr-Er,Er),hr.lineTo(yr,br),hr.fill(),mr.hi){const kr=Math.round(mr.ki*dr),Mr=br,Cr=Math.round((Mr+tr.T)*pr);hr.fillStyle=mr.V;const Dr=Math.max(1,Math.floor(dr)),zr=Math.floor(.5*dr);hr.fillRect(kr-zr,Mr,Dr,Cr-Mr)}}),s.useMediaCoordinateSpace(({context:hr})=>{const dr=b(this.zt),pr=0+tr.C+tr.T+tr.L+tr.P/2;hr.font=tr.R,hr.textAlign="left",hr.textBaseline="middle",hr.fillStyle=dr.V;const mr=tr.Wi.Mi(hr,"Apr0");hr.translate(lr+rr,pr+mr),hr.fillText(dr.Kt,0,0)})}}class ht{constructor(s,tr,nr){this.ft=!0,this.Wt=new rt,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=s,this.$i=tr,this.Ei=nr}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const s=this.Ft;if(s.yt=!1,this.vt.W().mode===2)return;const tr=this.vt.W().vertLine;if(!tr.labelVisible)return;const nr=this.$i.St();if(nr.Ni())return;s.Hi=nr.Hi();const rr=this.Ei();if(rr===null)return;s.ki=rr.ki;const ir=nr.Ui(this.vt.xt());s.Kt=nr.qi(b(ir)),s.yt=!0;const sr=R(tr.labelBackgroundColor);s.t=sr.t,s.V=sr.i,s.hi=nr.W().ticksVisible}}class lt{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(s){this.Zi=s}Dt(){return this.Yi}Gi(s){this.Yi=s}Ji(s){return[]}Qi(){return[]}yt(){return!0}}var at;(function(er){er[er.Normal=0]="Normal",er[er.Magnet=1]="Magnet",er[er.Hidden=2]="Hidden"})(at||(at={}));class ot extends lt{constructor(s,tr){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=s,this.cn=tr,this.dn=new Y(s,this),this.fn=((rr,ir)=>sr=>{const or=ir(),ar=rr();if(sr===b(this.tn).vn())return{_t:ar,ki:or};{const lr=b(sr.Ct());return{_t:sr.pn(or,lr),ki:or}}})(()=>this.nn,()=>this.an);const nr=((rr,ir)=>()=>{const sr=this.$i.St().mn(rr()),or=ir();return sr&&Number.isFinite(or)?{ot:sr,ki:or}:null})(()=>this.sn,()=>this.Yt());this.bn=new ht(this,s,nr),this.wn=new X(this)}W(){return this.cn}gn(s,tr){this._n=s,this.un=tr}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(s,tr,nr){this.hn||(this.hn=!0),this.en=!0,this.yn(s,tr,nr)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(s){return this.tn!==null?[this.wn,this.dn]:[]}Ut(s){return s===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(s,tr){this.en&&this.tn===s||this.rn.clear();const nr=[];return this.tn===s&&nr.push(this.Dn(this.rn,tr,this.fn)),nr}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(s=>s.bt()),this.bn.bt(),this.dn.bt()}On(s){return s&&!s.vn().Ni()?s.vn():null}yn(s,tr,nr){this.Bn(s,tr,nr)&&this.Vn()}Bn(s,tr,nr){const rr=this.ln,ir=this.an,sr=this.nn,or=this.sn,ar=this.tn,lr=this.On(nr);this.sn=s,this.ln=isNaN(s)?NaN:this.$i.St().It(s),this.tn=nr;const cr=lr!==null?lr.Ct():null;return lr!==null&&cr!==null?(this.nn=tr,this.an=lr.Rt(tr,cr)):(this.nn=NaN,this.an=NaN),rr!==this.ln||ir!==this.an||or!==this.sn||sr!==this.nn||ar!==this.tn}Tn(){const s=this.$i.wt().map(nr=>nr.In().An()).filter(L),tr=s.length===0?null:Math.max(...s);this.sn=tr!==null?tr:NaN}Dn(s,tr,nr){let rr=s.get(tr);return rr===void 0&&(rr=new st(this,tr,nr),s.set(tr,rr)),rr}}function _t(er){return er==="left"||er==="right"}class ut{constructor(s){this.zn=new Map,this.Ln=[],this.En=s}Nn(s,tr){const nr=function(rr,ir){return rr===void 0?ir:{Fn:Math.max(rr.Fn,ir.Fn),Wn:rr.Wn||ir.Wn}}(this.zn.get(s),tr);this.zn.set(s,nr)}jn(){return this.En}Hn(s){const tr=this.zn.get(s);return tr===void 0?{Fn:this.En}:{Fn:Math.max(this.En,tr.Fn),Wn:tr.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(s){this.Un(),this.Ln=[{qn:1,Vt:s}]}Zn(s){this.Xn(),this.Ln.push({qn:5,Vt:s})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(s){this.Un(),this.Ln.push({qn:2,Vt:s})}Jn(s){this.Un(),this.Ln.push({qn:3,Vt:s})}Qn(){return this.Ln}ts(s){for(const tr of s.Ln)this.ns(tr);this.En=Math.max(this.En,s.En),s.zn.forEach((tr,nr)=>{this.Nn(nr,tr)})}static ss(){return new ut(2)}static es(){return new ut(3)}ns(s){switch(s.qn){case 0:this.$n();break;case 1:this.Yn(s.Vt);break;case 2:this.Gn(s.Vt);break;case 3:this.Jn(s.Vt);break;case 4:this.Kn();break;case 5:this.Zn(s.Vt);break;case 6:this.Xn()}}Xn(){const s=this.Ln.findIndex(tr=>tr.qn===5);s!==-1&&this.Ln.splice(s,1)}}const ct=".";function dt(er,s){if(!O(er))return"n/a";if(!B(s))throw new TypeError("invalid length");if(s<0||s>16)throw new TypeError("invalid length");return s===0?er.toString():("0000000000000000"+er.toString()).slice(-s)}class ft{constructor(s,tr){if(tr||(tr=1),O(s)&&B(s)||(s=100),s<0)throw new TypeError("invalid base");this.Li=s,this.rs=tr,this.hs()}format(s){const tr=s<0?"−":"";return s=Math.abs(s),tr+this.ls(s)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let s=this.Li;for(;s>1;)s/=10,this.os++}}ls(s){const tr=this.Li/this.rs;let nr=Math.floor(s),rr="";const ir=this.os!==void 0?this.os:NaN;if(tr>1){let sr=+(Math.round(s*tr)-nr*tr).toFixed(this.os);sr>=tr&&(sr-=tr,nr+=1),rr=ct+dt(+sr.toFixed(this.os)*this.rs,ir)}else nr=Math.round(nr*tr)/tr,ir>0&&(rr=ct+dt(0,ir));return nr.toFixed(0)+rr}}class vt extends ft{constructor(s=100){super(s)}format(s){return`${super.format(s)}%`}}class pt{constructor(s){this._s=s}format(s){let tr="";return s<0&&(tr="-",s=-s),s<995?tr+this.us(s):s<999995?tr+this.us(s/1e3)+"K":s<999999995?(s=1e3*Math.round(s/1e3),tr+this.us(s/1e6)+"M"):(s=1e6*Math.round(s/1e6),tr+this.us(s/1e9)+"B")}us(s){let tr;const nr=Math.pow(10,this._s);return tr=(s=Math.round(s*nr)/nr)>=1e-15&&s<1?s.toFixed(this._s).replace(/\.?0+$/,""):String(s),tr.replace(/(\.[1-9]*)0+$/,(rr,ir)=>ir)}}function mt(er,s,tr,nr,rr,ir,sr){if(s.length===0||nr.from>=s.length||nr.to<=0)return;const{context:or,horizontalPixelRatio:ar,verticalPixelRatio:lr}=er,cr=s[nr.from];let ur=ir(er,cr),hr=cr;if(nr.to-nr.from<2){const dr=rr/2;or.beginPath();const pr={nt:cr.nt-dr,st:cr.st},mr={nt:cr.nt+dr,st:cr.st};or.moveTo(pr.nt*ar,pr.st*lr),or.lineTo(mr.nt*ar,mr.st*lr),sr(er,ur,pr,mr)}else{const dr=(mr,xr)=>{sr(er,ur,hr,xr),or.beginPath(),ur=mr,hr=xr};let pr=hr;or.beginPath(),or.moveTo(cr.nt*ar,cr.st*lr);for(let mr=nr.from+1;mr<nr.to;++mr){pr=s[mr];const xr=ir(er,pr);switch(tr){case 0:or.lineTo(pr.nt*ar,pr.st*lr);break;case 1:or.lineTo(pr.nt*ar,s[mr-1].st*lr),xr!==ur&&(dr(xr,pr),or.lineTo(pr.nt*ar,s[mr-1].st*lr)),or.lineTo(pr.nt*ar,pr.st*lr);break;case 2:{const[br,yr]=Mt(s,mr-1,mr);or.bezierCurveTo(br.nt*ar,br.st*lr,yr.nt*ar,yr.st*lr,pr.nt*ar,pr.st*lr);break}}tr!==1&&xr!==ur&&(dr(xr,pr),or.moveTo(pr.nt*ar,pr.st*lr))}(hr!==pr||hr===pr&&tr===1)&&sr(er,ur,hr,pr)}}const bt=6;function wt(er,s){return{nt:er.nt-s.nt,st:er.st-s.st}}function gt(er,s){return{nt:er.nt/s,st:er.st/s}}function Mt(er,s,tr){const nr=Math.max(0,s-1),rr=Math.min(er.length-1,tr+1);var ir,sr;return[(ir=er[s],sr=gt(wt(er[tr],er[nr]),bt),{nt:ir.nt+sr.nt,st:ir.st+sr.st}),wt(er[tr],gt(wt(er[rr],er[s]),bt))]}function xt(er,s,tr,nr,rr){const{context:ir,horizontalPixelRatio:sr,verticalPixelRatio:or}=s;ir.lineTo(rr.nt*sr,er*or),ir.lineTo(nr.nt*sr,er*or),ir.closePath(),ir.fillStyle=tr,ir.fill()}class St extends H{constructor(){super(...arguments),this.G=null}J(s){this.G=s}K(s){var tr;if(this.G===null)return;const{it:nr,tt:rr,cs:ir,et:sr,Nt:or,ds:ar}=this.G,lr=(tr=this.G.fs)!==null&&tr!==void 0?tr:this.G.vs?0:s.mediaSize.height;if(rr===null)return;const cr=s.context;cr.lineCap="butt",cr.lineJoin="round",cr.lineWidth=sr,f(cr,or),cr.lineWidth=1,mt(s,nr,ar,rr,ir,this.ps.bind(this),xt.bind(null,lr))}}function kt(er,s,tr){return Math.min(Math.max(er,s),tr)}function yt(er,s,tr){return s-er<=tr}function Ct(er){const s=Math.ceil(er);return s%2==0?s-1:s}class Tt{bs(s,tr){const nr=this.ws,{gs:rr,Ms:ir,xs:sr,Ss:or,ks:ar,fs:lr}=tr;if(this.ys===void 0||nr===void 0||nr.gs!==rr||nr.Ms!==ir||nr.xs!==sr||nr.Ss!==or||nr.fs!==lr||nr.ks!==ar){const cr=s.context.createLinearGradient(0,0,0,ar);if(cr.addColorStop(0,rr),lr!=null){const ur=kt(lr*s.verticalPixelRatio/ar,0,1);cr.addColorStop(ur,ir),cr.addColorStop(ur,sr)}cr.addColorStop(1,or),this.ys=cr,this.ws=tr}return this.ys}}class Pt extends St{constructor(){super(...arguments),this.Cs=new Tt}ps(s,tr){return this.Cs.bs(s,{gs:tr.Ts,Ms:"",xs:"",Ss:tr.Ps,ks:s.bitmapSize.height})}}function Rt(er,s){const tr=er.context;tr.strokeStyle=s,tr.stroke()}class Dt extends H{constructor(){super(...arguments),this.G=null}J(s){this.G=s}K(s){if(this.G===null)return;const{it:tr,tt:nr,cs:rr,ds:ir,et:sr,Nt:or,Rs:ar}=this.G;if(nr===null)return;const lr=s.context;lr.lineCap="butt",lr.lineWidth=sr*s.verticalPixelRatio,f(lr,or),lr.lineJoin="round";const cr=this.Ds.bind(this);ir!==void 0&&mt(s,tr,ir,nr,rr,cr,Rt),ar&&function(ur,hr,dr,pr,mr){const{horizontalPixelRatio:xr,verticalPixelRatio:br,context:yr}=ur;let gr=null;const Er=Math.max(1,Math.floor(xr))%2/2,kr=dr*br+Er;for(let Mr=pr.to-1;Mr>=pr.from;--Mr){const Cr=hr[Mr];if(Cr){const Dr=mr(ur,Cr);Dr!==gr&&(yr.beginPath(),gr!==null&&yr.fill(),yr.fillStyle=Dr,gr=Dr);const zr=Math.round(Cr.nt*xr)+Er,Wr=Cr.st*br;yr.moveTo(zr,Wr),yr.arc(zr,Wr,kr,0,2*Math.PI)}}yr.fill()}(s,tr,ar,nr,cr)}}class Vt extends Dt{Ds(s,tr){return tr.lt}}function Ot(er,s,tr,nr,rr=0,ir=s.length){let sr=ir-rr;for(;0<sr;){const or=sr>>1,ar=rr+or;nr(s[ar],tr)===er?(rr=ar+1,sr-=or+1):sr=or}return rr}const Bt=Ot.bind(null,!0),At=Ot.bind(null,!1);function It(er,s){return er.ot<s}function zt(er,s){return s<er.ot}function Lt(er,s,tr){const nr=s.Vs(),rr=s.ui(),ir=Bt(er,nr,It),sr=At(er,rr,zt);if(!tr)return{from:ir,to:sr};let or=ir,ar=sr;return ir>0&&ir<er.length&&er[ir].ot>=nr&&(or=ir-1),sr>0&&sr<er.length&&er[sr-1].ot<=rr&&(ar=sr+1),{from:or,to:ar}}class Et{constructor(s,tr,nr){this.Os=!0,this.Bs=!0,this.As=!0,this.Is=[],this.zs=null,this.Ls=s,this.Es=tr,this.Ns=nr}bt(s){this.Os=!0,s==="data"&&(this.Bs=!0),s==="options"&&(this.As=!0)}gt(){return this.Ls.yt()?(this.Fs(),this.zs===null?null:this.Ws):null}js(){this.Is=this.Is.map(s=>Object.assign(Object.assign({},s),this.Ls.$s().Hs(s.ot)))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.As&&(this.js(),this.As=!1),this.Os&&(this.Ys(),this.Os=!1)}Ys(){const s=this.Ls.Dt(),tr=this.Es.St();if(this.Us(),tr.Ni()||s.Ni())return;const nr=tr.Zs();if(nr===null||this.Ls.In().Xs()===0)return;const rr=this.Ls.Ct();rr!==null&&(this.zs=Lt(this.Is,nr,this.Ns),this.Ks(s,tr,rr.Vt),this.Gs())}}class Nt extends Et{constructor(s,tr){super(s,tr,!0)}Ks(s,tr,nr){tr.Js(this.Is,E(this.zs)),s.Qs(this.Is,nr,E(this.zs))}te(s,tr){return{ot:s,_t:tr,nt:NaN,st:NaN}}qs(){const s=this.Ls.$s();this.Is=this.Ls.In().ie().map(tr=>{const nr=tr.Vt[3];return this.ne(tr.se,nr,s)})}}class Ft extends Nt{constructor(s,tr){super(s,tr),this.Ws=new j,this.ee=new Pt,this.re=new Vt,this.Ws.Z([this.ee,this.re])}ne(s,tr,nr){return Object.assign(Object.assign({},this.te(s,tr)),nr.Hs(s))}Gs(){const s=this.Ls.W();this.ee.J({ds:s.lineType,it:this.Is,Nt:s.lineStyle,et:s.lineWidth,fs:null,vs:s.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:s.lineVisible?s.lineType:void 0,it:this.Is,Nt:s.lineStyle,et:s.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:s.pointMarkersVisible?s.pointMarkersRadius||s.lineWidth/2+2:void 0})}}class Wt extends H{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(s){this.zt=s}K({context:s,horizontalPixelRatio:tr,verticalPixelRatio:nr}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.le=this.oe(tr),this.le>=2&&Math.max(1,Math.floor(tr))%2!=this.le%2&&this.le--,this.ae=this.zt._e?Math.min(this.le,Math.floor(tr)):this.le;let rr=null;const ir=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*tr);for(let sr=this.zt.tt.from;sr<this.zt.tt.to;++sr){const or=this.zt.In[sr];rr!==or.ue&&(s.fillStyle=or.ue,rr=or.ue);const ar=Math.floor(.5*this.ae),lr=Math.round(or.nt*tr),cr=lr-ar,ur=this.ae,hr=cr+ur-1,dr=Math.min(or.ce,or.de),pr=Math.max(or.ce,or.de),mr=Math.round(dr*nr)-ar,xr=Math.round(pr*nr)+ar,br=Math.max(xr-mr,this.ae);s.fillRect(cr,mr,ur,br);const yr=Math.ceil(1.5*this.le);if(ir){if(this.zt.fe){const Mr=lr-yr;let Cr=Math.max(mr,Math.round(or.ve*nr)-ar),Dr=Cr+ur-1;Dr>mr+br-1&&(Dr=mr+br-1,Cr=Dr-ur+1),s.fillRect(Mr,Cr,cr-Mr,Dr-Cr+1)}const gr=lr+yr;let Er=Math.max(mr,Math.round(or.pe*nr)-ar),kr=Er+ur-1;kr>mr+br-1&&(kr=mr+br-1,Er=kr-ur+1),s.fillRect(hr+1,Er,gr-hr,kr-Er+1)}}}oe(s){const tr=Math.floor(s);return Math.max(tr,Math.floor(function(nr,rr){return Math.floor(.3*nr*rr)}(b(this.zt).he,s)))}}class jt extends Et{constructor(s,tr){super(s,tr,!1)}Ks(s,tr,nr){tr.Js(this.Is,E(this.zs)),s.me(this.Is,nr,E(this.zs))}be(s,tr,nr){return{ot:s,we:tr.Vt[0],ge:tr.Vt[1],Me:tr.Vt[2],xe:tr.Vt[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const s=this.Ls.$s();this.Is=this.Ls.In().ie().map(tr=>this.ne(tr.se,tr,s))}}class Ht extends jt{constructor(){super(...arguments),this.Ws=new Wt}ne(s,tr,nr){return Object.assign(Object.assign({},this.be(s,tr,nr)),nr.Hs(s))}Gs(){const s=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:s.openVisible,_e:s.thinBars,tt:this.zs})}}class $t extends St{constructor(){super(...arguments),this.Cs=new Tt}ps(s,tr){const nr=this.G;return this.Cs.bs(s,{gs:tr.Se,Ms:tr.ke,xs:tr.ye,Ss:tr.Ce,ks:s.bitmapSize.height,fs:nr.fs})}}class Ut extends Dt{constructor(){super(...arguments),this.Te=new Tt}Ds(s,tr){const nr=this.G;return this.Te.bs(s,{gs:tr.Pe,Ms:tr.Pe,xs:tr.Re,Ss:tr.Re,ks:s.bitmapSize.height,fs:nr.fs})}}class qt extends Nt{constructor(s,tr){super(s,tr),this.Ws=new j,this.De=new $t,this.Ve=new Ut,this.Ws.Z([this.De,this.Ve])}ne(s,tr,nr){return Object.assign(Object.assign({},this.te(s,tr)),nr.Hs(s))}Gs(){const s=this.Ls.Ct();if(s===null)return;const tr=this.Ls.W(),nr=this.Ls.Dt().Rt(tr.baseValue.price,s.Vt),rr=this.Es.St().he();this.De.J({it:this.Is,et:tr.lineWidth,Nt:tr.lineStyle,ds:tr.lineType,fs:nr,vs:!1,tt:this.zs,cs:rr}),this.Ve.J({it:this.Is,et:tr.lineWidth,Nt:tr.lineStyle,ds:tr.lineVisible?tr.lineType:void 0,Rs:tr.pointMarkersVisible?tr.pointMarkersRadius||tr.lineWidth/2+2:void 0,fs:nr,tt:this.zs,cs:rr})}}class Yt extends H{constructor(){super(...arguments),this.zt=null,this.le=0}J(s){this.zt=s}K(s){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:tr}=s;this.le=function(ir,sr){if(ir>=2.5&&ir<=4)return Math.floor(3*sr);const or=1-.2*Math.atan(Math.max(4,ir)-4)/(.5*Math.PI),ar=Math.floor(ir*or*sr),lr=Math.floor(ir*sr),cr=Math.min(ar,lr);return Math.max(Math.floor(sr),cr)}(this.zt.he,tr),this.le>=2&&Math.floor(tr)%2!=this.le%2&&this.le--;const nr=this.zt.In;this.zt.Oe&&this.Be(s,nr,this.zt.tt),this.zt._i&&this.Ae(s,nr,this.zt.tt);const rr=this.Ie(tr);(!this.zt._i||this.le>2*rr)&&this.ze(s,nr,this.zt.tt)}Be(s,tr,nr){if(this.zt===null)return;const{context:rr,horizontalPixelRatio:ir,verticalPixelRatio:sr}=s;let or="",ar=Math.min(Math.floor(ir),Math.floor(this.zt.he*ir));ar=Math.max(Math.floor(ir),Math.min(ar,this.le));const lr=Math.floor(.5*ar);let cr=null;for(let ur=nr.from;ur<nr.to;ur++){const hr=tr[ur];hr.Le!==or&&(rr.fillStyle=hr.Le,or=hr.Le);const dr=Math.round(Math.min(hr.ve,hr.pe)*sr),pr=Math.round(Math.max(hr.ve,hr.pe)*sr),mr=Math.round(hr.ce*sr),xr=Math.round(hr.de*sr);let br=Math.round(ir*hr.nt)-lr;const yr=br+ar-1;cr!==null&&(br=Math.max(cr+1,br),br=Math.min(br,yr));const gr=yr-br+1;rr.fillRect(br,mr,gr,dr-mr),rr.fillRect(br,pr+1,gr,xr-pr),cr=yr}}Ie(s){let tr=Math.floor(1*s);this.le<=2*tr&&(tr=Math.floor(.5*(this.le-1)));const nr=Math.max(Math.floor(s),tr);return this.le<=2*nr?Math.max(Math.floor(s),Math.floor(1*s)):nr}Ae(s,tr,nr){if(this.zt===null)return;const{context:rr,horizontalPixelRatio:ir,verticalPixelRatio:sr}=s;let or="";const ar=this.Ie(ir);let lr=null;for(let cr=nr.from;cr<nr.to;cr++){const ur=tr[cr];ur.Ee!==or&&(rr.fillStyle=ur.Ee,or=ur.Ee);let hr=Math.round(ur.nt*ir)-Math.floor(.5*this.le);const dr=hr+this.le-1,pr=Math.round(Math.min(ur.ve,ur.pe)*sr),mr=Math.round(Math.max(ur.ve,ur.pe)*sr);if(lr!==null&&(hr=Math.max(lr+1,hr),hr=Math.min(hr,dr)),this.zt.he*ir>2*ar)K(rr,hr,pr,dr-hr+1,mr-pr+1,ar);else{const xr=dr-hr+1;rr.fillRect(hr,pr,xr,mr-pr+1)}lr=dr}}ze(s,tr,nr){if(this.zt===null)return;const{context:rr,horizontalPixelRatio:ir,verticalPixelRatio:sr}=s;let or="";const ar=this.Ie(ir);for(let lr=nr.from;lr<nr.to;lr++){const cr=tr[lr];let ur=Math.round(Math.min(cr.ve,cr.pe)*sr),hr=Math.round(Math.max(cr.ve,cr.pe)*sr),dr=Math.round(cr.nt*ir)-Math.floor(.5*this.le),pr=dr+this.le-1;if(cr.ue!==or){const mr=cr.ue;rr.fillStyle=mr,or=mr}this.zt._i&&(dr+=ar,ur+=ar,pr-=ar,hr-=ar),ur>hr||rr.fillRect(dr,ur,pr-dr+1,hr-ur+1)}}}class Zt extends jt{constructor(){super(...arguments),this.Ws=new Yt}ne(s,tr,nr){return Object.assign(Object.assign({},this.be(s,tr,nr)),nr.Hs(s))}Gs(){const s=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Oe:s.wickVisible,_i:s.borderVisible,tt:this.zs})}}class Xt{constructor(s,tr){this.Ne=s,this.Li=tr}X(s,tr,nr){this.Ne.draw(s,this.Li,tr,nr)}}class Kt extends Et{constructor(s,tr,nr){super(s,tr,!1),this.wn=nr,this.Ws=new Xt(this.wn.renderer(),rr=>{const ir=s.Ct();return ir===null?null:s.Dt().Rt(rr,ir.Vt)})}Fe(s){return this.wn.priceValueBuilder(s)}We(s){return this.wn.isWhitespace(s)}qs(){const s=this.Ls.$s();this.Is=this.Ls.In().ie().map(tr=>Object.assign(Object.assign({ot:tr.se,nt:NaN},s.Hs(tr.se)),{je:tr.He}))}Ks(s,tr){tr.Js(this.Is,E(this.zs))}Gs(){this.wn.update({bars:this.Is.map(Gt),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}}function Gt(er){return{x:er.nt,time:er.ot,originalData:er.je,barColor:er.ue}}class Jt extends H{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(s){this.zt=s,this.$e=[]}K({context:s,horizontalPixelRatio:tr,verticalPixelRatio:nr}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.$e.length||this.Ue(tr);const rr=Math.max(1,Math.floor(nr)),ir=Math.round(this.zt.qe*nr)-Math.floor(rr/2),sr=ir+rr;for(let or=this.zt.tt.from;or<this.zt.tt.to;or++){const ar=this.zt.it[or],lr=this.$e[or-this.zt.tt.from],cr=Math.round(ar.st*nr);let ur,hr;s.fillStyle=ar.ue,cr<=ir?(ur=cr,hr=sr):(ur=ir,hr=cr-Math.floor(rr/2)+rr),s.fillRect(lr.Vs,ur,lr.ui-lr.Vs+1,hr-ur)}}Ue(s){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.$e=[]);const tr=Math.ceil(this.zt.he*s)<=1?0:Math.max(1,Math.floor(s)),nr=Math.round(this.zt.he*s)-tr;this.$e=new Array(this.zt.tt.to-this.zt.tt.from);for(let ir=this.zt.tt.from;ir<this.zt.tt.to;ir++){const sr=this.zt.it[ir],or=Math.round(sr.nt*s);let ar,lr;if(nr%2){const cr=(nr-1)/2;ar=or-cr,lr=or+cr}else{const cr=nr/2;ar=or-cr,lr=or+cr-1}this.$e[ir-this.zt.tt.from]={Vs:ar,ui:lr,Ye:or,Ze:sr.nt*s,ot:sr.ot}}for(let ir=this.zt.tt.from+1;ir<this.zt.tt.to;ir++){const sr=this.$e[ir-this.zt.tt.from],or=this.$e[ir-this.zt.tt.from-1];sr.ot===or.ot+1&&sr.Vs-or.ui!==tr+1&&(or.Ye>or.Ze?or.ui=sr.Vs-tr-1:sr.Vs=or.ui+tr+1)}let rr=Math.ceil(this.zt.he*s);for(let ir=this.zt.tt.from;ir<this.zt.tt.to;ir++){const sr=this.$e[ir-this.zt.tt.from];sr.ui<sr.Vs&&(sr.ui=sr.Vs);const or=sr.ui-sr.Vs+1;rr=Math.min(or,rr)}if(tr>0&&rr<4)for(let ir=this.zt.tt.from;ir<this.zt.tt.to;ir++){const sr=this.$e[ir-this.zt.tt.from];sr.ui-sr.Vs+1>rr&&(sr.Ye>sr.Ze?sr.ui-=1:sr.Vs+=1)}}}class Qt extends Nt{constructor(){super(...arguments),this.Ws=new Jt}ne(s,tr,nr){return Object.assign(Object.assign({},this.te(s,tr)),nr.Hs(s))}Gs(){const s={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,b(this.Ls.Ct()).Vt)};this.Ws.J(s)}}class ti extends Nt{constructor(){super(...arguments),this.Ws=new Vt}ne(s,tr,nr){return Object.assign(Object.assign({},this.te(s,tr)),nr.Hs(s))}Gs(){const s=this.Ls.W(),tr={it:this.Is,Nt:s.lineStyle,ds:s.lineVisible?s.lineType:void 0,et:s.lineWidth,Rs:s.pointMarkersVisible?s.pointMarkersRadius||s.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(tr)}}const ii=/[2-9]/g;class ni{constructor(s=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=s}ir(){this.Xe=0,this.Qe.clear(),this.Ke=1,this.Ge=1,this.Je={}}xi(s,tr,nr){return this.nr(s,tr,nr).width}Mi(s,tr,nr){const rr=this.nr(s,tr,nr);return((rr.actualBoundingBoxAscent||0)-(rr.actualBoundingBoxDescent||0))/2}nr(s,tr,nr){const rr=nr||ii,ir=String(tr).replace(rr,"0");if(this.Qe.has(ir))return m(this.Qe.get(ir)).sr;if(this.Xe===this.tr){const or=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(or),this.Ge++,this.Xe--}s.save(),s.textBaseline="middle";const sr=s.measureText(ir);return s.restore(),sr.width===0&&tr.length||(this.Qe.set(ir,{sr,er:this.Ke}),this.Je[this.Ke]=ir,this.Xe++,this.Ke++),sr}}class si{constructor(s){this.rr=null,this.k=null,this.hr="right",this.lr=s}ar(s,tr,nr){this.rr=s,this.k=tr,this.hr=nr}X(s){this.k!==null&&this.rr!==null&&this.rr.X(s,this.k,this.lr,this.hr)}}class ei{constructor(s,tr,nr){this._r=s,this.lr=new ni(50),this.ur=tr,this.F=nr,this.j=-1,this.Wt=new si(this.lr)}gt(){const s=this.F.cr(this.ur);if(s===null)return null;const tr=s.dr(this.ur)?s.vr():this.ur.Dt();if(tr===null)return null;const nr=s.pr(tr);if(nr==="overlay")return null;const rr=this.F.mr();return rr.P!==this.j&&(this.j=rr.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),rr,nr),this.Wt}}class ri extends H{constructor(){super(...arguments),this.zt=null}J(s){this.zt=s}br(s,tr){var nr;if(!(!((nr=this.zt)===null||nr===void 0)&&nr.yt))return null;const{st:rr,et:ir,wr:sr}=this.zt;return tr>=rr-ir-7&&tr<=rr+ir+7?{gr:this.zt,wr:sr}:null}K({context:s,bitmapSize:tr,horizontalPixelRatio:nr,verticalPixelRatio:rr}){if(this.zt===null||this.zt.yt===!1)return;const ir=Math.round(this.zt.st*rr);ir<0||ir>tr.height||(s.lineCap="butt",s.strokeStyle=this.zt.V,s.lineWidth=Math.floor(this.zt.et*nr),f(s,this.zt.Nt),v(s,ir,0,tr.width))}}class hi{constructor(s){this.Mr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.Sr=new ri,this.ft=!0,this.Ls=s,this.Es=s.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}}class li extends hi{constructor(s){super(s)}kr(){this.Mr.yt=!1;const s=this.Ls.Dt(),tr=s.yr().yr;if(tr!==2&&tr!==3)return;const nr=this.Ls.W();if(!nr.baseLineVisible||!this.Ls.yt())return;const rr=this.Ls.Ct();rr!==null&&(this.Mr.yt=!0,this.Mr.st=s.Rt(rr.Vt,rr.Vt),this.Mr.V=nr.baseLineColor,this.Mr.et=nr.baseLineWidth,this.Mr.Nt=nr.baseLineStyle)}}class ai extends H{constructor(){super(...arguments),this.zt=null}J(s){this.zt=s}He(){return this.zt}K({context:s,horizontalPixelRatio:tr,verticalPixelRatio:nr}){const rr=this.zt;if(rr===null)return;const ir=Math.max(1,Math.floor(tr)),sr=ir%2/2,or=Math.round(rr.Ze.x*tr)+sr,ar=rr.Ze.y*nr;s.fillStyle=rr.Cr,s.beginPath();const lr=Math.max(2,1.5*rr.Tr)*tr;s.arc(or,ar,lr,0,2*Math.PI,!1),s.fill(),s.fillStyle=rr.Pr,s.beginPath(),s.arc(or,ar,rr.ht*tr,0,2*Math.PI,!1),s.fill(),s.lineWidth=ir,s.strokeStyle=rr.Rr,s.beginPath(),s.arc(or,ar,rr.ht*tr+ir/2,0,2*Math.PI,!1),s.stroke()}}const oi=[{Dr:0,Vr:.25,Or:4,Br:10,Ar:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Vr:.525,Or:10,Br:14,Ar:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Vr:1,Or:14,Br:14,Ar:0,Ir:0,zr:0,Lr:0}];function _i(er,s,tr,nr){return function(rr,ir){if(rr==="transparent")return rr;const sr=T(rr),or=sr[3];return`rgba(${sr[0]}, ${sr[1]}, ${sr[2]}, ${ir*or})`}(er,tr+(nr-tr)*s)}function ui(er,s){const tr=er%2600/2600;let nr;for(const ar of oi)if(tr>=ar.Dr&&tr<=ar.Vr){nr=ar;break}p(nr!==void 0,"Last price animation internal logic error");const rr=(tr-nr.Dr)/(nr.Vr-nr.Dr);return{Pr:_i(s,rr,nr.Ar,nr.Ir),Rr:_i(s,rr,nr.zr,nr.Lr),ht:(ir=rr,sr=nr.Or,or=nr.Br,sr+(or-sr)*ir)};var ir,sr,or}class ci{constructor(s){this.Wt=new ai,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=s}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),this.Wr.W().lastPriceAnimation===2){const s=performance.now(),tr=this.Fr-s;if(tr>0)return void(tr<650&&(this.Fr+=2600));this.Nr=s,this.Fr=s+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return this.Wr.W().lastPriceAnimation!==0}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);const s=this.Wr.$t().St(),tr=s.Zs(),nr=this.Wr.Ct();if(tr===null||nr===null)return;const rr=this.Wr.Yr(!0);if(rr.Zr||!tr.Xr(rr.se))return;const ir={x:s.It(rr.se),y:this.Wr.Dt().Rt(rr._t,nr.Vt)},sr=rr.V,or=this.Wr.W().lineWidth,ar=ui(this.Kr(),sr);this.Wt.J({Cr:sr,Tr:or,Pr:ar.Pr,Rr:ar.Rr,ht:ar.ht,Ze:ir})}qr(){const s=this.Wt.He();if(s!==null){const tr=ui(this.Kr(),s.Cr);s.Pr=tr.Pr,s.Rr=tr.Rr,s.ht=tr.ht}}Kr(){return this.Ur()?performance.now()-this.Nr:2599}}function di(er,s){return Ct(Math.min(Math.max(er,12),30)*s)}function fi(er,s){switch(er){case"arrowDown":case"arrowUp":return di(s,1);case"circle":return di(s,.8);case"square":return di(s,.7)}}function vi(er){return function(s){const tr=Math.ceil(s);return tr%2!=0?tr-1:tr}(di(er,1))}function pi(er){return Math.max(di(er,.1),3)}function mi(er,s,tr){return s?er:tr?Math.ceil(er/2):0}function bi(er,s,tr,nr,rr){const ir=fi("square",tr),sr=(ir-1)/2,or=er-sr,ar=s-sr;return nr>=or&&nr<=or+ir&&rr>=ar&&rr<=ar+ir}function wi(er,s,tr,nr){const rr=(fi("arrowUp",nr)-1)/2*tr.Gr,ir=(Ct(nr/2)-1)/2*tr.Gr;s.beginPath(),er?(s.moveTo(tr.nt-rr,tr.st),s.lineTo(tr.nt,tr.st-rr),s.lineTo(tr.nt+rr,tr.st),s.lineTo(tr.nt+ir,tr.st),s.lineTo(tr.nt+ir,tr.st+rr),s.lineTo(tr.nt-ir,tr.st+rr),s.lineTo(tr.nt-ir,tr.st)):(s.moveTo(tr.nt-rr,tr.st),s.lineTo(tr.nt,tr.st+rr),s.lineTo(tr.nt+rr,tr.st),s.lineTo(tr.nt+ir,tr.st),s.lineTo(tr.nt+ir,tr.st-rr),s.lineTo(tr.nt-ir,tr.st-rr),s.lineTo(tr.nt-ir,tr.st)),s.fill()}function gi(er,s,tr,nr,rr,ir){return bi(s,tr,nr,rr,ir)}class Mi extends H{constructor(){super(...arguments),this.zt=null,this.lr=new ni,this.j=-1,this.H="",this.Jr=""}J(s){this.zt=s}ar(s,tr){this.j===s&&this.H===tr||(this.j=s,this.H=tr,this.Jr=F(s,tr),this.lr.ir())}br(s,tr){if(this.zt===null||this.zt.tt===null)return null;for(let nr=this.zt.tt.from;nr<this.zt.tt.to;nr++){const rr=this.zt.it[nr];if(Si(rr,s,tr))return{gr:rr.Qr,wr:rr.wr}}return null}K({context:s,horizontalPixelRatio:tr,verticalPixelRatio:nr},rr,ir){if(this.zt!==null&&this.zt.tt!==null){s.textBaseline="middle",s.font=this.Jr;for(let sr=this.zt.tt.from;sr<this.zt.tt.to;sr++){const or=this.zt.it[sr];or.Kt!==void 0&&(or.Kt.Hi=this.lr.xi(s,or.Kt.th),or.Kt.At=this.j,or.Kt.nt=or.nt-or.Kt.Hi/2),xi(or,s,tr,nr)}}}}function xi(er,s,tr,nr){s.fillStyle=er.V,er.Kt!==void 0&&function(rr,ir,sr,or,ar,lr){rr.save(),rr.scale(ar,lr),rr.fillText(ir,sr,or),rr.restore()}(s,er.Kt.th,er.Kt.nt,er.Kt.st,tr,nr),function(rr,ir,sr){if(rr.Xs!==0){switch(rr.ih){case"arrowDown":return void wi(!1,ir,sr,rr.Xs);case"arrowUp":return void wi(!0,ir,sr,rr.Xs);case"circle":return void function(or,ar,lr){const cr=(fi("circle",lr)-1)/2;or.beginPath(),or.arc(ar.nt,ar.st,cr*ar.Gr,0,2*Math.PI,!1),or.fill()}(ir,sr,rr.Xs);case"square":return void function(or,ar,lr){const cr=fi("square",lr),ur=(cr-1)*ar.Gr/2,hr=ar.nt-ur,dr=ar.st-ur;or.fillRect(hr,dr,cr*ar.Gr,cr*ar.Gr)}(ir,sr,rr.Xs)}rr.ih}}(er,s,function(rr,ir,sr){const or=Math.max(1,Math.floor(ir))%2/2;return{nt:Math.round(rr.nt*ir)+or,st:rr.st*sr,Gr:ir}}(er,tr,nr))}function Si(er,s,tr){return!(er.Kt===void 0||!function(nr,rr,ir,sr,or,ar){const lr=sr/2;return or>=nr&&or<=nr+ir&&ar>=rr-lr&&ar<=rr+lr}(er.Kt.nt,er.Kt.st,er.Kt.Hi,er.Kt.At,s,tr))||function(nr,rr,ir){if(nr.Xs===0)return!1;switch(nr.ih){case"arrowDown":case"arrowUp":return gi(0,nr.nt,nr.st,nr.Xs,rr,ir);case"circle":return function(sr,or,ar,lr,cr){const ur=2+fi("circle",ar)/2,hr=sr-lr,dr=or-cr;return Math.sqrt(hr*hr+dr*dr)<=ur}(nr.nt,nr.st,nr.Xs,rr,ir);case"square":return bi(nr.nt,nr.st,nr.Xs,rr,ir)}}(er,s,tr)}function ki(er,s,tr,nr,rr,ir,sr,or,ar){const lr=O(tr)?tr:tr.xe,cr=O(tr)?tr:tr.ge,ur=O(tr)?tr:tr.Me,hr=O(s.size)?Math.max(s.size,0):1,dr=vi(or.he())*hr,pr=dr/2;switch(er.Xs=dr,s.position){case"inBar":return er.st=sr.Rt(lr,ar),void(er.Kt!==void 0&&(er.Kt.st=er.st+pr+ir+.6*rr));case"aboveBar":return er.st=sr.Rt(cr,ar)-pr-nr.nh,er.Kt!==void 0&&(er.Kt.st=er.st-pr-.6*rr,nr.nh+=1.2*rr),void(nr.nh+=dr+ir);case"belowBar":return er.st=sr.Rt(ur,ar)+pr+nr.sh,er.Kt!==void 0&&(er.Kt.st=er.st+pr+ir+.6*rr,nr.sh+=1.2*rr),void(nr.sh+=dr+ir)}s.position}class yi{constructor(s,tr){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new Mi,this.Wr=s,this.$i=tr,this.zt={it:[],tt:null}}bt(s){this.ft=!0,this.rh=!0,s==="data"&&(this.eh=!0,this.ah=null)}gt(s){if(!this.Wr.yt())return null;this.ft&&this.oh();const tr=this.$i.W().layout;return this.Wt.ar(tr.fontSize,tr.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){const s=this.$i.St().he(),tr=pi(s),nr=1.5*vi(s)+2*tr,rr=this.dh();this.hh={above:mi(nr,rr.aboveBar,rr.inBar),below:mi(nr,rr.belowBar,rr.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return this.ah===null&&(this.ah=this.Wr.uh().reduce((s,tr)=>(s[tr.position]||(s[tr.position]=!0),s),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){const s=this.Wr.Dt(),tr=this.$i.St(),nr=this.Wr.uh();this.eh&&(this.zt.it=nr.map(cr=>({ot:cr.time,nt:0,st:0,Xs:0,ih:cr.shape,V:cr.color,Qr:cr.Qr,wr:cr.id,Kt:void 0})),this.eh=!1);const rr=this.$i.W().layout;this.zt.tt=null;const ir=tr.Zs();if(ir===null)return;const sr=this.Wr.Ct();if(sr===null||this.zt.it.length===0)return;let or=NaN;const ar=pi(tr.he()),lr={nh:ar,sh:ar};this.zt.tt=Lt(this.zt.it,ir,!0);for(let cr=this.zt.tt.from;cr<this.zt.tt.to;cr++){const ur=nr[cr];ur.time!==or&&(lr.nh=ar,lr.sh=ar,or=ur.time);const hr=this.zt.it[cr];hr.nt=tr.It(ur.time),ur.text!==void 0&&ur.text.length>0&&(hr.Kt={th:ur.text,nt:0,st:0,Hi:0,At:0});const dr=this.Wr.fh(ur.time);dr!==null&&ki(hr,ur,dr,lr,rr.fontSize,ar,s,tr,sr.Vt)}this.ft=!1}}class Ci extends hi{constructor(s){super(s)}kr(){const s=this.Mr;s.yt=!1;const tr=this.Ls.W();if(!tr.priceLineVisible||!this.Ls.yt())return;const nr=this.Ls.Yr(tr.priceLineSource===0);nr.Zr||(s.yt=!0,s.st=nr.ki,s.V=this.Ls.ph(nr.V),s.et=tr.priceLineWidth,s.Nt=tr.priceLineStyle)}}class Ti extends nt{constructor(s){super(),this.jt=s}zi(s,tr,nr){s.yt=!1,tr.yt=!1;const rr=this.jt;if(!rr.yt())return;const ir=rr.W(),sr=ir.lastValueVisible,or=rr.mh()!=="",ar=ir.seriesLastValueMode===0,lr=rr.Yr(!1);if(lr.Zr)return;sr&&(s.Kt=this.bh(lr,sr,ar),s.yt=s.Kt.length!==0),(or||ar)&&(tr.Kt=this.wh(lr,sr,or,ar),tr.yt=tr.Kt.length>0);const cr=rr.ph(lr.V),ur=R(cr);nr.t=ur.t,nr.ki=lr.ki,tr.Ot=rr.$t().Bt(lr.ki/rr.Dt().At()),s.Ot=cr,s.V=ur.i,tr.V=ur.i}wh(s,tr,nr,rr){let ir="";const sr=this.jt.mh();return nr&&sr.length!==0&&(ir+=`${sr} `),tr&&rr&&(ir+=this.jt.Dt().gh()?s.Mh:s.xh),ir.trim()}bh(s,tr,nr){return tr?nr?this.jt.Dt().gh()?s.xh:s.Mh:s.Kt:""}}function Pi(er,s,tr,nr){const rr=Number.isFinite(s),ir=Number.isFinite(tr);return rr&&ir?er(s,tr):rr||ir?rr?s:tr:nr}class Ri{constructor(s,tr){this.Sh=s,this.kh=tr}yh(s){return s!==null&&this.Sh===s.Sh&&this.kh===s.kh}Ch(){return new Ri(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(s){return s===null?this:new Ri(Pi(Math.min,this.Th(),s.Th(),-1/0),Pi(Math.max,this.Ph(),s.Ph(),1/0))}Dh(s){if(!O(s)||this.kh-this.Sh===0)return;const tr=.5*(this.kh+this.Sh);let nr=this.kh-tr,rr=this.Sh-tr;nr*=s,rr*=s,this.kh=tr+nr,this.Sh=tr+rr}Vh(s){O(s)&&(this.kh+=s,this.Sh+=s)}Oh(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(s){return s===null?null:new Ri(s.minValue,s.maxValue)}}class Di{constructor(s,tr){this.Ah=s,this.Ih=tr||null}zh(){return this.Ah}Lh(){return this.Ih}Oh(){return this.Ah===null?null:{priceRange:this.Ah.Oh(),margins:this.Ih||void 0}}static Bh(s){return s===null?null:new Di(Ri.Bh(s.priceRange),s.margins)}}class Vi extends hi{constructor(s,tr){super(s),this.Eh=tr}kr(){const s=this.Mr;s.yt=!1;const tr=this.Eh.W();if(!this.Ls.yt()||!tr.lineVisible)return;const nr=this.Eh.Nh();nr!==null&&(s.yt=!0,s.st=nr,s.V=tr.color,s.et=tr.lineWidth,s.Nt=tr.lineStyle,s.wr=this.Eh.W().id)}}class Oi extends nt{constructor(s,tr){super(),this.Wr=s,this.Eh=tr}zi(s,tr,nr){s.yt=!1,tr.yt=!1;const rr=this.Eh.W(),ir=rr.axisLabelVisible,sr=rr.title!=="",or=this.Wr;if(!ir||!or.yt())return;const ar=this.Eh.Nh();if(ar===null)return;sr&&(tr.Kt=rr.title,tr.yt=!0),tr.Ot=or.$t().Bt(ar/or.Dt().At()),s.Kt=this.Fh(rr.price),s.yt=!0;const lr=R(rr.axisLabelColor||rr.color);nr.t=lr.t;const cr=rr.axisLabelTextColor||lr.i;s.V=cr,tr.V=cr,nr.ki=ar}Fh(s){const tr=this.Wr.Ct();return tr===null?"":this.Wr.Dt().Fi(s,tr.Vt)}}class Bi{constructor(s,tr){this.Wr=s,this.cn=tr,this.Wh=new Vi(s,this),this._r=new Oi(s,this),this.jh=new ei(this._r,s,s.$t())}Hh(s){V(this.cn,s),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){const s=this.Wr,tr=s.Dt();if(s.$t().St().Ni()||tr.Ni())return null;const nr=s.Ct();return nr===null?null:tr.Rt(this.cn.price,nr.Vt)}}class Ai extends lt{constructor(s){super(),this.$i=s}$t(){return this.$i}}const Ii={Bar:(er,s,tr,nr)=>{var rr;const ir=s.upColor,sr=s.downColor,or=b(er(tr,nr)),ar=w(or.Vt[0])<=w(or.Vt[3]);return{ue:(rr=or.V)!==null&&rr!==void 0?rr:ar?ir:sr}},Candlestick:(er,s,tr,nr)=>{var rr,ir,sr;const or=s.upColor,ar=s.downColor,lr=s.borderUpColor,cr=s.borderDownColor,ur=s.wickUpColor,hr=s.wickDownColor,dr=b(er(tr,nr)),pr=w(dr.Vt[0])<=w(dr.Vt[3]);return{ue:(rr=dr.V)!==null&&rr!==void 0?rr:pr?or:ar,Ee:(ir=dr.Ot)!==null&&ir!==void 0?ir:pr?lr:cr,Le:(sr=dr.Zh)!==null&&sr!==void 0?sr:pr?ur:hr}},Custom:(er,s,tr,nr)=>{var rr;return{ue:(rr=b(er(tr,nr)).V)!==null&&rr!==void 0?rr:s.color}},Area:(er,s,tr,nr)=>{var rr,ir,sr,or;const ar=b(er(tr,nr));return{ue:(rr=ar.lt)!==null&&rr!==void 0?rr:s.lineColor,lt:(ir=ar.lt)!==null&&ir!==void 0?ir:s.lineColor,Ts:(sr=ar.Ts)!==null&&sr!==void 0?sr:s.topColor,Ps:(or=ar.Ps)!==null&&or!==void 0?or:s.bottomColor}},Baseline:(er,s,tr,nr)=>{var rr,ir,sr,or,ar,lr;const cr=b(er(tr,nr));return{ue:cr.Vt[3]>=s.baseValue.price?s.topLineColor:s.bottomLineColor,Pe:(rr=cr.Pe)!==null&&rr!==void 0?rr:s.topLineColor,Re:(ir=cr.Re)!==null&&ir!==void 0?ir:s.bottomLineColor,Se:(sr=cr.Se)!==null&&sr!==void 0?sr:s.topFillColor1,ke:(or=cr.ke)!==null&&or!==void 0?or:s.topFillColor2,ye:(ar=cr.ye)!==null&&ar!==void 0?ar:s.bottomFillColor1,Ce:(lr=cr.Ce)!==null&&lr!==void 0?lr:s.bottomFillColor2}},Line:(er,s,tr,nr)=>{var rr,ir;const sr=b(er(tr,nr));return{ue:(rr=sr.V)!==null&&rr!==void 0?rr:s.color,lt:(ir=sr.V)!==null&&ir!==void 0?ir:s.color}},Histogram:(er,s,tr,nr)=>{var rr;return{ue:(rr=b(er(tr,nr)).V)!==null&&rr!==void 0?rr:s.color}}};class zi{constructor(s){this.Xh=(tr,nr)=>nr!==void 0?nr.Vt:this.Wr.In().Kh(tr),this.Wr=s,this.Gh=Ii[s.Jh()]}Hs(s,tr){return this.Gh(this.Xh,this.Wr.W(),s,tr)}}var Li;(function(er){er[er.NearestLeft=-1]="NearestLeft",er[er.None=0]="None",er[er.NearestRight=1]="NearestRight"})(Li||(Li={}));const Ei=30;class Ni{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Xs()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Xs()>0?this.el(0):null}An(){return this.Xs()>0?this.el(this.Qh.length-1):null}Xs(){return this.Qh.length}Ni(){return this.Xs()===0}Xr(s){return this.rl(s,0)!==null}Kh(s){return this.hl(s)}hl(s,tr=0){const nr=this.rl(s,tr);return nr===null?null:Object.assign(Object.assign({},this.ll(nr)),{se:this.el(nr)})}ie(){return this.Qh}al(s,tr,nr){if(this.Ni())return null;let rr=null;for(const ir of nr)rr=Fi(rr,this.ol(s,tr,ir));return rr}J(s){this.il.clear(),this.tl.clear(),this.Qh=s}el(s){return this.Qh[s].se}ll(s){return this.Qh[s]}rl(s,tr){const nr=this._l(s);if(nr===null&&tr!==0)switch(tr){case-1:return this.ul(s);case 1:return this.cl(s);default:throw new TypeError("Unknown search mode")}return nr}ul(s){let tr=this.dl(s);return tr>0&&(tr-=1),tr!==this.Qh.length&&this.el(tr)<s?tr:null}cl(s){const tr=this.fl(s);return tr!==this.Qh.length&&s<this.el(tr)?tr:null}_l(s){const tr=this.dl(s);return tr===this.Qh.length||s<this.Qh[tr].se?null:tr}dl(s){return Bt(this.Qh,s,(tr,nr)=>tr.se<nr)}fl(s){return At(this.Qh,s,(tr,nr)=>tr.se>nr)}vl(s,tr,nr){let rr=null;for(let ir=s;ir<tr;ir++){const sr=this.Qh[ir].Vt[nr];Number.isNaN(sr)||(rr===null?rr={pl:sr,ml:sr}:(sr<rr.pl&&(rr.pl=sr),sr>rr.ml&&(rr.ml=sr)))}return rr}ol(s,tr,nr){if(this.Ni())return null;let rr=null;const ir=b(this.sl()),sr=b(this.An()),or=Math.max(s,ir),ar=Math.min(tr,sr),lr=Math.ceil(or/Ei)*Ei,cr=Math.max(lr,Math.floor(ar/Ei)*Ei);{const hr=this.dl(or),dr=this.fl(Math.min(ar,lr,tr));rr=Fi(rr,this.vl(hr,dr,nr))}let ur=this.tl.get(nr);ur===void 0&&(ur=new Map,this.tl.set(nr,ur));for(let hr=Math.max(lr+1,or);hr<cr;hr+=Ei){const dr=Math.floor(hr/Ei);let pr=ur.get(dr);if(pr===void 0){const mr=this.dl(dr*Ei),xr=this.fl((dr+1)*Ei-1);pr=this.vl(mr,xr,nr),ur.set(dr,pr)}rr=Fi(rr,pr)}{const hr=this.dl(cr),dr=this.fl(ar);rr=Fi(rr,this.vl(hr,dr,nr))}return rr}}function Fi(er,s){return er===null?s:s===null?er:{pl:Math.min(er.pl,s.pl),ml:Math.max(er.ml,s.ml)}}class Wi{constructor(s){this.bl=s}X(s,tr,nr){this.bl.draw(s)}wl(s,tr,nr){var rr,ir;(ir=(rr=this.bl).drawBackground)===null||ir===void 0||ir.call(rr,s)}}class ji{constructor(s){this.Qe=null,this.wn=s}gt(){var s;const tr=this.wn.renderer();if(tr===null)return null;if(((s=this.Qe)===null||s===void 0?void 0:s.gl)===tr)return this.Qe.Ml;const nr=new Wi(tr);return this.Qe={gl:tr,Ml:nr},nr}xl(){var s,tr,nr;return(nr=(tr=(s=this.wn).zOrder)===null||tr===void 0?void 0:tr.call(s))!==null&&nr!==void 0?nr:"normal"}}function Hi(er){var s,tr,nr,rr,ir;return{Kt:er.text(),ki:er.coordinate(),Si:(s=er.fixedCoordinate)===null||s===void 0?void 0:s.call(er),V:er.textColor(),t:er.backColor(),yt:(nr=(tr=er.visible)===null||tr===void 0?void 0:tr.call(er))===null||nr===void 0||nr,hi:(ir=(rr=er.tickVisible)===null||rr===void 0?void 0:rr.call(er))===null||ir===void 0||ir}}class $i{constructor(s,tr){this.Wt=new rt,this.Sl=s,this.kl=tr}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},Hi(this.Sl))),this.Wt}}class Ui extends nt{constructor(s,tr){super(),this.Sl=s,this.Li=tr}zi(s,tr,nr){const rr=Hi(this.Sl);nr.t=rr.t,s.V=rr.V;const ir=2/12*this.Li.P();nr.wi=ir,nr.gi=ir,nr.ki=rr.ki,nr.Si=rr.Si,s.Kt=rr.Kt,s.yt=rr.yt,s.hi=rr.hi}}class qi{constructor(s,tr){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=s,this.Wr=tr}Vl(){return this.Dl}Vn(){var s,tr;(tr=(s=this.Dl).updateAllViews)===null||tr===void 0||tr.call(s)}Pn(){var s,tr,nr,rr;const ir=(nr=(tr=(s=this.Dl).paneViews)===null||tr===void 0?void 0:tr.call(s))!==null&&nr!==void 0?nr:[];if(((rr=this.yl)===null||rr===void 0?void 0:rr.gl)===ir)return this.yl.Ml;const sr=ir.map(or=>new ji(or));return this.yl={gl:ir,Ml:sr},sr}Qi(){var s,tr,nr,rr;const ir=(nr=(tr=(s=this.Dl).timeAxisViews)===null||tr===void 0?void 0:tr.call(s))!==null&&nr!==void 0?nr:[];if(((rr=this.Cl)===null||rr===void 0?void 0:rr.gl)===ir)return this.Cl.Ml;const sr=this.Wr.$t().St(),or=ir.map(ar=>new $i(ar,sr));return this.Cl={gl:ir,Ml:or},or}Rn(){var s,tr,nr,rr;const ir=(nr=(tr=(s=this.Dl).priceAxisViews)===null||tr===void 0?void 0:tr.call(s))!==null&&nr!==void 0?nr:[];if(((rr=this.Tl)===null||rr===void 0?void 0:rr.gl)===ir)return this.Tl.Ml;const sr=this.Wr.Dt(),or=ir.map(ar=>new Ui(ar,sr));return this.Tl={gl:ir,Ml:or},or}Ol(){var s,tr,nr,rr;const ir=(nr=(tr=(s=this.Dl).priceAxisPaneViews)===null||tr===void 0?void 0:tr.call(s))!==null&&nr!==void 0?nr:[];if(((rr=this.Pl)===null||rr===void 0?void 0:rr.gl)===ir)return this.Pl.Ml;const sr=ir.map(or=>new ji(or));return this.Pl={gl:ir,Ml:sr},sr}Bl(){var s,tr,nr,rr;const ir=(nr=(tr=(s=this.Dl).timeAxisPaneViews)===null||tr===void 0?void 0:tr.call(s))!==null&&nr!==void 0?nr:[];if(((rr=this.Rl)===null||rr===void 0?void 0:rr.gl)===ir)return this.Rl.Ml;const sr=ir.map(or=>new ji(or));return this.Rl={gl:ir,Ml:sr},sr}Al(s,tr){var nr,rr,ir;return(ir=(rr=(nr=this.Dl).autoscaleInfo)===null||rr===void 0?void 0:rr.call(nr,s,tr))!==null&&ir!==void 0?ir:null}br(s,tr){var nr,rr,ir;return(ir=(rr=(nr=this.Dl).hitTest)===null||rr===void 0?void 0:rr.call(nr,s,tr))!==null&&ir!==void 0?ir:null}}function Yi(er,s,tr,nr){er.forEach(rr=>{s(rr).forEach(ir=>{ir.xl()===tr&&nr.push(ir)})})}function Zi(er){return er.Pn()}function Xi(er){return er.Ol()}function Ki(er){return er.Bl()}class Gi extends Ai{constructor(s,tr,nr,rr,ir){super(s),this.zt=new Ni,this.Wh=new Ci(this),this.Il=[],this.zl=new li(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=tr,this.Hl=nr;const sr=new Ti(this);this.rn=[sr],this.jh=new ei(sr,this,s),nr!=="Area"&&nr!=="Line"&&nr!=="Baseline"||(this.Ll=new ci(this)),this.$l(),this.Ul(ir)}S(){this.Wl!==null&&clearTimeout(this.Wl)}ph(s){return this.cn.priceLineColor||s}Yr(s){const tr={Zr:!0},nr=this.Dt();if(this.$t().St().Ni()||nr.Ni()||this.zt.Ni())return tr;const rr=this.$t().St().Zs(),ir=this.Ct();if(rr===null||ir===null)return tr;let sr,or;if(s){const ur=this.zt.nl();if(ur===null)return tr;sr=ur,or=ur.se}else{const ur=this.zt.hl(rr.ui(),-1);if(ur===null||(sr=this.zt.Kh(ur.se),sr===null))return tr;or=ur.se}const ar=sr.Vt[3],lr=this.$s().Hs(or,{Vt:sr}),cr=nr.Rt(ar,ir.Vt);return{Zr:!1,_t:ar,Kt:nr.Fi(ar,ir.Vt),Mh:nr.ql(ar),xh:nr.Yl(ar,ir.Vt),V:lr.ue,ki:cr,se:or}}$s(){return this.El!==null||(this.El=new zi(this)),this.El}W(){return this.cn}Hh(s){const tr=s.priceScaleId;tr!==void 0&&tr!==this.cn.priceScaleId&&this.$t().Zl(this,tr),V(this.cn,s),s.priceFormat!==void 0&&(this.$l(),this.$t().Xl()),this.$t().Kl(this),this.$t().Gl(),this.wn.bt("options")}J(s,tr){this.zt.J(s),this.Jl(),this.wn.bt("data"),this.dn.bt("data"),this.Ll!==null&&(tr&&tr.Ql?this.Ll.Hr():s.length===0&&this.Ll.jr());const nr=this.$t().cr(this);this.$t().ta(nr),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}ia(s){this.Nl=s,this.Jl();const tr=this.$t().cr(this);this.dn.bt("data"),this.$t().ta(tr),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(s){const tr=new Bi(this,s);return this.Il.push(tr),this.$t().Kl(this),tr}ea(s){const tr=this.Il.indexOf(s);tr!==-1&&this.Il.splice(tr,1),this.$t().Kl(this)}Jh(){return this.Hl}Ct(){const s=this.ra();return s===null?null:{Vt:s.Vt[3],ha:s.ot}}ra(){const s=this.$t().St().Zs();if(s===null)return null;const tr=s.Vs();return this.zt.hl(tr,1)}In(){return this.zt}fh(s){const tr=this.zt.Kh(s);return tr===null?null:this.Hl==="Bar"||this.Hl==="Candlestick"||this.Hl==="Custom"?{we:tr.Vt[0],ge:tr.Vt[1],Me:tr.Vt[2],xe:tr.Vt[3]}:tr.Vt[3]}la(s){const tr=[];Yi(this.jl,Zi,"top",tr);const nr=this.Ll;return nr!==null&&nr.yt()&&(this.Wl===null&&nr.Ur()&&(this.Wl=setTimeout(()=>{this.Wl=null,this.$t().aa()},0)),nr.$r(),tr.unshift(nr)),tr}Pn(){const s=[];this.oa()||s.push(this.zl),s.push(this.wn,this.Wh,this.dn);const tr=this.Il.map(nr=>nr.Uh());return s.push(...tr),Yi(this.jl,Zi,"normal",s),s}_a(){return this.ua(Zi,"bottom")}ca(s){return this.ua(Xi,s)}da(s){return this.ua(Ki,s)}fa(s,tr){return this.jl.map(nr=>nr.br(s,tr)).filter(nr=>nr!==null)}Ji(s){return[this.jh,...this.Il.map(tr=>tr.qh())]}Rn(s,tr){if(tr!==this.Yi&&!this.oa())return[];const nr=[...this.rn];for(const rr of this.Il)nr.push(rr.Yh());return this.jl.forEach(rr=>{nr.push(...rr.Rn())}),nr}Qi(){const s=[];return this.jl.forEach(tr=>{s.push(...tr.Qi())}),s}Al(s,tr){if(this.cn.autoscaleInfoProvider!==void 0){const nr=this.cn.autoscaleInfoProvider(()=>{const rr=this.va(s,tr);return rr===null?null:rr.Oh()});return Di.Bh(nr)}return this.va(s,tr)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}Vn(){var s;this.wn.bt(),this.dn.bt();for(const tr of this.rn)tr.bt();for(const tr of this.Il)tr.bt();this.Wh.bt(),this.zl.bt(),(s=this.Ll)===null||s===void 0||s.bt(),this.jl.forEach(tr=>tr.Vn())}Dt(){return b(super.Dt())}kt(s){if(!((this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const tr=this.zt.Kh(s);return tr===null?null:{_t:tr.Vt[3],ht:this.wa(),Ot:this.ga(),Pt:this.Ma(),Tt:this.xa(s)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(s){this.jl.push(new qi(s,this))}ka(s){this.jl=this.jl.filter(tr=>tr.Vl()!==s)}ya(){if(this.wn instanceof Kt)return s=>this.wn.Fe(s)}Ca(){if(this.wn instanceof Kt)return s=>this.wn.We(s)}oa(){return!_t(this.Dt().Ta())}va(s,tr){if(!B(s)||!B(tr)||this.zt.Ni())return null;const nr=this.Hl==="Line"||this.Hl==="Area"||this.Hl==="Baseline"||this.Hl==="Histogram"?[3]:[2,1],rr=this.zt.al(s,tr,nr);let ir=rr!==null?new Ri(rr.pl,rr.ml):null;if(this.Jh()==="Histogram"){const or=this.cn.base,ar=new Ri(or,or);ir=ir!==null?ir.ts(ar):ar}let sr=this.dn._h();return this.jl.forEach(or=>{const ar=or.Al(s,tr);if(ar!=null&&ar.priceRange){const dr=new Ri(ar.priceRange.minValue,ar.priceRange.maxValue);ir=ir!==null?ir.ts(dr):dr}var lr,cr,ur,hr;ar!=null&&ar.margins&&(lr=sr,cr=ar.margins,sr={above:Math.max((ur=lr==null?void 0:lr.above)!==null&&ur!==void 0?ur:0,cr.above),below:Math.max((hr=lr==null?void 0:lr.below)!==null&&hr!==void 0?hr:0,cr.below)})}),new Di(ir,sr)}wa(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case"Line":case"Area":case"Baseline":{const s=this.cn.crosshairMarkerBorderColor;if(s.length!==0)return s}}return null}Ma(){switch(this.Hl){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}xa(s){switch(this.Hl){case"Line":case"Area":case"Baseline":{const tr=this.cn.crosshairMarkerBackgroundColor;if(tr.length!==0)return tr}}return this.$s().Hs(s).ue}$l(){switch(this.cn.priceFormat.type){case"custom":this.ba={format:this.cn.priceFormat.formatter};break;case"volume":this.ba=new pt(this.cn.priceFormat.precision);break;case"percent":this.ba=new vt(this.cn.priceFormat.precision);break;default:{const s=Math.pow(10,this.cn.priceFormat.precision);this.ba=new ft(s,this.cn.priceFormat.minMove*s)}}this.Yi!==null&&this.Yi.Pa()}Jl(){const s=this.$t().St();if(!s.Ra()||this.zt.Ni())return void(this.Fl=[]);const tr=b(this.zt.sl());this.Fl=this.Nl.map((nr,rr)=>{const ir=b(s.Da(nr.time,!0)),sr=ir<tr?1:-1;return{time:b(this.zt.hl(ir,sr)).se,position:nr.position,shape:nr.shape,color:nr.color,id:nr.id,Qr:rr,text:nr.text,size:nr.size,originalTime:nr.originalTime}})}Ul(s){switch(this.dn=new yi(this,this.$t()),this.Hl){case"Bar":this.wn=new Ht(this,this.$t());break;case"Candlestick":this.wn=new Zt(this,this.$t());break;case"Line":this.wn=new ti(this,this.$t());break;case"Custom":this.wn=new Kt(this,this.$t(),m(s));break;case"Area":this.wn=new Ft(this,this.$t());break;case"Baseline":this.wn=new qt(this,this.$t());break;case"Histogram":this.wn=new Qt(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.Hl)}}ua(s,tr){const nr=[];return Yi(this.jl,s,tr,nr),nr}}class Ji{constructor(s){this.cn=s}Va(s,tr,nr){let rr=s;if(this.cn.mode===0)return rr;const ir=nr.vn(),sr=ir.Ct();if(sr===null)return rr;const or=ir.Rt(s,sr),ar=nr.Oa().filter(cr=>cr instanceof Gi).reduce((cr,ur)=>{if(nr.dr(ur)||!ur.yt())return cr;const hr=ur.Dt(),dr=ur.In();if(hr.Ni()||!dr.Xr(tr))return cr;const pr=dr.Kh(tr);if(pr===null)return cr;const mr=w(ur.Ct());return cr.concat([hr.Rt(pr.Vt[3],mr.Vt)])},[]);if(ar.length===0)return rr;ar.sort((cr,ur)=>Math.abs(cr-or)-Math.abs(ur-or));const lr=ar[0];return rr=ir.pn(lr,sr),rr}}class Qi extends H{constructor(){super(...arguments),this.zt=null}J(s){this.zt=s}K({context:s,bitmapSize:tr,horizontalPixelRatio:nr,verticalPixelRatio:rr}){if(this.zt===null)return;const ir=Math.max(1,Math.floor(nr));s.lineWidth=ir,function(sr,or){sr.save(),sr.lineWidth%2&&sr.translate(.5,.5),or(),sr.restore()}(s,()=>{const sr=b(this.zt);if(sr.Ba){s.strokeStyle=sr.Aa,f(s,sr.Ia),s.beginPath();for(const or of sr.za){const ar=Math.round(or.La*nr);s.moveTo(ar,-ir),s.lineTo(ar,tr.height+ir)}s.stroke()}if(sr.Ea){s.strokeStyle=sr.Na,f(s,sr.Fa),s.beginPath();for(const or of sr.Wa){const ar=Math.round(or.La*rr);s.moveTo(-ir,ar),s.lineTo(tr.width+ir,ar)}s.stroke()}})}}class tn{constructor(s){this.Wt=new Qi,this.ft=!0,this.tn=s}bt(){this.ft=!0}gt(){if(this.ft){const s=this.tn.$t().W().grid,tr={Ea:s.horzLines.visible,Ba:s.vertLines.visible,Na:s.horzLines.color,Aa:s.vertLines.color,Fa:s.horzLines.style,Ia:s.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map(nr=>({La:nr.coord}))};this.Wt.J(tr),this.ft=!1}return this.Wt}}class nn{constructor(s){this.wn=new tn(s)}Uh(){return this.wn}}const sn={Ha:4,$a:1e-4};function en(er,s){const tr=100*(er-s)/s;return s<0?-tr:tr}function rn(er,s){const tr=en(er.Th(),s),nr=en(er.Ph(),s);return new Ri(tr,nr)}function hn(er,s){const tr=100*(er-s)/s+100;return s<0?-tr:tr}function ln(er,s){const tr=hn(er.Th(),s),nr=hn(er.Ph(),s);return new Ri(tr,nr)}function an(er,s){const tr=Math.abs(er);if(tr<1e-15)return 0;const nr=Math.log10(tr+s.$a)+s.Ha;return er<0?-nr:nr}function on(er,s){const tr=Math.abs(er);if(tr<1e-15)return 0;const nr=Math.pow(10,tr-s.Ha)-s.$a;return er<0?-nr:nr}function _n(er,s){if(er===null)return null;const tr=an(er.Th(),s),nr=an(er.Ph(),s);return new Ri(tr,nr)}function un(er,s){if(er===null)return null;const tr=on(er.Th(),s),nr=on(er.Ph(),s);return new Ri(tr,nr)}function cn(er){if(er===null)return sn;const s=Math.abs(er.Ph()-er.Th());if(s>=1||s<1e-15)return sn;const tr=Math.ceil(Math.abs(Math.log10(s))),nr=sn.Ha+tr;return{Ha:nr,$a:1/Math.pow(10,nr)}}class dn{constructor(s,tr){if(this.Ua=s,this.qa=tr,function(nr){if(nr<0)return!1;for(let rr=nr;rr>1;rr/=10)if(rr%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let nr=this.Ua;nr!==1;){if(nr%2==0)this.Ya.push(2),nr/=2;else{if(nr%5!=0)throw new Error("unexpected base");this.Ya.push(2,2.5),nr/=5}if(this.Ya.length>100)throw new Error("something wrong with base")}}}Za(s,tr,nr){const rr=this.Ua===0?0:1/this.Ua;let ir=Math.pow(10,Math.max(0,Math.ceil(Math.log10(s-tr)))),sr=0,or=this.qa[0];for(;;){const ur=yt(ir,rr,1e-14)&&ir>rr+1e-14,hr=yt(ir,nr*or,1e-14),dr=yt(ir,1,1e-14);if(!(ur&&hr&&dr))break;ir/=or,or=this.qa[++sr%this.qa.length]}if(ir<=rr+1e-14&&(ir=rr),ir=Math.max(1,ir),this.Ya.length>0&&(ar=ir,lr=1,cr=1e-14,Math.abs(ar-lr)<cr))for(sr=0,or=this.Ya[0];yt(ir,nr*or,1e-14)&&ir>rr+1e-14;)ir/=or,or=this.Ya[++sr%this.Ya.length];var ar,lr,cr;return ir}}class fn{constructor(s,tr,nr,rr){this.Xa=[],this.Li=s,this.Ua=tr,this.Ka=nr,this.Ga=rr}Za(s,tr){if(s<tr)throw new Error("high < low");const nr=this.Li.At(),rr=(s-tr)*this.Ja()/nr,ir=new dn(this.Ua,[2,2.5,2]),sr=new dn(this.Ua,[2,2,2.5]),or=new dn(this.Ua,[2.5,2,2]),ar=[];return ar.push(ir.Za(s,tr,rr),sr.Za(s,tr,rr),or.Za(s,tr,rr)),function(lr){if(lr.length<1)throw Error("array is empty");let cr=lr[0];for(let ur=1;ur<lr.length;++ur)lr[ur]<cr&&(cr=lr[ur]);return cr}(ar)}Qa(){const s=this.Li,tr=s.Ct();if(tr===null)return void(this.Xa=[]);const nr=s.At(),rr=this.Ka(nr-1,tr),ir=this.Ka(0,tr),sr=this.Li.W().entireTextOnly?this.io()/2:0,or=sr,ar=nr-1-sr,lr=Math.max(rr,ir),cr=Math.min(rr,ir);if(lr===cr)return void(this.Xa=[]);let ur=this.Za(lr,cr),hr=lr%ur;hr+=hr<0?ur:0;const dr=lr>=cr?1:-1;let pr=null,mr=0;for(let xr=lr-hr;xr>cr;xr-=ur){const br=this.Ga(xr,tr,!0);pr!==null&&Math.abs(br-pr)<this.Ja()||br<or||br>ar||(mr<this.Xa.length?(this.Xa[mr].La=br,this.Xa[mr].no=s.so(xr)):this.Xa.push({La:br,no:s.so(xr)}),mr++,pr=br,s.eo()&&(ur=this.Za(xr*dr,cr)))}this.Xa.length=mr}ja(){return this.Xa}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}}function vn(er){return er.slice().sort((s,tr)=>b(s.Xi())-b(tr.Xi()))}var pn;(function(er){er[er.Normal=0]="Normal",er[er.Logarithmic=1]="Logarithmic",er[er.Percentage=2]="Percentage",er[er.IndexedTo100=3]="IndexedTo100"})(pn||(pn={}));const mn=new vt,bn=new ft(100,1);class wn{constructor(s,tr,nr,rr){this.ro=0,this.ho=null,this.Ah=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new D,this.fo=new D,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=bn,this.Mo=cn(null),this.xo=s,this.cn=tr,this.So=nr,this.ko=rr,this.yo=new fn(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(s){if(V(this.cn,s),this.Pa(),s.mode!==void 0&&this.Po({yr:s.mode}),s.scaleMargins!==void 0){const tr=m(s.scaleMargins.top),nr=m(s.scaleMargins.bottom);if(tr<0||tr>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${tr}`);if(nr<0||nr>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${nr}`);if(tr+nr>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${tr+nr}`);this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return this.cn.mode===1}gh(){return this.cn.mode===2}Vo(){return this.cn.mode===3}yr(){return{Wn:this.cn.autoScale,Oo:this.cn.invertScale,yr:this.cn.mode}}Po(s){const tr=this.yr();let nr=null;s.Wn!==void 0&&(this.cn.autoScale=s.Wn),s.yr!==void 0&&(this.cn.mode=s.yr,s.yr!==2&&s.yr!==3||(this.cn.autoScale=!0),this.ao.oo=!1),tr.yr===1&&s.yr!==tr.yr&&(function(ir,sr){if(ir===null)return!1;const or=on(ir.Th(),sr),ar=on(ir.Ph(),sr);return isFinite(or)&&isFinite(ar)}(this.Ah,this.Mo)?(nr=un(this.Ah,this.Mo),nr!==null&&this.Bo(nr)):this.cn.autoScale=!0),s.yr===1&&s.yr!==tr.yr&&(nr=_n(this.Ah,this.Mo),nr!==null&&this.Bo(nr));const rr=tr.yr!==this.cn.mode;rr&&(tr.yr===2||this.gh())&&this.Pa(),rr&&(tr.yr===3||this.Vo())&&this.Pa(),s.Oo!==void 0&&tr.Oo!==s.Oo&&(this.cn.invertScale=s.Oo,this.Ao()),this.fo.m(tr,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}At(){return this.ro}zo(s){this.ro!==s&&(this.ro=s,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;const s=this.At()-this.Eo()-this.No();return this.ho=s,s}zh(){return this.Fo(),this.Ah}Bo(s,tr){const nr=this.Ah;(tr||nr===null&&s!==null||nr!==null&&!nr.yh(s))&&(this.mo=null,this.Ah=s)}Ni(){return this.Fo(),this.ro===0||!this.Ah||this.Ah.Ni()}Wo(s){return this.Oo()?s:this.At()-1-s}Rt(s,tr){return this.gh()?s=en(s,tr):this.Vo()&&(s=hn(s,tr)),this.To(s,tr)}Qs(s,tr,nr){this.Fo();const rr=this.No(),ir=b(this.zh()),sr=ir.Th(),or=ir.Ph(),ar=this.Lo()-1,lr=this.Oo(),cr=ar/(or-sr),ur=nr===void 0?0:nr.from,hr=nr===void 0?s.length:nr.to,dr=this.jo();for(let pr=ur;pr<hr;pr++){const mr=s[pr],xr=mr._t;if(isNaN(xr))continue;let br=xr;dr!==null&&(br=dr(mr._t,tr));const yr=rr+cr*(br-sr),gr=lr?yr:this.ro-1-yr;mr.st=gr}}me(s,tr,nr){this.Fo();const rr=this.No(),ir=b(this.zh()),sr=ir.Th(),or=ir.Ph(),ar=this.Lo()-1,lr=this.Oo(),cr=ar/(or-sr),ur=nr===void 0?0:nr.from,hr=nr===void 0?s.length:nr.to,dr=this.jo();for(let pr=ur;pr<hr;pr++){const mr=s[pr];let xr=mr.we,br=mr.ge,yr=mr.Me,gr=mr.xe;dr!==null&&(xr=dr(mr.we,tr),br=dr(mr.ge,tr),yr=dr(mr.Me,tr),gr=dr(mr.xe,tr));let Er=rr+cr*(xr-sr),kr=lr?Er:this.ro-1-Er;mr.ve=kr,Er=rr+cr*(br-sr),kr=lr?Er:this.ro-1-Er,mr.ce=kr,Er=rr+cr*(yr-sr),kr=lr?Er:this.ro-1-Er,mr.de=kr,Er=rr+cr*(gr-sr),kr=lr?Er:this.ro-1-Er,mr.pe=kr}}pn(s,tr){const nr=this.Co(s,tr);return this.Ho(nr,tr)}Ho(s,tr){let nr=s;return this.gh()?nr=function(rr,ir){return ir<0&&(rr=-rr),rr/100*ir+ir}(nr,tr):this.Vo()&&(nr=function(rr,ir){return rr-=100,ir<0&&(rr=-rr),rr/100*ir+ir}(nr,tr)),nr}Oa(){return this.vo}$o(){if(this.po)return this.po;let s=[];for(let tr=0;tr<this.vo.length;tr++){const nr=this.vo[tr];nr.Xi()===null&&nr.Ki(tr+1),s.push(nr)}return s=vn(s),this.po=s,this.po}Uo(s){this.vo.indexOf(s)===-1&&(this.vo.push(s),this.Pa(),this.qo())}Yo(s){const tr=this.vo.indexOf(s);if(tr===-1)throw new Error("source is not attached to scale");this.vo.splice(tr,1),this.vo.length===0&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let s=null;for(const tr of this.vo){const nr=tr.Ct();nr!==null&&(s===null||nr.ha<s.ha)&&(s=nr)}return s===null?null:s.Vt}Oo(){return this.cn.invertScale}ja(){const s=this.Ct()===null;if(this.mo!==null&&(s||this.mo.Zo===s))return this.mo.ja;this.yo.Qa();const tr=this.yo.ja();return this.mo={ja:tr,Zo:s},this.do.m(),tr}Xo(){return this.do}Ko(s){this.gh()||this.Vo()||this.bo===null&&this.lo===null&&(this.Ni()||(this.bo=this.ro-s,this.lo=b(this.zh()).Ch()))}Go(s){if(this.gh()||this.Vo()||this.bo===null)return;this.Po({Wn:!1}),(s=this.ro-s)<0&&(s=0);let tr=(this.bo+.2*(this.ro-1))/(s+.2*(this.ro-1));const nr=b(this.lo).Ch();tr=Math.max(tr,.1),nr.Dh(tr),this.Bo(nr)}Jo(){this.gh()||this.Vo()||(this.bo=null,this.lo=null)}Qo(s){this.Do()||this.wo===null&&this.lo===null&&(this.Ni()||(this.wo=s,this.lo=b(this.zh()).Ch()))}t_(s){if(this.Do()||this.wo===null)return;const tr=b(this.zh()).Rh()/(this.Lo()-1);let nr=s-this.wo;this.Oo()&&(nr*=-1);const rr=nr*tr,ir=b(this.lo).Ch();ir.Vh(rr),this.Bo(ir,!0),this.mo=null}i_(){this.Do()||this.wo!==null&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(s,tr){switch(this.cn.mode){case 2:return this.n_(en(s,tr));case 3:return this.ma().format(hn(s,tr));default:return this.Fh(s)}}so(s){switch(this.cn.mode){case 2:return this.n_(s);case 3:return this.ma().format(s);default:return this.Fh(s)}}ql(s){return this.Fh(s,b(this.s_()).ma())}Yl(s,tr){return s=en(s,tr),this.n_(s,mn)}e_(){return this.vo}r_(s){this.ao={_o:s,oo:!1}}Vn(){this.vo.forEach(s=>s.Vn())}Pa(){this.mo=null;const s=this.s_();let tr=100;s!==null&&(tr=Math.round(1/s.pa())),this.ba=bn,this.gh()?(this.ba=mn,tr=100):this.Vo()?(this.ba=new ft(100,1),tr=100):s!==null&&(this.ba=s.ma()),this.yo=new fn(this,tr,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Oo()?this.cn.scaleMargins.bottom*this.At()+this.co:this.cn.scaleMargins.top*this.At()+this.uo}No(){return this.Oo()?this.cn.scaleMargins.top*this.At()+this.uo:this.cn.scaleMargins.bottom*this.At()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(s,tr){if(this.Fo(),this.Ni())return 0;s=this.eo()&&s?an(s,this.Mo):s;const nr=b(this.zh()),rr=this.No()+(this.Lo()-1)*(s-nr.Th())/nr.Rh();return this.Wo(rr)}Co(s,tr){if(this.Fo(),this.Ni())return 0;const nr=this.Wo(s),rr=b(this.zh()),ir=rr.Th()+rr.Rh()*((nr-this.No())/(this.Lo()-1));return this.eo()?on(ir,this.Mo):ir}Ao(){this.mo=null,this.yo.Qa()}h_(){const s=this.ao._o;if(s===null)return;let tr=null;const nr=this.e_();let rr=0,ir=0;for(const ar of nr){if(!ar.yt())continue;const lr=ar.Ct();if(lr===null)continue;const cr=ar.Al(s.Vs(),s.ui());let ur=cr&&cr.zh();if(ur!==null){switch(this.cn.mode){case 1:ur=_n(ur,this.Mo);break;case 2:ur=rn(ur,lr.Vt);break;case 3:ur=ln(ur,lr.Vt)}if(tr=tr===null?ur:tr.ts(b(ur)),cr!==null){const hr=cr.Lh();hr!==null&&(rr=Math.max(rr,hr.above),ir=Math.max(ir,hr.below))}}}if(rr===this.uo&&ir===this.co||(this.uo=rr,this.co=ir,this.mo=null,this.Ro()),tr!==null){if(tr.Th()===tr.Ph()){const ar=this.s_(),lr=5*(ar===null||this.gh()||this.Vo()?1:ar.pa());this.eo()&&(tr=un(tr,this.Mo)),tr=new Ri(tr.Th()-lr,tr.Ph()+lr),this.eo()&&(tr=_n(tr,this.Mo))}if(this.eo()){const ar=un(tr,this.Mo),lr=cn(ar);if(sr=lr,or=this.Mo,sr.Ha!==or.Ha||sr.$a!==or.$a){const cr=this.lo!==null?un(this.lo,this.Mo):null;this.Mo=lr,tr=_n(ar,lr),cr!==null&&(this.lo=_n(cr,lr))}}this.Bo(tr)}else this.Ah===null&&(this.Bo(new Ri(-.5,.5)),this.Mo=cn(null));var sr,or;this.ao.oo=!0}jo(){return this.gh()?en:this.Vo()?hn:this.eo()?s=>an(s,this.Mo):null}l_(s,tr,nr){return tr===void 0?(nr===void 0&&(nr=this.ma()),nr.format(s)):tr(s)}Fh(s,tr){return this.l_(s,this.ko.priceFormatter,tr)}n_(s,tr){return this.l_(s,this.ko.percentageFormatter,tr)}}class gn{constructor(s,tr){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new D,this.kl=s,this.$i=tr,this.c_=new nn(this);const nr=tr.W();this.d_=this.f_("left",nr.leftPriceScale),this.v_=this.f_("right",nr.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(nr)}m_(s){if(s.leftPriceScale&&this.d_.Hh(s.leftPriceScale),s.rightPriceScale&&this.v_.Hh(s.rightPriceScale),s.localization&&(this.d_.Pa(),this.v_.Pa()),s.overlayPriceScales){const tr=Array.from(this.a_.values());for(const nr of tr){const rr=b(nr[0].Dt());rr.Hh(s.overlayPriceScales),s.localization&&rr.Pa()}}}b_(s){switch(s){case"left":return this.d_;case"right":return this.v_}return this.a_.has(s)?m(this.a_.get(s))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach(s=>{s.S&&s.S()}),this.u_.m()}g_(){return this.__}M_(s){this.__=s}$t(){return this.$i}Hi(){return this.o_}At(){return this.ro}x_(s){this.o_=s,this.S_()}zo(s){this.ro=s,this.d_.zo(s),this.v_.zo(s),this.vo.forEach(tr=>{if(this.dr(tr)){const nr=tr.Dt();nr!==null&&nr.zo(s)}}),this.S_()}Oa(){return this.vo}dr(s){const tr=s.Dt();return tr===null||this.d_!==tr&&this.v_!==tr}Uo(s,tr,nr){const rr=nr!==void 0?nr:this.y_().k_+1;this.C_(s,tr,rr)}Yo(s){const tr=this.vo.indexOf(s);p(tr!==-1,"removeDataSource: invalid data source"),this.vo.splice(tr,1);const nr=b(s.Dt()).Ta();if(this.a_.has(nr)){const ir=m(this.a_.get(nr)),sr=ir.indexOf(s);sr!==-1&&(ir.splice(sr,1),ir.length===0&&this.a_.delete(nr))}const rr=s.Dt();rr&&rr.Oa().indexOf(s)>=0&&rr.Yo(s),rr!==null&&(rr.qo(),this.T_(rr)),this.po=null}pr(s){return s===this.d_?"left":s===this.v_?"right":"overlay"}P_(){return this.d_}R_(){return this.v_}D_(s,tr){s.Ko(tr)}V_(s,tr){s.Go(tr),this.S_()}O_(s){s.Jo()}B_(s,tr){s.Qo(tr)}A_(s,tr){s.t_(tr),this.S_()}I_(s){s.i_()}S_(){this.vo.forEach(s=>{s.Vn()})}vn(){let s=null;return this.$i.W().rightPriceScale.visible&&this.v_.Oa().length!==0?s=this.v_:this.$i.W().leftPriceScale.visible&&this.d_.Oa().length!==0?s=this.d_:this.vo.length!==0&&(s=this.vo[0].Dt()),s===null&&(s=this.v_),s}vr(){let s=null;return this.$i.W().rightPriceScale.visible?s=this.v_:this.$i.W().leftPriceScale.visible&&(s=this.d_),s}T_(s){s!==null&&s.Do()&&this.z_(s)}L_(s){const tr=this.kl.Zs();s.Po({Wn:!0}),tr!==null&&s.r_(tr),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach(s=>{this.dr(s)&&this.T_(s.Dt())}),this.S_(),this.$i.$h()}$o(){return this.po===null&&(this.po=vn(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(s){const tr=s.e_();if(tr&&tr.length>0&&!this.kl.Ni()){const nr=this.kl.Zs();nr!==null&&s.r_(nr)}s.Vn()}y_(){const s=this.$o();if(s.length===0)return{j_:0,k_:0};let tr=0,nr=0;for(let rr=0;rr<s.length;rr++){const ir=s[rr].Xi();ir!==null&&(ir<tr&&(tr=ir),ir>nr&&(nr=ir))}return{j_:tr,k_:nr}}C_(s,tr,nr){let rr=this.b_(tr);if(rr===null&&(rr=this.f_(tr,this.$i.W().overlayPriceScales)),this.vo.push(s),!_t(tr)){const ir=this.a_.get(tr)||[];ir.push(s),this.a_.set(tr,ir)}rr.Uo(s),s.Gi(rr),s.Ki(nr),this.T_(rr),this.po=null}p_(s,tr,nr){tr.yr!==nr.yr&&this.z_(s)}f_(s,tr){const nr=Object.assign({visible:!0,autoScale:!0},z(tr)),rr=new wn(s,nr,this.$i.W().layout,this.$i.W().localization);return rr.zo(this.At()),rr}}class Mn{constructor(s,tr,nr=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=s,this.U_=tr,this.tr=nr}q_(s){const tr=s.time,nr=this.U_.cacheKey(tr),rr=this.Qe.get(nr);if(rr!==void 0)return rr.Y_;if(this.Xe===this.tr){const sr=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(m(sr)),this.Ge++,this.Xe--}const ir=this.H_(s);return this.Qe.set(nr,{Y_:ir,er:this.Ke}),this.Je.set(this.Ke,nr),this.Xe++,this.Ke++,ir}}class xn{constructor(s,tr){p(s<=tr,"right should be >= left"),this.Z_=s,this.X_=tr}Vs(){return this.Z_}ui(){return this.X_}K_(){return this.X_-this.Z_+1}Xr(s){return this.Z_<=s&&s<=this.X_}yh(s){return this.Z_===s.Vs()&&this.X_===s.ui()}}function Sn(er,s){return er===null||s===null?er===s:er.yh(s)}class kn{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(s){this.J_=s,this.Qe=null}tu(s,tr){this.iu(tr),this.Qe=null;for(let nr=tr;nr<s.length;++nr){const rr=s[nr];let ir=this.G_.get(rr.timeWeight);ir===void 0&&(ir=[],this.G_.set(rr.timeWeight,ir)),ir.push({index:nr,time:rr.time,weight:rr.timeWeight,originalTime:rr.originalTime})}}nu(s,tr){const nr=Math.ceil(tr/s);return this.Qe!==null&&this.Qe.su===nr||(this.Qe={ja:this.eu(nr),su:nr}),this.Qe.ja}iu(s){if(s===0)return void this.G_.clear();const tr=[];this.G_.forEach((nr,rr)=>{s<=nr[0].index?tr.push(rr):nr.splice(Bt(nr,s,ir=>ir.index<s),1/0)});for(const nr of tr)this.G_.delete(nr)}eu(s){let tr=[];for(const nr of Array.from(this.G_.keys()).sort((rr,ir)=>ir-rr)){if(!this.G_.get(nr))continue;const rr=tr;tr=[];const ir=rr.length;let sr=0;const or=m(this.G_.get(nr)),ar=or.length;let lr=1/0,cr=-1/0;for(let ur=0;ur<ar;ur++){const hr=or[ur],dr=hr.index;for(;sr<ir;){const pr=rr[sr],mr=pr.index;if(!(mr<dr)){lr=mr;break}sr++,tr.push(pr),cr=mr,lr=1/0}if(lr-dr>=s&&dr-cr>=s)tr.push(hr),cr=dr;else if(this.J_)return rr}for(;sr<ir;sr++)tr.push(rr[sr])}return tr}}class yn{constructor(s){this.ru=s}hu(){return this.ru===null?null:new xn(Math.floor(this.ru.Vs()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new yn(null)}}function Cn(er,s){return er.weight>s.weight?er:s}class Tn{constructor(s,tr,nr,rr){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new kn,this.cu=new Map,this.du=yn.au(),this.fu=!0,this.vu=new D,this.pu=new D,this.mu=new D,this.bu=null,this.wu=null,this.gu=[],this.cn=tr,this.ko=nr,this.Mu=tr.rightOffset,this.xu=tr.barSpacing,this.$i=s,this.U_=rr,this.Su(),this.uu.Q_(tr.uniformDistribution)}W(){return this.cn}ku(s){V(this.ko,s),this.yu(),this.Su()}Hh(s,tr){var nr;V(this.cn,s),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),s.barSpacing!==void 0&&this.$i.Gn(s.barSpacing),s.rightOffset!==void 0&&this.$i.Jn(s.rightOffset),s.minBarSpacing!==void 0&&this.$i.Gn((nr=s.barSpacing)!==null&&nr!==void 0?nr:this.xu),this.yu(),this.Su(),this.mu.m()}mn(s){var tr,nr;return(nr=(tr=this._u[s])===null||tr===void 0?void 0:tr.time)!==null&&nr!==void 0?nr:null}Ui(s){var tr;return(tr=this._u[s])!==null&&tr!==void 0?tr:null}Da(s,tr){if(this._u.length<1)return null;if(this.U_.key(s)>this.U_.key(this._u[this._u.length-1].time))return tr?this._u.length-1:null;const nr=Bt(this._u,this.U_.key(s),(rr,ir)=>this.U_.key(rr.time)<ir);return this.U_.key(s)<this.U_.key(this._u[nr].time)?tr?nr:null:nr}Ni(){return this.o_===0||this._u.length===0||this.ou===null}Ra(){return this._u.length>0}Zs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){const s=this.Zs();if(s===null)return null;const tr={from:s.Vs(),to:s.ui()};return this.Vu(tr)}Vu(s){const tr=Math.round(s.from),nr=Math.round(s.to),rr=b(this.Ou()),ir=b(this.Bu());return{from:b(this.Ui(Math.max(rr,tr))),to:b(this.Ui(Math.min(ir,nr)))}}Au(s){return{from:b(this.Da(s.from,!0)),to:b(this.Da(s.to,!0))}}Hi(){return this.o_}x_(s){if(!isFinite(s)||s<=0||this.o_===s)return;const tr=this.Ru(),nr=this.o_;if(this.o_=s,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&nr!==0){const rr=this.xu*s/nr;this.xu=rr}if(this.cn.fixLeftEdge&&tr!==null&&tr.Vs()<=0){const rr=nr-s;this.Mu-=Math.round(rr/this.xu)+1,this.fu=!0}this.Iu(),this.zu()}It(s){if(this.Ni()||!B(s))return 0;const tr=this.Lu()+this.Mu-s;return this.o_-(tr+.5)*this.xu-1}Js(s,tr){const nr=this.Lu(),rr=tr===void 0?0:tr.from,ir=tr===void 0?s.length:tr.to;for(let sr=rr;sr<ir;sr++){const or=s[sr].ot,ar=nr+this.Mu-or,lr=this.o_-(ar+.5)*this.xu-1;s[sr].nt=lr}}Eu(s){return Math.ceil(this.Nu(s))}Jn(s){this.fu=!0,this.Mu=s,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(s){this.Wu(s),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(this.wu!==null)return this.wu;const s=this.xu,tr=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),nr=Math.round(tr/s),rr=b(this.Zs()),ir=Math.max(rr.Vs(),rr.Vs()-nr),sr=Math.max(rr.ui(),rr.ui()-nr),or=this.uu.nu(s,tr),ar=this.Ou()+nr,lr=this.Bu()-nr,cr=this.Hu(),ur=this.cn.fixLeftEdge||cr,hr=this.cn.fixRightEdge||cr;let dr=0;for(const pr of or){if(!(ir<=pr.index&&pr.index<=sr))continue;let mr;dr<this.gu.length?(mr=this.gu[dr],mr.coord=this.It(pr.index),mr.label=this.$u(pr),mr.weight=pr.weight):(mr={needAlignCoordinate:!1,coord:this.It(pr.index),label:this.$u(pr),weight:pr.weight},this.gu.push(mr)),this.xu>tr/2&&!cr?mr.needAlignCoordinate=!1:mr.needAlignCoordinate=ur&&pr.index<=ar||hr&&pr.index>=lr,dr++}return this.gu.length=dr,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(s){this.fu=!0,this.ou=s,this.zu(),this.Cu()}Yu(s,tr){const nr=this.Nu(s),rr=this.he(),ir=rr+tr*(rr/10);this.Gn(ir),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(nr-this.Nu(s)))}Ko(s){this.wo&&this.i_(),this.bo===null&&this.bu===null&&(this.Ni()||(this.bo=s,this.Zu()))}Go(s){if(this.bu===null)return;const tr=kt(this.o_-s,0,this.o_),nr=kt(this.o_-b(this.bo),0,this.o_);tr!==0&&nr!==0&&this.Gn(this.bu.he*tr/nr)}Jo(){this.bo!==null&&(this.bo=null,this.Xu())}Qo(s){this.wo===null&&this.bu===null&&(this.Ni()||(this.wo=s,this.Zu()))}t_(s){if(this.wo===null)return;const tr=(this.wo-s)/this.he();this.Mu=b(this.bu).ju+tr,this.fu=!0,this.zu()}i_(){this.wo!==null&&(this.wo=null,this.Xu())}Ku(){this.Gu(this.cn.rightOffset)}Gu(s,tr=400){if(!isFinite(s))throw new RangeError("offset is required and must be finite number");if(!isFinite(tr)||tr<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const nr=this.Mu,rr=performance.now();this.$i.Zn({Ju:ir=>(ir-rr)/tr>=1,Qu:ir=>{const sr=(ir-rr)/tr;return sr>=1?s:nr+(s-nr)*sr}})}bt(s,tr){this.fu=!0,this._u=s,this.uu.tu(s,tr),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(s){const tr=s.K_();this.Wu(this.o_/tr),this.Mu=s.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){const s=this.Ou(),tr=this.Bu();s!==null&&tr!==null&&this.ec(new xn(s,tr+this.cn.rightOffset))}hc(s){const tr=new xn(s.from,s.to);this.ec(tr)}qi(s){return this.ko.timeFormatter!==void 0?this.ko.timeFormatter(s.originalTime):this.U_.formatHorzItem(s.time)}Hu(){const{handleScroll:s,handleScale:tr}=this.$i.W();return!(s.horzTouchDrag||s.mouseWheel||s.pressedMouseMove||s.vertTouchDrag||tr.axisDoubleClickReset.time||tr.axisPressedMouseMove.time||tr.mouseWheel||tr.pinch)}Ou(){return this._u.length===0?null:0}Bu(){return this._u.length===0?null:this._u.length-1}lc(s){return(this.o_-1-s)/this.xu}Nu(s){const tr=this.lc(s),nr=this.Lu()+this.Mu-tr;return Math.round(1e6*nr)/1e6}Wu(s){const tr=this.xu;this.xu=s,this.Iu(),tr!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(yn.au());const s=this.Lu(),tr=this.o_/this.xu,nr=this.Mu+s,rr=new xn(nr-tr+1,nr);this.oc(new yn(rr))}Iu(){const s=this._c();if(this.xu<s&&(this.xu=s,this.fu=!0),this.o_!==0){const tr=.5*this.o_;this.xu>tr&&(this.xu=tr,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this._u.length!==0?this.o_/this._u.length:this.cn.minBarSpacing}zu(){const s=this.uc();s!==null&&this.Mu<s&&(this.Mu=s,this.fu=!0);const tr=this.cc();this.Mu>tr&&(this.Mu=tr,this.fu=!0)}uc(){const s=this.Ou(),tr=this.ou;return s===null||tr===null?null:s-tr-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}cc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Zu(){this.bu={he:this.he(),ju:this.ju()}}Xu(){this.bu=null}$u(s){let tr=this.cu.get(s.weight);return tr===void 0&&(tr=new Mn(nr=>this.dc(nr),this.U_),this.cu.set(s.weight,tr)),tr.q_(s)}dc(s){return this.U_.formatTickmark(s,this.ko)}oc(s){const tr=this.du;this.du=s,Sn(tr.hu(),this.du.hu())||this.vu.m(),Sn(tr.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;const s=this.Ou();if(s===null)return;const tr=this.Zs();if(tr===null)return;const nr=tr.Vs()-s;if(nr<0){const rr=this.Mu-nr-1;this.Jn(rr)}this.Iu()}Tu(){this.zu(),this.Iu()}}class Pn{X(s,tr,nr){s.useMediaCoordinateSpace(rr=>this.K(rr,tr,nr))}wl(s,tr,nr){s.useMediaCoordinateSpace(rr=>this.fc(rr,tr,nr))}fc(s,tr,nr){}}class Rn extends Pn{constructor(s){super(),this.vc=new Map,this.zt=s}K(s){}fc(s){if(!this.zt.yt)return;const{context:tr,mediaSize:nr}=s;let rr=0;for(const sr of this.zt.mc){if(sr.Kt.length===0)continue;tr.font=sr.R;const or=this.bc(tr,sr.Kt);or>nr.width?sr.Yu=nr.width/or:sr.Yu=1,rr+=sr.wc*sr.Yu}let ir=0;switch(this.zt.gc){case"top":ir=0;break;case"center":ir=Math.max((nr.height-rr)/2,0);break;case"bottom":ir=Math.max(nr.height-rr,0)}tr.fillStyle=this.zt.V;for(const sr of this.zt.mc){tr.save();let or=0;switch(this.zt.Mc){case"left":tr.textAlign="left",or=sr.wc/2;break;case"center":tr.textAlign="center",or=nr.width/2;break;case"right":tr.textAlign="right",or=nr.width-1-sr.wc/2}tr.translate(or,ir),tr.textBaseline="top",tr.font=sr.R,tr.scale(sr.Yu,sr.Yu),tr.fillText(sr.Kt,0,sr.xc),tr.restore(),ir+=sr.wc*sr.Yu}}bc(s,tr){const nr=this.Sc(s.font);let rr=nr.get(tr);return rr===void 0&&(rr=s.measureText(tr).width,nr.set(tr,rr)),rr}Sc(s){let tr=this.vc.get(s);return tr===void 0&&(tr=new Map,this.vc.set(s,tr)),tr}}class Dn{constructor(s){this.ft=!0,this.Ft={yt:!1,V:"",mc:[],gc:"center",Mc:"center"},this.Wt=new Rn(this.Ft),this.jt=s}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const s=this.jt.W(),tr=this.Ft;tr.yt=s.visible,tr.yt&&(tr.V=s.color,tr.Mc=s.horzAlign,tr.gc=s.vertAlign,tr.mc=[{Kt:s.text,R:F(s.fontSize,s.fontFamily,s.fontStyle),wc:1.2*s.fontSize,xc:0,Yu:0}])}}class Vn extends lt{constructor(s,tr){super(),this.cn=tr,this.wn=new Dn(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var On,Bn,An,In,zn;(function(er){er[er.OnTouchEnd=0]="OnTouchEnd",er[er.OnNextTap=1]="OnNextTap"})(On||(On={}));class Ln{constructor(s,tr,nr){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new D,this.Pc=new D,this.Rc=null,this.Dc=s,this.cn=tr,this.U_=nr,this.Vc=new W(this),this.kl=new Tn(this,tr.timeScale,this.cn.localization,nr),this.vt=new ot(this,tr.crosshair),this.Oc=new Ji(tr.crosshair),this.Bc=new Vn(this,tr.watermark),this.Ac(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Xl(){this.Ec(ut.es())}$h(){this.Ec(ut.ss())}aa(){this.Ec(new ut(1))}Kl(s){const tr=this.Nc(s);this.Ec(tr)}Fc(){return this.Cc}Wc(s){const tr=this.Cc;this.Cc=s,tr!==null&&this.Kl(tr.jc),s!==null&&this.Kl(s.jc)}W(){return this.cn}Hh(s){V(this.cn,s),this.kc.forEach(tr=>tr.m_(s)),s.timeScale!==void 0&&this.kl.Hh(s.timeScale),s.localization!==void 0&&this.kl.ku(s.localization),(s.leftPriceScale||s.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Xl()}Hc(s,tr){if(s==="left")return void this.Hh({leftPriceScale:tr});if(s==="right")return void this.Hh({rightPriceScale:tr});const nr=this.$c(s);nr!==null&&(nr.Dt.Hh(tr),this.Tc.m())}$c(s){for(const tr of this.kc){const nr=tr.b_(s);if(nr!==null)return{Ht:tr,Dt:nr}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Zc(){return this.Pc}Xc(s,tr){s.zo(tr),this.Fu()}x_(s){this.o_=s,this.kl.x_(this.o_),this.kc.forEach(tr=>tr.x_(s)),this.Fu()}Ac(s){const tr=new gn(this.kl,this);s!==void 0?this.kc.splice(s,0,tr):this.kc.push(tr);const nr=s===void 0?this.kc.length-1:s,rr=ut.es();return rr.Nn(nr,{Fn:0,Wn:!0}),this.Ec(rr),tr}D_(s,tr,nr){s.D_(tr,nr)}V_(s,tr,nr){s.V_(tr,nr),this.Gl(),this.Ec(this.Kc(s,2))}O_(s,tr){s.O_(tr),this.Ec(this.Kc(s,2))}B_(s,tr,nr){tr.Do()||s.B_(tr,nr)}A_(s,tr,nr){tr.Do()||(s.A_(tr,nr),this.Gl(),this.Ec(this.Kc(s,2)))}I_(s,tr){tr.Do()||(s.I_(tr),this.Ec(this.Kc(s,2)))}L_(s,tr){s.L_(tr),this.Ec(this.Kc(s,2))}Gc(s){this.kl.Ko(s)}Jc(s,tr){const nr=this.St();if(nr.Ni()||tr===0)return;const rr=nr.Hi();s=Math.max(1,Math.min(s,rr)),nr.Yu(s,tr),this.Fu()}Qc(s){this.td(0),this.nd(s),this.sd()}ed(s){this.kl.Go(s),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(s){this.kl.Qo(s)}nd(s){this.kl.t_(s),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(s,tr,nr,rr,ir){this.vt.gn(s,tr);let sr=NaN,or=this.kl.Eu(s);const ar=this.kl.Zs();ar!==null&&(or=Math.min(Math.max(ar.Vs(),or),ar.ui()));const lr=rr.vn(),cr=lr.Ct();cr!==null&&(sr=lr.pn(tr,cr)),sr=this.Oc.Va(sr,or,rr),this.vt.kn(or,sr,rr),this.aa(),ir||this.Pc.m(this.vt.xt(),{x:s,y:tr},nr)}ld(s,tr,nr){const rr=nr.vn(),ir=rr.Ct(),sr=rr.Rt(s,b(ir)),or=this.kl.Da(tr,!0),ar=this.kl.It(b(or));this.hd(ar,sr,null,nr,!0)}ad(s){this.Yc().Cn(),this.aa(),s||this.Pc.m(null,null,null)}Gl(){const s=this.vt.Ht();if(s!==null){const tr=this.vt.xn(),nr=this.vt.Sn();this.hd(tr,nr,null,s)}this.vt.Vn()}od(s,tr,nr){const rr=this.kl.mn(0);tr!==void 0&&nr!==void 0&&this.kl.bt(tr,nr);const ir=this.kl.mn(0),sr=this.kl.Lu(),or=this.kl.Zs();if(or!==null&&rr!==null&&ir!==null){const ar=or.Xr(sr),lr=this.U_.key(rr)>this.U_.key(ir),cr=s!==null&&s>sr&&!lr,ur=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,hr=ar&&(nr!==void 0||ur)&&this.kl.W().shiftVisibleRangeOnNewBar;if(cr&&!hr){const dr=s-sr;this.kl.Jn(this.kl.ju()-dr)}}this.kl.qu(s)}ta(s){s!==null&&s.N_()}cr(s){const tr=this.kc.find(nr=>nr.$o().includes(s));return tr===void 0?null:tr}Fu(){this.Bc.Vn(),this.kc.forEach(s=>s.N_()),this.Gl()}S(){this.kc.forEach(s=>s.S()),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Vc}mr(){return this.Vc.W()}w_(){return this.Tc}ud(s,tr,nr){const rr=this.kc[0],ir=this.dd(tr,s,rr,nr);return this.yc.push(ir),this.yc.length===1?this.Xl():this.$h(),ir}fd(s){const tr=this.cr(s),nr=this.yc.indexOf(s);p(nr!==-1,"Series not found"),this.yc.splice(nr,1),b(tr).Yo(s),s.S&&s.S()}Zl(s,tr){const nr=b(this.cr(s));nr.Yo(s);const rr=this.$c(tr);if(rr===null){const ir=s.Xi();nr.Uo(s,tr,ir)}else{const ir=rr.Ht===nr?s.Xi():void 0;rr.Ht.Uo(s,tr,ir)}}rc(){const s=ut.ss();s.$n(),this.Ec(s)}vd(s){const tr=ut.ss();tr.Yn(s),this.Ec(tr)}Kn(){const s=ut.ss();s.Kn(),this.Ec(s)}Gn(s){const tr=ut.ss();tr.Gn(s),this.Ec(tr)}Jn(s){const tr=ut.ss();tr.Jn(s),this.Ec(tr)}Zn(s){const tr=ut.ss();tr.Zn(s),this.Ec(tr)}Un(){const s=ut.ss();s.Un(),this.Ec(s)}pd(){return this.cn.rightPriceScale.visible?"right":"left"}md(){return this.Lc}q(){return this.Ic}Bt(s){const tr=this.Lc,nr=this.Ic;if(tr===nr)return tr;if(s=Math.max(0,Math.min(100,Math.round(100*s))),this.Rc===null||this.Rc.Ts!==nr||this.Rc.Ps!==tr)this.Rc={Ts:nr,Ps:tr,bd:new Map};else{const ir=this.Rc.bd.get(s);if(ir!==void 0)return ir}const rr=function(ir,sr,or){const[ar,lr,cr,ur]=T(ir),[hr,dr,pr,mr]=T(sr),xr=[M(ar+or*(hr-ar)),M(lr+or*(dr-lr)),M(cr+or*(pr-cr)),x(ur+or*(mr-ur))];return`rgba(${xr[0]}, ${xr[1]}, ${xr[2]}, ${xr[3]})`}(nr,tr,s/100);return this.Rc.bd.set(s,rr),rr}Kc(s,tr){const nr=new ut(tr);if(s!==null){const rr=this.kc.indexOf(s);nr.Nn(rr,{Fn:tr})}return nr}Nc(s,tr){return tr===void 0&&(tr=2),this.Kc(this.cr(s),tr)}Ec(s){this.Dc&&this.Dc(s),this.kc.forEach(tr=>tr.W_().Uh().bt())}dd(s,tr,nr,rr){const ir=new Gi(this,s,tr,nr,rr),sr=s.priceScaleId!==void 0?s.priceScaleId:this.pd();return nr.Uo(ir,sr),_t(sr)||ir.Hh(s),ir}zc(s){const tr=this.cn.layout;return tr.background.type==="gradient"?s===0?tr.background.topColor:tr.background.bottomColor:tr.background.color}}function En(er){return!O(er)&&!A(er)}function Nn(er){return O(er)}(function(er){er[er.Disabled=0]="Disabled",er[er.Continuous=1]="Continuous",er[er.OnDataUpdate=2]="OnDataUpdate"})(Bn||(Bn={})),function(er){er[er.LastBar=0]="LastBar",er[er.LastVisible=1]="LastVisible"}(An||(An={})),function(er){er.Solid="solid",er.VerticalGradient="gradient"}(In||(In={})),function(er){er[er.Year=0]="Year",er[er.Month=1]="Month",er[er.DayOfMonth=2]="DayOfMonth",er[er.Time=3]="Time",er[er.TimeWithSeconds=4]="TimeWithSeconds"}(zn||(zn={}));const Fn=er=>er.getUTCFullYear();function Wn(er,s,tr){return s.replace(/yyyy/g,(nr=>dt(Fn(nr),4))(er)).replace(/yy/g,(nr=>dt(Fn(nr)%100,2))(er)).replace(/MMMM/g,((nr,rr)=>new Date(nr.getUTCFullYear(),nr.getUTCMonth(),1).toLocaleString(rr,{month:"long"}))(er,tr)).replace(/MMM/g,((nr,rr)=>new Date(nr.getUTCFullYear(),nr.getUTCMonth(),1).toLocaleString(rr,{month:"short"}))(er,tr)).replace(/MM/g,(nr=>dt((rr=>rr.getUTCMonth()+1)(nr),2))(er)).replace(/dd/g,(nr=>dt((rr=>rr.getUTCDate())(nr),2))(er))}class jn{constructor(s="yyyy-MM-dd",tr="default"){this.wd=s,this.gd=tr}q_(s){return Wn(s,this.wd,this.gd)}}class Hn{constructor(s){this.Md=s||"%h:%m:%s"}q_(s){return this.Md.replace("%h",dt(s.getUTCHours(),2)).replace("%m",dt(s.getUTCMinutes(),2)).replace("%s",dt(s.getUTCSeconds(),2))}}const $n={xd:"yyyy-MM-dd",Sd:"%h:%m:%s",kd:" ",yd:"default"};class Un{constructor(s={}){const tr=Object.assign(Object.assign({},$n),s);this.Cd=new jn(tr.xd,tr.yd),this.Td=new Hn(tr.Sd),this.Pd=tr.kd}q_(s){return`${this.Cd.q_(s)}${this.Pd}${this.Td.q_(s)}`}}function qn(er){return 60*er*60*1e3}function Yn(er){return 60*er*1e3}const Zn=[{Rd:(Xn=1,1e3*Xn),Dd:10},{Rd:Yn(1),Dd:20},{Rd:Yn(5),Dd:21},{Rd:Yn(30),Dd:22},{Rd:qn(1),Dd:30},{Rd:qn(3),Dd:31},{Rd:qn(6),Dd:32},{Rd:qn(12),Dd:33}];var Xn;function Kn(er,s){if(er.getUTCFullYear()!==s.getUTCFullYear())return 70;if(er.getUTCMonth()!==s.getUTCMonth())return 60;if(er.getUTCDate()!==s.getUTCDate())return 50;for(let tr=Zn.length-1;tr>=0;--tr)if(Math.floor(s.getTime()/Zn[tr].Rd)!==Math.floor(er.getTime()/Zn[tr].Rd))return Zn[tr].Dd;return 0}function Gn(er){let s=er;if(A(er)&&(s=Qn(er)),!En(s))throw new Error("time must be of type BusinessDay");const tr=new Date(Date.UTC(s.year,s.month-1,s.day,0,0,0,0));return{Vd:Math.round(tr.getTime()/1e3),Od:s}}function Jn(er){if(!Nn(er))throw new Error("time must be of type isUTCTimestamp");return{Vd:er}}function Qn(er){const s=new Date(er);if(isNaN(s.getTime()))throw new Error(`Invalid date string=${er}, expected format=yyyy-mm-dd`);return{day:s.getUTCDate(),month:s.getUTCMonth()+1,year:s.getUTCFullYear()}}function ts(er){A(er.time)&&(er.time=Qn(er.time))}class is{options(){return this.cn}setOptions(s){this.cn=s,this.updateFormatter(s.localization)}preprocessData(s){Array.isArray(s)?function(tr){tr.forEach(ts)}(s):ts(s)}createConverterToInternalObj(s){return b(function(tr){return tr.length===0?null:En(tr[0].time)||A(tr[0].time)?Gn:Jn}(s))}key(s){return typeof s=="object"&&"Vd"in s?s.Vd:this.key(this.convertHorzItemToInternal(s))}cacheKey(s){const tr=s;return tr.Od===void 0?new Date(1e3*tr.Vd).getTime():new Date(Date.UTC(tr.Od.year,tr.Od.month-1,tr.Od.day)).getTime()}convertHorzItemToInternal(s){return Nn(tr=s)?Jn(tr):En(tr)?Gn(tr):Gn(Qn(tr));var tr}updateFormatter(s){if(!this.cn)return;const tr=s.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new Un({xd:tr,Sd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",kd:"   ",yd:s.locale}):this.Bd=new jn(tr,s.locale)}formatHorzItem(s){const tr=s;return this.Bd.q_(new Date(1e3*tr.Vd))}formatTickmark(s,tr){const nr=function(ir,sr,or){switch(ir){case 0:case 10:return sr?or?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return sr?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(s.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),rr=this.cn.timeScale;if(rr.tickMarkFormatter!==void 0){const ir=rr.tickMarkFormatter(s.originalTime,nr,tr.locale);if(ir!==null)return ir}return function(ir,sr,or){const ar={};switch(sr){case 0:ar.year="numeric";break;case 1:ar.month="short";break;case 2:ar.day="numeric";break;case 3:ar.hour12=!1,ar.hour="2-digit",ar.minute="2-digit";break;case 4:ar.hour12=!1,ar.hour="2-digit",ar.minute="2-digit",ar.second="2-digit"}const lr=ir.Od===void 0?new Date(1e3*ir.Vd):new Date(Date.UTC(ir.Od.year,ir.Od.month-1,ir.Od.day));return new Date(lr.getUTCFullYear(),lr.getUTCMonth(),lr.getUTCDate(),lr.getUTCHours(),lr.getUTCMinutes(),lr.getUTCSeconds(),lr.getUTCMilliseconds()).toLocaleString(or,ar)}(s.time,nr,tr.locale)}maxTickMarkWeight(s){let tr=s.reduce(Cn,s[0]).weight;return tr>30&&tr<50&&(tr=30),tr}fillWeightsForPoints(s,tr){(function(nr,rr=0){if(nr.length===0)return;let ir=rr===0?null:nr[rr-1].time.Vd,sr=ir!==null?new Date(1e3*ir):null,or=0;for(let ar=rr;ar<nr.length;++ar){const lr=nr[ar],cr=new Date(1e3*lr.time.Vd);sr!==null&&(lr.timeWeight=Kn(cr,sr)),or+=lr.time.Vd-(ir||lr.time.Vd),ir=lr.time.Vd,sr=cr}if(rr===0&&nr.length>1){const ar=Math.ceil(or/(nr.length-1)),lr=new Date(1e3*(nr[0].time.Vd-ar));nr[0].timeWeight=Kn(new Date(1e3*nr[0].time.Vd),lr)}})(s,tr)}static Ad(s){return V({localization:{dateFormat:"dd MMM 'yy"}},s??{})}}const ns=typeof window<"u";function ss(){return!!ns&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function es(){return!!ns&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function rs(er){return er+er%2}function hs(er,s){return er.Id-s.Id}function ls(er,s,tr){const nr=(er.Id-s.Id)/(er.ot-s.ot);return Math.sign(nr)*Math.min(Math.abs(nr),tr)}class as{constructor(s,tr,nr,rr){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=s,this.$d=tr,this.Ud=nr,this.rs=rr}qd(s,tr){if(this.zd!==null){if(this.zd.ot===tr)return void(this.zd.Id=s);if(Math.abs(this.zd.Id-s)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:tr,Id:s}}Dr(s,tr){if(this.zd===null||this.Ld===null||tr-this.zd.ot>50)return;let nr=0;const rr=ls(this.zd,this.Ld,this.$d),ir=hs(this.zd,this.Ld),sr=[rr],or=[ir];if(nr+=ir,this.Ed!==null){const lr=ls(this.Ld,this.Ed,this.$d);if(Math.sign(lr)===Math.sign(rr)){const cr=hs(this.Ld,this.Ed);if(sr.push(lr),or.push(cr),nr+=cr,this.Nd!==null){const ur=ls(this.Ed,this.Nd,this.$d);if(Math.sign(ur)===Math.sign(rr)){const hr=hs(this.Ed,this.Nd);sr.push(ur),or.push(hr),nr+=hr}}}}let ar=0;for(let lr=0;lr<sr.length;++lr)ar+=or[lr]/nr*sr[lr];Math.abs(ar)<this.Hd||(this.Fd={Id:s,ot:tr},this.jd=ar,this.Wd=function(lr,cr){const ur=Math.log(cr);return Math.log(1*ur/-lr)/ur}(Math.abs(ar),this.Ud))}Qu(s){const tr=b(this.Fd),nr=s-tr.ot;return tr.Id+this.jd*(Math.pow(this.Ud,nr)-1)/Math.log(this.Ud)}Ju(s){return this.Fd===null||this.Yd(s)===this.Wd}Yd(s){const tr=s-b(this.Fd).ot;return Math.min(tr,this.Wd)}}class os{constructor(s,tr){this.Zd=void 0,this.Xd=void 0,this.Kd=void 0,this.en=!1,this.Gd=s,this.Jd=tr,this.Qd()}bt(){this.Qd()}tf(){this.Zd&&this.Gd.removeChild(this.Zd),this.Xd&&this.Gd.removeChild(this.Xd),this.Zd=void 0,this.Xd=void 0}if(){return this.en!==this.nf()||this.Kd!==this.sf()}sf(){return P(T(this.Jd.W().layout.textColor))>160?"dark":"light"}nf(){return this.Jd.W().layout.attributionLogo}ef(){const s=new URL(location.href);return s.hostname?"&utm_source="+s.hostname+s.pathname:""}Qd(){this.if()&&(this.tf(),this.en=this.nf(),this.en&&(this.Kd=this.sf(),this.Xd=document.createElement("style"),this.Xd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Zd=document.createElement("a"),this.Zd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.ef()}`,this.Zd.title="Charting by TradingView",this.Zd.id="tv-attr-logo",this.Zd.target="_blank",this.Zd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Zd.toggleAttribute("data-dark",this.Kd==="dark"),this.Gd.appendChild(this.Xd),this.Gd.appendChild(this.Zd)))}}function _s(er,s){const tr=b(er.ownerDocument).createElement("canvas");er.appendChild(tr);const nr=bindTo(tr,{type:"device-pixel-content-box",options:{allowResizeObserver:!1},transform:(rr,ir)=>({width:Math.max(rr.width,ir.width),height:Math.max(rr.height,ir.height)})});return nr.resizeCanvasElement(s),nr}function us(er){var s;er.width=1,er.height=1,(s=er.getContext("2d"))===null||s===void 0||s.clearRect(0,0,1,1)}function cs(er,s,tr,nr){er.wl&&er.wl(s,tr,nr)}function ds(er,s,tr,nr){er.X(s,tr,nr)}function fs(er,s,tr,nr){const rr=er(tr,nr);for(const ir of rr){const sr=ir.gt();sr!==null&&s(sr)}}function vs(er){ns&&window.chrome!==void 0&&er.addEventListener("mousedown",s=>{if(s.button===1)return s.preventDefault(),!1})}class ps{constructor(s,tr,nr){this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.cf=null,this.df=!1,this.ff=null,this.vf=null,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=null,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=0,this.Tf=!1,this.Pf=!1,this.Rf=!1,this.Df=0,this.Vf=null,this.Of=!es(),this.Bf=rr=>{this.Af(rr)},this.If=rr=>{if(this.zf(rr)){const ir=this.Lf(rr);if(++this.af,this._f&&this.af>1){const{Ef:sr}=this.Nf(ws(rr),this.uf);sr<30&&!this.bf&&this.Ff(ir,this.jf.Wf),this.Hf()}}else{const ir=this.Lf(rr);if(++this.rf,this.hf&&this.rf>1){const{Ef:sr}=this.Nf(ws(rr),this.lf);sr<5&&!this.mf&&this.$f(ir,this.jf.Uf),this.qf()}}},this.Yf=s,this.jf=tr,this.cn=nr,this.Zf()}S(){this.wf!==null&&(this.wf(),this.wf=null),this.gf!==null&&(this.gf(),this.gf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Xf(),this.qf()}Kf(s){this.xf&&this.xf();const tr=this.Gf.bind(this);if(this.xf=()=>{this.Yf.removeEventListener("mousemove",tr)},this.Yf.addEventListener("mousemove",tr),this.zf(s))return;const nr=this.Lf(s);this.$f(nr,this.jf.Jf),this.Of=!0}qf(){this.hf!==null&&clearTimeout(this.hf),this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Hf(){this._f!==null&&clearTimeout(this._f),this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Gf(s){if(this.Rf||this.vf!==null||this.zf(s))return;const tr=this.Lf(s);this.$f(tr,this.jf.Qf),this.Of=!0}tv(s){const tr=Ms(s.changedTouches,b(this.Vf));if(tr===null||(this.Df=gs(s),this.yf!==null)||this.Pf)return;this.Tf=!0;const nr=this.Nf(ws(tr),b(this.vf)),{iv:rr,nv:ir,Ef:sr}=nr;if(this.pf||!(sr<5)){if(!this.pf){const or=.5*rr,ar=ir>=or&&!this.cn.sv(),lr=or>ir&&!this.cn.ev();ar||lr||(this.Pf=!0),this.pf=!0,this.bf=!0,this.Xf(),this.Hf()}if(!this.Pf){const or=this.Lf(s,tr);this.Ff(or,this.jf.rv),bs(s)}}}hv(s){if(s.button!==0)return;const tr=this.Nf(ws(s),b(this.ff)),{Ef:nr}=tr;if(nr>=5&&(this.mf=!0,this.qf()),this.mf){const rr=this.Lf(s);this.$f(rr,this.jf.lv)}}Nf(s,tr){const nr=Math.abs(tr.nt-s.nt),rr=Math.abs(tr.st-s.st);return{iv:nr,nv:rr,Ef:nr+rr}}av(s){let tr=Ms(s.changedTouches,b(this.Vf));if(tr===null&&s.touches.length===0&&(tr=s.changedTouches[0]),tr===null)return;this.Vf=null,this.Df=gs(s),this.Xf(),this.vf=null,this.kf&&(this.kf(),this.kf=null);const nr=this.Lf(s,tr);if(this.Ff(nr,this.jf.ov),++this.af,this._f&&this.af>1){const{Ef:rr}=this.Nf(ws(tr),this.uf);rr<30&&!this.bf&&this.Ff(nr,this.jf.Wf),this.Hf()}else this.bf||(this.Ff(nr,this.jf._v),this.jf._v&&bs(s));this.af===0&&bs(s),s.touches.length===0&&this.df&&(this.df=!1,bs(s))}Af(s){if(s.button!==0)return;const tr=this.Lf(s);if(this.ff=null,this.Rf=!1,this.Sf&&(this.Sf(),this.Sf=null),ss()&&this.Yf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Bf),!this.zf(s))if(this.$f(tr,this.jf.uv),++this.rf,this.hf&&this.rf>1){const{Ef:nr}=this.Nf(ws(s),this.lf);nr<5&&!this.mf&&this.$f(tr,this.jf.Uf),this.qf()}else this.mf||this.$f(tr,this.jf.cv)}Xf(){this.cf!==null&&(clearTimeout(this.cf),this.cf=null)}dv(s){if(this.Vf!==null)return;const tr=s.changedTouches[0];this.Vf=tr.identifier,this.Df=gs(s);const nr=this.Yf.ownerDocument.documentElement;this.bf=!1,this.pf=!1,this.Pf=!1,this.vf=ws(tr),this.kf&&(this.kf(),this.kf=null);{const ir=this.tv.bind(this),sr=this.av.bind(this);this.kf=()=>{nr.removeEventListener("touchmove",ir),nr.removeEventListener("touchend",sr)},nr.addEventListener("touchmove",ir,{passive:!1}),nr.addEventListener("touchend",sr,{passive:!1}),this.Xf(),this.cf=setTimeout(this.fv.bind(this,s),240)}const rr=this.Lf(s,tr);this.Ff(rr,this.jf.vv),this._f||(this.af=0,this._f=setTimeout(this.Hf.bind(this),500),this.uf=ws(tr))}pv(s){if(s.button!==0)return;const tr=this.Yf.ownerDocument.documentElement;ss()&&tr.addEventListener("mouseleave",this.Bf),this.mf=!1,this.ff=ws(s),this.Sf&&(this.Sf(),this.Sf=null);{const rr=this.hv.bind(this),ir=this.Af.bind(this);this.Sf=()=>{tr.removeEventListener("mousemove",rr),tr.removeEventListener("mouseup",ir)},tr.addEventListener("mousemove",rr),tr.addEventListener("mouseup",ir)}if(this.Rf=!0,this.zf(s))return;const nr=this.Lf(s);this.$f(nr,this.jf.mv),this.hf||(this.rf=0,this.hf=setTimeout(this.qf.bind(this),500),this.lf=ws(s))}Zf(){this.Yf.addEventListener("mouseenter",this.Kf.bind(this)),this.Yf.addEventListener("touchcancel",this.Xf.bind(this));{const s=this.Yf.ownerDocument,tr=nr=>{this.jf.bv&&(nr.composed&&this.Yf.contains(nr.composedPath()[0])||nr.target&&this.Yf.contains(nr.target)||this.jf.bv())};this.gf=()=>{s.removeEventListener("touchstart",tr)},this.wf=()=>{s.removeEventListener("mousedown",tr)},s.addEventListener("mousedown",tr),s.addEventListener("touchstart",tr,{passive:!0})}es()&&(this.Mf=()=>{this.Yf.removeEventListener("dblclick",this.If)},this.Yf.addEventListener("dblclick",this.If)),this.Yf.addEventListener("mouseleave",this.wv.bind(this)),this.Yf.addEventListener("touchstart",this.dv.bind(this),{passive:!0}),vs(this.Yf),this.Yf.addEventListener("mousedown",this.pv.bind(this)),this.gv(),this.Yf.addEventListener("touchmove",()=>{},{passive:!1})}gv(){this.jf.Mv===void 0&&this.jf.xv===void 0&&this.jf.Sv===void 0||(this.Yf.addEventListener("touchstart",s=>this.kv(s.touches),{passive:!0}),this.Yf.addEventListener("touchmove",s=>{if(s.touches.length===2&&this.yf!==null&&this.jf.xv!==void 0){const tr=ms(s.touches[0],s.touches[1])/this.Cf;this.jf.xv(this.yf,tr),bs(s)}},{passive:!1}),this.Yf.addEventListener("touchend",s=>{this.kv(s.touches)}))}kv(s){s.length===1&&(this.Tf=!1),s.length!==2||this.Tf||this.df?this.yv():this.Cv(s)}Cv(s){const tr=this.Yf.getBoundingClientRect()||{left:0,top:0};this.yf={nt:(s[0].clientX-tr.left+(s[1].clientX-tr.left))/2,st:(s[0].clientY-tr.top+(s[1].clientY-tr.top))/2},this.Cf=ms(s[0],s[1]),this.jf.Mv!==void 0&&this.jf.Mv(),this.Xf()}yv(){this.yf!==null&&(this.yf=null,this.jf.Sv!==void 0&&this.jf.Sv())}wv(s){if(this.xf&&this.xf(),this.zf(s)||!this.Of)return;const tr=this.Lf(s);this.$f(tr,this.jf.Tv),this.Of=!es()}fv(s){const tr=Ms(s.touches,b(this.Vf));if(tr===null)return;const nr=this.Lf(s,tr);this.Ff(nr,this.jf.Pv),this.bf=!0,this.df=!0}zf(s){return s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents!==void 0?s.sourceCapabilities.firesTouchEvents:gs(s)<this.Df+500}Ff(s,tr){tr&&tr.call(this.jf,s)}$f(s,tr){tr&&tr.call(this.jf,s)}Lf(s,tr){const nr=tr||s,rr=this.Yf.getBoundingClientRect()||{left:0,top:0};return{clientX:nr.clientX,clientY:nr.clientY,pageX:nr.pageX,pageY:nr.pageY,screenX:nr.screenX,screenY:nr.screenY,localX:nr.clientX-rr.left,localY:nr.clientY-rr.top,ctrlKey:s.ctrlKey,altKey:s.altKey,shiftKey:s.shiftKey,metaKey:s.metaKey,Rv:!s.type.startsWith("mouse")&&s.type!=="contextmenu"&&s.type!=="click",Dv:s.type,Vv:nr.target,Ov:s.view,Bv:()=>{s.type!=="touchstart"&&bs(s)}}}}function ms(er,s){const tr=er.clientX-s.clientX,nr=er.clientY-s.clientY;return Math.sqrt(tr*tr+nr*nr)}function bs(er){er.cancelable&&er.preventDefault()}function ws(er){return{nt:er.pageX,st:er.pageY}}function gs(er){return er.timeStamp||performance.now()}function Ms(er,s){for(let tr=0;tr<er.length;++tr)if(er[tr].identifier===s)return er[tr];return null}function xs(er){return{jc:er.jc,Av:{wr:er.Iv.externalId},zv:er.Iv.cursorStyle}}function Ss(er,s,tr){for(const nr of er){const rr=nr.gt();if(rr!==null&&rr.br){const ir=rr.br(s,tr);if(ir!==null)return{Ov:nr,Av:ir}}}return null}function ks(er,s){return tr=>{var nr,rr,ir,sr;return((rr=(nr=tr.Dt())===null||nr===void 0?void 0:nr.Ta())!==null&&rr!==void 0?rr:"")!==s?[]:(sr=(ir=tr.ca)===null||ir===void 0?void 0:ir.call(tr,er))!==null&&sr!==void 0?sr:[]}}function ys(er,s,tr,nr){if(!er.length)return;let rr=0;const ir=tr/2,sr=er[0].At(nr,!0);let or=s===1?ir-(er[0].Vi()-sr/2):er[0].Vi()-sr/2-ir;or=Math.max(0,or);for(let ar=1;ar<er.length;ar++){const lr=er[ar],cr=er[ar-1],ur=cr.At(nr,!1),hr=lr.Vi(),dr=cr.Vi();if(s===1?hr>dr-ur:hr<dr+ur){const pr=dr-ur*s;lr.Oi(pr);const mr=pr-s*ur/2;if((s===1?mr<0:mr>tr)&&or>0){const xr=s===1?-1-mr:mr-tr,br=Math.min(xr,or);for(let yr=rr;yr<er.length;yr++)er[yr].Oi(er[yr].Vi()+s*br);or-=br}}else rr=ar,or=s===1?dr-ur-hr:hr-(dr+ur)}}class Cs{constructor(s,tr,nr,rr){this.Li=null,this.Lv=null,this.Ev=!1,this.Nv=new ni(200),this.Jr=null,this.Fv=0,this.Wv=!1,this.jv=()=>{this.Wv||this.tn.Hv().$t().$h()},this.$v=()=>{this.Wv||this.tn.Hv().$t().$h()},this.tn=s,this.cn=tr,this.So=tr.layout,this.Vc=nr,this.Uv=rr==="left",this.qv=ks("normal",rr),this.Yv=ks("top",rr),this.Zv=ks("bottom",rr),this.Xv=document.createElement("div"),this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Xv.style.width="25px",this.Xv.style.left="0",this.Xv.style.position="relative",this.Kv=_s(this.Xv,size({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const ir=this.Kv.canvasElement;ir.style.position="absolute",ir.style.zIndex="1",ir.style.left="0",ir.style.top="0",this.Gv=_s(this.Xv,size({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const sr=this.Gv.canvasElement;sr.style.position="absolute",sr.style.zIndex="2",sr.style.left="0",sr.style.top="0";const or={mv:this.Jv.bind(this),vv:this.Jv.bind(this),lv:this.Qv.bind(this),rv:this.Qv.bind(this),bv:this.tp.bind(this),uv:this.ip.bind(this),ov:this.ip.bind(this),Uf:this.np.bind(this),Wf:this.np.bind(this),Jf:this.sp.bind(this),Tv:this.ep.bind(this)};this.rp=new ps(this.Gv.canvasElement,or,{sv:()=>!this.cn.handleScroll.vertTouchDrag,ev:()=>!0})}S(){this.rp.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),us(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose(),this.Li!==null&&this.Li.Xo().p(this),this.Li=null}hp(){return this.Xv}P(){return this.So.fontSize}lp(){const s=this.Vc.W();return this.Jr!==s.R&&(this.Nv.ir(),this.Jr=s.R),s}ap(){if(this.Li===null)return 0;let s=0;const tr=this.lp(),nr=b(this.Kv.canvasElement.getContext("2d"));nr.save();const rr=this.Li.ja();nr.font=this.op(),rr.length>0&&(s=Math.max(this.Nv.xi(nr,rr[0].no),this.Nv.xi(nr,rr[rr.length-1].no)));const ir=this._p();for(let ar=ir.length;ar--;){const lr=this.Nv.xi(nr,ir[ar].Kt());lr>s&&(s=lr)}const sr=this.Li.Ct();if(sr!==null&&this.Lv!==null&&this.cn.crosshair.mode!==2){const ar=this.Li.pn(1,sr),lr=this.Li.pn(this.Lv.height-2,sr);s=Math.max(s,this.Nv.xi(nr,this.Li.Fi(Math.floor(Math.min(ar,lr))+.11111111111111,sr)),this.Nv.xi(nr,this.Li.Fi(Math.ceil(Math.max(ar,lr))-.11111111111111,sr)))}nr.restore();const or=s||34;return rs(Math.ceil(tr.C+tr.T+tr.A+tr.I+5+or))}up(s){this.Lv!==null&&equalSizes(this.Lv,s)||(this.Lv=s,this.Wv=!0,this.Kv.resizeCanvasElement(s),this.Gv.resizeCanvasElement(s),this.Wv=!1,this.Xv.style.width=`${s.width}px`,this.Xv.style.height=`${s.height}px`)}cp(){return b(this.Lv).width}Gi(s){this.Li!==s&&(this.Li!==null&&this.Li.Xo().p(this),this.Li=s,s.Xo().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){const s=this.tn.dp();this.tn.Hv().$t().L_(s,b(this.Dt()))}fp(s){if(this.Lv===null)return;if(s!==1){this.vp(),this.Kv.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Kv);nr!==null&&(nr.useBitmapCoordinateSpace(rr=>{this.pp(rr),this.Ae(rr)}),this.tn.mp(nr,this.Zv),this.bp(nr),this.tn.mp(nr,this.qv),this.wp(nr))}this.Gv.applySuggestedBitmapSize();const tr=tryCreateCanvasRenderingTarget2D(this.Gv);tr!==null&&(tr.useBitmapCoordinateSpace(({context:nr,bitmapSize:rr})=>{nr.clearRect(0,0,rr.width,rr.height)}),this.gp(tr),this.tn.mp(tr,this.Yv))}Mp(){return this.Kv.bitmapSize}xp(s,tr,nr){const rr=this.Mp();rr.width>0&&rr.height>0&&s.drawImage(this.Kv.canvasElement,tr,nr)}bt(){var s;(s=this.Li)===null||s===void 0||s.ja()}Jv(s){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const tr=this.tn.Hv().$t(),nr=this.tn.dp();this.Ev=!0,tr.D_(nr,this.Li,s.localY)}Qv(s){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const tr=this.tn.Hv().$t(),nr=this.tn.dp(),rr=this.Li;tr.V_(nr,rr,s.localY)}tp(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const s=this.tn.Hv().$t(),tr=this.tn.dp(),nr=this.Li;this.Ev&&(this.Ev=!1,s.O_(tr,nr))}ip(s){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const tr=this.tn.Hv().$t(),nr=this.tn.dp();this.Ev=!1,tr.O_(nr,this.Li)}np(s){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}sp(s){this.Li!==null&&(!this.tn.Hv().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Vo()||this.Sp(1))}ep(s){this.Sp(0)}_p(){const s=[],tr=this.Li===null?void 0:this.Li;return(nr=>{for(let rr=0;rr<nr.length;++rr){const ir=nr[rr].Rn(this.tn.dp(),tr);for(let sr=0;sr<ir.length;sr++)s.push(ir[sr])}})(this.tn.dp().$o()),s}pp({context:s,bitmapSize:tr}){const{width:nr,height:rr}=tr,ir=this.tn.dp().$t(),sr=ir.q(),or=ir.md();sr===or?G(s,0,0,nr,rr,sr):tt(s,0,0,nr,rr,sr,or)}Ae({context:s,bitmapSize:tr,horizontalPixelRatio:nr}){if(this.Lv===null||this.Li===null||!this.Li.W().borderVisible)return;s.fillStyle=this.Li.W().borderColor;const rr=Math.max(1,Math.floor(this.lp().C*nr));let ir;ir=this.Uv?tr.width-rr:0,s.fillRect(ir,0,rr,tr.height)}bp(s){if(this.Lv===null||this.Li===null)return;const tr=this.Li.ja(),nr=this.Li.W(),rr=this.lp(),ir=this.Uv?this.Lv.width-rr.T:0;nr.borderVisible&&nr.ticksVisible&&s.useBitmapCoordinateSpace(({context:sr,horizontalPixelRatio:or,verticalPixelRatio:ar})=>{sr.fillStyle=nr.borderColor;const lr=Math.max(1,Math.floor(ar)),cr=Math.floor(.5*ar),ur=Math.round(rr.T*or);sr.beginPath();for(const hr of tr)sr.rect(Math.floor(ir*or),Math.round(hr.La*ar)-cr,ur,lr);sr.fill()}),s.useMediaCoordinateSpace(({context:sr})=>{var or;sr.font=this.op(),sr.fillStyle=(or=nr.textColor)!==null&&or!==void 0?or:this.So.textColor,sr.textAlign=this.Uv?"right":"left",sr.textBaseline="middle";const ar=this.Uv?Math.round(ir-rr.A):Math.round(ir+rr.T+rr.A),lr=tr.map(cr=>this.Nv.Mi(sr,cr.no));for(let cr=tr.length;cr--;){const ur=tr[cr];sr.fillText(ur.no,ar,ur.La+lr[cr])}})}vp(){if(this.Lv===null||this.Li===null)return;const s=[],tr=this.Li.$o().slice(),nr=this.tn.dp(),rr=this.lp();this.Li===nr.vr()&&this.tn.dp().$o().forEach(sr=>{nr.dr(sr)&&tr.push(sr)});const ir=this.Li;tr.forEach(sr=>{sr.Rn(nr,ir).forEach(or=>{or.Oi(null),or.Bi()&&s.push(or)})}),s.forEach(sr=>sr.Oi(sr.ki())),this.Li.W().alignLabels&&this.kp(s,rr)}kp(s,tr){if(this.Lv===null)return;const nr=this.Lv.height/2,rr=s.filter(sr=>sr.ki()<=nr),ir=s.filter(sr=>sr.ki()>nr);rr.sort((sr,or)=>or.ki()-sr.ki()),ir.sort((sr,or)=>sr.ki()-or.ki());for(const sr of s){const or=Math.floor(sr.At(tr)/2),ar=sr.ki();ar>-or&&ar<or&&sr.Oi(or),ar>this.Lv.height-or&&ar<this.Lv.height+or&&sr.Oi(this.Lv.height-or)}ys(rr,1,this.Lv.height,tr),ys(ir,-1,this.Lv.height,tr)}wp(s){if(this.Lv===null)return;const tr=this._p(),nr=this.lp(),rr=this.Uv?"right":"left";tr.forEach(ir=>{ir.Ai()&&ir.gt(b(this.Li)).X(s,nr,this.Nv,rr)})}gp(s){if(this.Lv===null||this.Li===null)return;const tr=this.tn.Hv().$t(),nr=[],rr=this.tn.dp(),ir=tr.Yc().Rn(rr,this.Li);ir.length&&nr.push(ir);const sr=this.lp(),or=this.Uv?"right":"left";nr.forEach(ar=>{ar.forEach(lr=>{lr.gt(b(this.Li)).X(s,sr,this.Nv,or)})})}Sp(s){this.Xv.style.cursor=s===1?"ns-resize":"default"}do(){const s=this.ap();this.Fv<s&&this.tn.Hv().$t().Xl(),this.Fv=s}op(){return F(this.So.fontSize,this.So.fontFamily)}}function Ts(er,s){var tr,nr;return(nr=(tr=er._a)===null||tr===void 0?void 0:tr.call(er,s))!==null&&nr!==void 0?nr:[]}function Ps(er,s){var tr,nr;return(nr=(tr=er.Pn)===null||tr===void 0?void 0:tr.call(er,s))!==null&&nr!==void 0?nr:[]}function Rs(er,s){var tr,nr;return(nr=(tr=er.Ji)===null||tr===void 0?void 0:tr.call(er,s))!==null&&nr!==void 0?nr:[]}function Ds(er,s){var tr,nr;return(nr=(tr=er.la)===null||tr===void 0?void 0:tr.call(er,s))!==null&&nr!==void 0?nr:[]}class Vs{constructor(s,tr){this.Lv=size({width:0,height:0}),this.yp=null,this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=!1,this.Dp=new D,this.Vp=new D,this.Op=0,this.Bp=!1,this.Ap=null,this.Ip=!1,this.zp=null,this.Lp=null,this.Wv=!1,this.jv=()=>{this.Wv||this.Ep===null||this.$i().$h()},this.$v=()=>{this.Wv||this.Ep===null||this.$i().$h()},this.Jd=s,this.Ep=tr,this.Ep.F_().l(this.Np.bind(this),this,!0),this.Fp=document.createElement("td"),this.Fp.style.padding="0",this.Fp.style.position="relative";const nr=document.createElement("div");nr.style.width="100%",nr.style.height="100%",nr.style.position="relative",nr.style.overflow="hidden",this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Fp.appendChild(nr),this.Kv=_s(nr,size({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const rr=this.Kv.canvasElement;rr.style.position="absolute",rr.style.zIndex="1",rr.style.left="0",rr.style.top="0",this.Gv=_s(nr,size({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const ir=this.Gv.canvasElement;ir.style.position="absolute",ir.style.zIndex="2",ir.style.left="0",ir.style.top="0",this.Hp=document.createElement("tr"),this.Hp.appendChild(this.Wp),this.Hp.appendChild(this.Fp),this.Hp.appendChild(this.jp),this.$p(),this.rp=new ps(this.Gv.canvasElement,this,{sv:()=>this.Ap===null&&!this.Jd.W().handleScroll.vertTouchDrag,ev:()=>this.Ap===null&&!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.yp!==null&&this.yp.S(),this.Cp!==null&&this.Cp.S(),this.Tp=null,this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),us(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose(),this.Ep!==null&&this.Ep.F_().p(this),this.rp.S()}dp(){return b(this.Ep)}Up(s){var tr,nr;this.Ep!==null&&this.Ep.F_().p(this),this.Ep=s,this.Ep!==null&&this.Ep.F_().l(Vs.prototype.Np.bind(this),this,!0),this.$p(),this.Jd.qp().indexOf(this)===this.Jd.qp().length-1?(this.Tp=(tr=this.Tp)!==null&&tr!==void 0?tr:new os(this.Fp,this.Jd),this.Tp.bt()):((nr=this.Tp)===null||nr===void 0||nr.tf(),this.Tp=null)}Hv(){return this.Jd}hp(){return this.Hp}$p(){if(this.Ep!==null&&(this.Yp(),this.$i().wt().length!==0)){if(this.yp!==null){const s=this.Ep.P_();this.yp.Gi(b(s))}if(this.Cp!==null){const s=this.Ep.R_();this.Cp.Gi(b(s))}}}Zp(){this.yp!==null&&this.yp.bt(),this.Cp!==null&&this.Cp.bt()}g_(){return this.Ep!==null?this.Ep.g_():0}M_(s){this.Ep&&this.Ep.M_(s)}Jf(s){if(!this.Ep)return;this.Xp();const tr=s.localX,nr=s.localY;this.Kp(tr,nr,s)}mv(s){this.Xp(),this.Gp(),this.Kp(s.localX,s.localY,s)}Qf(s){var tr;if(!this.Ep)return;this.Xp();const nr=s.localX,rr=s.localY;this.Kp(nr,rr,s);const ir=this.br(nr,rr);this.Jd.Jp((tr=ir==null?void 0:ir.zv)!==null&&tr!==void 0?tr:null),this.$i().Wc(ir&&{jc:ir.jc,Av:ir.Av})}cv(s){this.Ep!==null&&(this.Xp(),this.Qp(s))}Uf(s){this.Ep!==null&&this.tm(this.Vp,s)}Wf(s){this.Uf(s)}lv(s){this.Xp(),this.im(s),this.Kp(s.localX,s.localY,s)}uv(s){this.Ep!==null&&(this.Xp(),this.Bp=!1,this.nm(s))}_v(s){this.Ep!==null&&this.Qp(s)}Pv(s){if(this.Bp=!0,this.Ap===null){const tr={x:s.localX,y:s.localY};this.sm(tr,tr,s)}}Tv(s){this.Ep!==null&&(this.Xp(),this.Ep.$t().Wc(null),this.rm())}hm(){return this.Dp}lm(){return this.Vp}Mv(){this.Op=1,this.$i().Un()}xv(s,tr){if(!this.Jd.W().handleScale.pinch)return;const nr=5*(tr-this.Op);this.Op=tr,this.$i().Jc(s.nt,nr)}vv(s){this.Bp=!1,this.Ip=this.Ap!==null,this.Gp();const tr=this.$i().Yc();this.Ap!==null&&tr.yt()&&(this.zp={x:tr.Yt(),y:tr.Zt()},this.Ap={x:s.localX,y:s.localY})}rv(s){if(this.Ep===null)return;const tr=s.localX,nr=s.localY;if(this.Ap===null)this.im(s);else{this.Ip=!1;const rr=b(this.zp),ir=rr.x+(tr-this.Ap.x),sr=rr.y+(nr-this.Ap.y);this.Kp(ir,sr,s)}}ov(s){this.Hv().W().trackingMode.exitMode===0&&(this.Ip=!0),this.am(),this.nm(s)}br(s,tr){const nr=this.Ep;return nr===null?null:function(rr,ir,sr){const or=rr.$o(),ar=function(lr,cr,ur){var hr,dr;let pr,mr;for(const yr of lr){const gr=(dr=(hr=yr.fa)===null||hr===void 0?void 0:hr.call(yr,cr,ur))!==null&&dr!==void 0?dr:[];for(const Er of gr)xr=Er.zOrder,(!(br=pr==null?void 0:pr.zOrder)||xr==="top"&&br!=="top"||xr==="normal"&&br==="bottom")&&(pr=Er,mr=yr)}var xr,br;return pr&&mr?{Iv:pr,jc:mr}:null}(or,ir,sr);if((ar==null?void 0:ar.Iv.zOrder)==="top")return xs(ar);for(const lr of or){if(ar&&ar.jc===lr&&ar.Iv.zOrder!=="bottom"&&!ar.Iv.isBackground)return xs(ar);const cr=Ss(lr.Pn(rr),ir,sr);if(cr!==null)return{jc:lr,Ov:cr.Ov,Av:cr.Av};if(ar&&ar.jc===lr&&ar.Iv.zOrder!=="bottom"&&ar.Iv.isBackground)return xs(ar)}return ar!=null&&ar.Iv?xs(ar):null}(nr,s,tr)}om(s,tr){b(tr==="left"?this.yp:this.Cp).up(size({width:s,height:this.Lv.height}))}_m(){return this.Lv}up(s){equalSizes(this.Lv,s)||(this.Lv=s,this.Wv=!0,this.Kv.resizeCanvasElement(s),this.Gv.resizeCanvasElement(s),this.Wv=!1,this.Fp.style.width=s.width+"px",this.Fp.style.height=s.height+"px")}um(){const s=b(this.Ep);s.T_(s.P_()),s.T_(s.R_());for(const tr of s.Oa())if(s.dr(tr)){const nr=tr.Dt();nr!==null&&s.T_(nr),tr.Vn()}}Mp(){return this.Kv.bitmapSize}xp(s,tr,nr){const rr=this.Mp();rr.width>0&&rr.height>0&&s.drawImage(this.Kv.canvasElement,tr,nr)}fp(s){if(s===0||this.Ep===null)return;if(s>1&&this.um(),this.yp!==null&&this.yp.fp(s),this.Cp!==null&&this.Cp.fp(s),s!==1){this.Kv.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Kv);nr!==null&&(nr.useBitmapCoordinateSpace(rr=>{this.pp(rr)}),this.Ep&&(this.dm(nr,Ts),this.fm(nr),this.vm(nr),this.dm(nr,Ps),this.dm(nr,Rs)))}this.Gv.applySuggestedBitmapSize();const tr=tryCreateCanvasRenderingTarget2D(this.Gv);tr!==null&&(tr.useBitmapCoordinateSpace(({context:nr,bitmapSize:rr})=>{nr.clearRect(0,0,rr.width,rr.height)}),this.pm(tr),this.dm(tr,Ds))}bm(){return this.yp}wm(){return this.Cp}mp(s,tr){this.dm(s,tr)}Np(){this.Ep!==null&&this.Ep.F_().p(this),this.Ep=null}Qp(s){this.tm(this.Dp,s)}tm(s,tr){const nr=tr.localX,rr=tr.localY;s.M()&&s.m(this.$i().St().Eu(nr),{x:nr,y:rr},tr)}pp({context:s,bitmapSize:tr}){const{width:nr,height:rr}=tr,ir=this.$i(),sr=ir.q(),or=ir.md();sr===or?G(s,0,0,nr,rr,or):tt(s,0,0,nr,rr,sr,or)}fm(s){const tr=b(this.Ep).W_().Uh().gt();tr!==null&&tr.X(s,!1)}vm(s){const tr=this.$i().qc();this.gm(s,Ps,cs,tr),this.gm(s,Ps,ds,tr)}pm(s){this.gm(s,Ps,ds,this.$i().Yc())}dm(s,tr){const nr=b(this.Ep).$o();for(const rr of nr)this.gm(s,tr,cs,rr);for(const rr of nr)this.gm(s,tr,ds,rr)}gm(s,tr,nr,rr){const ir=b(this.Ep),sr=ir.$t().Fc(),or=sr!==null&&sr.jc===rr,ar=sr!==null&&or&&sr.Av!==void 0?sr.Av.gr:void 0;fs(tr,lr=>nr(lr,s,or,ar),rr,ir)}Yp(){if(this.Ep===null)return;const s=this.Jd,tr=this.Ep.P_().W().visible,nr=this.Ep.R_().W().visible;tr||this.yp===null||(this.Wp.removeChild(this.yp.hp()),this.yp.S(),this.yp=null),nr||this.Cp===null||(this.jp.removeChild(this.Cp.hp()),this.Cp.S(),this.Cp=null);const rr=s.$t()._d();tr&&this.yp===null&&(this.yp=new Cs(this,s.W(),rr,"left"),this.Wp.appendChild(this.yp.hp())),nr&&this.Cp===null&&(this.Cp=new Cs(this,s.W(),rr,"right"),this.jp.appendChild(this.Cp.hp()))}Mm(s){return s.Rv&&this.Bp||this.Ap!==null}xm(s){return Math.max(0,Math.min(s,this.Lv.width-1))}Sm(s){return Math.max(0,Math.min(s,this.Lv.height-1))}Kp(s,tr,nr){this.$i().hd(this.xm(s),this.Sm(tr),nr,b(this.Ep))}rm(){this.$i().ad()}am(){this.Ip&&(this.Ap=null,this.rm())}sm(s,tr,nr){this.Ap=s,this.Ip=!1,this.Kp(tr.x,tr.y,nr);const rr=this.$i().Yc();this.zp={x:rr.Yt(),y:rr.Zt()}}$i(){return this.Jd.$t()}nm(s){if(!this.Rp)return;const tr=this.$i(),nr=this.dp();if(tr.I_(nr,nr.vn()),this.Pp=null,this.Rp=!1,tr.sd(),this.Lp!==null){const rr=performance.now(),ir=tr.St();this.Lp.Dr(ir.ju(),rr),this.Lp.Ju(rr)||tr.Zn(this.Lp)}}Xp(){this.Ap=null}Gp(){if(this.Ep){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)b(document.activeElement).blur();else{const s=document.getSelection();s!==null&&s.removeAllRanges()}!this.Ep.vn().Ni()&&this.$i().St().Ni()}}im(s){if(this.Ep===null)return;const tr=this.$i(),nr=tr.St();if(nr.Ni())return;const rr=this.Jd.W(),ir=rr.handleScroll,sr=rr.kineticScroll;if((!ir.pressedMouseMove||s.Rv)&&(!ir.horzTouchDrag&&!ir.vertTouchDrag||!s.Rv))return;const or=this.Ep.vn(),ar=performance.now();if(this.Pp!==null||this.Mm(s)||(this.Pp={x:s.clientX,y:s.clientY,Vd:ar,km:s.localX,ym:s.localY}),this.Pp!==null&&!this.Rp&&(this.Pp.x!==s.clientX||this.Pp.y!==s.clientY)){if(s.Rv&&sr.touch||!s.Rv&&sr.mouse){const lr=nr.he();this.Lp=new as(.2/lr,7/lr,.997,15/lr),this.Lp.qd(nr.ju(),this.Pp.Vd)}else this.Lp=null;or.Ni()||tr.B_(this.Ep,or,s.localY),tr.td(s.localX),this.Rp=!0}this.Rp&&(or.Ni()||tr.A_(this.Ep,or,s.localY),tr.nd(s.localX),this.Lp!==null&&this.Lp.qd(nr.ju(),ar))}}class Os{constructor(s,tr,nr,rr,ir){this.ft=!0,this.Lv=size({width:0,height:0}),this.jv=()=>this.fp(3),this.Uv=s==="left",this.Vc=nr._d,this.cn=tr,this.Cm=rr,this.Tm=ir,this.Xv=document.createElement("div"),this.Xv.style.width="25px",this.Xv.style.height="100%",this.Xv.style.overflow="hidden",this.Kv=_s(this.Xv,size({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv)}S(){this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Xv}_m(){return this.Lv}up(s){equalSizes(this.Lv,s)||(this.Lv=s,this.Kv.resizeCanvasElement(s),this.Xv.style.width=`${s.width}px`,this.Xv.style.height=`${s.height}px`,this.ft=!0)}fp(s){if(s<3&&!this.ft||this.Lv.width===0||this.Lv.height===0)return;this.ft=!1,this.Kv.applySuggestedBitmapSize();const tr=tryCreateCanvasRenderingTarget2D(this.Kv);tr!==null&&tr.useBitmapCoordinateSpace(nr=>{this.pp(nr),this.Ae(nr)})}Mp(){return this.Kv.bitmapSize}xp(s,tr,nr){const rr=this.Mp();rr.width>0&&rr.height>0&&s.drawImage(this.Kv.canvasElement,tr,nr)}Ae({context:s,bitmapSize:tr,horizontalPixelRatio:nr,verticalPixelRatio:rr}){if(!this.Cm())return;s.fillStyle=this.cn.timeScale.borderColor;const ir=Math.floor(this.Vc.W().C*nr),sr=Math.floor(this.Vc.W().C*rr),or=this.Uv?tr.width-ir:0;s.fillRect(or,0,ir,sr)}pp({context:s,bitmapSize:tr}){G(s,0,0,tr.width,tr.height,this.Tm())}}function Bs(er){return s=>{var tr,nr;return(nr=(tr=s.da)===null||tr===void 0?void 0:tr.call(s,er))!==null&&nr!==void 0?nr:[]}}const As=Bs("normal"),Is=Bs("top"),zs=Bs("bottom");class Ls{constructor(s,tr){this.Pm=null,this.Rm=null,this.k=null,this.Dm=!1,this.Lv=size({width:0,height:0}),this.Vm=new D,this.Nv=new ni(5),this.Wv=!1,this.jv=()=>{this.Wv||this.Jd.$t().$h()},this.$v=()=>{this.Wv||this.Jd.$t().$h()},this.Jd=s,this.U_=tr,this.cn=s.W().layout,this.Zd=document.createElement("tr"),this.Om=document.createElement("td"),this.Om.style.padding="0",this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Xv=document.createElement("td"),this.Xv.style.height="25px",this.Xv.style.padding="0",this.Am=document.createElement("div"),this.Am.style.width="100%",this.Am.style.height="100%",this.Am.style.position="relative",this.Am.style.overflow="hidden",this.Xv.appendChild(this.Am),this.Kv=_s(this.Am,size({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const nr=this.Kv.canvasElement;nr.style.position="absolute",nr.style.zIndex="1",nr.style.left="0",nr.style.top="0",this.Gv=_s(this.Am,size({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const rr=this.Gv.canvasElement;rr.style.position="absolute",rr.style.zIndex="2",rr.style.left="0",rr.style.top="0",this.Zd.appendChild(this.Om),this.Zd.appendChild(this.Xv),this.Zd.appendChild(this.Bm),this.Im(),this.Jd.$t().w_().l(this.Im.bind(this),this),this.rp=new ps(this.Gv.canvasElement,this,{sv:()=>!0,ev:()=>!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.rp.S(),this.Pm!==null&&this.Pm.S(),this.Rm!==null&&this.Rm.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),us(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Zd}zm(){return this.Pm}Lm(){return this.Rm}mv(s){if(this.Dm)return;this.Dm=!0;const tr=this.Jd.$t();!tr.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&tr.Gc(s.localX)}vv(s){this.mv(s)}bv(){const s=this.Jd.$t();!s.St().Ni()&&this.Dm&&(this.Dm=!1,this.Jd.W().handleScale.axisPressedMouseMove.time&&s.rd())}lv(s){const tr=this.Jd.$t();!tr.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&tr.ed(s.localX)}rv(s){this.lv(s)}uv(){this.Dm=!1;const s=this.Jd.$t();s.St().Ni()&&!this.Jd.W().handleScale.axisPressedMouseMove.time||s.rd()}ov(){this.uv()}Uf(){this.Jd.W().handleScale.axisDoubleClickReset.time&&this.Jd.$t().Kn()}Wf(){this.Uf()}Jf(){this.Jd.$t().W().handleScale.axisPressedMouseMove.time&&this.Sp(1)}Tv(){this.Sp(0)}_m(){return this.Lv}Em(){return this.Vm}Nm(s,tr,nr){equalSizes(this.Lv,s)||(this.Lv=s,this.Wv=!0,this.Kv.resizeCanvasElement(s),this.Gv.resizeCanvasElement(s),this.Wv=!1,this.Xv.style.width=`${s.width}px`,this.Xv.style.height=`${s.height}px`,this.Vm.m(s)),this.Pm!==null&&this.Pm.up(size({width:tr,height:s.height})),this.Rm!==null&&this.Rm.up(size({width:nr,height:s.height}))}Fm(){const s=this.Wm();return Math.ceil(s.C+s.T+s.P+s.L+s.B+s.jm)}bt(){this.Jd.$t().St().ja()}Mp(){return this.Kv.bitmapSize}xp(s,tr,nr){const rr=this.Mp();rr.width>0&&rr.height>0&&s.drawImage(this.Kv.canvasElement,tr,nr)}fp(s){if(s===0)return;if(s!==1){this.Kv.applySuggestedBitmapSize();const nr=tryCreateCanvasRenderingTarget2D(this.Kv);nr!==null&&(nr.useBitmapCoordinateSpace(rr=>{this.pp(rr),this.Ae(rr),this.Hm(nr,zs)}),this.bp(nr),this.Hm(nr,As)),this.Pm!==null&&this.Pm.fp(s),this.Rm!==null&&this.Rm.fp(s)}this.Gv.applySuggestedBitmapSize();const tr=tryCreateCanvasRenderingTarget2D(this.Gv);tr!==null&&(tr.useBitmapCoordinateSpace(({context:nr,bitmapSize:rr})=>{nr.clearRect(0,0,rr.width,rr.height)}),this.$m([...this.Jd.$t().wt(),this.Jd.$t().Yc()],tr),this.Hm(tr,Is))}Hm(s,tr){const nr=this.Jd.$t().wt();for(const rr of nr)fs(tr,ir=>cs(ir,s,!1,void 0),rr,void 0);for(const rr of nr)fs(tr,ir=>ds(ir,s,!1,void 0),rr,void 0)}pp({context:s,bitmapSize:tr}){G(s,0,0,tr.width,tr.height,this.Jd.$t().md())}Ae({context:s,bitmapSize:tr,verticalPixelRatio:nr}){if(this.Jd.W().timeScale.borderVisible){s.fillStyle=this.Um();const rr=Math.max(1,Math.floor(this.Wm().C*nr));s.fillRect(0,0,tr.width,rr)}}bp(s){const tr=this.Jd.$t().St(),nr=tr.ja();if(!nr||nr.length===0)return;const rr=this.U_.maxTickMarkWeight(nr),ir=this.Wm(),sr=tr.W();sr.borderVisible&&sr.ticksVisible&&s.useBitmapCoordinateSpace(({context:or,horizontalPixelRatio:ar,verticalPixelRatio:lr})=>{or.strokeStyle=this.Um(),or.fillStyle=this.Um();const cr=Math.max(1,Math.floor(ar)),ur=Math.floor(.5*ar);or.beginPath();const hr=Math.round(ir.T*lr);for(let dr=nr.length;dr--;){const pr=Math.round(nr[dr].coord*ar);or.rect(pr-ur,0,cr,hr)}or.fill()}),s.useMediaCoordinateSpace(({context:or})=>{const ar=ir.C+ir.T+ir.L+ir.P/2;or.textAlign="center",or.textBaseline="middle",or.fillStyle=this.$(),or.font=this.op();for(const lr of nr)if(lr.weight<rr){const cr=lr.needAlignCoordinate?this.qm(or,lr.coord,lr.label):lr.coord;or.fillText(lr.label,cr,ar)}this.Jd.W().timeScale.allowBoldLabels&&(or.font=this.Ym());for(const lr of nr)if(lr.weight>=rr){const cr=lr.needAlignCoordinate?this.qm(or,lr.coord,lr.label):lr.coord;or.fillText(lr.label,cr,ar)}})}qm(s,tr,nr){const rr=this.Nv.xi(s,nr),ir=rr/2,sr=Math.floor(tr-ir)+.5;return sr<0?tr+=Math.abs(0-sr):sr+rr>this.Lv.width&&(tr-=Math.abs(this.Lv.width-(sr+rr))),tr}$m(s,tr){const nr=this.Wm();for(const rr of s)for(const ir of rr.Qi())ir.gt().X(tr,nr)}Um(){return this.Jd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}op(){return F(this.j(),this.cn.fontFamily)}Ym(){return F(this.j(),this.cn.fontFamily,"bold")}Wm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new ni,jm:0});const s=this.k,tr=this.op();if(s.R!==tr){const nr=this.j();s.P=nr,s.R=tr,s.L=3*nr/12,s.B=3*nr/12,s.ji=9*nr/12,s.N=0,s.jm=4*nr/12,s.Wi.ir()}return this.k}Sp(s){this.Xv.style.cursor=s===1?"ew-resize":"default"}Im(){const s=this.Jd.$t(),tr=s.W();tr.leftPriceScale.visible||this.Pm===null||(this.Om.removeChild(this.Pm.hp()),this.Pm.S(),this.Pm=null),tr.rightPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.hp()),this.Rm.S(),this.Rm=null);const nr={_d:this.Jd.$t()._d()},rr=()=>tr.leftPriceScale.borderVisible&&s.St().W().borderVisible,ir=()=>s.md();tr.leftPriceScale.visible&&this.Pm===null&&(this.Pm=new Os("left",tr,nr,rr,ir),this.Om.appendChild(this.Pm.hp())),tr.rightPriceScale.visible&&this.Rm===null&&(this.Rm=new Os("right",tr,nr,rr,ir),this.Bm.appendChild(this.Rm.hp()))}}const Es=!!ns&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(er=>er.brand.includes("Chromium"))&&!!ns&&(!((Ns=navigator==null?void 0:navigator.userAgentData)===null||Ns===void 0)&&Ns.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var Ns;class Fs{constructor(s,tr,nr){var rr;this.Zm=[],this.Xm=0,this.ro=0,this.o_=0,this.Km=0,this.Gm=0,this.Jm=null,this.Qm=!1,this.Dp=new D,this.Vp=new D,this.Pc=new D,this.tb=null,this.ib=null,this.Gd=s,this.cn=tr,this.U_=nr,this.Zd=document.createElement("div"),this.Zd.classList.add("tv-lightweight-charts"),this.Zd.style.overflow="hidden",this.Zd.style.direction="ltr",this.Zd.style.width="100%",this.Zd.style.height="100%",(rr=this.Zd).style.userSelect="none",rr.style.webkitUserSelect="none",rr.style.msUserSelect="none",rr.style.MozUserSelect="none",rr.style.webkitTapHighlightColor="transparent",this.nb=document.createElement("table"),this.nb.setAttribute("cellspacing","0"),this.Zd.appendChild(this.nb),this.sb=this.eb.bind(this),Ws(this.cn)&&this.rb(!0),this.$i=new Ln(this.Dc.bind(this),this.cn,nr),this.$t().Zc().l(this.hb.bind(this),this),this.lb=new Ls(this,this.U_),this.nb.appendChild(this.lb.hp());const ir=tr.autoSize&&this.ab();let sr=this.cn.width,or=this.cn.height;if(ir||sr===0||or===0){const ar=s.getBoundingClientRect();sr=sr||ar.width,or=or||ar.height}this.ob(sr,or),this._b(),s.appendChild(this.Zd),this.ub(),this.$i.St().sc().l(this.$i.Xl.bind(this.$i),this),this.$i.w_().l(this.$i.Xl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}qp(){return this.Zm}cb(){return this.lb}S(){this.rb(!1),this.Xm!==0&&window.cancelAnimationFrame(this.Xm),this.$i.Zc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S();for(const s of this.Zm)this.nb.removeChild(s.hp()),s.hm().p(this),s.lm().p(this),s.S();this.Zm=[],b(this.lb).S(),this.Zd.parentElement!==null&&this.Zd.parentElement.removeChild(this.Zd),this.Pc.S(),this.Dp.S(),this.Vp.S(),this.fb()}ob(s,tr,nr=!1){if(this.ro===tr&&this.o_===s)return;const rr=function(or){const ar=Math.floor(or.width),lr=Math.floor(or.height);return size({width:ar-ar%2,height:lr-lr%2})}(size({width:s,height:tr}));this.ro=rr.height,this.o_=rr.width;const ir=this.ro+"px",sr=this.o_+"px";b(this.Zd).style.height=ir,b(this.Zd).style.width=sr,this.nb.style.height=ir,this.nb.style.width=sr,nr?this.pb(ut.es(),performance.now()):this.$i.Xl()}fp(s){s===void 0&&(s=ut.es());for(let tr=0;tr<this.Zm.length;tr++)this.Zm[tr].fp(s.Hn(tr).Fn);this.cn.timeScale.visible&&this.lb.fp(s.jn())}Hh(s){const tr=Ws(this.cn);this.$i.Hh(s);const nr=Ws(this.cn);nr!==tr&&this.rb(nr),this.ub(),this.mb(s)}hm(){return this.Dp}lm(){return this.Vp}Zc(){return this.Pc}bb(){this.Jm!==null&&(this.pb(this.Jm,performance.now()),this.Jm=null);const s=this.wb(null),tr=document.createElement("canvas");tr.width=s.width,tr.height=s.height;const nr=b(tr.getContext("2d"));return this.wb(nr),tr}gb(s){return s==="left"&&!this.Mb()||s==="right"&&!this.xb()||this.Zm.length===0?0:b(s==="left"?this.Zm[0].bm():this.Zm[0].wm()).cp()}Sb(){return this.cn.autoSize&&this.tb!==null}kb(){return this.Zd}Jp(s){this.ib=s,this.ib?this.kb().style.setProperty("cursor",s):this.kb().style.removeProperty("cursor")}yb(){return this.ib}Cb(){return m(this.Zm[0])._m()}mb(s){(s.autoSize!==void 0||!this.tb||s.width===void 0&&s.height===void 0)&&(s.autoSize&&!this.tb&&this.ab(),s.autoSize===!1&&this.tb!==null&&this.fb(),s.autoSize||s.width===void 0&&s.height===void 0||this.ob(s.width||this.o_,s.height||this.ro))}wb(s){let tr=0,nr=0;const rr=this.Zm[0],ir=(or,ar)=>{let lr=0;for(let cr=0;cr<this.Zm.length;cr++){const ur=this.Zm[cr],hr=b(or==="left"?ur.bm():ur.wm()),dr=hr.Mp();s!==null&&hr.xp(s,ar,lr),lr+=dr.height}};this.Mb()&&(ir("left",0),tr+=b(rr.bm()).Mp().width);for(let or=0;or<this.Zm.length;or++){const ar=this.Zm[or],lr=ar.Mp();s!==null&&ar.xp(s,tr,nr),nr+=lr.height}tr+=rr.Mp().width,this.xb()&&(ir("right",tr),tr+=b(rr.wm()).Mp().width);const sr=(or,ar,lr)=>{b(or==="left"?this.lb.zm():this.lb.Lm()).xp(b(s),ar,lr)};if(this.cn.timeScale.visible){const or=this.lb.Mp();if(s!==null){let ar=0;this.Mb()&&(sr("left",ar,nr),ar=b(rr.bm()).Mp().width),this.lb.xp(s,ar,nr),ar+=or.width,this.xb()&&sr("right",ar,nr)}nr+=or.height}return size({width:tr,height:nr})}Tb(){let s=0,tr=0,nr=0;for(const pr of this.Zm)this.Mb()&&(tr=Math.max(tr,b(pr.bm()).ap(),this.cn.leftPriceScale.minimumWidth)),this.xb()&&(nr=Math.max(nr,b(pr.wm()).ap(),this.cn.rightPriceScale.minimumWidth)),s+=pr.g_();tr=rs(tr),nr=rs(nr);const rr=this.o_,ir=this.ro,sr=Math.max(rr-tr-nr,0),or=this.cn.timeScale.visible;let ar=or?Math.max(this.lb.Fm(),this.cn.timeScale.minimumHeight):0;var lr;ar=(lr=ar)+lr%2;const cr=0+ar,ur=ir<cr?0:ir-cr,hr=ur/s;let dr=0;for(let pr=0;pr<this.Zm.length;++pr){const mr=this.Zm[pr];mr.Up(this.$i.Uc()[pr]);let xr=0,br=0;br=pr===this.Zm.length-1?ur-dr:Math.round(mr.g_()*hr),xr=Math.max(br,2),dr+=xr,mr.up(size({width:sr,height:xr})),this.Mb()&&mr.om(tr,"left"),this.xb()&&mr.om(nr,"right"),mr.dp()&&this.$i.Xc(mr.dp(),xr)}this.lb.Nm(size({width:or?sr:0,height:ar}),or?tr:0,or?nr:0),this.$i.x_(sr),this.Km!==tr&&(this.Km=tr),this.Gm!==nr&&(this.Gm=nr)}rb(s){s?this.Zd.addEventListener("wheel",this.sb,{passive:!1}):this.Zd.removeEventListener("wheel",this.sb)}Pb(s){switch(s.deltaMode){case s.DOM_DELTA_PAGE:return 120;case s.DOM_DELTA_LINE:return 32}return Es?1/window.devicePixelRatio:1}eb(s){if(!(s.deltaX!==0&&this.cn.handleScroll.mouseWheel||s.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const tr=this.Pb(s),nr=tr*s.deltaX/100,rr=-tr*s.deltaY/100;if(s.cancelable&&s.preventDefault(),rr!==0&&this.cn.handleScale.mouseWheel){const ir=Math.sign(rr)*Math.min(1,Math.abs(rr)),sr=s.clientX-this.Zd.getBoundingClientRect().left;this.$t().Jc(sr,ir)}nr!==0&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*nr)}pb(s,tr){var nr;const rr=s.jn();rr===3&&this.Rb(),rr!==3&&rr!==2||(this.Db(s),this.Vb(s,tr),this.lb.bt(),this.Zm.forEach(ir=>{ir.Zp()}),((nr=this.Jm)===null||nr===void 0?void 0:nr.jn())===3&&(this.Jm.ts(s),this.Rb(),this.Db(this.Jm),this.Vb(this.Jm,tr),s=this.Jm,this.Jm=null)),this.fp(s)}Vb(s,tr){for(const nr of s.Qn())this.ns(nr,tr)}Db(s){const tr=this.$i.Uc();for(let nr=0;nr<tr.length;nr++)s.Hn(nr).Wn&&tr[nr].E_()}ns(s,tr){const nr=this.$i.St();switch(s.qn){case 0:nr.rc();break;case 1:nr.hc(s.Vt);break;case 2:nr.Gn(s.Vt);break;case 3:nr.Jn(s.Vt);break;case 4:nr.Uu();break;case 5:s.Vt.Ju(tr)||nr.Jn(s.Vt.Qu(tr))}}Dc(s){this.Jm!==null?this.Jm.ts(s):this.Jm=s,this.Qm||(this.Qm=!0,this.Xm=window.requestAnimationFrame(tr=>{if(this.Qm=!1,this.Xm=0,this.Jm!==null){const nr=this.Jm;this.Jm=null,this.pb(nr,tr);for(const rr of nr.Qn())if(rr.qn===5&&!rr.Vt.Ju(tr)){this.$t().Zn(rr.Vt);break}}}))}Rb(){this._b()}_b(){const s=this.$i.Uc(),tr=s.length,nr=this.Zm.length;for(let rr=tr;rr<nr;rr++){const ir=m(this.Zm.pop());this.nb.removeChild(ir.hp()),ir.hm().p(this),ir.lm().p(this),ir.S()}for(let rr=nr;rr<tr;rr++){const ir=new Vs(this,s[rr]);ir.hm().l(this.Ob.bind(this),this),ir.lm().l(this.Bb.bind(this),this),this.Zm.push(ir),this.nb.insertBefore(ir.hp(),this.lb.hp())}for(let rr=0;rr<tr;rr++){const ir=s[rr],sr=this.Zm[rr];sr.dp()!==ir?sr.Up(ir):sr.$p()}this.ub(),this.Tb()}Ab(s,tr,nr){var rr;const ir=new Map;s!==null&&this.$i.wt().forEach(cr=>{const ur=cr.In().hl(s);ur!==null&&ir.set(cr,ur)});let sr;if(s!==null){const cr=(rr=this.$i.St().Ui(s))===null||rr===void 0?void 0:rr.originalTime;cr!==void 0&&(sr=cr)}const or=this.$t().Fc(),ar=or!==null&&or.jc instanceof Gi?or.jc:void 0,lr=or!==null&&or.Av!==void 0?or.Av.wr:void 0;return{Ib:sr,se:s??void 0,zb:tr??void 0,Lb:ar,Eb:ir,Nb:lr,Fb:nr??void 0}}Ob(s,tr,nr){this.Dp.m(()=>this.Ab(s,tr,nr))}Bb(s,tr,nr){this.Vp.m(()=>this.Ab(s,tr,nr))}hb(s,tr,nr){this.Pc.m(()=>this.Ab(s,tr,nr))}ub(){const s=this.cn.timeScale.visible?"":"none";this.lb.hp().style.display=s}Mb(){return this.Zm[0].dp().P_().W().visible}xb(){return this.Zm[0].dp().R_().W().visible}ab(){return"ResizeObserver"in window&&(this.tb=new ResizeObserver(s=>{const tr=s.find(nr=>nr.target===this.Gd);tr&&this.ob(tr.contentRect.width,tr.contentRect.height)}),this.tb.observe(this.Gd,{box:"border-box"}),!0)}fb(){this.tb!==null&&this.tb.disconnect(),this.tb=null}}function Ws(er){return!!(er.handleScroll.mouseWheel||er.handleScale.mouseWheel)}function js(er){return function(s){return s.open!==void 0}(er)||function(s){return s.value!==void 0}(er)}function Hs(er,s){var tr={};for(var nr in er)Object.prototype.hasOwnProperty.call(er,nr)&&s.indexOf(nr)<0&&(tr[nr]=er[nr]);if(er!=null&&typeof Object.getOwnPropertySymbols=="function"){var rr=0;for(nr=Object.getOwnPropertySymbols(er);rr<nr.length;rr++)s.indexOf(nr[rr])<0&&Object.prototype.propertyIsEnumerable.call(er,nr[rr])&&(tr[nr[rr]]=er[nr[rr]])}return tr}function $s(er,s,tr,nr){const rr=tr.value,ir={se:s,ot:er,Vt:[rr,rr,rr,rr],Ib:nr};return tr.color!==void 0&&(ir.V=tr.color),ir}function Us(er,s,tr,nr){const rr=tr.value,ir={se:s,ot:er,Vt:[rr,rr,rr,rr],Ib:nr};return tr.lineColor!==void 0&&(ir.lt=tr.lineColor),tr.topColor!==void 0&&(ir.Ts=tr.topColor),tr.bottomColor!==void 0&&(ir.Ps=tr.bottomColor),ir}function qs(er,s,tr,nr){const rr=tr.value,ir={se:s,ot:er,Vt:[rr,rr,rr,rr],Ib:nr};return tr.topLineColor!==void 0&&(ir.Pe=tr.topLineColor),tr.bottomLineColor!==void 0&&(ir.Re=tr.bottomLineColor),tr.topFillColor1!==void 0&&(ir.Se=tr.topFillColor1),tr.topFillColor2!==void 0&&(ir.ke=tr.topFillColor2),tr.bottomFillColor1!==void 0&&(ir.ye=tr.bottomFillColor1),tr.bottomFillColor2!==void 0&&(ir.Ce=tr.bottomFillColor2),ir}function Ys(er,s,tr,nr){const rr={se:s,ot:er,Vt:[tr.open,tr.high,tr.low,tr.close],Ib:nr};return tr.color!==void 0&&(rr.V=tr.color),rr}function Zs(er,s,tr,nr){const rr={se:s,ot:er,Vt:[tr.open,tr.high,tr.low,tr.close],Ib:nr};return tr.color!==void 0&&(rr.V=tr.color),tr.borderColor!==void 0&&(rr.Ot=tr.borderColor),tr.wickColor!==void 0&&(rr.Zh=tr.wickColor),rr}function Xs(er,s,tr,nr,rr){const ir=m(rr)(tr),sr=Math.max(...ir),or=Math.min(...ir),ar=ir[ir.length-1],lr=[ar,sr,or,ar],cr=tr,{time:ur,color:hr}=cr;return{se:s,ot:er,Vt:lr,Ib:nr,He:Hs(cr,["time","color"]),V:hr}}function Ks(er){return er.Vt!==void 0}function Gs(er,s){return s.customValues!==void 0&&(er.Wb=s.customValues),er}function Js(er){return(s,tr,nr,rr,ir,sr)=>function(or,ar){return ar?ar(or):(lr=or).open===void 0&&lr.value===void 0;var lr}(nr,sr)?Gs({ot:s,se:tr,Ib:rr},nr):Gs(er(s,tr,nr,rr,ir),nr)}function Qs(er){return{Candlestick:Js(Zs),Bar:Js(Ys),Area:Js(Us),Baseline:Js(qs),Histogram:Js($s),Line:Js($s),Custom:Js(Xs)}[er]}function te(er){return{se:0,jb:new Map,ha:er}}function ie(er,s){if(er!==void 0&&er.length!==0)return{Hb:s.key(er[0].ot),$b:s.key(er[er.length-1].ot)}}function ne(er){let s;return er.forEach(tr=>{s===void 0&&(s=tr.Ib)}),m(s)}class se{constructor(s){this.Ub=new Map,this.qb=new Map,this.Yb=new Map,this.Zb=[],this.U_=s}S(){this.Ub.clear(),this.qb.clear(),this.Yb.clear(),this.Zb=[]}Xb(s,tr){let nr=this.Ub.size!==0,rr=!1;const ir=this.qb.get(s);if(ir!==void 0)if(this.qb.size===1)nr=!1,rr=!0,this.Ub.clear();else for(const ar of this.Zb)ar.pointData.jb.delete(s)&&(rr=!0);let sr=[];if(tr.length!==0){const ar=tr.map(dr=>dr.time),lr=this.U_.createConverterToInternalObj(tr),cr=Qs(s.Jh()),ur=s.ya(),hr=s.Ca();sr=tr.map((dr,pr)=>{const mr=lr(dr.time),xr=this.U_.key(mr);let br=this.Ub.get(xr);br===void 0&&(br=te(mr),this.Ub.set(xr,br),rr=!0);const yr=cr(mr,br.se,dr,ar[pr],ur,hr);return br.jb.set(s,yr),yr})}nr&&this.Kb(),this.Gb(s,sr);let or=-1;if(rr){const ar=[];this.Ub.forEach(lr=>{ar.push({timeWeight:0,time:lr.ha,pointData:lr,originalTime:ne(lr.jb)})}),ar.sort((lr,cr)=>this.U_.key(lr.time)-this.U_.key(cr.time)),or=this.Jb(ar)}return this.Qb(s,or,function(ar,lr,cr){const ur=ie(ar,cr),hr=ie(lr,cr);if(ur!==void 0&&hr!==void 0)return{Ql:ur.$b>=hr.$b&&ur.Hb>=hr.Hb}}(this.qb.get(s),ir,this.U_))}fd(s){return this.Xb(s,[])}tw(s,tr){const nr=tr;(function(mr){mr.Ib===void 0&&(mr.Ib=mr.time)})(nr),this.U_.preprocessData(tr);const rr=this.U_.createConverterToInternalObj([tr])(tr.time),ir=this.Yb.get(s);if(ir!==void 0&&this.U_.key(rr)<this.U_.key(ir))throw new Error(`Cannot update oldest data, last time=${ir}, new time=${rr}`);let sr=this.Ub.get(this.U_.key(rr));const or=sr===void 0;sr===void 0&&(sr=te(rr),this.Ub.set(this.U_.key(rr),sr));const ar=Qs(s.Jh()),lr=s.ya(),cr=s.Ca(),ur=ar(rr,sr.se,tr,nr.Ib,lr,cr);sr.jb.set(s,ur),this.iw(s,ur);const hr={Ql:Ks(ur)};if(!or)return this.Qb(s,-1,hr);const dr={timeWeight:0,time:sr.ha,pointData:sr,originalTime:ne(sr.jb)},pr=Bt(this.Zb,this.U_.key(dr.time),(mr,xr)=>this.U_.key(mr.time)<xr);this.Zb.splice(pr,0,dr);for(let mr=pr;mr<this.Zb.length;++mr)ee(this.Zb[mr].pointData,mr);return this.U_.fillWeightsForPoints(this.Zb,pr),this.Qb(s,pr,hr)}iw(s,tr){let nr=this.qb.get(s);nr===void 0&&(nr=[],this.qb.set(s,nr));const rr=nr.length!==0?nr[nr.length-1]:null;rr===null||this.U_.key(tr.ot)>this.U_.key(rr.ot)?Ks(tr)&&nr.push(tr):Ks(tr)?nr[nr.length-1]=tr:nr.splice(-1,1),this.Yb.set(s,tr.ot)}Gb(s,tr){tr.length!==0?(this.qb.set(s,tr.filter(Ks)),this.Yb.set(s,tr[tr.length-1].ot)):(this.qb.delete(s),this.Yb.delete(s))}Kb(){for(const s of this.Zb)s.pointData.jb.size===0&&this.Ub.delete(this.U_.key(s.time))}Jb(s){let tr=-1;for(let nr=0;nr<this.Zb.length&&nr<s.length;++nr){const rr=this.Zb[nr],ir=s[nr];if(this.U_.key(rr.time)!==this.U_.key(ir.time)){tr=nr;break}ir.timeWeight=rr.timeWeight,ee(ir.pointData,nr)}if(tr===-1&&this.Zb.length!==s.length&&(tr=Math.min(this.Zb.length,s.length)),tr===-1)return-1;for(let nr=tr;nr<s.length;++nr)ee(s[nr].pointData,nr);return this.U_.fillWeightsForPoints(s,tr),this.Zb=s,tr}nw(){if(this.qb.size===0)return null;let s=0;return this.qb.forEach(tr=>{tr.length!==0&&(s=Math.max(s,tr[tr.length-1].se))}),s}Qb(s,tr,nr){const rr={sw:new Map,St:{Lu:this.nw()}};if(tr!==-1)this.qb.forEach((ir,sr)=>{rr.sw.set(sr,{He:ir,ew:sr===s?nr:void 0})}),this.qb.has(s)||rr.sw.set(s,{He:[],ew:nr}),rr.St.rw=this.Zb,rr.St.hw=tr;else{const ir=this.qb.get(s);rr.sw.set(s,{He:ir||[],ew:nr})}return rr}}function ee(er,s){er.se=s,er.jb.forEach(tr=>{tr.se=s})}function re(er){const s={value:er.Vt[3],time:er.Ib};return er.Wb!==void 0&&(s.customValues=er.Wb),s}function he(er){const s=re(er);return er.V!==void 0&&(s.color=er.V),s}function le(er){const s=re(er);return er.lt!==void 0&&(s.lineColor=er.lt),er.Ts!==void 0&&(s.topColor=er.Ts),er.Ps!==void 0&&(s.bottomColor=er.Ps),s}function ae(er){const s=re(er);return er.Pe!==void 0&&(s.topLineColor=er.Pe),er.Re!==void 0&&(s.bottomLineColor=er.Re),er.Se!==void 0&&(s.topFillColor1=er.Se),er.ke!==void 0&&(s.topFillColor2=er.ke),er.ye!==void 0&&(s.bottomFillColor1=er.ye),er.Ce!==void 0&&(s.bottomFillColor2=er.Ce),s}function oe(er){const s={open:er.Vt[0],high:er.Vt[1],low:er.Vt[2],close:er.Vt[3],time:er.Ib};return er.Wb!==void 0&&(s.customValues=er.Wb),s}function _e(er){const s=oe(er);return er.V!==void 0&&(s.color=er.V),s}function ue(er){const s=oe(er),{V:tr,Ot:nr,Zh:rr}=er;return tr!==void 0&&(s.color=tr),nr!==void 0&&(s.borderColor=nr),rr!==void 0&&(s.wickColor=rr),s}function ce(er){return{Area:le,Line:he,Baseline:ae,Histogram:he,Bar:_e,Candlestick:ue,Custom:de}[er]}function de(er){const s=er.Ib;return Object.assign(Object.assign({},er.He),{time:s})}const fe={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},ve={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},pe={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:N,attributionLogo:!0},me={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},be={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},we={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:N,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function ge(){return{width:0,height:0,autoSize:!1,layout:pe,crosshair:fe,grid:ve,overlayPriceScales:Object.assign({},me),leftPriceScale:Object.assign(Object.assign({},me),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},me),{visible:!0}),timeScale:be,watermark:we,localization:{locale:ns?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Me{constructor(s,tr){this.lw=s,this.aw=tr}applyOptions(s){this.lw.$t().Hc(this.aw,s)}options(){return this.Li().W()}width(){return _t(this.aw)?this.lw.gb(this.aw):0}Li(){return b(this.lw.$t().$c(this.aw)).Dt}}function xe(er,s,tr){const nr=Hs(er,["time","originalTime"]),rr=Object.assign({time:s},nr);return tr!==void 0&&(rr.originalTime=tr),rr}const Se={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class ke{constructor(s){this.Eh=s}applyOptions(s){this.Eh.Hh(s)}options(){return this.Eh.W()}ow(){return this.Eh}}class ye{constructor(s,tr,nr,rr,ir){this._w=new D,this.Ls=s,this.uw=tr,this.cw=nr,this.U_=ir,this.dw=rr}S(){this._w.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(s){const tr=this.Ls.Ct();return tr===null?null:this.Ls.Dt().Rt(s,tr.Vt)}coordinateToPrice(s){const tr=this.Ls.Ct();return tr===null?null:this.Ls.Dt().pn(s,tr.Vt)}barsInLogicalRange(s){if(s===null)return null;const tr=new yn(new xn(s.from,s.to)).hu(),nr=this.Ls.In();if(nr.Ni())return null;const rr=nr.hl(tr.Vs(),1),ir=nr.hl(tr.ui(),-1),sr=b(nr.sl()),or=b(nr.An());if(rr!==null&&ir!==null&&rr.se>ir.se)return{barsBefore:s.from-sr,barsAfter:or-s.to};const ar={barsBefore:rr===null||rr.se===sr?s.from-sr:rr.se-sr,barsAfter:ir===null||ir.se===or?or-s.to:or-ir.se};return rr!==null&&ir!==null&&(ar.from=rr.Ib,ar.to=ir.Ib),ar}setData(s){this.U_,this.Ls.Jh(),this.uw.fw(this.Ls,s),this.pw("full")}update(s){this.Ls.Jh(),this.uw.mw(this.Ls,s),this.pw("update")}dataByIndex(s,tr){const nr=this.Ls.In().hl(s,tr);return nr===null?null:ce(this.seriesType())(nr)}data(){const s=ce(this.seriesType());return this.Ls.In().ie().map(tr=>s(tr))}subscribeDataChanged(s){this._w.l(s)}unsubscribeDataChanged(s){this._w.v(s)}setMarkers(s){this.U_;const tr=s.map(nr=>xe(nr,this.U_.convertHorzItemToInternal(nr.time),nr.time));this.Ls.ia(tr)}markers(){return this.Ls.na().map(s=>xe(s,s.originalTime,void 0))}applyOptions(s){this.Ls.Hh(s)}options(){return z(this.Ls.W())}priceScale(){return this.cw.priceScale(this.Ls.Dt().Ta())}createPriceLine(s){const tr=V(z(Se),s),nr=this.Ls.sa(tr);return new ke(nr)}removePriceLine(s){this.Ls.ea(s.ow())}seriesType(){return this.Ls.Jh()}attachPrimitive(s){this.Ls.Sa(s),s.attached&&s.attached({chart:this.dw,series:this,requestUpdate:()=>this.Ls.$t().Xl()})}detachPrimitive(s){this.Ls.ka(s),s.detached&&s.detached()}pw(s){this._w.M()&&this._w.m(s)}}class Ce{constructor(s,tr,nr){this.bw=new D,this.pu=new D,this.Vm=new D,this.$i=s,this.kl=s.St(),this.lb=tr,this.kl.tc().l(this.ww.bind(this)),this.kl.nc().l(this.gw.bind(this)),this.lb.Em().l(this.Mw.bind(this)),this.U_=nr}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.lb.Em().p(this),this.bw.S(),this.pu.S(),this.Vm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(s,tr){tr?this.kl.Gu(s,1e3):this.$i.Jn(s)}scrollToRealTime(){this.kl.Ku()}getVisibleRange(){const s=this.kl.Du();return s===null?null:{from:s.from.originalTime,to:s.to.originalTime}}setVisibleRange(s){const tr={from:this.U_.convertHorzItemToInternal(s.from),to:this.U_.convertHorzItemToInternal(s.to)},nr=this.kl.Au(tr);this.$i.vd(nr)}getVisibleLogicalRange(){const s=this.kl.Ru();return s===null?null:{from:s.Vs(),to:s.ui()}}setVisibleLogicalRange(s){p(s.from<=s.to,"The from index cannot be after the to index."),this.$i.vd(s)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.rc()}logicalToCoordinate(s){const tr=this.$i.St();return tr.Ni()?null:tr.It(s)}coordinateToLogical(s){return this.kl.Ni()?null:this.kl.Eu(s)}timeToCoordinate(s){const tr=this.U_.convertHorzItemToInternal(s),nr=this.kl.Da(tr,!1);return nr===null?null:this.kl.It(nr)}coordinateToTime(s){const tr=this.$i.St(),nr=tr.Eu(s),rr=tr.Ui(nr);return rr===null?null:rr.originalTime}width(){return this.lb._m().width}height(){return this.lb._m().height}subscribeVisibleTimeRangeChange(s){this.bw.l(s)}unsubscribeVisibleTimeRangeChange(s){this.bw.v(s)}subscribeVisibleLogicalRangeChange(s){this.pu.l(s)}unsubscribeVisibleLogicalRangeChange(s){this.pu.v(s)}subscribeSizeChange(s){this.Vm.l(s)}unsubscribeSizeChange(s){this.Vm.v(s)}applyOptions(s){this.kl.Hh(s)}options(){return Object.assign(Object.assign({},z(this.kl.W())),{barSpacing:this.kl.he()})}ww(){this.bw.M()&&this.bw.m(this.getVisibleRange())}gw(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}Mw(s){this.Vm.m(s.width,s.height)}}function Te(er){if(er===void 0||er.type==="custom")return;const s=er;s.minMove!==void 0&&s.precision===void 0&&(s.precision=function(tr){if(tr>=1)return 0;let nr=0;for(;nr<8;nr++){const rr=Math.round(tr);if(Math.abs(rr-tr)<1e-8)return nr;tr*=10}return nr}(s.minMove))}function Pe(er){return function(s){if(I(s.handleScale)){const nr=s.handleScale;s.handleScale={axisDoubleClickReset:{time:nr,price:nr},axisPressedMouseMove:{time:nr,price:nr},mouseWheel:nr,pinch:nr}}else if(s.handleScale!==void 0){const{axisPressedMouseMove:nr,axisDoubleClickReset:rr}=s.handleScale;I(nr)&&(s.handleScale.axisPressedMouseMove={time:nr,price:nr}),I(rr)&&(s.handleScale.axisDoubleClickReset={time:rr,price:rr})}const tr=s.handleScroll;I(tr)&&(s.handleScroll={horzTouchDrag:tr,vertTouchDrag:tr,mouseWheel:tr,pressedMouseMove:tr})}(er),er}class Re{constructor(s,tr,nr){this.xw=new Map,this.Sw=new Map,this.kw=new D,this.yw=new D,this.Cw=new D,this.Tw=new se(tr);const rr=nr===void 0?z(ge()):V(z(ge()),Pe(nr));this.U_=tr,this.lw=new Fs(s,rr,tr),this.lw.hm().l(sr=>{this.kw.M()&&this.kw.m(this.Pw(sr()))},this),this.lw.lm().l(sr=>{this.yw.M()&&this.yw.m(this.Pw(sr()))},this),this.lw.Zc().l(sr=>{this.Cw.M()&&this.Cw.m(this.Pw(sr()))},this);const ir=this.lw.$t();this.Rw=new Ce(ir,this.lw.cb(),this.U_)}remove(){this.lw.hm().p(this),this.lw.lm().p(this),this.lw.Zc().p(this),this.Rw.S(),this.lw.S(),this.xw.clear(),this.Sw.clear(),this.kw.S(),this.yw.S(),this.Cw.S(),this.Tw.S()}resize(s,tr,nr){this.autoSizeActive()||this.lw.ob(s,tr,nr)}addCustomSeries(s,tr){const nr=w(s),rr=Object.assign(Object.assign({},_),nr.defaultOptions());return this.Dw("Custom",rr,tr,nr)}addAreaSeries(s){return this.Dw("Area",l,s)}addBaselineSeries(s){return this.Dw("Baseline",a,s)}addBarSeries(s){return this.Dw("Bar",r,s)}addCandlestickSeries(s={}){return function(tr){tr.borderColor!==void 0&&(tr.borderUpColor=tr.borderColor,tr.borderDownColor=tr.borderColor),tr.wickColor!==void 0&&(tr.wickUpColor=tr.wickColor,tr.wickDownColor=tr.wickColor)}(s),this.Dw("Candlestick",e,s)}addHistogramSeries(s){return this.Dw("Histogram",o,s)}addLineSeries(s){return this.Dw("Line",h,s)}removeSeries(s){const tr=m(this.xw.get(s)),nr=this.Tw.fd(tr);this.lw.$t().fd(tr),this.Vw(nr),this.xw.delete(s),this.Sw.delete(tr)}fw(s,tr){this.Vw(this.Tw.Xb(s,tr))}mw(s,tr){this.Vw(this.Tw.tw(s,tr))}subscribeClick(s){this.kw.l(s)}unsubscribeClick(s){this.kw.v(s)}subscribeCrosshairMove(s){this.Cw.l(s)}unsubscribeCrosshairMove(s){this.Cw.v(s)}subscribeDblClick(s){this.yw.l(s)}unsubscribeDblClick(s){this.yw.v(s)}priceScale(s){return new Me(this.lw,s)}timeScale(){return this.Rw}applyOptions(s){this.lw.Hh(Pe(s))}options(){return this.lw.W()}takeScreenshot(){return this.lw.bb()}autoSizeActive(){return this.lw.Sb()}chartElement(){return this.lw.kb()}paneSize(){const s=this.lw.Cb();return{height:s.height,width:s.width}}setCrosshairPosition(s,tr,nr){const rr=this.xw.get(nr);if(rr===void 0)return;const ir=this.lw.$t().cr(rr);ir!==null&&this.lw.$t().ld(s,tr,ir)}clearCrosshairPosition(){this.lw.$t().ad(!0)}Dw(s,tr,nr={},rr){Te(nr.priceFormat);const ir=V(z(u),z(tr),nr),sr=this.lw.$t().ud(s,ir,rr),or=new ye(sr,this,this,this,this.U_);return this.xw.set(or,sr),this.Sw.set(sr,or),or}Vw(s){const tr=this.lw.$t();tr.od(s.St.Lu,s.St.rw,s.St.hw),s.sw.forEach((nr,rr)=>rr.J(nr.He,nr.ew)),tr.Fu()}Ow(s){return m(this.Sw.get(s))}Pw(s){const tr=new Map;s.Eb.forEach((rr,ir)=>{const sr=ir.Jh(),or=ce(sr)(rr);if(sr!=="Custom")p(js(or));else{const ar=ir.Ca();p(!ar||ar(or)===!1)}tr.set(this.Ow(ir),or)});const nr=s.Lb!==void 0&&this.Sw.has(s.Lb)?this.Ow(s.Lb):void 0;return{time:s.Ib,logical:s.se,point:s.zb,hoveredSeries:nr,hoveredObjectId:s.Nb,seriesData:tr,sourceEvent:s.Fb}}}function De(er,s,tr){let nr;if(A(er)){const ir=document.getElementById(er);p(ir!==null,`Cannot find element in DOM with id=${er}`),nr=ir}else nr=er;const rr=new Re(nr,s,tr);return s.setOptions(rr.options()),rr}function Ve(er,s){return De(er,new is,is.Ad(s))}Object.assign(Object.assign({},u),_);const CandlestickChart=({data:er,style:s})=>{const tr=reactExports.useRef(),nr=reactExports.useRef();return reactExports.useEffect(()=>{const rr=Ve(tr.current,{layout:{background:{color:"#1A1B1E"},textColor:"#DDD"},width:tr.current.clientWidth,height:400,grid:{vertLines:{color:"#2B2B43"},horzLines:{color:"#2B2B43"}}}),ir=rr.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",borderVisible:!1,wickUpColor:"#26a69a",wickDownColor:"#ef5350"}),sr=er.map(ar=>({time:ar.timestamp/1e3,open:parseFloat(ar.open),high:parseFloat(ar.high),low:parseFloat(ar.low),close:parseFloat(ar.close)}));rr.addHistogramSeries({color:"#26a69a",priceFormat:{type:"volume"},priceScaleId:"",scaleMargins:{top:.8,bottom:0}}),er.map(ar=>({time:ar.timestamp/1e3,value:parseFloat(ar.volume),color:parseFloat(ar.close)>=parseFloat(ar.open)?"#26a69a":"#ef5350"})),ir.setData(sr),rr.timeScale().fitContent(),nr.current=rr;const or=()=>{rr.applyOptions({width:tr.current.clientWidth})};return window.addEventListener("resize",or),()=>{window.removeEventListener("resize",or),rr.remove()}},[er]),jsxRuntimeExports.jsx("div",{ref:tr,style:{width:"100%",height:"400px",...s}})};function Spinner(){return jsxRuntimeExports.jsxs("div",{style:{display:"inline-block",height:"30px",width:"30px",position:"relative"},children:[jsxRuntimeExports.jsxs("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{animation:"spin 1500ms linear infinite"},children:[jsxRuntimeExports.jsx("path",{d:"M28 16C28 23.732 21.732 30 14 30C6.26801 30 0 23.732 0 16C0 8.26801 6.26801 2 14 2C21.732 2 28 8.26801 28 16ZM3.10554 16C3.10554 22.0168 7.98315 26.8945 14 26.8945C20.0168 26.8945 24.8945 22.0168 24.8945 16C24.8945 9.98315 20.0168 5.10554 14 5.10554C7.98315 5.10554 3.10554 9.98315 3.10554 16Z",fill:"#DD8DEE",fillOpacity:"0.05"}),jsxRuntimeExports.jsx("g",{filter:"url(#filter0_d_13_108)",children:jsxRuntimeExports.jsx("path",{d:"M26.4472 16C27.3048 16 28.0089 15.3027 27.914 14.4504C27.7685 13.1439 27.4394 11.8617 26.9343 10.6424C26.2307 8.94387 25.1995 7.40053 23.8995 6.1005C22.5995 4.80048 21.0561 3.76925 19.3576 3.06569C18.1383 2.56064 16.8561 2.23153 15.5496 2.08602C14.6973 1.9911 14 2.6952 14 3.55277V3.55277C14 4.41034 14.6987 5.09419 15.5475 5.21601C16.446 5.34494 17.3268 5.58593 18.1691 5.93483C19.4909 6.48233 20.6919 7.28481 21.7035 8.29645C22.7152 9.3081 23.5177 10.5091 24.0652 11.8309C24.4141 12.6732 24.6551 13.554 24.784 14.4525C24.9058 15.3013 25.5897 16 26.4472 16V16Z",fill:"#DD8DEE"})}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("filter",{id:"filter0_d_13_108",x:"12",y:"0.0774231",width:"17.9225",height:"17.9226",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[jsxRuntimeExports.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),jsxRuntimeExports.jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsxRuntimeExports.jsx("feOffset",{}),jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"1"}),jsxRuntimeExports.jsx("feComposite",{in2:"hardAlpha",operator:"out"}),jsxRuntimeExports.jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.866667 0 0 0 0 0.552941 0 0 0 0 0.933333 0 0 0 0.42 0"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_13_108"}),jsxRuntimeExports.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_13_108",result:"shape"})]})})]}),jsxRuntimeExports.jsx("style",{children:`
          @keyframes spin {
            from {
              transform: rotate(0deg);
            }
            to {
              transform: rotate(360deg);
            }
          }
        `})]})}function CharacterDetails(){const{id:er}=useParams(),s=useSelector(Er=>Er.useSelector),tr=useSelector(Er=>Er.loggedIn),{character:nr,loading:rr,error:ir}=useCharacterDetails(er),[sr,or]=reactExports.useState(!1),[ar,lr]=reactExports.useState(null),cr=useWallet(),[ur,hr]=reactExports.useState(!0),[dr,pr]=reactExports.useState([]),[mr,xr]=reactExports.useState({price:0,marketCap:0,isPumpFun:!1,poolData:null});reactExports.useEffect(()=>{nr&&nr.tokenAddress&&!nr.useNoLaunch&&(br(),sr||(or(!0),setInterval(br,6e4)),gr())},[nr]),reactExports.useEffect(()=>{lr(mr.isPumpFun?"candlestick":"geckoterminal")},[mr]);const br=async()=>{let Er;try{const kr=await axiosRequest$1("post","verify-pumpfun-token",{tokenAddress:nr.tokenAddress},localStorage.getItem("jwt"));if(kr&&kr.data&&kr.status==200)if(Er=kr.data.tokenInfo,Er.raydium_pool==null)xr({price:0,marketCap:Math.round(Er.usd_market_cap),isPumpFun:!0,poolData:{totalSupply:Er.total_supply,virtualSolReserves:Er.virtual_sol_reserves,virtualTokenReserves:Er.virtual_token_reserves,raydiumPool:Er.raydium_pool,marketId:Er.market_id,inverted:Er.inverted}});else{Er=await yr(nr.tokenAddress);const Mr=Er.poolData.marketPrice||0,Cr=Er.poolData.fdv||0;if(Mr!=0)xr({price:Mr,marketCap:Cr,isPumpFun:!1,poolData:Er.poolData});else{const Dr="https://jeni-5a2we4-fast-mainnet.helius-rpc.com",zr=new Connection(Dr),Wr=new AnchorProvider(zr,null,{}),Kr=await new Program(idl,new PublicKey(idl.address),Wr).account.bondingCurve.fetch(new PublicKey(nr.bondingCurveAddress)),Lr=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd").then(Or=>Or.json()).then(Or=>Or.solana.usd),fr=Kr.virtualSolReserves.add(Kr.realSolReserves),vr=Kr.virtualTokenReserves.add(Kr.realTokenReserves),$r=fr.toNumber()/1e9,Tr=vr.toNumber()/1e9,Ar=$r*Lr/Tr,jr=Ar*Tr;xr({price:Ar,marketCap:Math.round(jr),isPumpFun:!0,poolData:{totalSupply:Tr,virtualSolReserves:Kr.virtualSolReserves.toNumber(),virtualTokenReserves:Kr.virtualTokenReserves.toNumber(),realSolReserves:Kr.realSolReserves.toNumber(),realTokenReserves:Kr.realTokenReserves.toNumber(),solPrice:Lr}})}}else if(Er=await yr(nr.tokenAddress),Er){const Mr=Er.poolData.marketPrice||0,Cr=Er.poolData.fdv||0;Mr!=0&&xr({price:Mr,marketCap:Cr,isPumpFun:!1,poolData:Er.poolData})}else{const Mr="https://jeni-5a2we4-fast-mainnet.helius-rpc.com",Cr=new Connection(Mr),Dr=new AnchorProvider(Cr,null,{}),Wr=await new Program(idl,new PublicKey(idl.address),Dr).account.bondingCurve.fetch(new PublicKey(nr.bondingCurveAddress)),Gr=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd").then(Ar=>Ar.json()).then(Ar=>Ar.solana.usd),Kr=Wr.virtualSolReserves.add(Wr.realSolReserves),Lr=Wr.virtualTokenReserves.add(Wr.realTokenReserves),fr=Kr.toNumber()/1e9,vr=Lr.toNumber()/1e9,$r=fr*Gr/vr,Tr=$r*vr;xr({price:$r,marketCap:Math.round(Tr),isPumpFun:!0,poolData:{totalSupply:vr,virtualSolReserves:Wr.virtualSolReserves.toNumber(),virtualTokenReserves:Wr.virtualTokenReserves.toNumber(),realSolReserves:Wr.realSolReserves.toNumber(),realTokenReserves:Wr.realTokenReserves.toNumber(),solPrice:Gr}})}}catch{Er=await yr(nr.tokenAddress);const Mr=Er.poolData.marketPrice||0,Cr=Er.poolData.fdv||0;if(Mr!=0)xr({price:Mr,marketCap:Cr,isPumpFun:!1,poolData:Er.poolData});else{const Dr="https://jeni-5a2we4-fast-mainnet.helius-rpc.com",zr=new Connection(Dr),Wr=new AnchorProvider(zr,null,{}),Kr=await new Program(idl,new PublicKey(idl.address),Wr).account.bondingCurve.fetch(new PublicKey(nr.bondingCurveAddress)),Lr=await fetch("https://api.coingecko.com/api/v3/simple/price?ids=solana&vs_currencies=usd").then(Or=>Or.json()).then(Or=>Or.solana.usd),fr=Kr.virtualSolReserves.add(Kr.realSolReserves),vr=Kr.virtualTokenReserves.add(Kr.realTokenReserves),$r=fr.toNumber()/1e9,Tr=vr.toNumber()/1e9,Ar=$r*Lr/Tr,jr=Ar*Tr;xr({price:Ar,marketCap:Math.round(jr),isPumpFun:!0,poolData:{totalSupply:Tr,virtualSolReserves:Kr.virtualSolReserves.toNumber(),virtualTokenReserves:Kr.virtualTokenReserves.toNumber(),realSolReserves:Kr.realSolReserves.toNumber(),realTokenReserves:Kr.realTokenReserves.toNumber(),solPrice:Lr}})}}};async function yr(Er){var kr,Mr,Cr,Dr;try{const Wr=await(await fetch(`https://api.dexscreener.com/latest/dex/tokens/${Er}`)).json(),Gr=Wr&&Wr.pairs?Wr.pairs.find(fr=>fr.dexId==="raydium"&&fr.chainId==="solana"):null,Kr={name:Gr.baseToken.name,symbol:Gr.baseToken.symbol};return{tokenAddress:Er,bondingCurveAddress:Gr?Gr.pairAddress:"",tokenInfo:Kr,mintAuthority:"",poolData:{baseTokenAmount:Gr?(kr=Gr.liquidity)==null?void 0:kr.base:"",quoteTokenAmount:Gr?(Mr=Gr.liquidity)==null?void 0:Mr.quote:"",marketPrice:Gr?Gr.priceUsd:"",volume24h:Gr?(Cr=Gr.volume)==null?void 0:Cr.h24:"",txns24h:Gr?(Dr=Gr.txns)==null?void 0:Dr.h24:"",fdv:Gr?Gr.fdv:"",poolAddress:Gr?Gr.pairAddress:""}}}catch(zr){console.log(zr)}}const gr=async()=>{try{const Er=localStorage.getItem("jwt"),kr=await axiosRequest$1("get",`solana/candlesticks/${nr.tokenAddress}`);kr&&kr.data&&kr.status==200?pr(kr.data):pr([])}catch{pr([])}};return rr?jsxRuntimeExports.jsx(LoadingState$2,{}):ir?jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading character"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:ir})]})}):nr?jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsx(CharacterHeader,{character:nr}),jsxRuntimeExports.jsxs("div",{className:"mt-0 lg:mt-6 grid grid-cols-1 lg:grid-cols-3 gap-3 lg:gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 space-y-3 lg:space-y-6 order-2 lg:order-1",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:block space-y-6",children:[jsxRuntimeExports.jsx(CharacterFeatures,{character:nr,user:s,loggedIn:tr,wallet:cr}),jsxRuntimeExports.jsxs("div",{className:"bg-[#1C1C1C] rounded-xl p-4 border border-gray-700 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Indicators"}),jsxRuntimeExports.jsx("span",{className:"text-blue-400",children:"Price / MCAP"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:"Show vvaifu/SOL Price Chart in SOL"})]}),jsxRuntimeExports.jsx("div",{className:"aspect-[16/9] bg-[#131722] rounded-lg",children:ar==="candlestick"?nr.isFairLaunch||nr.useNoLaunch?jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}):jsxRuntimeExports.jsx(CandlestickChart,{data:dr,style:{width:"100%",height:"400px"}}):nr.isFairLaunch||nr.useNoLaunch?jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ur&&jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}),jsxRuntimeExports.jsx("iframe",{id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:`https://www.geckoterminal.com/solana/pools/${nr.poolAddress}?embed=1&info=0&swaps=0&grayscale=1`,allow:"clipboard-write",allowFullScreen:!0,style:{height:"400px",width:"100%",display:ur?"none":"block"},onLoad:()=>hr(!1)})]})}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"Powered by GeckoTerminal"})]}),jsxRuntimeExports.jsx(CharacterComments,{character:nr,loggedIn:tr})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden space-y-6",children:[jsxRuntimeExports.jsx(CharacterFeatures,{character:nr,loggedIn:tr}),jsxRuntimeExports.jsxs("div",{className:"bg-[#1C1C1C] rounded-xl p-4 border border-gray-700 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Indicators"}),jsxRuntimeExports.jsx("span",{className:"text-blue-400",children:"Price / MCAP"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:"Show vvaifu/SOL Price Chart in SOL"})]}),jsxRuntimeExports.jsx("div",{className:"aspect-[16/9] bg-[#131722] rounded-lg",children:ar==="candlestick"?nr.isFairLaunch||nr.useNoLaunch?jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}):jsxRuntimeExports.jsx(CandlestickChart,{data:dr,style:{width:"100%",height:"400px"}}):nr.isFairLaunch||nr.useNoLaunch?jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[ur&&jsxRuntimeExports.jsx("div",{style:{height:"400px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}),jsxRuntimeExports.jsx("iframe",{id:"geckoterminal-embed",title:"GeckoTerminal Embed",src:`https://www.geckoterminal.com/solana/pools/${nr.poolAddress}?embed=1&info=0&swaps=0&grayscale=1`,allow:"clipboard-write",allowFullScreen:!0,style:{height:"400px",width:"100%",display:ur?"none":"block"},onLoad:()=>hr(!1)})]})}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-xs text-gray-400 text-center",children:"Powered by GeckoTerminal"})]}),mr&&mr.poolData?jsxRuntimeExports.jsx(CharacterTradePanel,{character:nr,marketCapData:mr}):jsxRuntimeExports.jsx("div",{style:{height:"200px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}),jsxRuntimeExports.jsx(CharacterInfo,{character:nr}),jsxRuntimeExports.jsx(CharacterLiveChat,{character:nr,loggedIn:tr}),jsxRuntimeExports.jsx(CharacterComments,{character:nr,loggedIn:tr}),jsxRuntimeExports.jsx(CharacterProof,{loggedIn:tr})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3 lg:space-y-6 order-1 lg:order-2",children:jsxRuntimeExports.jsxs("div",{className:"hidden lg:block space-y-6",children:[jsxRuntimeExports.jsx(CharacterLiveChat,{character:nr,marketCapData:mr}),mr&&mr.poolData?jsxRuntimeExports.jsx(CharacterTradePanel,{character:nr,marketCapData:mr}):jsxRuntimeExports.jsx("div",{style:{height:"200px",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5"},children:jsxRuntimeExports.jsx(Spinner,{})}),jsxRuntimeExports.jsx(CharacterInfo,{character:nr}),jsxRuntimeExports.jsx(CharacterProof,{})]})})]})]}):jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Character not found"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"The character you're looking for doesn't exist"})]})})}function CreateAgentHeader(){return jsxRuntimeExports.jsxs("div",{className:"relative h-48 bg-gray-900 overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:"/banner.jpeg",alt:"Create Agent",className:"absolute inset-0 w-full h-full object-cover opacity-50"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-center p-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create AI Agent"}),jsxRuntimeExports.jsxs("p",{className:"text-white/80 text-sm",children:["Uploaded image must be ","<"," 1MB | Cost to launch an AI agent: 750 $VVAIFU Network",jsxRuntimeExports.jsx("br",{}),"+ 0.50% of the agents token to the community fund on @VVAIFU to the team treasury"]})]})]})}function FormError({error:er}){return er?jsxRuntimeExports.jsx("div",{className:"text-sm text-red-500 mt-1",children:er}):null}const frameworks=[{id:"vvaifu",name:"vvaifu/dasha",image:"https://vvaifu.fun/logo.png",description:"750 VVAIFU burned + Choose between allocating 0.90% of your token to vvaifu community wallet or 750 VVAIFU to the treasury."},{id:"eliza",name:"AI16z/Eliza",image:"./eliza.jpg",description:"5% of the supply is transferred to ai16z DAO. This will cost MINIMUM 1.5 SOL."},{id:"zerepy",name:"ZerePY framework",image:"/zerepy.jpg",description:"750 VVAIFU burned + Choose between allocating 0.90% of your token to zerebros wallet or 750 VVAIFU to the treasury."},{id:"arc",name:"ARC",image:"/arc.jpg",description:"Coming Soon."},{id:"dolion",name:"Dolion",image:"/dolion.jpg",description:"Coming Soon."}];function FrameworkSelector({selected:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-sm",children:"1"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium",children:"Framework"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"SELECT FRAMEWORK"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-3",children:frameworks.map(rr=>jsxRuntimeExports.jsxs("label",{className:`flex items-center justify-between p-4 rounded-lg border transition-colors ${nr?"border-red-500 bg-red-50/50":er===rr.id?"border-red-500 bg-[#FDF8F3]":"border-[#E5D5C0] hover:bg-[#FDF8F3]/50"} cursor-pointer`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:rr.image,alt:rr.name,className:"w-8 h-8 rounded-lg"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-900",children:rr.name}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:rr.description})]})]}),jsxRuntimeExports.jsx("input",{type:"radio",name:"framework",checked:er===rr.id,disabled:!!["dolion","arc"].includes(rr.id),onChange:()=>{if(["dolion","arc"].includes(rr.id)){y$1.info("Coming Soon.");return}s(rr.id)},onBlur:tr,className:`w-4 h-4 ${nr?"text-red-500 border-red-500 focus:ring-red-500/20":"text-red-500 border-[#BEBAB4] focus:ring-red-500/20"}`})]},rr.id))}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})]})}const MAX_FILE_SIZE=1024*1024;function ImageUpload({image:er,onChange:s}){const[tr,nr]=reactExports.useState(""),rr=reactExports.useRef(null),ir=or=>{or.preventDefault();const ar=or.dataTransfer.files[0];sr(ar)},sr=or=>{if(!or)return;if(or.size>MAX_FILE_SIZE){nr("Image must be less than 1MB");return}const ar=new FileReader;ar.onloadend=()=>{s({file:or,previewUrl:ar.result}),nr("")},ar.readAsDataURL(or)};return jsxRuntimeExports.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-4",onDragOver:or=>or.preventDefault(),onDrop:ir,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:er!=null&&er.previewUrl?jsxRuntimeExports.jsx("img",{src:er.previewUrl,alt:"Preview",className:"w-24 h-24 object-cover rounded-lg"}):jsxRuntimeExports.jsxs("div",{className:"text-center p-6",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 mx-auto mb-2 bg-gray-100 rounded-full flex items-center justify-center",children:"↑"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{var or;return(or=rr.current)==null?void 0:or.click()},className:"text-red-500 hover:text-red-600 font-medium",children:"Click to upload"}),jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:" or drag and drop"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-400 mt-1",children:"SVG, PNG, JPG or GIF (max. 800x400px)"})]})}),jsxRuntimeExports.jsx("input",{ref:rr,type:"file",accept:"image/*",onChange:or=>{var ar;return sr((ar=or.target.files)==null?void 0:ar[0])},className:"hidden"}),tr&&jsxRuntimeExports.jsx("div",{className:"absolute -bottom-6 left-0 text-sm text-red-500",children:tr})]})}function AgentIdentityForm({formData:er,onChange:s,onBlur:tr,errors:nr,touched:rr,isEditing:ir}){return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-sm",children:"2"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium",children:"Identity"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI AGENT NAME"}),jsxRuntimeExports.jsx("input",{type:"text",value:er.name,onChange:sr=>s("name",sr.target.value),onBlur:()=>tr("name"),placeholder:"Agent name",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${rr.name&&nr.name?"border-red-500":"border-gray-200"}`}),rr.name&&nr.name&&jsxRuntimeExports.jsx(FormError,{error:nr.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"TICKER NAME"}),jsxRuntimeExports.jsx("input",{type:"text",value:er.ticker,onChange:sr=>s("ticker",sr.target.value),onBlur:()=>tr("ticker"),placeholder:"Ticker name",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${rr.ticker&&nr.ticker?"border-red-500":"border-gray-200"}`}),rr.ticker&&nr.ticker&&jsxRuntimeExports.jsx(FormError,{error:nr.ticker})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI AGENT AGE"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"This is your AI Agent's age. Minimum age is 18."}),jsxRuntimeExports.jsx("input",{type:"number",min:"18",value:er.age,onChange:sr=>s("age",sr.target.value),onBlur:()=>tr("age"),placeholder:"Age",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${rr.age&&nr.age?"border-red-500":"border-gray-200"}`}),rr.age&&nr.age&&jsxRuntimeExports.jsx(FormError,{error:nr.age})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"AI AGENT IMAGE"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Upload an image that represents your AI Agent. Make sure these images comply with our terms and community guidelines."}),ir?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:er.image,alt:"Character",className:"w-24 h-24 object-cover rounded-lg"})}):jsxRuntimeExports.jsx(ImageUpload,{image:er.image,onChange:sr=>s("image",sr),onBlur:()=>tr("image"),error:rr.image&&nr.image})]})]})}function AuthSection$2({apiKey:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"Authentication"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"API KEY"}),jsxRuntimeExports.jsx("input",{type:"text",value:er,onChange:rr=>s("apiKey",rr.target.value),onBlur:()=>tr("apiKey"),disabled:!0,onClick:rr=>{rr.preventDefault(),y$1.info("Coming Soon.")},placeholder:"Enter your Twitter API key",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}function RulesSection({rules:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Custom Rules"}),jsxRuntimeExports.jsx("textarea",{value:er,onChange:rr=>s("customRules",rr.target.value),onBlur:()=>tr("customRules"),placeholder:"Enter custom rules for how your AI should behave on Twitter...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}function ExamplesSection({examples:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Example Tweets"}),jsxRuntimeExports.jsx("textarea",{value:er,onChange:rr=>s("exampleTweets",rr.target.value),onBlur:()=>tr("exampleTweets"),placeholder:"Add example tweets to guide your AI's posting style...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}const validateTwitterConfig=er=>{var tr,nr;const s={};return er.postFrequency||(s.postFrequency="Post frequency is required"),(tr=er.exampleTweets)!=null&&tr.trim()?er.exampleTweets.split(`
`).length<2&&(s.exampleTweets="Please provide at least 2 example tweets"):s.exampleTweets="Example tweets are required",(nr=er.customRules)!=null&&nr.trim()&&er.customRules.length<10&&(s.customRules="Custom rules should be at least 10 characters"),s};function TargetsSection({targets:er=[],blockedTargets:s=[],onChange:tr,onBlur:nr,error:rr}){const[ir,sr]=reactExports.useState(""),[or,ar]=reactExports.useState(""),lr=dr=>{dr.preventDefault(),!(!ir.trim()||er.length>=5)&&(tr("targets",[...er,ir.replace("@","").trim()]),sr(""),nr("targets"))},cr=(dr,pr)=>{dr.preventDefault(),tr("targets",er.filter(mr=>mr!==pr)),nr("targets")},ur=dr=>{dr.preventDefault(),!(!or.trim()||s.length>=5)&&(tr("blockedTargets",[...s,or.replace("@","").trim()]),ar(""),nr("blockedTargets"))},hr=(dr,pr)=>{dr.preventDefault(),tr("blockedTargets",s.filter(mr=>mr!==pr)),nr("blockedTargets")};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Reply Targets (max 5)"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:ir,onChange:dr=>sr(dr.target.value),placeholder:"@username",className:"flex-1 px-3 py-2 border rounded-lg",disabled:er.length>=5}),jsxRuntimeExports.jsx("button",{onClick:lr,disabled:er.length>=5,className:"px-4 py-2 bg-red-500 text-white rounded-lg disabled:opacity-50",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:er.map(dr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded",children:["@",dr,jsxRuntimeExports.jsx("button",{onClick:pr=>cr(pr,dr),className:"text-gray-500",children:"×"})]},dr))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Blocked Accounts (max 5)"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:or,onChange:dr=>ar(dr.target.value),placeholder:"@username",className:"flex-1 px-3 py-2 border rounded-lg",disabled:s.length>=5}),jsxRuntimeExports.jsx("button",{onClick:ur,disabled:s.length>=5,className:"px-4 py-2 bg-red-500 text-white rounded-lg disabled:opacity-50",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(dr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-2 py-1 rounded",children:["@",dr,jsxRuntimeExports.jsx("button",{onClick:pr=>hr(pr,dr),className:"text-gray-500",children:"×"})]},dr))})]})]})}function TwitterConfigForm({config:er,onCancel:s,onSave:tr}){const[nr,rr]=reactExports.useState(er||{apiKey:"",postFrequency:"",customRules:"",exampleTweets:"",targets:[],blockedTargets:[]}),[ir,sr]=reactExports.useState({}),[or,ar]=reactExports.useState({}),lr=(hr,dr)=>{rr(pr=>({...pr,[hr]:dr})),ir[hr]&&sr(pr=>{const mr={...pr};return delete mr[hr],mr})},cr=hr=>{ar(pr=>({...pr,[hr]:!0}));const dr=validateTwitterConfig({[hr]:nr[hr]});dr[hr]&&sr(pr=>({...pr,[hr]:dr[hr]}))},ur=()=>{const hr=Object.keys(nr).reduce((dr,pr)=>(dr[pr]=!0,dr),{});ar(hr),tr(nr)};return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-4",children:[jsxRuntimeExports.jsx(AuthSection$2,{apiKey:nr.apiKey,onChange:lr,onBlur:cr,error:or.apiKey&&ir.apiKey,disabled:!0}),jsxRuntimeExports.jsx(RulesSection,{rules:nr.customRules,onChange:lr,onBlur:cr,error:or.customRules&&ir.customRules}),jsxRuntimeExports.jsx(TargetsSection,{targets:nr.targets,blockedTargets:nr.blockedTargets,onChange:lr,onBlur:cr,error:or.targets&&ir.targets}),jsxRuntimeExports.jsx(ExamplesSection,{examples:nr.exampleTweets,onChange:lr,onBlur:cr,error:or.exampleTweets&&ir.exampleTweets}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ur,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}function AuthSection$1({botToken:er,applicationId:s,onChange:tr,onBlur:nr,errors:rr,touched:ir}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Bot Configuration"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"BOT TOKEN"}),jsxRuntimeExports.jsx("input",{type:"text",value:er,onChange:sr=>tr("botToken",sr.target.value),onBlur:()=>nr("botToken"),placeholder:"Enter your Discord bot token",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.botToken&&rr.botToken?"border-red-500":"border-gray-300"}`}),ir.botToken&&rr.botToken&&jsxRuntimeExports.jsx(FormError,{error:rr.botToken})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"APPLICATION ID"}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:sr=>tr("applicationId",sr.target.value),onBlur:()=>nr("applicationId"),placeholder:"Enter your application ID",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.applicationId&&rr.applicationId?"border-red-500":"border-gray-300"}`}),ir.applicationId&&rr.applicationId&&jsxRuntimeExports.jsx(FormError,{error:rr.applicationId})]})]})]})}function ServerSection({defaultRole:er,commandPrefix:s,onChange:tr,onBlur:nr,errors:rr,touched:ir}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Server Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"DEFAULT ROLE"}),jsxRuntimeExports.jsx("input",{type:"text",value:er,onChange:sr=>tr("defaultRole",sr.target.value),onBlur:()=>nr("defaultRole"),placeholder:"Enter role name",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.defaultRole&&rr.defaultRole?"border-red-500":"border-gray-300"}`}),ir.defaultRole&&rr.defaultRole&&jsxRuntimeExports.jsx(FormError,{error:rr.defaultRole})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"COMMAND PREFIX"}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:sr=>tr("commandPrefix",sr.target.value),onBlur:()=>nr("commandPrefix"),placeholder:"Default: !",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.commandPrefix&&rr.commandPrefix?"border-red-500":"border-gray-300"}`}),ir.commandPrefix&&rr.commandPrefix&&jsxRuntimeExports.jsx(FormError,{error:rr.commandPrefix})]})]})]})}function ChannelsSection({channels:er,onChange:s,onBlur:tr,error:nr}){const rr=()=>{s("allowedChannels",[...er,""])},ir=or=>{const ar=er.filter((lr,cr)=>cr!==or);s("allowedChannels",ar)},sr=(or,ar)=>{const lr=[...er];lr[or]=ar,s("allowedChannels",lr)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Allowed Channels"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:rr,className:"text-xs text-red-500 hover:text-red-600",children:"Add Channel"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[er.map((or,ar)=>jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:or,onChange:lr=>sr(ar,lr.target.value),onBlur:()=>tr("allowedChannels"),placeholder:"Channel name",className:`flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ir(ar),className:"p-2 text-gray-400 hover:text-gray-600",children:"×"})]},ar)),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})]})}function PermissionsSection({permissions:er,onChange:s}){const tr=nr=>{s("permissions",{...er,[nr]:!er[nr]})};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Permissions"}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Object.entries(er).map(([nr,rr])=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr,onChange:()=>tr(nr),className:"rounded border-gray-300 text-red-500 focus:ring-red-500/20"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:nr.replace(/([A-Z])/g," $1").trim()})]},nr))})]})}function ResponseSection({responseMode:er,responseStyle:s,onChange:tr,onBlur:nr,errors:rr,touched:ir}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Response Settings"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"RESPONSE MODE"}),jsxRuntimeExports.jsxs("select",{value:er,onChange:sr=>tr("responseMode",sr.target.value),onBlur:()=>nr("responseMode"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.responseMode&&rr.responseMode?"border-red-500":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("option",{children:"Reply to Messages"}),jsxRuntimeExports.jsx("option",{children:"Send New Messages"}),jsxRuntimeExports.jsx("option",{children:"Both"})]}),ir.responseMode&&rr.responseMode&&jsxRuntimeExports.jsx(FormError,{error:rr.responseMode})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"RESPONSE STYLE"}),jsxRuntimeExports.jsxs("select",{value:s,onChange:sr=>tr("responseStyle",sr.target.value),onBlur:()=>nr("responseStyle"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.responseStyle&&rr.responseStyle?"border-red-500":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("option",{children:"Casual"}),jsxRuntimeExports.jsx("option",{children:"Professional"}),jsxRuntimeExports.jsx("option",{children:"Friendly"}),jsxRuntimeExports.jsx("option",{children:"Humorous"})]}),ir.responseStyle&&rr.responseStyle&&jsxRuntimeExports.jsx(FormError,{error:rr.responseStyle})]})]})]})}const validateDiscordConfig=er=>{var tr,nr,rr,ir,sr;const s={};return(tr=er.botToken)!=null&&tr.trim()||(s.botToken="Bot token is required"),(nr=er.applicationId)!=null&&nr.trim()||(s.applicationId="Application ID is required"),(rr=er.defaultRole)!=null&&rr.trim()&&er.defaultRole.length<2&&(s.defaultRole="Role name must be at least 2 characters"),(ir=er.commandPrefix)!=null&&ir.trim()||(s.commandPrefix="Command prefix is required"),(sr=er.allowedChannels)!=null&&sr.length?er.allowedChannels.some(or=>!or.trim())&&(s.allowedChannels="Channel names cannot be empty"):s.allowedChannels="At least one channel is required",er.responseMode||(s.responseMode="Response mode is required"),s};function DiscordConfigForm({config:er,onCancel:s,onSave:tr}){const[nr,rr]=reactExports.useState(er||{botToken:"",applicationId:"",defaultRole:"",commandPrefix:"!",allowedChannels:["general","bot-commands"],permissions:{sendMessages:!1,readHistory:!1,manageMessages:!1,embedLinks:!1,attachFiles:!1,addReactions:!1},responseMode:"Reply to Messages",responseStyle:"Casual"}),[ir,sr]=reactExports.useState({}),[or,ar]=reactExports.useState({}),lr=(hr,dr)=>{rr(pr=>({...pr,[hr]:dr})),ir[hr]&&sr(pr=>{const mr={...pr};return delete mr[hr],mr})},cr=hr=>{ar(pr=>({...pr,[hr]:!0}));const dr=validateDiscordConfig({[hr]:nr[hr]});dr[hr]&&sr(pr=>({...pr,[hr]:dr[hr]}))},ur=()=>{const hr=validateDiscordConfig(nr);sr(hr);const dr=Object.keys(nr).reduce((pr,mr)=>(pr[mr]=!0,pr),{});ar(dr),Object.keys(hr).length===0&&tr(nr)};return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-4",children:[jsxRuntimeExports.jsx(AuthSection$1,{botToken:nr.botToken,applicationId:nr.applicationId,onChange:lr,onBlur:cr,errors:ir,touched:or}),jsxRuntimeExports.jsx(ServerSection,{defaultRole:nr.defaultRole,commandPrefix:nr.commandPrefix,onChange:lr,onBlur:cr,errors:ir,touched:or}),jsxRuntimeExports.jsx(ChannelsSection,{channels:nr.allowedChannels,onChange:lr,onBlur:cr,error:or.allowedChannels&&ir.allowedChannels}),jsxRuntimeExports.jsx(PermissionsSection,{permissions:nr.permissions,onChange:lr,onBlur:cr}),jsxRuntimeExports.jsx(ResponseSection,{responseMode:nr.responseMode,responseStyle:nr.responseStyle,onChange:lr,onBlur:cr,errors:ir,touched:or}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ur,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}function StyleSection$1({style:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"IMAGE STYLE"}),jsxRuntimeExports.jsxs("select",{value:er,onChange:rr=>s("style",rr.target.value),onBlur:()=>tr("style"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select style"}),jsxRuntimeExports.jsx("option",{children:"Realistic"}),jsxRuntimeExports.jsx("option",{children:"Artistic"}),jsxRuntimeExports.jsx("option",{children:"Cartoon"}),jsxRuntimeExports.jsx("option",{children:"Anime"}),jsxRuntimeExports.jsx("option",{children:"Abstract"})]}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}function InstructionsSection$1({instructions:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"GENERATION INSTRUCTIONS"}),jsxRuntimeExports.jsx("textarea",{value:er,onChange:rr=>s("instructions",rr.target.value),onBlur:()=>tr("instructions"),placeholder:"Describe how your AI should generate images...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Use natural language to describe the style, content, and constraints for image generation"}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}const validateImageConfig=er=>{var tr;const s={};return er.style||(s.style="Image style is required"),(tr=er.instructions)!=null&&tr.trim()?er.instructions.length<20&&(s.instructions="Instructions should be at least 20 characters"):s.instructions="Generation instructions are required",s};function ImageConfigForm({config:er,onCancel:s,onSave:tr}){const[nr,rr]=reactExports.useState(er||{style:"",instructions:""}),[ir,sr]=reactExports.useState({}),[or,ar]=reactExports.useState({}),lr=(hr,dr)=>{rr(pr=>({...pr,[hr]:dr})),ir[hr]&&sr(pr=>{const mr={...pr};return delete mr[hr],mr})},cr=hr=>{ar(pr=>({...pr,[hr]:!0}));const dr=validateImageConfig({[hr]:nr[hr]});dr[hr]&&sr(pr=>({...pr,[hr]:dr[hr]}))},ur=()=>{const hr=validateImageConfig(nr);sr(hr);const dr=Object.keys(nr).reduce((pr,mr)=>(pr[mr]=!0,pr),{});ar(dr),Object.keys(hr).length===0&&tr(nr)};return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-4",children:[jsxRuntimeExports.jsx(StyleSection$1,{style:nr.style,onChange:lr,onBlur:cr,error:or.style&&ir.style}),jsxRuntimeExports.jsx(InstructionsSection$1,{instructions:nr.instructions,onChange:lr,onBlur:cr,error:or.instructions&&ir.instructions}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ur,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}function StyleSection({style:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"VIDEO STYLE"}),jsxRuntimeExports.jsxs("select",{value:er,onChange:rr=>s("style",rr.target.value),onBlur:()=>tr("style"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select style"}),jsxRuntimeExports.jsx("option",{children:"Cinematic"}),jsxRuntimeExports.jsx("option",{children:"Vlog"}),jsxRuntimeExports.jsx("option",{children:"Animation"}),jsxRuntimeExports.jsx("option",{children:"Documentary"}),jsxRuntimeExports.jsx("option",{children:"Social Media"})]}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}function InstructionsSection({instructions:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"GENERATION INSTRUCTIONS"}),jsxRuntimeExports.jsx("textarea",{value:er,onChange:rr=>s("instructions",rr.target.value),onBlur:()=>tr("instructions"),placeholder:"Describe how your AI should generate videos...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Use natural language to describe the style, content, and constraints for video generation"}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}const validateVideoConfig=er=>{var tr;const s={};return er.style||(s.style="Video style is required"),(tr=er.instructions)!=null&&tr.trim()?er.instructions.length<30&&(s.instructions="Instructions should be at least 30 characters"):s.instructions="Generation instructions are required",s};function VideoConfigForm({config:er,onCancel:s,onSave:tr}){const[nr,rr]=reactExports.useState(er||{style:"",instructions:""}),[ir,sr]=reactExports.useState({}),[or,ar]=reactExports.useState({}),lr=(hr,dr)=>{rr(pr=>({...pr,[hr]:dr})),ir[hr]&&sr(pr=>{const mr={...pr};return delete mr[hr],mr})},cr=hr=>{ar(pr=>({...pr,[hr]:!0}));const dr=validateVideoConfig({[hr]:nr[hr]});dr[hr]&&sr(pr=>({...pr,[hr]:dr[hr]}))},ur=()=>{const hr=validateVideoConfig(nr);sr(hr);const dr=Object.keys(nr).reduce((pr,mr)=>(pr[mr]=!0,pr),{});ar(dr),Object.keys(hr).length===0&&tr(nr)};return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-4",children:[jsxRuntimeExports.jsx(StyleSection,{style:nr.style,onChange:lr,onBlur:cr,error:or.style&&ir.style}),jsxRuntimeExports.jsx(InstructionsSection,{instructions:nr.instructions,onChange:lr,onBlur:cr,error:or.instructions&&ir.instructions}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ur,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}const DEFAULT_VOICES=[{id:"pNInz6obpgDQGcFmaJgB",name:"Adam",gender:"male",description:"Friendly and engaging male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/adam_preview.mp3"},{id:"ErXwobaYiN019PkySvjV",name:"Antoni",gender:"male",description:"Deep and authoritative male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/antoni_preview.mp3"},{id:"VR6AewLTigWG4xSOukaG",name:"Arnold",gender:"male",description:"Strong and confident male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/arnold_preview.mp3"},{id:"yoZ06aMxZJJ28mfd3POQ",name:"Josh",gender:"male",description:"Young and energetic male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/josh_preview.mp3"},{id:"TxGEqnHWrfWFTfGW9XjX",name:"James",gender:"male",description:"Professional and clear male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/james_preview.mp3"},{id:"ODq5zmih8GrVes37Dizd",name:"Morgan",gender:"male",description:"Mature and sophisticated male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/morgan_preview.mp3"},{id:"ZQe5CZNOzWyzPSCn5a3c",name:"Thomas",gender:"male",description:"Articulate and precise male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/thomas_preview.mp3"},{id:"SOYHLrjzK2X1ezoPC6cr",name:"Marcus",gender:"male",description:"Confident and charismatic male voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/marcus_preview.mp3"},{id:"EXAVITQu4vr4xnSDxMaL",name:"Bella",gender:"female",description:"Warm and welcoming female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/bella_preview.mp3"},{id:"AZnzlk1XvdvUeBnXmlld",name:"Domi",gender:"female",description:"Energetic and youthful female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/domi_preview.mp3"},{id:"MF3mGyEYCl7XYWbV9V6O",name:"Elli",gender:"female",description:"Soft and gentle female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/elli_preview.mp3"},{id:"21m00Tcm4TlvDq8ikWAM",name:"Rachel",gender:"female",description:"Professional and articulate female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/rachel_preview.mp3"},{id:"jsCqWAovK2LkecY7zXl4",name:"Sarah",gender:"female",description:"Natural and conversational female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/sarah_preview.mp3"},{id:"2EiwWnXFnvU5JabPnv8n",name:"Grace",gender:"female",description:"Elegant and refined female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/grace_preview.mp3"},{id:"pMsXgVXv3BLzUgSXRplE",name:"Lily",gender:"female",description:"Sweet and cheerful female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/lily_preview.mp3"},{id:"zrHiDhphv9ZnVXBqCLjz",name:"Sofia",gender:"female",description:"Confident and expressive female voice",previewUrl:"https://vvaifu.s3.us-east-1.amazonaws.com/voice/previews/sofia_preview.mp3"}];function VoiceConfigForm({config:er,onCancel:s,onSave:tr}){const[nr,rr]=reactExports.useState(er||{customVoiceId:"",selectedVoice:"",voiceId:""});reactExports.useState({}),reactExports.useState({});const[ir,sr]=reactExports.useState(null),[or,ar]=reactExports.useState("all");reactExports.useEffect(()=>()=>{ir&&(ir.pause(),ir.currentTime=0)},[]);const lr=(dr,pr)=>{rr(dr==="voiceId"?mr=>({...mr,voiceId:pr,selectedVoice:pr}):mr=>({...mr,[dr]:pr}))},cr=dr=>{ir&&(ir.pause(),ir.currentTime=0),setTimeout(()=>{const pr=new Audio(dr);pr.addEventListener("ended",()=>sr(null)),sr(pr),pr.play()},100)},ur=()=>{tr(nr)},hr=DEFAULT_VOICES.filter(dr=>or==="all"||dr.gender===or);return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Custom Voice ID"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:nr.customVoiceId,onChange:dr=>lr("customVoiceId",dr.target.value),placeholder:"Enter ElevenLabs Voice ID",className:"flex-1 px-3 py-2 border rounded-lg"}),jsxRuntimeExports.jsx("button",{onClick:ur,className:"px-4 py-2 bg-red-500 text-white rounded-lg",children:"Save"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:["all","male","female"].map(dr=>jsxRuntimeExports.jsx("button",{onClick:pr=>{pr.preventDefault(),ar(dr)},className:`px-4 py-2 rounded-lg ${or===dr?"bg-red-500 text-white":"bg-gray-100 text-gray-700"}`,children:dr.charAt(0).toUpperCase()+dr.slice(1)},dr))}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Default Voices"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:hr.map(dr=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:dr.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:dr.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:pr=>{pr.preventDefault(),cr(dr.previewUrl)},className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:"▶"}),jsxRuntimeExports.jsx("button",{onClick:pr=>{pr.preventDefault(),lr("voiceId",dr.id)},className:`px-4 py-2 rounded-lg ${nr.voiceId===dr.id?"bg-green-500 text-white":"bg-gray-100 text-gray-700"}`,children:nr.voiceId===dr.id?"Selected":"Select"})]})]},dr.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:dr=>{dr.preventDefault(),ur()},className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}function AuthSection({botToken:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"BOT TOKEN"}),jsxRuntimeExports.jsx("input",{type:"text",value:er,onChange:rr=>s("botToken",rr.target.value),onBlur:()=>tr("botToken"),placeholder:"Enter your Telegram bot token",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}function ChatSection({chatMode:er,messageFrequency:s,onChange:tr,onBlur:nr,errors:rr,touched:ir}){return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"RANDOM MESSAGE FREQUENCY"}),jsxRuntimeExports.jsxs("select",{value:s,onChange:sr=>tr("messageFrequency",sr.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20",children:[jsxRuntimeExports.jsx("option",{children:"Low"}),jsxRuntimeExports.jsx("option",{children:"Medium"}),jsxRuntimeExports.jsx("option",{children:"High"})]})]})})}const validateTelegramConfig=er=>{var tr,nr;const s={};return(tr=er.botToken)!=null&&tr.trim()||(s.botToken="Bot token is required"),er.chatMode||(s.chatMode="Chat mode is required"),(nr=er.instructions)!=null&&nr.trim()&&er.instructions.length<20&&(s.instructions="Instructions should be at least 20 characters"),s};function TelegramConfigForm({config:er,onSave:s,onCancel:tr}){const[nr,rr]=reactExports.useState(er||{botToken:"",chatMode:"",messageFrequency:"Medium",responseStyle:"Casual",instructions:""}),[ir,sr]=reactExports.useState({}),[or,ar]=reactExports.useState({}),lr=(hr,dr)=>{rr(pr=>({...pr,[hr]:dr})),ir[hr]&&sr(pr=>{const mr={...pr};return delete mr[hr],mr})},cr=hr=>{ar(pr=>({...pr,[hr]:!0}));const dr=validateTelegramConfig({[hr]:nr[hr]});dr[hr]&&sr(pr=>({...pr,[hr]:dr[hr]}))},ur=hr=>{const dr=Object.keys(nr).reduce((pr,mr)=>(pr[mr]=!0,pr),{});ar(dr),s(nr)};return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-4",children:[jsxRuntimeExports.jsx(AuthSection,{botToken:nr.botToken,onChange:lr,onBlur:cr,error:or.botToken&&ir.botToken}),jsxRuntimeExports.jsx(ChatSection,{chatMode:nr.chatMode,messageFrequency:nr.messageFrequency,onChange:lr,onBlur:cr,errors:ir,touched:or}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:tr,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>ur(),className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}function LearningSection({learningStyle:er,personality:s,onChange:tr,onBlur:nr,errors:rr,touched:ir}){return jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"LEARNING STYLE"}),jsxRuntimeExports.jsxs("select",{value:er,onChange:sr=>tr("learningStyle",sr.target.value),onBlur:()=>nr("learningStyle"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.learningStyle&&rr.learningStyle?"border-red-500":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select style"}),jsxRuntimeExports.jsx("option",{children:"Adaptive"}),jsxRuntimeExports.jsx("option",{children:"Structured"}),jsxRuntimeExports.jsx("option",{children:"Reinforcement"}),jsxRuntimeExports.jsx("option",{children:"Hybrid"})]}),ir.learningStyle&&rr.learningStyle&&jsxRuntimeExports.jsx(FormError,{error:rr.learningStyle})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"PERSONALITY TYPE"}),jsxRuntimeExports.jsxs("select",{value:s,onChange:sr=>tr("personality",sr.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20",children:[jsxRuntimeExports.jsx("option",{children:"Balanced"}),jsxRuntimeExports.jsx("option",{children:"Analytical"}),jsxRuntimeExports.jsx("option",{children:"Creative"}),jsxRuntimeExports.jsx("option",{children:"Empathetic"})]})]})]})}function TrainingDataSection({trainingData:er,instructions:s,onChange:tr,onBlur:nr,errors:rr,touched:ir}){return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"TRAINING DATA"}),jsxRuntimeExports.jsx("textarea",{value:er,onChange:sr=>tr("trainingData",sr.target.value),onBlur:()=>nr("trainingData"),placeholder:"Enter sample conversations, behaviors, or knowledge...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.trainingData&&rr.trainingData?"border-red-500":"border-gray-300"}`}),ir.trainingData&&rr.trainingData&&jsxRuntimeExports.jsx(FormError,{error:rr.trainingData})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"TRAINING INSTRUCTIONS"}),jsxRuntimeExports.jsx("textarea",{value:s,onChange:sr=>tr("instructions",sr.target.value),onBlur:()=>nr("instructions"),placeholder:"Provide specific instructions for training...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir.instructions&&rr.instructions?"border-red-500":"border-gray-300"}`}),ir.instructions&&rr.instructions&&jsxRuntimeExports.jsx(FormError,{error:rr.instructions})]})]})}function SpecializationSection({specialization:er,onChange:s,onBlur:tr,error:nr}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"SPECIALIZATION"}),jsxRuntimeExports.jsxs("select",{value:er,onChange:rr=>s("specialization",rr.target.value),onBlur:()=>tr("specialization"),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${nr?"border-red-500":"border-gray-300"}`,children:[jsxRuntimeExports.jsx("option",{children:"General"}),jsxRuntimeExports.jsx("option",{children:"Customer Service"}),jsxRuntimeExports.jsx("option",{children:"Technical Support"}),jsxRuntimeExports.jsx("option",{children:"Content Creation"}),jsxRuntimeExports.jsx("option",{children:"Data Analysis"})]}),nr&&jsxRuntimeExports.jsx(FormError,{error:nr})]})}const validateTrainingConfig=er=>{var tr,nr;const s={};return er.learningStyle||(s.learningStyle="Learning style is required"),(tr=er.trainingData)!=null&&tr.trim()?er.trainingData.length<50&&(s.trainingData="Training data should be at least 50 characters"):s.trainingData="Training data is required",(nr=er.instructions)!=null&&nr.trim()&&er.instructions.length<20&&(s.instructions="Instructions should be at least 20 characters"),s};function TrainingConfigForm({config:er,onCancel:s,onSave:tr}){const[nr,rr]=reactExports.useState(er||{learningStyle:"",trainingData:"",personality:"Balanced",specialization:"General",instructions:""}),[ir,sr]=reactExports.useState({}),[or,ar]=reactExports.useState({}),lr=(hr,dr)=>{rr(pr=>({...pr,[hr]:dr})),ir[hr]&&sr(pr=>{const mr={...pr};return delete mr[hr],mr})},cr=hr=>{ar(pr=>({...pr,[hr]:!0}));const dr=validateTrainingConfig({[hr]:nr[hr]});dr[hr]&&sr(pr=>({...pr,[hr]:dr[hr]}))},ur=()=>{const hr=validateTrainingConfig(nr);sr(hr);const dr=Object.keys(nr).reduce((pr,mr)=>(pr[mr]=!0,pr),{});ar(dr),Object.keys(hr).length===0&&tr(nr)};return jsxRuntimeExports.jsxs("div",{className:"border-t p-4 space-y-4",children:[jsxRuntimeExports.jsx(LearningSection,{learningStyle:nr.learningStyle,personality:nr.personality,onChange:lr,onBlur:cr,errors:ir,touched:or}),jsxRuntimeExports.jsx(SpecializationSection,{specialization:nr.specialization,onChange:lr,onBlur:cr,error:or.specialization&&ir.specialization}),jsxRuntimeExports.jsx(TrainingDataSection,{trainingData:nr.trainingData,instructions:nr.instructions,onChange:lr,onBlur:cr,errors:ir,touched:or}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ur,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Save Configuration"})]})]})}const features=[{id:"twitter",name:"Twitter Integration",description:"Post, reply, and interact",icon:FaTwitter,price:"Unlock on your agents page after creation.",config:{apiKey:"",postFrequency:"Every 2 hours",interactionStyle:"Friendly",replyFrequency:"Medium",customRules:"",exampleTweets:""}},{id:"telegram",name:"Telegram Integration",description:"Interact on Telegram",icon:FaTelegram,price:"Unlock on your agents page after creation.",disabled:!1},{id:"voice",name:"Voice Generation",description:"Generate voice content",icon:FaMicrophone,price:"Unlock on your agents page after creation.",disabled:!1},{id:"training",name:"Agent Training",description:"Custom AI training",icon:FaBrain,price:"Unlock on your agents page after creation.",disabled:!1},{id:"discord",name:"Discord Integration",description:"Configure your AI agent's Discord presence",icon:FaDiscord,price:"Unlock on your agents page after creation.",disabled:!1},{id:"image",name:"Image Generation",description:"Create custom imagery",icon:FaImage,price:"Unlock on your agents page after creation.",disabled:!1},{id:"video",name:"Video Generation",description:"Create video content",icon:FaVideo,price:"Unlock on your agents page after creation.",disabled:!1}];function APIFeaturesForm({formData:er,onChange:s,onBlur:tr,errors:nr,touched:rr}){const[ir,sr]=reactExports.useState(null),[or,ar]=reactExports.useState(new Set),lr=(mr,xr)=>{s("configuration",{...er.configuration,[mr]:xr}),tr("configuration"),sr(null),ar(br=>new Set([...br,mr]))},cr=()=>{sr(null)},ur=(mr,xr)=>{xr.stopPropagation(),ar(br=>{const yr=new Set(br);return yr.delete(mr),yr}),s("configuration",{...er.configuration,[mr]:void 0})},hr=(mr,xr)=>{xr.target.closest(".feature-header")&&sr(ir===mr?null:mr)},dr=mr=>or.has(mr),pr=mr=>{var yr,gr;const br={twitter:TwitterConfigForm,discord:DiscordConfigForm,voice:VoiceConfigForm,image:ImageConfigForm,video:VideoConfigForm,telegram:TelegramConfigForm,training:TrainingConfigForm}[mr.id];return br?jsxRuntimeExports.jsx(br,{config:((yr=er.configuration)==null?void 0:yr[mr.id])||mr.config,onCancel:cr,onSave:Er=>lr(mr.id,Er),error:(gr=nr==null?void 0:nr.configuration)==null?void 0:gr[mr.id]}):null};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"AVAILABLE FEATURES"}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:features.map(mr=>{var xr,br;return jsxRuntimeExports.jsxs("div",{className:`border rounded-lg transition-colors ${mr.disabled?"bg-[#74706C] border-gray-400":dr(mr.id)?"bg-[#fffbef] border-[#E5D5C0]":rr!=null&&rr.configuration&&((xr=nr==null?void 0:nr.configuration)!=null&&xr[mr.id])?"border-red-500":"border-[#E5D5C0] cursor-pointer"}`,onClick:yr=>!mr.disabled&&hr(mr.id,yr),children:[jsxRuntimeExports.jsxs("div",{className:"feature-header p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${mr.disabled?"bg-[#74706C]":dr(mr.id)?"bg-[#fffbef]":""}`,children:jsxRuntimeExports.jsx(mr.icon,{className:`w-5 h-5 ${mr.disabled?"text-gray-400":dr(mr.id)?"text-red-500":"text-gray-600"}`})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:mr.name}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:mr.description})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-600",children:mr.price}),dr(mr.id)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center",children:jsxRuntimeExports.jsx(FaCheck,{className:"w-3 h-3 text-white"})}),jsxRuntimeExports.jsx("button",{onClick:yr=>ur(mr.id,yr),className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300 transition-colors",children:jsxRuntimeExports.jsx(FaTimes,{className:"w-3 h-3 text-gray-600"})})]})]})]}),(rr==null?void 0:rr.configuration)&&((br=nr==null?void 0:nr.configuration)==null?void 0:br[mr.id])&&jsxRuntimeExports.jsx("div",{className:"px-4 pb-2",children:jsxRuntimeExports.jsx(FormError,{error:"Please configure this feature correctly"})}),ir===mr.id&&!["twitter","telegram",,"voice"].includes(mr.id)&&jsxRuntimeExports.jsxs("div",{className:"border-t border-[#E5D5C0] relative",onClick:yr=>yr.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-10 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"text-white text-lg font-medium text-center",children:"Available January 2025 with native framework upgrade"})}),pr(mr)]}),ir===mr.id&&["twitter","telegram","voice"].includes(mr.id)&&jsxRuntimeExports.jsx("div",{className:"border-t border-[#E5D5C0]",onClick:yr=>yr.stopPropagation(),children:pr(mr)})]},mr.id)})})]})}const launchOptions=[{id:"normal",title:"Normal Launch",description:"Launch a new token for your agent"},{id:"existing",title:"Use Existing Token",description:"Must use deployer wallet. Try pasting contract several times if there's an error."},{id:"notoken",title:"No Token",description:"Launch your agent without a token. You can attach OR launch one later."},{id:"fair",title:"Fair Launch",description:"Your token will be launched randomly within a (2) hour time frame"},{id:"nft",title:"Use NFT",description:"Launch an agent for your NFT. Bring your NFT to life."}];function TechnicalForm({formData:er,onChange:s,onBlur:tr,errors:nr,touched:rr,user:ir,tokenInfo:sr,isEditing:or}){const[ar,lr]=reactExports.useState(sr&&sr!=null?sr.tokenAddress:null),[cr,ur]=reactExports.useState(sr&&sr!=null?sr.tokenInfo:null),[hr,dr]=reactExports.useState(sr&&sr!=null?sr:null),[pr,mr]=reactExports.useState(!1),xr=kr=>{s("solToSpend",kr.target.value),tr("solToSpend")},br=kr=>{s("launchOption",kr),tr("launchOption")},yr=kr=>{s("treasuryOption",kr),tr("treasuryOption")},gr=async kr=>{const Mr=kr.target.value.trim();if(lr(Mr),!Mr){ur(null),s("ticker",""),s("name",""),dr(null);return}if(/^[0-9a-zA-Z]{32,44}$/.test(Mr))try{mr(!0);const Cr=await Er(ir.solanaWalletAddress,Mr);if(("B1KrhWbacPi3tpjWqnsbjKQJEkp3RvWppGxNzUYBpump".toLowerCase()==Mr.toLowerCase()||"Hm7pL3rLJb3jWbungJW4iHw95uPuzMdQ94jwv3N9afFm".toLowerCase()==Mr.toLowerCase()||"2ivfh8z5aeazf3xz1cg5znrbxk8kbmvnix8agqlnkcfp".toLowerCase()==Mr.toLowerCase()||"ARMYZt71GXq4vw4mtDs5LnEp4ZgwWKEE2CdMU3WNnFEC".toLowerCase()==Mr.toLowerCase()||"9KXZdgDhsq4fEMWZECgUUXRtHiDHsNConPvLK9NKkrRG".toLowerCase()==Mr.toLowerCase())&&(Cr.isDeployer=!0),!Cr.isDeployer){y$1.error("You must be the token deployer"),ur(null),dr(null);return}ur(Cr.tokenInfo),dr(Cr),s("name",Cr.tokenInfo.name),s("ticker",Cr.tokenInfo.symbol),s("tokenData",Cr),y$1.success("Token verified successfully")}catch(Cr){console.error("Error:",Cr),y$1.error(Cr.message),ur(null),dr(null)}finally{mr(!1)}};async function Er(kr,Mr){var Cr,Dr,zr,Wr,Gr;try{const Kr=await fetch("https://jeni-5a2we4-fast-mainnet.helius-rpc.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"my-id",method:"getAsset",params:[Mr]})}).then(Or=>Or.json());if(!Kr.result)throw new Error("Token not found");let Lr=null,fr=!1;try{const Or=await axiosRequest$1("post","verify-pumpfun-token",{tokenAddress:Mr},localStorage.getItem("jwt"));Or.data.isPumpFunToken&&(fr=!0,Lr=Or.data.tokenInfo)}catch(Or){console.log("Not a PumpFun token:",Or)}const vr=fr?Kr.result.ownership.owner.toLowerCase()===kr.toString().toLowerCase()||Lr.creator.toLowerCase()===kr.toString().toLowerCase():Kr.result.ownership.owner.toLowerCase()===kr.toString().toLowerCase(),Tr=await(await fetch(`https://api.dexscreener.com/latest/dex/tokens/${Mr}`)).json(),Ar=(Cr=Tr==null?void 0:Tr.pairs)==null?void 0:Cr.find(Or=>Or.dexId==="raydium"&&Or.chainId==="solana"),jr={isDeployer:vr,tokenAddress:Mr,bondingCurveAddress:(Ar==null?void 0:Ar.pairAddress)||"",tokenInfo:{name:fr?Lr.name:Kr.result.content.metadata.name||(Ar==null?void 0:Ar.baseToken.name),symbol:fr?Lr.symbol:Kr.result.content.metadata.symbol||(Ar==null?void 0:Ar.baseToken.symbol)},poolData:{baseTokenAmount:((Dr=Ar==null?void 0:Ar.liquidity)==null?void 0:Dr.base)||"",quoteTokenAmount:((zr=Ar==null?void 0:Ar.liquidity)==null?void 0:zr.quote)||"",marketPrice:(Ar==null?void 0:Ar.priceUsd)||"",volume24h:((Wr=Ar==null?void 0:Ar.volume)==null?void 0:Wr.h24)||"",txns24h:((Gr=Ar==null?void 0:Ar.txns)==null?void 0:Gr.h24)||"",fdv:(Ar==null?void 0:Ar.fdv)||""}};return fr&&(jr.isPumpFunToken=!0,jr.pumpFunCreator=Lr.creator,jr.bondingCurveAddress=Lr.bonding_curve,jr.associatedBondingCurve=Lr.associated_bonding_curve,jr.pumpFunData=Lr),jr}catch(Kr){throw new Error(`Failed to verify token ownership: ${Kr.message}`)}}return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-sm",children:"3"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium",children:"Technical"})]}),or?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"LAUNCH OPTIONS"}),jsxRuntimeExports.jsx("div",{className:`divide-y divide-[#E5D5C0] ${rr.launchOption&&nr.launchOption?"border border-red-500 rounded-lg":""}`,children:launchOptions.map(kr=>jsxRuntimeExports.jsxs("label",{className:`flex items-start gap-3 p-4 cursor-pointer hover:bg-[#FDF8F3]/50 transition-colors ${er.launchOption===kr.id?"bg-[#FDF8F3]":""}`,onClick:()=>br(kr.id),children:[jsxRuntimeExports.jsx("input",{disabled:!!["fair","nft"].includes(kr.id),type:"radio",name:"launchOption",checked:er.launchOption===kr.id,onChange:()=>{},className:"mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-900",children:kr.title}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:kr.description})]})]},kr.id))}),er.launchOption==="existing"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 mt-4",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Token Address"}),jsxRuntimeExports.jsx("input",{type:"text",value:ar,onChange:gr,className:"w-full px-3 py-2 border rounded-lg bg-[#E9E3D9] focus:outline-none",placeholder:"Enter token address",disabled:pr}),pr?jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Verifying..."}):cr?jsxRuntimeExports.jsxs("div",{className:"text-sm text-green-600",children:["✓ Verified - ",cr.symbol]}):null,hr&&jsxRuntimeExports.jsxs("div",{className:"bg-[#FDF8F3] p-4 rounded-lg space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Price:"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["$",Number(hr.poolData.marketPrice).toFixed(6)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"Liquidity:"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:[Number(hr.poolData.baseTokenAmount).toFixed(2)," tokens"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-600",children:"24h Volume:"}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["$",Number(hr.poolData.volume24h).toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700",children:"TREASURY OPTIONS"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border cursor-pointer transition-colors ${er.treasuryOption==="treasury"?"bg-[#FDF8F3] border-[#E5D5C0]":"border-[#E5D5C0] hover:bg-[#FDF8F3]/50"}`,onClick:()=>yr("treasury"),children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"treasuryOption",checked:er.treasuryOption==="treasury",onChange:()=>{}}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Send 750 $VVAIFU to team treasury"})]}),jsxRuntimeExports.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border cursor-pointer transition-colors ${er.treasuryOption==="community"?"bg-[#FDF8F3] border-[#E5D5C0]":"border-[#E5D5C0] hover:bg-[#FDF8F3]/50"}`,onClick:()=>yr("community"),children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"treasuryOption",checked:er.treasuryOption==="community",onChange:()=>{}}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Send 0.5% to community wallet"})]})]}),rr.treasuryOption&&nr.treasuryOption&&jsxRuntimeExports.jsx(FormError,{error:nr.treasuryOption})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-medium text-gray-700",children:"SOL TO SPEND"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"0.30 SOL equates to about 1% of supply"}),jsxRuntimeExports.jsx("input",{type:"number",min:.01,step:.01,value:er.solToSpend,onChange:xr,className:`w-full px-3 py-2 border rounded-lg bg-[#E9E3D9] focus:outline-none focus:ring-2 focus:ring-red-500/20 ${rr.solToSpend&&nr.solToSpend?"border-red-500":"border-[#E5D5C0]"}`,onInvalid:kr=>kr.preventDefault()}),rr.solToSpend&&nr.solToSpend&&jsxRuntimeExports.jsx(FormError,{error:nr.solToSpend})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:"API & Features Configuration"}),jsxRuntimeExports.jsx(APIFeaturesForm,{formData:er,onChange:s,onBlur:tr,errors:nr,touched:rr})]})]})}function TextArea({label:er,helpText:s,value:tr,onChange:nr,onBlur:rr,error:ir,rows:sr=3,placeholder:or}){return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:er}),s&&jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500 mb-2",children:s}),jsxRuntimeExports.jsx("textarea",{value:tr||"",onChange:ar=>nr(ar.target.value),onBlur:rr,rows:sr,placeholder:or,className:`w-full px-3 py-2 bg-transparent border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20 ${ir?"border-red-500":"border-[#BEBAB4]"}`}),ir&&jsxRuntimeExports.jsx(FormError,{error:ir})]})}function PersonalityForm({formData:er,onChange:s,onBlur:tr,errors:nr,touched:rr}){return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center text-white text-sm",children:"4"}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-medium",children:"Personality"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(TextArea,{label:"DESCRIPTION",helpText:"Write a brief overview of your AI Agent.",value:er.description,onChange:ir=>s("description",ir),onBlur:()=>tr("description"),error:rr.description&&nr.description,rows:3,placeholder:"Enter a description of your AI Agent..."}),jsxRuntimeExports.jsx(TextArea,{label:"PERSONALITY",helpText:"Describe your AI Agent traits, behavior and demeanor.",value:er.personality,onChange:ir=>s("personality",ir),onBlur:()=>tr("personality"),error:rr.personality&&nr.personality,rows:2,placeholder:"Describe your AI Agent's personality traits..."}),jsxRuntimeExports.jsx(TextArea,{label:"FIRST MESSAGE",helpText:"Write the first message your AI Agent will send.",value:er.firstMessage,onChange:ir=>s("firstMessage",ir),onBlur:()=>tr("firstMessage"),error:rr.firstMessage&&nr.firstMessage,rows:3,placeholder:"Enter your AI Agent's first message..."}),jsxRuntimeExports.jsx(TextArea,{label:"LORE",helpText:"Write lore about your agent. Separate by ,'s",value:er.lore,onChange:ir=>s("lore",ir),onBlur:()=>tr("lore"),error:rr.lore&&nr.lore,rows:2,placeholder:"Enter background story and lore details..."}),jsxRuntimeExports.jsx(TextArea,{label:"STYLE",helpText:"Write your agent's response style. Separate by ,'s",value:er.style,onChange:ir=>s("style",ir),onBlur:()=>tr("style"),error:rr.style&&nr.style,rows:2,placeholder:"Enter communication style characteristics..."}),jsxRuntimeExports.jsx(TextArea,{label:"ADJECTIVES",helpText:"Give your agent some adjectives. Separate by ,'s",value:er.adjectives,onChange:ir=>s("adjectives",ir),onBlur:()=>tr("adjectives"),error:rr.adjectives&&nr.adjectives,rows:2,placeholder:"Enter descriptive adjectives..."}),jsxRuntimeExports.jsx(TextArea,{label:"KNOWLEDGE",helpText:"Give your agent some knowledge. Separate by ,'s",value:er.knowledge,onChange:ir=>s("knowledge",ir),onBlur:()=>tr("knowledge"),error:rr.knowledge&&nr.knowledge,rows:2,placeholder:"Enter areas of expertise and knowledge..."})]})]})}function FinalOptions({formData:er,onChange:s,onTwitterConnect:tr,isEditing:nr}){return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-start gap-3 p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-[#FDF8F3]/50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:er.nsfw,onChange:rr=>s("nsfw",rr.target.checked),className:"mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:"NSFW"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Check this if the AI Agent is Not Safe For Work."})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-start gap-3 p-4 border border-gray-200 rounded-lg cursor-pointer hover:bg-[#FDF8F3]/50",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:er.twitterEnabled,onChange:rr=>s("twitterEnabled",rr.target.checked),className:"mt-1"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-gray-900",children:"Connect Twitter (you still have to unlock twitter via burning)"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-500",children:"Allow this AI Agent to post automatically to Twitter."})]})]}),er.twitterEnabled&&jsxRuntimeExports.jsxs("div",{className:"pl-10 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Twitter Username"}),jsxRuntimeExports.jsx("input",{type:"text",value:er.screenName,onChange:rr=>s("screenName",rr.target.value),placeholder:"vvaifudotfun",className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500/20"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:tr,disabled:er.oauthToken,className:`flex items-center justify-center gap-2 w-full py-2 px-4 rounded-lg transition-colors ${er.oauthToken?"bg-green-100 text-green-700":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[jsxRuntimeExports.jsx(FaTwitter,{}),er.oauthToken?"✅ Twitter Connected":"Connect Twitter Account"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 py-8 px-4 border border-gray-200 rounded-lg bg-gray-50",children:[jsxRuntimeExports.jsx(FaLock,{className:"text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Please unlock on your agent's page under the features tab after creation."})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full py-4 bg-yellow-400 text-gray-900 rounded-lg font-medium hover:bg-yellow-500 transition-colors",children:nr?"Update":"Create"})]})}const VALIDATION_MESSAGES={REQUIRED:"This field is required",MIN_LENGTH:er=>`Must be at least ${er} characters`,MAX_LENGTH:er=>`Must be at most ${er} characters`,MIN_AGE:"Age must be at least 18",INVALID_IMAGE:"Please upload a valid image",TWITTER:{API_KEY:"Twitter API key is required",POST_FREQUENCY:"Post frequency is required",EXAMPLE_TWEETS:"Example tweets are required"},DISCORD:{BOT_TOKEN:"Discord bot token is required",APP_ID:"Application ID is required",CHANNELS:"At least one channel is required"},TELEGRAM:{BOT_TOKEN:"Telegram bot token is required",CHAT_MODE:"Chat mode is required"},VOICE:{VOICE_TYPE:"Voice type is required",LANGUAGE:"Language is required"},IMAGE:{STYLE:"Image style is required",INSTRUCTIONS:"Generation instructions are required"},VIDEO:{STYLE:"Video style is required",INSTRUCTIONS:"Generation instructions are required"},TRAINING:{STYLE:"Learning style is required",DATA:"Training data is required"}},validateBasicFields=er=>{var tr,nr,rr,ir,sr,or,ar,lr,cr;const s={};return er.framework||(s.framework=VALIDATION_MESSAGES.REQUIRED),(tr=er.name)!=null&&tr.trim()?er.name.length<2&&(s.name=VALIDATION_MESSAGES.MIN_LENGTH(2)):s.name=VALIDATION_MESSAGES.REQUIRED,(nr=er.ticker)!=null&&nr.trim()||(s.ticker=VALIDATION_MESSAGES.REQUIRED),er.age?Number(er.age)<18&&(s.age=VALIDATION_MESSAGES.MIN_AGE):s.age=VALIDATION_MESSAGES.REQUIRED,er.image||(s.image=VALIDATION_MESSAGES.INVALID_IMAGE),(rr=er.description)!=null&&rr.trim()||(s.description=VALIDATION_MESSAGES.REQUIRED),(ir=er.personality)!=null&&ir.trim()||(s.personality=VALIDATION_MESSAGES.REQUIRED),(sr=er.firstMessage)!=null&&sr.trim()||(s.firstMessage=VALIDATION_MESSAGES.REQUIRED),(or=er.lore)!=null&&or.trim()||(s.lore=VALIDATION_MESSAGES.REQUIRED),(ar=er.style)!=null&&ar.trim()||(s.style=VALIDATION_MESSAGES.REQUIRED),(lr=er.adjectives)!=null&&lr.trim()||(s.adjectives=VALIDATION_MESSAGES.REQUIRED),(cr=er.knowledge)!=null&&cr.trim()||(s.knowledge=VALIDATION_MESSAGES.REQUIRED),s},validateTwitterFeature=er=>{var tr,nr;const s={};return(tr=er.apiKey)!=null&&tr.trim()||(s.apiKey=VALIDATION_MESSAGES.TWITTER.API_KEY),er.postFrequency||(s.postFrequency=VALIDATION_MESSAGES.TWITTER.POST_FREQUENCY),(nr=er.exampleTweets)!=null&&nr.trim()||(s.exampleTweets=VALIDATION_MESSAGES.TWITTER.EXAMPLE_TWEETS),Object.keys(s).length>0?s:null},validateDiscordFeature=er=>{var tr,nr,rr;const s={};return(tr=er.botToken)!=null&&tr.trim()||(s.botToken=VALIDATION_MESSAGES.DISCORD.BOT_TOKEN),(nr=er.applicationId)!=null&&nr.trim()||(s.applicationId=VALIDATION_MESSAGES.DISCORD.APP_ID),(rr=er.allowedChannels)!=null&&rr.length||(s.allowedChannels=VALIDATION_MESSAGES.DISCORD.CHANNELS),Object.keys(s).length>0?s:null},validateTelegramFeature=er=>{var tr;const s={};return(tr=er.botToken)!=null&&tr.trim()||(s.botToken=VALIDATION_MESSAGES.TELEGRAM.BOT_TOKEN),er.chatMode||(s.chatMode=VALIDATION_MESSAGES.TELEGRAM.CHAT_MODE),Object.keys(s).length>0?s:null},validateVoiceFeature=er=>{const s={};return er.voiceType||(s.voiceType=VALIDATION_MESSAGES.VOICE.VOICE_TYPE),er.language||(s.language=VALIDATION_MESSAGES.VOICE.LANGUAGE),Object.keys(s).length>0?s:null},validateImageFeature=er=>{var tr;const s={};return er.style||(s.style=VALIDATION_MESSAGES.IMAGE.STYLE),(tr=er.instructions)!=null&&tr.trim()||(s.instructions=VALIDATION_MESSAGES.IMAGE.INSTRUCTIONS),Object.keys(s).length>0?s:null},validateVideoFeature=er=>{var tr;const s={};return er.style||(s.style=VALIDATION_MESSAGES.VIDEO.STYLE),(tr=er.instructions)!=null&&tr.trim()||(s.instructions=VALIDATION_MESSAGES.VIDEO.INSTRUCTIONS),Object.keys(s).length>0?s:null},validateTrainingFeature=er=>{var tr;const s={};return er.learningStyle||(s.learningStyle=VALIDATION_MESSAGES.TRAINING.STYLE),(tr=er.trainingData)!=null&&tr.trim()||(s.trainingData=VALIDATION_MESSAGES.TRAINING.DATA),Object.keys(s).length>0?s:null},validateForm=er=>{const s=validateBasicFields(er),tr=er.features||{},nr={twitter:validateTwitterFeature,discord:validateDiscordFeature,telegram:validateTelegramFeature,voice:validateVoiceFeature,image:validateImageFeature,video:validateVideoFeature,training:validateTrainingFeature};return Object.entries(tr).forEach(([rr,ir])=>{if(ir&&nr[rr]){const sr=nr[rr](ir);sr&&(s.features=s.features||{},s.features[rr]=sr)}}),s};function CreateAgent(){var Or,Nr;const er=useLocation(),s=useNavigate(),tr=(Or=er.state)==null?void 0:Or.isEditing,nr=(Nr=er.state)==null?void 0:Nr.agent;console.log("Is edting -> ",tr),console.log("editingAgent -> ",nr);const rr=useWallet(),ir=useSelector(wr=>wr.userData),sr=useSelector(wr=>wr.loggedIn),[or,ar]=reactExports.useState(!1),[lr,cr]=reactExports.useState({framework:"vvaifu",name:"",ticker:"",age:"",image:null,solToSpend:.29,launchOption:"existing",treasuryOption:"treasury",description:"",personality:"",firstMessage:"",lore:"",style:"",adjectives:"",knowledge:"",public:!0,nsfw:!1,connectTwitter:!1,configuration:{},useEliza:!1,useZerepy:!1,twitterEnabled:!1,oauthToken:"",oauthVerifier:"",screenName:""}),[ur,hr]=reactExports.useState({}),[dr,pr]=reactExports.useState({}),[mr,xr]=reactExports.useState(null),[br,yr]=reactExports.useState(!1),[gr,Er]=reactExports.useState(null),[kr,Mr]=reactExports.useState(!1),[Cr,Dr]=reactExports.useState(!1),[zr,Wr]=reactExports.useState(!1),[Gr,Kr]=reactExports.useState({}),Lr=wr=>{const Rr={address:wr.toLowerCase(),date:new Date().toISOString()};localStorage.setItem("whitelistData",JSON.stringify(Rr))},fr=wr=>{const Rr=localStorage.getItem("whitelistData");if(!Rr)return!1;const{address:Pr,date:Br}=JSON.parse(Rr),Ur=new Date(Br),qr=(new Date-Ur)/(1e3*60*60);return Pr===wr.toLowerCase()&&qr<48};reactExports.useEffect(()=>{tr&&nr&&cr(wr=>{var Rr,Pr,Br,Ur;return{...wr,...nr,image:nr.imageUrl,configuration:{twitter:{targets:nr.replyTargets||[],blockedTargets:nr.blockedTargets||[],customRules:((Pr=(Rr=nr.configuration)==null?void 0:Rr.twitter)==null?void 0:Pr.customRules)||"",exampleTweets:((Ur=(Br=nr.configuration)==null?void 0:Br.twitter)==null?void 0:Ur.exampleTweets)||""},voice:{voiceId:nr.elevenLabsVoiceId||"",selectedVoice:nr.elevenLabsVoiceId||"",customVoiceId:nr.elevenLabsVoiceId||""},telegram:{botToken:nr.telegramBotToken||""}}}})},[tr,nr]);const vr=async wr=>{var Pr;wr.preventDefault();let Rr;try{ar(!0),console.log("fORM DATA -> ",lr);const Br=lr.framework=="eliza",Ur=lr.framework=="zerepy",Jr=lr.treasuryOption=="community",qr=lr.launchOption=="existing",Zr=lr.launchOption=="notoken";if(!rr.connected){y$1.error("Please connect your wallet first."),ar(!1);return}let oo=localStorage.getItem("jwt");if(!oo)throw new Error("No authentication token found");if(ir.solanaWalletAddress)try{const po=new Connection("https://jeni-5a2we4-fast-mainnet.helius-rpc.com"),So=new PublicKey(ir.solanaWalletAddress),to=await po.getBalance(So),Ro=.01*10**9;if(to<Ro){y$1.error("Wallet balance must be greater than 0.01 SOL"),ar(!1);return}}catch{y$1.error("Invalid solana address"),ar(!1);return}const eo=new FormData;if(Object.keys(lr).forEach(po=>{po!=="image"&&lr[po]!==""&&lr[po]!==void 0&&(typeof lr[po]=="boolean"?eo.append(po,lr[po].toString()):typeof lr[po]=="object"&&lr[po]!==null?eo.append(po,JSON.stringify(lr[po])):eo.append(po,lr[po]))}),!eo.imageUrl&&!kr&&!lr.image){y$1.error("Please upload an image or select generate mode!"),ar(!1);return}if(!kr&&((Pr=lr.image)!=null&&Pr.file)&&eo.append("image",lr.image.file),eo.append("generateMode",kr),kr&&(Object.keys(Gr).forEach(po=>{eo.append(`imageGeneration[${po}]`,Gr[po])}),eo.delete("age"),eo.set("age",Gr.age)),!tr&&!Zr&&!Cr){if(qr){if(!mr){y$1.error("Please verify token ownership first."),ar(!1);return}Rr=mr,console.log("Token Data -> ",Rr),eo.append("useExistingToken","true"),mr.isPumpFunToken&&(eo.append("isPumpFunToken","true"),eo.append("pumpFunCreator",mr.pumpFunCreator),mr.associatedBondingCurve&&eo.append("associatedBondingCurve",mr.associatedBondingCurve))}else if(!br)try{zr?(Rr=await prepareLaunchToken(rr,lr,lr.image.file,Br,{twitterUnlocked:!1,twitterRepliesUnlocked:!1,twitterFrequencyUnlocked:!1,telegramUnlocked:!1,discordUnlocked:!1},Jr,Ur),eo.append("useFairLaunch","true"),eo.append("signedTransaction",Rr.signedTransaction),eo.append("nonceAccount",JSON.stringify(Rr.nonceAccount)),eo.append("mintKeypair",JSON.stringify(Rr.mintKeypair)),eo.append("metadata",JSON.stringify(Rr.metadata))):(console.log("formdata image -> ",lr.image),Rr=await launchToken(rr,lr,lr.image.file,Br,{twitterUnlocked:!1,twitterRepliesUnlocked:!1,twitterFrequencyUnlocked:!1,telegramUnlocked:!1,discordUnlocked:!1},Jr,Ur)),eo.append("useExistingToken","false"),eo.append("isPumpFunToken","false")}catch(po){console.error("Failed to launch token:",po),y$1.error("Failed to launch token. Please try again."),ar(!1);return}br?(eo.append("tokenAddress",gr.tokenAddress),eo.append("bondingCurveAddress",gr.bondingCurveAddress),qr||(eo.append("transactionHash",gr.transactionHash),gr.associatedBondingCurve&&eo.append("associatedBondingCurve",gr.associatedBondingCurve))):(eo.append("tokenAddress",Rr.tokenAddress||Rr.mintKeypair.publicKey),eo.append("bondingCurveAddress",Rr.bondingCurveAddress),qr||(zr||eo.append("transactionHash",Rr.transactionHash),Rr.associatedBondingCurve&&eo.append("associatedBondingCurve",Rr.associatedBondingCurve)))}Zr&&eo.append("useNoLaunch","true");let uo=["BCjWVcC1NqGvjrpAHoFhruEtJpP2z6svEX52NTJhws4w","F2rawoK8WhYMFgC8XHocaqyKYh13Xf8JBQowsGBBhLVA","7eLj5iLBpCTUw7ENVjmcswBkgFWBBDNL74JJkit8mqJT","34R39SG8j8HpAMde1jX9J6qvxzm9Pdp8t8DKD3PoGrdk","6Vb27d8dmGsB5u6uMKxJDGXfVP47Xa46wfmsfvDC2Q9n","2CzLjC7tTxcGEujNM3n8459DKWAQM5WrseGrWs8iJ8bX","EzGQ4UEpBRwQ6hm2vPmoXqpTVJMXVvaNHYeeEGyKqEMY","BjENJ3E6iXMNwXpYVUqAtXrLUXccSRCd87zYiLT3zr1X","5kcGGjnohUUTUTWhmQvgUtC5vfhMJPhN4Ce4wDJruqwy","4i7nXFri7aW7zRP1szrvFPpgro1jdavikonF4s9c2cwd","EgMjoyPTNsn6SF44VukdUeNAZEQyuFwPWVcw8sdDTDhn","8F6w2Xvn6eU1zUmXMaTLuq71qQfiumTf3fR6vL5LjP58","5tgmuMepE1aEzTHipPKPAxZwivdP5se89jJjNi6XxB1x","Ac5899AakidTknh3VYevceYabFuypZ2LRCFGdeSn1ydi","DHwe7eiq4Q5qjGzs322EZG6t8CoREiVnKieY7EyQaUhN"].map(po=>po.toLowerCase());if((Zr||Cr||qr)&&!uo.includes(ir.solanaWalletAddress.toLowerCase())&&!fr(ir.solanaWalletAddress)&&!tr&&!(await handleVVAIFUActions(rr)).signature){y$1.error("User rejected tx."),ar(!1);return}tr||eo.append("features",JSON.stringify({twitterUnlocked:!1,twitterRepliesUnlocked:!1,twitterFrequencyUnlocked:!1,discordUnlocked:!1,telegramUnlocked:!1}));const vo=tr?`solana/characters/${nr._id}`:"solana/create",go=tr?"put":"post";let xo;tr&&(xo=y$1.loading(`Waiting for ${tr?"update":"transaction"}...`));const To=await axiosRequest$1(go,vo,eo,oo,!0);To.data&&To.data.character?tr?(y$1.success(tr?"Character updated successfully!":"Character created successfully!"),ar(!1),y$1.dismiss(xo),s(`/character/${To.data.character._id}`)):setTimeout(()=>{y$1.success(tr?"Character updated successfully!":"Character created successfully!"),ar(!1),y$1.dismiss(xo),s(`/character/${To.data.character._id}`)},6250):(yr(!0),Er(Rr),ir.solanaWalletAddress&&Lr(ir.solanaWalletAddress),y$1.error('Creation failed. If you submitted a transaction, find the deployed token address and use "existing token" option!'),ar(!1))}catch(Br){console.error("Error in handleSubmit:",Br),yr(!0),Er(Rr),ir.solanaWalletAddress&&Lr(ir.solanaWalletAddress),y$1.error('Creation failed. If you submitted a transaction, find the deployed token address and use "existing token" option!'),ar(!1)}},$r=(wr,Rr)=>{console.log(`@ handle field change 
    ${wr}
    ${Rr}`),wr==="framework"?Ar(Rr):cr(Pr=>({...Pr,[wr]:Rr})),wr=="tokenData"&&xr(Rr),ur[wr]&&hr(Pr=>{const Br={...Pr};return delete Br[wr],Br})};reactExports.useEffect(()=>{console.log("Form Data -> ",lr)},[lr]);const Tr=wr=>{pr(Pr=>({...Pr,[wr]:!0}));const Rr=validateForm({...lr,[wr]:lr[wr]});Rr[wr]&&hr(Pr=>({...Pr,[wr]:Rr[wr]}))},Ar=wr=>{cr(Rr=>{const Pr={framework:wr};return wr==="eliza"&&(Pr.solToSpend=Math.max(1.5,Rr.solToSpend)),{...Rr,...Pr}})},jr=async wr=>{wr.preventDefault();try{const Rr={...lr,image:tr?lr.image:lr.image?{previewUrl:lr.image.previewUrl,file:{name:lr.image.file.name,type:lr.image.file.type,size:lr.image.file.size,lastModified:lr.image.file.lastModified}}:null,_isEditing:tr,_editingAgent:nr};localStorage.setItem("pendingAgentData",JSON.stringify(Rr)),mr&&localStorage.setItem("pendingTokenData",JSON.stringify(mr));const Pr=await axiosRequest$1("get","solana/oauth",null,localStorage.getItem("jwt"));Pr.data.authUrl&&(window.location.href=Pr.data.authUrl)}catch(Rr){console.error("Twitter connection error:",Rr),y$1.error("Failed to connect Twitter account. Please try again.")}};return reactExports.useEffect(()=>{const wr=new URLSearchParams(window.location.search),Rr=wr.get("oauth_token"),Pr=wr.get("oauth_verifier");if(Rr&&Pr){const Br=localStorage.getItem("pendingAgentData");if(Br){let Ur=JSON.parse(Br);s(er.pathname,{state:{isEditing:Ur._isEditing,agent:Ur._editingAgent},replace:!0});const Jr=localStorage.getItem("pendingTokenData");if(Jr){const Zr=JSON.parse(Jr);xr(Zr)}const qr=()=>{Ur.oauthToken=Rr,Ur.oauthVerifier=Pr,cr(Ur),localStorage.removeItem("pendingAgentData"),localStorage.removeItem("pendingTokenData"),y$1.success("Twitter account connected successfully!")};Ur._isEditing?(Ur.image=Ur.image,qr()):Ur.image&&Ur.image.previewUrl?fetch(Ur.image.previewUrl).then(Zr=>Zr.blob()).then(Zr=>{Ur.image={previewUrl:Ur.image.previewUrl,file:new File([Zr],Ur.image.file.name,{type:Ur.image.file.type,lastModified:Ur.image.file.lastModified})},qr()}).catch(Zr=>{console.error("Error restoring image:",Zr),qr()}):qr()}}},[er,s]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-vvaifu-bg relative",children:[!sr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 mt-[64px] flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg p-6 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-2",children:"Login Required"}),jsxRuntimeExports.jsx("p",{children:"Must be logged in to create an agent"})]})}),jsxRuntimeExports.jsxs("div",{style:{filter:sr?"none":"blur(4px)",pointerEvents:sr?"auto":"none"},className:"mt-[64px]",children:[jsxRuntimeExports.jsx(CreateAgentHeader,{isEditing:tr}),jsxRuntimeExports.jsx("div",{className:"max-w-3xl mx-auto p-8",children:jsxRuntimeExports.jsxs("form",{onSubmit:vr,className:"space-y-5",children:[jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-vvaifu-border p-6","data-error":ur.framework?"true":"false",children:tr?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{}):jsxRuntimeExports.jsx(FrameworkSelector,{selected:lr.framework,onChange:wr=>$r("framework",wr),onBlur:()=>Tr("framework"),error:dr.framework&&ur.framework})}),jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-vvaifu-border p-6","data-error":Object.keys(ur).some(wr=>["name","ticker","age","image"].includes(wr))?"true":"false",children:jsxRuntimeExports.jsx(AgentIdentityForm,{formData:lr,onChange:$r,onBlur:Tr,errors:ur,touched:dr,isEditing:tr})}),jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-vvaifu-border p-6","data-error":ur.configuration?"true":"false",children:jsxRuntimeExports.jsx(TechnicalForm,{formData:lr,onChange:$r,onBlur:Tr,errors:ur,touched:dr,user:ir,tokenInfo:mr,isEditing:tr})}),jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-vvaifu-border p-6","data-error":Object.keys(ur).some(wr=>["description","personality","firstMessage","lore","style","adjectives","knowledge"].includes(wr))?"true":"false",children:jsxRuntimeExports.jsx(PersonalityForm,{formData:lr,onChange:$r,onBlur:Tr,errors:ur,touched:dr,isEditing:tr})}),jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-xl border border-vvaifu-border p-6",children:jsxRuntimeExports.jsx(FinalOptions,{formData:lr,onChange:$r,isEditing:tr,onTwitterConnect:jr})})]})})]})]})}function PersonaCard({persona:er,onEdit:s}){return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl border border-vvaifu-border p-4 hover:shadow-md transition-shadow group relative",children:[jsxRuntimeExports.jsx("div",{className:"flex items-start gap-3",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:er.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mb-2",children:er.description}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500",children:["Gender: ",er.gender]})]})}),jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{className:"p-2 hover:bg-white/50 rounded-lg transition-colors",onClick:tr=>{tr.stopPropagation(),s(er)},children:jsxRuntimeExports.jsx(FaEdit,{className:"w-4 h-4 text-gray-400"})})})]})}function CreatePersonaModal({isOpen:er,onClose:s,onCreate:tr}){const[nr,rr]=reactExports.useState({name:"",description:"",gender:"male"}),[ir,sr]=reactExports.useState(!1),[or,ar]=reactExports.useState("");if(!er)return null;const lr=async cr=>{cr.preventDefault(),ar(""),sr(!0);try{await tr(nr),rr({name:"",description:"",gender:"male"})}catch(ur){ar(ur.message||"Failed to create persona")}finally{sr(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Create New Persona"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:ir,children:jsxRuntimeExports.jsx(FaTimesCircle,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:lr,className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:nr.name,onChange:cr=>rr(ur=>({...ur,name:cr.target.value})),placeholder:"Enter persona name",className:"w-full px-3 py-2 border border-vvaifu-border rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20",required:!0,disabled:ir})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{value:nr.description,onChange:cr=>rr(ur=>({...ur,description:cr.target.value})),placeholder:"Enter persona description",rows:3,className:"w-full px-3 py-2 border border-vvaifu-border rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20",required:!0,disabled:ir})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),jsxRuntimeExports.jsxs("select",{value:nr.gender,onChange:cr=>rr(ur=>({...ur,gender:cr.target.value})),className:"w-full px-3 py-2 border border-vvaifu-border rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20",disabled:ir,children:[jsxRuntimeExports.jsx("option",{value:"male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),or&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-sm",children:or}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-white/50 rounded-lg transition-colors disabled:opacity-50",disabled:ir,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-vvaifu-red text-white rounded-lg hover:bg-vvaifu-red/90 transition-colors disabled:opacity-50",disabled:ir,children:ir?"Creating...":"Create Persona"})]})]})]})})}function EditPersonaModal({isOpen:er,onClose:s,onSave:tr,persona:nr}){const[rr,ir]=reactExports.useState({name:"",description:"",gender:"male"}),[sr,or]=reactExports.useState(!1),[ar,lr]=reactExports.useState("");if(reactExports.useEffect(()=>{nr&&ir(nr)},[nr]),!er)return null;const cr=async ur=>{ur.preventDefault(),lr(""),or(!0);try{await tr(rr)}catch(hr){lr(hr.message||"Failed to update persona")}finally{or(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Edit Persona"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:sr,children:jsxRuntimeExports.jsx(FaTimesCircle,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:cr,className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:rr.name,onChange:ur=>ir(hr=>({...hr,name:ur.target.value})),placeholder:"Enter persona name",className:"w-full px-3 py-2 border border-vvaifu-border rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20",required:!0,disabled:sr})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{value:rr.description,onChange:ur=>ir(hr=>({...hr,description:ur.target.value})),placeholder:"Enter persona description",rows:3,className:"w-full px-3 py-2 border border-vvaifu-border rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20",required:!0,disabled:sr})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),jsxRuntimeExports.jsxs("select",{value:rr.gender,onChange:ur=>ir(hr=>({...hr,gender:ur.target.value})),className:"w-full px-3 py-2 border border-vvaifu-border rounded-lg focus:outline-none focus:ring-2 focus:ring-vvaifu-red/20",disabled:sr,children:[jsxRuntimeExports.jsx("option",{value:"male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"other",children:"Other"})]})]}),ar&&jsxRuntimeExports.jsx("div",{className:"text-red-500 text-sm",children:ar}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-white/50 rounded-lg transition-colors disabled:opacity-50",disabled:sr,children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 bg-vvaifu-red text-white rounded-lg hover:bg-vvaifu-red/90 transition-colors disabled:opacity-50",disabled:sr,children:sr?"Saving...":"Save Changes"})]})]})]})})}function usePersonas(){const er=useSelector(sr=>sr.userData),{profile:s,loading:tr,error:nr}=useProfile(er.username,!0),[rr,ir]=reactExports.useState([]);return reactExports.useEffect(()=>{s!=null&&s.personas&&ir(s.personas)},[s]),{personas:rr,setPersonas:ir,loading:tr,error:nr}}const createApi$2=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),updatePersonas=async(er,s=null)=>{try{return(await createApi$2(s).post("/personas/update",{personas:er})).data}catch(tr){throw console.error("Error updating personas:",tr),tr}};function Personas(){const[er,s]=reactExports.useState(!1),[tr,nr]=reactExports.useState(!1),[rr,ir]=reactExports.useState(null),{personas:sr,setPersonas:or,loading:ar,error:lr}=usePersonas(),cr=async dr=>{try{const pr=Date.now().toString(),mr=[...sr,{...dr,id:pr,default:!1}],xr=localStorage.getItem("jwt");await updatePersonas(mr,xr),or(mr),s(!1)}catch(pr){console.error("Failed to create persona:",pr)}},ur=dr=>{ir(dr),nr(!0)},hr=async dr=>{try{const pr=sr.map(xr=>xr.id===dr.id?dr:xr),mr=localStorage.getItem("jwt");await updatePersonas(pr,mr),or(pr),nr(!1),ir(null)}catch(pr){console.error("Failed to update persona:",pr)}};return ar?jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-8 w-48 bg-gray-200 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-64 bg-gray-200 rounded mb-8"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[...Array(4)].map((dr,pr)=>jsxRuntimeExports.jsx("div",{className:"h-48 bg-gray-200 rounded-xl"},pr))})]})}):lr?jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading personas"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:lr})]})}):jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Personas"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Create and manage your AI agent personas"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-vvaifu-red text-white rounded-lg hover:bg-vvaifu-red/90 transition-colors",children:[jsxRuntimeExports.jsx(FaPlus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"New Persona"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:sr.map(dr=>jsxRuntimeExports.jsx(PersonaCard,{persona:dr,onEdit:ur},dr.id))}),jsxRuntimeExports.jsx(CreatePersonaModal,{isOpen:er,onClose:()=>s(!1),onCreate:cr}),jsxRuntimeExports.jsx(EditPersonaModal,{isOpen:tr,onClose:()=>{nr(!1),ir(null)},onSave:hr,persona:rr})]})}function ChatCard({chat:er}){const s=useNavigate();return jsxRuntimeExports.jsxs("div",{onClick:()=>s(`/chat/${er.character._id}`),className:"bg-vvaifu-container border border-vvaifu-border rounded-xl p-4 flex items-start gap-4 cursor-pointer hover:shadow-sm transition-all",children:[jsxRuntimeExports.jsx("img",{src:er.avatar,alt:er.name,className:"w-12 h-12 rounded-full object-cover shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium text-gray-900 truncate",children:er.name}),er.messageCount>0&&jsxRuntimeExports.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-white leading-none",style:{marginTop:"2px"},children:er.messageCount})})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["Created: ",formatDateTime(er.createdAt)]})]}),jsxRuntimeExports.jsx("button",{onClick:tr=>{tr.stopPropagation()},className:"p-1 hover:bg-white/50 rounded-lg transition-colors shrink-0",children:jsxRuntimeExports.jsx(FaEllipsisH,{className:"w-4 h-4 text-gray-400"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-gray-600 line-clamp-2 break-words",children:er.lastMessage}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-500 truncate",children:["Last message: ",formatLastMessageTime(er.lastMessageAt)]})]})]})]})}function ChatList({chats:er,onChatClick:s}){return jsxRuntimeExports.jsx("div",{className:"space-y-4",children:er.map(tr=>jsxRuntimeExports.jsx(ChatCard,{chat:tr,onClick:()=>s(tr.id)},tr.id))})}function EmptyState({onExplore:er}){return jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(FaComments,{className:"w-8 h-8 text-red-500"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"No chats yet"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Start chatting with AI agents to see your conversations here"}),jsxRuntimeExports.jsx("button",{onClick:er,className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Explore Agents"})]})}function LoadingState$1(){return jsxRuntimeExports.jsx("div",{className:"space-y-4",children:[...Array(3)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container border border-vvaifu-border rounded-xl p-4 animate-pulse",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-48 bg-gray-200 rounded"})]})]})},s))})}const createApi$1=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:{"Content-Type":"application/json",...er&&{Authorization:`Bearer ${er}`}}}),getRecentChats=async(er=null)=>{try{const tr=await createApi$1(er).get("/chats");return JSON.parse(JSON.stringify(tr.data))}catch(s){throw s.response?new Error(s.response.data.message||"Failed to fetch chats"):new Error("Failed to connect to chat service")}},getChatMessages=async(er,s=null)=>{try{const nr=await createApi$1(s).get(`/chats/${er}/messages`);return JSON.parse(JSON.stringify(nr.data))}catch(tr){throw tr.response?new Error(tr.response.data.message||"Failed to fetch messages"):new Error("Failed to connect to chat service")}},sendMessage=async(er,s,tr=null)=>{try{const rr=await createApi$1(tr).post(`/chats/${er}/messages`,s);return JSON.parse(JSON.stringify(rr.data))}catch(nr){throw nr.response?new Error(nr.response.data.message||"Failed to send message"):new Error("Failed to connect to chat service")}},clearChat=async(er,s=null)=>{try{const nr=await createApi$1(s).post(`/chats/${er}/clear`);return JSON.parse(JSON.stringify(nr.data))}catch(tr){throw tr.response?new Error(tr.response.data.message||"Failed to clear chat"):new Error("Failed to connect to chat service")}};function useChats(){const[er,s]=reactExports.useState([]),[tr,nr]=reactExports.useState(!0),[rr,ir]=reactExports.useState(null);return reactExports.useEffect(()=>{let sr=!0;return(async()=>{try{const ar=localStorage.getItem("jwt");nr(!0);const lr=await getRecentChats(ar);sr&&s(Array.isArray(lr)?lr:[])}catch(ar){sr&&ir(ar.message||"Failed to load chats")}finally{sr&&nr(!1)}})(),()=>{sr=!1}},[]),{chats:er,loading:tr,error:rr,refresh:async()=>{nr(!0);try{const sr=await getRecentChats();s(Array.isArray(sr)?sr:[])}catch(sr){ir(sr.message||"Failed to load chats")}finally{nr(!1)}}}}function Chats(){const er=useNavigate(),{chats:s,loading:tr,error:nr}=useChats();return tr?jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recent Chats"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Continue your conversations with AI agents"})]}),jsxRuntimeExports.jsx(LoadingState$1,{})]}):nr?jsxRuntimeExports.jsx("div",{className:"p-8 max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading chats"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:nr})]})}):jsxRuntimeExports.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Recent Chats"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Continue your conversations with AI agents"})]}),s.length>0?jsxRuntimeExports.jsx(ChatList,{chats:s.map(rr=>{var ir;return{id:rr._id,name:rr.character.name,character:rr.character,avatar:rr.character.imageUrl,lastMessage:((ir=rr==null?void 0:rr.lastMessage)==null?void 0:ir.content)||"No Recent Message",messageCount:rr.messageCount,createdAt:new Date(rr.createdAt).toLocaleString(),lastMessageAt:new Date(rr.lastMessageAt).toLocaleString()}}),onChatClick:rr=>er(`/chat/${rr}`)}):jsxRuntimeExports.jsx(EmptyState,{onExplore:()=>er("/view/trending")})]})}function SafeChatDisclaimer(){return jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-full mt-2 z-20 w-[400px]",children:jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container rounded-lg shadow-xl overflow-hidden border border-vvaifu-border",children:jsxRuntimeExports.jsxs("div",{className:"p-4 flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"shrink-0 w-6 h-6 rounded-full bg-yellow-500/20 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-yellow-500",children:"!"})}),jsxRuntimeExports.jsx("p",{className:"text-red-500 font-mono text-sm leading-relaxed",children:"Remember: You're entering the realm of AI-driven, fictional roleplay, where every scenario unfolds with explicit consent. Treat this as a creative space, detached from reality. Engaging here means you commit to our safe chat rules and legal boundaries, avoiding any forbidden topics. Dive into your story, safely and imaginatively!"})]})})})}function ClearChatModal({isOpen:er,onClose:s,onConfirm:tr,isClearing:nr}){return er?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container rounded-xl w-full max-w-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-vvaifu-border",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Clear Chat History"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:nr,children:jsxRuntimeExports.jsx(FaTimesCircle,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to clear this chat history? This action cannot be undone."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:s,className:"px-4 py-2 text-gray-700 hover:bg-white/50 rounded-lg transition-colors disabled:opacity-50",disabled:nr,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:tr,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors disabled:opacity-50",disabled:nr,children:nr?"Clearing...":"Clear Chat"})]})]})]})}):null}function ChatHeader({character:er,onClearChat:s,isClearing:tr}){var ar;const nr=useNavigate(),[rr,ir]=reactExports.useState(!1),[sr,or]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"bg-vvaifu-container border-b border-vvaifu-border p-4 flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>nr("/chats"),className:"p-2 hover:bg-white/50 rounded-full transition-colors",children:jsxRuntimeExports.jsx(FaArrowLeft,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[jsxRuntimeExports.jsx("img",{src:er.imageUrl,alt:er.name,className:"w-10 h-10 rounded-full object-cover"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-gray-900 font-medium",children:er.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500",children:["Created by ",((ar=er.creator)==null?void 0:ar.username)||"unknown"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>or(!0),className:`text-gray-500 hover:text-red-500 transition-colors p-2 rounded-lg ${tr?"bg-transparent cursor-not-allowed":"hover:bg-white/50"}`,disabled:tr,children:tr?jsxRuntimeExports.jsx(FaSpinner,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(FaTrash,{className:"w-4 h-4"})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>ir(!rr),className:"text-yellow-600 text-sm hover:underline flex items-center gap-1",children:[jsxRuntimeExports.jsx(FaInfoCircle,{}),jsxRuntimeExports.jsx("span",{children:"Read our safe chat disclaimers▼"})]}),rr&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>ir(!1)}),jsxRuntimeExports.jsx(SafeChatDisclaimer,{})]})]})]}),jsxRuntimeExports.jsx(ClearChatModal,{isOpen:sr,onClose:()=>or(!1),onConfirm:()=>{s(),or(!1)},isClearing:tr})]})}const createApi=(er=null)=>axios.create({baseURL:"https://api.vvaifu.fun/api",headers:er?{Authorization:`Bearer ${er}`}:{}}),speakText=async(er,s=null)=>{var tr,nr;try{return(await createApi(s).post("/voices/speak",{text:er})).data}catch(rr){throw new Error(((nr=(tr=rr.response)==null?void 0:tr.data)==null?void 0:nr.message)||"Failed to generate speech")}};function ChatMessage({content:er,timestamp:s,senderType:tr,character:nr,isLatest:rr}){const[ir,sr]=reactExports.useState(!1),or=tr==="user",ar=async()=>{try{sr(!0);const lr=localStorage.getItem("jwt");await speakText(er,lr)}catch(lr){console.error("Failed to generate speech:",lr)}finally{sr(!1)}};return jsxRuntimeExports.jsxs("div",{className:`flex items-start gap-3 ${or?"flex-row-reverse":""}`,children:[!or&&jsxRuntimeExports.jsx("img",{src:nr.imageUrl,alt:nr.name,className:"w-8 h-8 rounded-full object-cover shrink-0"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 max-w-[400px]",children:jsxRuntimeExports.jsxs("div",{className:`flex flex-col ${or?"items-end":"items-start"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:`px-4 py-2 rounded-2xl ${or?"bg-red-500 text-white":"bg-vvaifu-container border border-vvaifu-border text-gray-900"} max-w-fit`,children:jsxRuntimeExports.jsx("div",{className:"text-sm whitespace-pre-wrap break-words",children:er})}),!or&&rr&&jsxRuntimeExports.jsx("button",{onClick:ar,disabled:ir,className:`p-1.5 text-gray-500 hover:text-gray-700 transition-colors ${ir?"animate-pulse":""}`,title:"Listen to message",children:jsxRuntimeExports.jsx(FaMicrophone,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 mt-1 px-1",children:formatDateTime(s)})]})})]})}function TypingIndicator({character:er}){const[s,tr]=reactExports.useState("");return reactExports.useEffect(()=>{const nr=setInterval(()=>{tr(rr=>rr.length>=3?"":rr+".")},500);return()=>clearInterval(nr)},[]),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("img",{src:er.imageUrl,alt:er.name,className:"w-8 h-8 rounded-full object-cover shrink-0"}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1",children:jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container border border-vvaifu-border text-gray-900 px-4 py-3 rounded-2xl flex items-center gap-1",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 bg-gray-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]})}function ChatMessages({messages:er,character:s,isTyping:tr}){const nr=reactExports.useRef(null),rr=()=>{var sr;(sr=nr.current)==null||sr.scrollIntoView({behavior:"smooth"})};reactExports.useEffect(()=>{rr()},[er,tr]);const ir=[...er].reverse().findIndex(sr=>sr.senderType!=="user");return jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[er.map((sr,or)=>jsxRuntimeExports.jsx(ChatMessage,{content:sr.content,timestamp:sr.timestamp,senderType:sr.senderType,character:s,isLatest:sr.senderType!=="user"&&er.length-1-or===ir},sr._id)),tr&&jsxRuntimeExports.jsx(TypingIndicator,{character:s}),jsxRuntimeExports.jsx("div",{ref:nr})]})}function ChatInput({onSendMessage:er}){var lr;const[s,tr]=reactExports.useState("");reactExports.useState(!1);const[nr,rr]=reactExports.useState("default"),ir=useSelector(cr=>cr.userData),{profile:sr}=useProfile(ir.username,!0),or=cr=>{var ur;if(cr.preventDefault(),s.trim()){const hr=nr==="default"?{name:"Default",description:"Default persona",gender:"female",id:"1",default:!0}:(ur=sr==null?void 0:sr.personas)==null?void 0:ur.find(dr=>dr.id===nr);er(s,hr),tr("")}},ar=cr=>{cr.key==="Enter"&&!cr.shiftKey&&(cr.preventDefault(),or(cr))};return jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container border-t border-vvaifu-border p-4",children:jsxRuntimeExports.jsx("form",{onSubmit:or,className:"flex items-end gap-2",children:jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("select",{value:nr,onChange:cr=>rr(cr.target.value),className:"bg-white text-gray-600 px-3 py-1 rounded text-sm border border-vvaifu-border",children:[jsxRuntimeExports.jsx("option",{value:"default",children:"Default Persona"}),(lr=sr==null?void 0:sr.personas)==null?void 0:lr.map(cr=>jsxRuntimeExports.jsx("option",{value:cr.id,children:cr.name},cr.id))]})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("textarea",{value:s,onChange:cr=>tr(cr.target.value),onKeyPress:ar,placeholder:"Type a message...",className:"w-full bg-white text-gray-900 rounded-lg pl-4 pr-12 py-3 resize-none focus:outline-none focus:ring-1 focus:ring-red-500 border border-vvaifu-border",rows:1}),jsxRuntimeExports.jsx("button",{type:"submit",className:"absolute right-2 bottom-4 p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:jsxRuntimeExports.jsx(FaPaperPlane,{className:"w-4 h-4"})})]})]})})})}function LoadingState(){return jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-vvaifu-bg",children:[jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container border-b border-vvaifu-border p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2",children:jsxRuntimeExports.jsx(FaArrowLeft,{className:"w-5 h-5 text-gray-300"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 animate-pulse"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded animate-pulse mb-1"}),jsxRuntimeExports.jsx("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-gray-300",children:[jsxRuntimeExports.jsx(FaInfoCircle,{}),jsxRuntimeExports.jsx("div",{className:"h-4 w-40 bg-gray-200 rounded animate-pulse"})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[...Array(5)].map((er,s)=>jsxRuntimeExports.jsx("div",{className:`flex items-start gap-2 ${s%2===0?"":"flex-row-reverse"}`,children:jsxRuntimeExports.jsxs("div",{className:`px-4 py-2 rounded-2xl ${s%2===0?"bg-vvaifu-container border border-vvaifu-border w-64":"bg-gray-200 w-48"} animate-pulse`,children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-200 rounded w-20 mt-2"})]})},s))}),jsxRuntimeExports.jsx("div",{className:"bg-vvaifu-container border-t border-vvaifu-border p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-lg bg-gray-200 animate-pulse",children:jsxRuntimeExports.jsx("div",{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-6 bg-gray-200 rounded animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"w-24 h-6 bg-gray-200 rounded animate-pulse"})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("div",{className:"w-full h-10 bg-gray-200 rounded-lg animate-pulse"})})]})]})})]})}function useChatMessages(er){const[s,tr]=reactExports.useState([]),[nr,rr]=reactExports.useState(!0),[ir,sr]=reactExports.useState(null);return reactExports.useEffect(()=>{let ar=!0;return er&&(async()=>{try{rr(!0);const cr=localStorage.getItem("jwt"),ur=await getChatMessages(er,cr);ar&&tr(Array.isArray(ur)?ur:[])}catch(cr){ar&&sr(cr.message||"Failed to load messages")}finally{ar&&rr(!1)}})(),()=>{ar=!1}},[er]),{messages:s,setMessages:tr,loading:nr,error:ir,addMessage:ar=>{tr(lr=>[...lr.filter(ur=>ur._id!==ar._id),ar])},refresh:async()=>{rr(!0);try{const ar=localStorage.getItem("jwt"),lr=await getChatMessages(er,ar);tr(Array.isArray(lr)?lr:[])}catch(ar){sr(ar.message||"Failed to load messages")}finally{rr(!1)}}}}function PrivateChat(){const{id:er}=useParams(),[s,tr]=reactExports.useState(!1),[nr,rr]=reactExports.useState(!1),{character:ir,loading:sr,error:or}=useCharacterDetails(er),{messages:ar,loading:lr,error:cr,addMessage:ur,setMessages:hr,refresh:dr}=useChatMessages(er),pr=async(xr,br)=>{var gr;const yr={_id:Date.now().toString(),content:xr,senderType:"user",timestamp:new Date().toISOString()};ur(yr);try{tr(!0);const Er={content:xr,description:"",lore:"",style:"",name:ir.name,knowledge:"",persona:br};let kr=((gr=ar[0])==null?void 0:gr.chatId)||er;const Mr=localStorage.getItem("jwt"),Cr=await sendMessage(kr,Er,Mr);Cr.aiMessage&&ur(Cr.aiMessage)}catch(Er){console.error("Failed to send message:",Er)}finally{tr(!1)}},mr=async()=>{var xr;try{rr(!0);const br=((xr=ar[0])==null?void 0:xr.chatId)||er,yr=localStorage.getItem("jwt"),gr=await clearChat(br,yr);gr.firstMessage?hr([gr.firstMessage]):hr([])}catch(br){console.error("Failed to clear chat:",br)}finally{rr(!1)}};return sr||lr?jsxRuntimeExports.jsx(LoadingState,{}):or||cr?jsxRuntimeExports.jsx("div",{className:"h-screen flex flex-col bg-vvaifu-bg items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-gray-900 mb-2",children:"Error loading chat"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:or||cr})]})}):jsxRuntimeExports.jsxs("div",{className:"h-screen flex flex-col bg-vvaifu-bg",children:[jsxRuntimeExports.jsx(ChatHeader,{character:ir,onClearChat:mr,isClearing:nr}),jsxRuntimeExports.jsx(ChatMessages,{messages:ar,character:ir,isTyping:s}),jsxRuntimeExports.jsx(ChatInput,{onSendMessage:pr})]})}function App(){const[er,s]=reactExports.useState(!1);return jsxRuntimeExports.jsxs(BrowserRouter,{children:[jsxRuntimeExports.jsx(ScrollToTop,{}),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-vvaifu-bg",children:[jsxRuntimeExports.jsx(Navbar,{onMenuClick:()=>s(!er)}),jsxRuntimeExports.jsxs("div",{className:"flex",children:[jsxRuntimeExports.jsx(Sidebar,{isOpen:er,onClose:()=>s(!1)}),jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/view/:type",element:jsxRuntimeExports.jsx(ViewAll,{})}),jsxRuntimeExports.jsx(Route,{path:"/view",element:jsxRuntimeExports.jsx(ViewAll,{})}),jsxRuntimeExports.jsx(Route,{path:"/favorites",element:jsxRuntimeExports.jsx(Following,{})}),jsxRuntimeExports.jsx(Route,{path:"/cto-requests",element:jsxRuntimeExports.jsx(CTORequests,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile",element:jsxRuntimeExports.jsx(Profile,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile/:username",element:jsxRuntimeExports.jsx(Profile,{})}),jsxRuntimeExports.jsx(Route,{path:"/character/:id",element:jsxRuntimeExports.jsx(CharacterDetails,{})}),jsxRuntimeExports.jsx(Route,{path:"/create",element:jsxRuntimeExports.jsx(CreateAgent,{})}),jsxRuntimeExports.jsx(Route,{path:"/personas",element:jsxRuntimeExports.jsx(Personas,{})}),jsxRuntimeExports.jsx(Route,{path:"/chats",element:jsxRuntimeExports.jsx(Chats,{})}),jsxRuntimeExports.jsx(Route,{path:"/chat/:id",element:jsxRuntimeExports.jsx(PrivateChat,{})})]})})]})]})]})}const initialState$1={userData:null,creators:[],rememberMe:{enabled:!1,email:void 0},loggedIn:!1,nsfw:!1},Reducer=(er=initialState$1,s)=>{switch(s.type){case"UPDATE_USER_DATA":return{...er,userData:s.data};case"UPDATE_CREATORS":return{...er,creators:s.data};case"UPDATE_LOGGED_IN":return{...er,loggedIn:s.data};case"UPDATE_REMEMBER_ME":return{...er,rememberMe:s.data};case"UPDATE_NSFW":return{...er,nsfw:s.data};default:return{...er}}};function formatProdErrorMessage(er){return`Minified Redux error #${er}; visit https://redux.js.org/Errors?code=${er} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject(er){if(typeof er!="object"||er===null)return!1;let s=er;for(;Object.getPrototypeOf(s)!==null;)s=Object.getPrototypeOf(s);return Object.getPrototypeOf(er)===s||Object.getPrototypeOf(er)===null}function createStore(er,s,tr){if(typeof er!="function")throw new Error(formatProdErrorMessage(2));if(typeof s=="function"&&typeof tr=="function"||typeof tr=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof s=="function"&&typeof tr>"u"&&(tr=s,s=void 0),typeof tr<"u"){if(typeof tr!="function")throw new Error(formatProdErrorMessage(1));return tr(createStore)(er,s)}let nr=er,rr=s,ir=new Map,sr=ir,or=0,ar=!1;function lr(){sr===ir&&(sr=new Map,ir.forEach((xr,br)=>{sr.set(br,xr)}))}function cr(){if(ar)throw new Error(formatProdErrorMessage(3));return rr}function ur(xr){if(typeof xr!="function")throw new Error(formatProdErrorMessage(4));if(ar)throw new Error(formatProdErrorMessage(5));let br=!0;lr();const yr=or++;return sr.set(yr,xr),function(){if(br){if(ar)throw new Error(formatProdErrorMessage(6));br=!1,lr(),sr.delete(yr),ir=null}}}function hr(xr){if(!isPlainObject(xr))throw new Error(formatProdErrorMessage(7));if(typeof xr.type>"u")throw new Error(formatProdErrorMessage(8));if(typeof xr.type!="string")throw new Error(formatProdErrorMessage(17));if(ar)throw new Error(formatProdErrorMessage(9));try{ar=!0,rr=nr(rr,xr)}finally{ar=!1}return(ir=sr).forEach(yr=>{yr()}),xr}function dr(xr){if(typeof xr!="function")throw new Error(formatProdErrorMessage(10));nr=xr,hr({type:actionTypes_default.REPLACE})}function pr(){const xr=ur;return{subscribe(br){if(typeof br!="object"||br===null)throw new Error(formatProdErrorMessage(11));function yr(){const Er=br;Er.next&&Er.next(cr())}return yr(),{unsubscribe:xr(yr)}},[symbol_observable_default](){return this}}}return hr({type:actionTypes_default.INIT}),{dispatch:hr,subscribe:ur,getState:cr,replaceReducer:dr,[symbol_observable_default]:pr}}var KEY_PREFIX="persist:",FLUSH="persist/FLUSH",REHYDRATE="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof$2(er){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(tr){return typeof tr}:_typeof$2=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof$2(er)}function ownKeys$2(er,s){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(er);s&&(nr=nr.filter(function(rr){return Object.getOwnPropertyDescriptor(er,rr).enumerable})),tr.push.apply(tr,nr)}return tr}function _objectSpread$2(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$2(tr,!0).forEach(function(nr){_defineProperty$3(er,nr,tr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$2(tr).forEach(function(nr){Object.defineProperty(er,nr,Object.getOwnPropertyDescriptor(tr,nr))})}return er}function _defineProperty$3(er,s,tr){return s in er?Object.defineProperty(er,s,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[s]=tr,er}function autoMergeLevel1(er,s,tr,nr){nr.debug;var rr=_objectSpread$2({},tr);return er&&_typeof$2(er)==="object"&&Object.keys(er).forEach(function(ir){ir!=="_persist"&&s[ir]===tr[ir]&&(rr[ir]=er[ir])}),rr}function createPersistoid(er){var s=er.blacklist||null,tr=er.whitelist||null,nr=er.transforms||[],rr=er.throttle||0,ir="".concat(er.keyPrefix!==void 0?er.keyPrefix:KEY_PREFIX).concat(er.key),sr=er.storage,or;er.serialize===!1?or=function(kr){return kr}:typeof er.serialize=="function"?or=er.serialize:or=defaultSerialize;var ar=er.writeFailHandler||null,lr={},cr={},ur=[],hr=null,dr=null,pr=function(kr){Object.keys(kr).forEach(function(Mr){br(Mr)&&lr[Mr]!==kr[Mr]&&ur.indexOf(Mr)===-1&&ur.push(Mr)}),Object.keys(lr).forEach(function(Mr){kr[Mr]===void 0&&br(Mr)&&ur.indexOf(Mr)===-1&&lr[Mr]!==void 0&&ur.push(Mr)}),hr===null&&(hr=setInterval(mr,rr)),lr=kr};function mr(){if(ur.length===0){hr&&clearInterval(hr),hr=null;return}var Er=ur.shift(),kr=nr.reduce(function(Mr,Cr){return Cr.in(Mr,Er,lr)},lr[Er]);if(kr!==void 0)try{cr[Er]=or(kr)}catch(Mr){console.error("redux-persist/createPersistoid: error serializing state",Mr)}else delete cr[Er];ur.length===0&&xr()}function xr(){Object.keys(cr).forEach(function(Er){lr[Er]===void 0&&delete cr[Er]}),dr=sr.setItem(ir,or(cr)).catch(yr)}function br(Er){return!(tr&&tr.indexOf(Er)===-1&&Er!=="_persist"||s&&s.indexOf(Er)!==-1)}function yr(Er){ar&&ar(Er)}var gr=function(){for(;ur.length!==0;)mr();return dr||Promise.resolve()};return{update:pr,flush:gr}}function defaultSerialize(er){return JSON.stringify(er)}function getStoredState(er){var s=er.transforms||[],tr="".concat(er.keyPrefix!==void 0?er.keyPrefix:KEY_PREFIX).concat(er.key),nr=er.storage;er.debug;var rr;return er.deserialize===!1?rr=function(sr){return sr}:typeof er.deserialize=="function"?rr=er.deserialize:rr=defaultDeserialize,nr.getItem(tr).then(function(ir){if(ir)try{var sr={},or=rr(ir);return Object.keys(or).forEach(function(ar){sr[ar]=s.reduceRight(function(lr,cr){return cr.out(lr,ar,or)},rr(or[ar]))}),sr}catch(ar){throw ar}else return})}function defaultDeserialize(er){return JSON.parse(er)}function purgeStoredState(er){var s=er.storage,tr="".concat(er.keyPrefix!==void 0?er.keyPrefix:KEY_PREFIX).concat(er.key);return s.removeItem(tr,warnIfRemoveError)}function warnIfRemoveError(er){}function ownKeys$1(er,s){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(er);s&&(nr=nr.filter(function(rr){return Object.getOwnPropertyDescriptor(er,rr).enumerable})),tr.push.apply(tr,nr)}return tr}function _objectSpread$1(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s]!=null?arguments[s]:{};s%2?ownKeys$1(tr,!0).forEach(function(nr){_defineProperty$2(er,nr,tr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys$1(tr).forEach(function(nr){Object.defineProperty(er,nr,Object.getOwnPropertyDescriptor(tr,nr))})}return er}function _defineProperty$2(er,s,tr){return s in er?Object.defineProperty(er,s,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[s]=tr,er}function _objectWithoutProperties(er,s){if(er==null)return{};var tr=_objectWithoutPropertiesLoose(er,s),nr,rr;if(Object.getOwnPropertySymbols){var ir=Object.getOwnPropertySymbols(er);for(rr=0;rr<ir.length;rr++)nr=ir[rr],!(s.indexOf(nr)>=0)&&Object.prototype.propertyIsEnumerable.call(er,nr)&&(tr[nr]=er[nr])}return tr}function _objectWithoutPropertiesLoose(er,s){if(er==null)return{};var tr={},nr=Object.keys(er),rr,ir;for(ir=0;ir<nr.length;ir++)rr=nr[ir],!(s.indexOf(rr)>=0)&&(tr[rr]=er[rr]);return tr}var DEFAULT_TIMEOUT=5e3;function persistReducer(er,s){var tr=er.version!==void 0?er.version:DEFAULT_VERSION;er.debug;var nr=er.stateReconciler===void 0?autoMergeLevel1:er.stateReconciler,rr=er.getStoredState||getStoredState,ir=er.timeout!==void 0?er.timeout:DEFAULT_TIMEOUT,sr=null,or=!1,ar=!0,lr=function(ur){return ur._persist.rehydrated&&sr&&!ar&&sr.update(ur),ur};return function(cr,ur){var hr=cr||{},dr=hr._persist,pr=_objectWithoutProperties(hr,["_persist"]),mr=pr;if(ur.type===PERSIST){var xr=!1,br=function(Dr,zr){xr||(ur.rehydrate(er.key,Dr,zr),xr=!0)};if(ir&&setTimeout(function(){!xr&&br(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(er.key,'"')))},ir),ar=!1,sr||(sr=createPersistoid(er)),dr)return _objectSpread$1({},s(mr,ur),{_persist:dr});if(typeof ur.rehydrate!="function"||typeof ur.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return ur.register(er.key),rr(er).then(function(Cr){var Dr=er.migrate||function(zr,Wr){return Promise.resolve(zr)};Dr(Cr,tr).then(function(zr){br(zr)},function(zr){br(void 0,zr)})},function(Cr){br(void 0,Cr)}),_objectSpread$1({},s(mr,ur),{_persist:{version:tr,rehydrated:!1}})}else{if(ur.type===PURGE)return or=!0,ur.result(purgeStoredState(er)),_objectSpread$1({},s(mr,ur),{_persist:dr});if(ur.type===FLUSH)return ur.result(sr&&sr.flush()),_objectSpread$1({},s(mr,ur),{_persist:dr});if(ur.type===PAUSE)ar=!0;else if(ur.type===REHYDRATE){if(or)return _objectSpread$1({},mr,{_persist:_objectSpread$1({},dr,{rehydrated:!0})});if(ur.key===er.key){var yr=s(mr,ur),gr=ur.payload,Er=nr!==!1&&gr!==void 0?nr(gr,cr,yr,er):yr,kr=_objectSpread$1({},Er,{_persist:_objectSpread$1({},dr,{rehydrated:!0})});return lr(kr)}}}if(!dr)return s(cr,ur);var Mr=s(mr,ur);return Mr===mr?cr:lr(_objectSpread$1({},Mr,{_persist:dr}))}}function _toConsumableArray(er){return _arrayWithoutHoles(er)||_iterableToArray(er)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(er){if(Symbol.iterator in Object(er)||Object.prototype.toString.call(er)==="[object Arguments]")return Array.from(er)}function _arrayWithoutHoles(er){if(Array.isArray(er)){for(var s=0,tr=new Array(er.length);s<er.length;s++)tr[s]=er[s];return tr}}function ownKeys(er,s){var tr=Object.keys(er);if(Object.getOwnPropertySymbols){var nr=Object.getOwnPropertySymbols(er);s&&(nr=nr.filter(function(rr){return Object.getOwnPropertyDescriptor(er,rr).enumerable})),tr.push.apply(tr,nr)}return tr}function _objectSpread(er){for(var s=1;s<arguments.length;s++){var tr=arguments[s]!=null?arguments[s]:{};s%2?ownKeys(tr,!0).forEach(function(nr){_defineProperty$1(er,nr,tr[nr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(tr)):ownKeys(tr).forEach(function(nr){Object.defineProperty(er,nr,Object.getOwnPropertyDescriptor(tr,nr))})}return er}function _defineProperty$1(er,s,tr){return s in er?Object.defineProperty(er,s,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[s]=tr,er}var initialState={registry:[],bootstrapped:!1},persistorReducer=function er(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState,tr=arguments.length>1?arguments[1]:void 0;switch(tr.type){case REGISTER:return _objectSpread({},s,{registry:[].concat(_toConsumableArray(s.registry),[tr.key])});case REHYDRATE:var nr=s.registry.indexOf(tr.key),rr=_toConsumableArray(s.registry);return rr.splice(nr,1),_objectSpread({},s,{registry:rr,bootstrapped:rr.length===0});default:return s}};function persistStore(er,s,tr){var nr=createStore(persistorReducer,initialState,void 0),rr=function(ar){nr.dispatch({type:REGISTER,key:ar})},ir=function(ar,lr,cr){var ur={type:REHYDRATE,payload:lr,err:cr,key:ar};er.dispatch(ur),nr.dispatch(ur)},sr=_objectSpread({},nr,{purge:function(){var ar=[];return er.dispatch({type:PURGE,result:function(cr){ar.push(cr)}}),Promise.all(ar)},flush:function(){var ar=[];return er.dispatch({type:FLUSH,result:function(cr){ar.push(cr)}}),Promise.all(ar)},pause:function(){er.dispatch({type:PAUSE})},persist:function(){er.dispatch({type:PERSIST,register:rr,rehydrate:ir})}});return sr.persist(),sr}var createWebStorage$1={},getStorage$1={};getStorage$1.__esModule=!0;getStorage$1.default=getStorage;function _typeof$1(er){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(tr){return typeof tr}:_typeof$1=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof$1(er)}function noop(){}var noopStorage={getItem:noop,setItem:noop,removeItem:noop};function hasStorage(er){if((typeof self>"u"?"undefined":_typeof$1(self))!=="object"||!(er in self))return!1;try{var s=self[er],tr="redux-persist ".concat(er," test");s.setItem(tr,"test"),s.getItem(tr),s.removeItem(tr)}catch{return!1}return!0}function getStorage(er){var s="".concat(er,"Storage");return hasStorage(s)?self[s]:noopStorage}createWebStorage$1.__esModule=!0;createWebStorage$1.default=createWebStorage;var _getStorage=_interopRequireDefault$1(getStorage$1);function _interopRequireDefault$1(er){return er.__esModule?er:{default:er}}function createWebStorage(er){var s=(0,_getStorage.default)(er);return{getItem:function(nr){return new Promise(function(rr,ir){rr(s.getItem(nr))})},setItem:function(nr,rr){return new Promise(function(ir,sr){ir(s.setItem(nr,rr))})},removeItem:function(nr){return new Promise(function(rr,ir){rr(s.removeItem(nr))})}}}var default_1=void 0,_createWebStorage=_interopRequireDefault(createWebStorage$1);function _interopRequireDefault(er){return er.__esModule?er:{default:er}}var _default=(0,_createWebStorage.default)("local");default_1=_default;const persistConfig={key:"root",storage:default_1},persistedReducer=persistReducer(persistConfig,Reducer),store=createStore(persistedReducer);let persistor=persistStore(store);function _typeof(er){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(tr){return typeof tr}:_typeof=function(tr){return tr&&typeof Symbol=="function"&&tr.constructor===Symbol&&tr!==Symbol.prototype?"symbol":typeof tr},_typeof(er)}function _classCallCheck(er,s){if(!(er instanceof s))throw new TypeError("Cannot call a class as a function")}function _defineProperties(er,s){for(var tr=0;tr<s.length;tr++){var nr=s[tr];nr.enumerable=nr.enumerable||!1,nr.configurable=!0,"value"in nr&&(nr.writable=!0),Object.defineProperty(er,nr.key,nr)}}function _createClass(er,s,tr){return _defineProperties(er.prototype,s),er}function _possibleConstructorReturn(er,s){return s&&(_typeof(s)==="object"||typeof s=="function")?s:_assertThisInitialized(er)}function _getPrototypeOf(er){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(tr){return tr.__proto__||Object.getPrototypeOf(tr)},_getPrototypeOf(er)}function _assertThisInitialized(er){if(er===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return er}function _inherits(er,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");er.prototype=Object.create(s&&s.prototype,{constructor:{value:er,writable:!0,configurable:!0}}),s&&_setPrototypeOf(er,s)}function _setPrototypeOf(er,s){return _setPrototypeOf=Object.setPrototypeOf||function(nr,rr){return nr.__proto__=rr,nr},_setPrototypeOf(er,s)}function _defineProperty(er,s,tr){return s in er?Object.defineProperty(er,s,{value:tr,enumerable:!0,configurable:!0,writable:!0}):er[s]=tr,er}var PersistGate=function(er){_inherits(s,er);function s(){var tr,nr;_classCallCheck(this,s);for(var rr=arguments.length,ir=new Array(rr),sr=0;sr<rr;sr++)ir[sr]=arguments[sr];return nr=_possibleConstructorReturn(this,(tr=_getPrototypeOf(s)).call.apply(tr,[this].concat(ir))),_defineProperty(_assertThisInitialized(nr),"state",{bootstrapped:!1}),_defineProperty(_assertThisInitialized(nr),"_unsubscribe",void 0),_defineProperty(_assertThisInitialized(nr),"handlePersistorState",function(){var or=nr.props.persistor,ar=or.getState(),lr=ar.bootstrapped;lr&&(nr.props.onBeforeLift?Promise.resolve(nr.props.onBeforeLift()).finally(function(){return nr.setState({bootstrapped:!0})}):nr.setState({bootstrapped:!0}),nr._unsubscribe&&nr._unsubscribe())}),nr}return _createClass(s,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),s}(reactExports.PureComponent);_defineProperty(PersistGate,"defaultProps",{children:null,loading:null});const scriptRel="modulepreload",assetsURL=function(er){return"/"+er},seen={},__vitePreload=function er(s,tr,nr){let rr=Promise.resolve();if(tr&&tr.length>0){document.getElementsByTagName("link");const sr=document.querySelector("meta[property=csp-nonce]"),or=(sr==null?void 0:sr.nonce)||(sr==null?void 0:sr.getAttribute("nonce"));rr=Promise.allSettled(tr.map(ar=>{if(ar=assetsURL(ar),ar in seen)return;seen[ar]=!0;const lr=ar.endsWith(".css"),cr=lr?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${ar}"]${cr}`))return;const ur=document.createElement("link");if(ur.rel=lr?"stylesheet":scriptRel,lr||(ur.as="script"),ur.crossOrigin="",ur.href=ar,or&&ur.setAttribute("nonce",or),document.head.appendChild(ur),lr)return new Promise((hr,dr)=>{ur.addEventListener("load",hr),ur.addEventListener("error",()=>dr(new Error(`Unable to preload CSS for ${ar}`)))})}))}function ir(sr){const or=new Event("vite:preloadError",{cancelable:!0});if(or.payload=sr,window.dispatchEvent(or),!or.defaultPrevented)throw sr}return rr.then(sr=>{for(const or of sr||[])or.status==="rejected"&&ir(or.reason);return s().catch(ir)})},PhantomWalletName="Phantom";class PhantomWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(s={}){super(),this.name=PhantomWalletName,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._disconnected=()=>{const tr=this._wallet;tr&&(tr.off("disconnect",this._disconnected),tr.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._accountChanged=tr=>{const nr=this._publicKey;if(nr){try{tr=new PublicKey(tr.toBytes())}catch(rr){this.emit("error",new WalletPublicKeyError(rr==null?void 0:rr.message,rr));return}nr.equals(tr)||(this._publicKey=tr,this.emit("connect",tr))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&(isIosAndRedirectable()?(this._readyState=WalletReadyState.Loadable,this.emit("readyStateChange",this._readyState)):scopePollingDetectionStrategy(()=>{var tr,nr,rr;return(nr=(tr=window.phantom)==null?void 0:tr.solana)!=null&&nr.isPhantom||(rr=window.solana)!=null&&rr.isPhantom?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===WalletReadyState.Installed&&await this.connect()}async connect(){var s;try{if(this.connected||this.connecting)return;if(this.readyState===WalletReadyState.Loadable){const rr=encodeURIComponent(window.location.href),ir=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${rr}?ref=${ir}`;return}if(this.readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;this._connecting=!0;const tr=((s=window.phantom)==null?void 0:s.solana)||window.solana;if(!tr.isConnected)try{await tr.connect()}catch(rr){throw new WalletConnectionError(rr==null?void 0:rr.message,rr)}if(!tr.publicKey)throw new WalletAccountError;let nr;try{nr=new PublicKey(tr.publicKey.toBytes())}catch(rr){throw new WalletPublicKeyError(rr==null?void 0:rr.message,rr)}tr.on("disconnect",this._disconnected),tr.on("accountChanged",this._accountChanged),this._wallet=tr,this._publicKey=nr,this.emit("connect",nr)}catch(tr){throw this.emit("error",tr),tr}finally{this._connecting=!1}}async disconnect(){const s=this._wallet;if(s){s.off("disconnect",this._disconnected),s.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await s.disconnect()}catch(tr){this.emit("error",new WalletDisconnectionError(tr==null?void 0:tr.message,tr))}}this.emit("disconnect")}async sendTransaction(s,tr,nr={}){try{const rr=this._wallet;if(!rr)throw new WalletNotConnectedError;try{const{signers:ir,...sr}=nr;isVersionedTransaction$1(s)?ir!=null&&ir.length&&s.sign(ir):(s=await this.prepareTransaction(s,tr,sr),ir!=null&&ir.length&&s.partialSign(...ir)),sr.preflightCommitment=sr.preflightCommitment||tr.commitment;const{signature:or}=await rr.signAndSendTransaction(s,sr);return or}catch(ir){throw ir instanceof WalletError?ir:new WalletSendTransactionError(ir==null?void 0:ir.message,ir)}}catch(rr){throw this.emit("error",rr),rr}}async signTransaction(s){try{const tr=this._wallet;if(!tr)throw new WalletNotConnectedError;try{return await tr.signTransaction(s)||s}catch(nr){throw new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}}async signAllTransactions(s){try{const tr=this._wallet;if(!tr)throw new WalletNotConnectedError;try{return await tr.signAllTransactions(s)||s}catch(nr){throw new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}}async signMessage(s){try{const tr=this._wallet;if(!tr)throw new WalletNotConnectedError;try{const{signature:nr}=await tr.signMessage(s);return nr}catch(nr){throw new WalletSignMessageError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}}}const icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var __classPrivateFieldGet=function(er,s,tr,nr){if(tr==="a"&&!nr)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?er!==s||!nr:!s.has(er))throw new TypeError("Cannot read private member from an object whose class did not declare it");return tr==="m"?nr:tr==="a"?nr.call(er):nr?nr.value:s.get(er)},__classPrivateFieldSet=function(er,s,tr,nr,rr){if(nr==="m")throw new TypeError("Private method is not writable");if(nr==="a"&&!rr)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?er!==s||!rr:!s.has(er))throw new TypeError("Cannot write private member to an object whose class did not declare it");return nr==="a"?rr.call(er,tr):rr?rr.value=tr:s.set(er,tr),tr},_SolflareMetaMaskWallet_instances,_SolflareMetaMaskWallet_listeners,_SolflareMetaMaskWallet_version,_SolflareMetaMaskWallet_name,_SolflareMetaMaskWallet_icon,_SolflareMetaMaskWallet_solflareMetaMask,_SolflareMetaMaskWallet_on,_SolflareMetaMaskWallet_emit,_SolflareMetaMaskWallet_off,_SolflareMetaMaskWallet_connect,_SolflareMetaMaskWallet_disconnect,_SolflareMetaMaskWallet_signAndSendTransaction,_SolflareMetaMaskWallet_signTransaction,_SolflareMetaMaskWallet_signMessage;class SolflareMetaMaskWallet{constructor(){_SolflareMetaMaskWallet_instances.add(this),_SolflareMetaMaskWallet_listeners.set(this,{}),_SolflareMetaMaskWallet_version.set(this,"1.0.0"),_SolflareMetaMaskWallet_name.set(this,"MetaMask"),_SolflareMetaMaskWallet_icon.set(this,icon),_SolflareMetaMaskWallet_solflareMetaMask.set(this,null),_SolflareMetaMaskWallet_on.set(this,(s,tr)=>{var nr;return(nr=__classPrivateFieldGet(this,_SolflareMetaMaskWallet_listeners,"f")[s])!=null&&nr.push(tr)||(__classPrivateFieldGet(this,_SolflareMetaMaskWallet_listeners,"f")[s]=[tr]),()=>__classPrivateFieldGet(this,_SolflareMetaMaskWallet_instances,"m",_SolflareMetaMaskWallet_off).call(this,s,tr)}),_SolflareMetaMaskWallet_connect.set(this,async()=>{if(!__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f")){let s;try{s=(await __vitePreload(async()=>{const{default:tr}=await import("./index-Bb6-BGWi.js");return{default:tr}},[])).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}__classPrivateFieldSet(this,_SolflareMetaMaskWallet_solflareMetaMask,new s,"f"),__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").on("standard_change",tr=>__classPrivateFieldGet(this,_SolflareMetaMaskWallet_instances,"m",_SolflareMetaMaskWallet_emit).call(this,"change",tr))}return this.accounts.length||await __classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").connect(),{accounts:this.accounts}}),_SolflareMetaMaskWallet_disconnect.set(this,async()=>{__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f")&&await __classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").disconnect()}),_SolflareMetaMaskWallet_signAndSendTransaction.set(this,async(...s)=>{if(!__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f"))throw new WalletNotConnectedError;return await __classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").standardSignAndSendTransaction(...s)}),_SolflareMetaMaskWallet_signTransaction.set(this,async(...s)=>{if(!__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f"))throw new WalletNotConnectedError;return await __classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").standardSignTransaction(...s)}),_SolflareMetaMaskWallet_signMessage.set(this,async(...s)=>{if(!__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f"))throw new WalletNotConnectedError;return await __classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").standardSignMessage(...s)})}get version(){return __classPrivateFieldGet(this,_SolflareMetaMaskWallet_version,"f")}get name(){return __classPrivateFieldGet(this,_SolflareMetaMaskWallet_name,"f")}get icon(){return __classPrivateFieldGet(this,_SolflareMetaMaskWallet_icon,"f")}get chains(){return[SOLANA_MAINNET_CHAIN,SOLANA_DEVNET_CHAIN,SOLANA_TESTNET_CHAIN]}get features(){return{[StandardConnect]:{version:"1.0.0",connect:__classPrivateFieldGet(this,_SolflareMetaMaskWallet_connect,"f")},[StandardDisconnect]:{version:"1.0.0",disconnect:__classPrivateFieldGet(this,_SolflareMetaMaskWallet_disconnect,"f")},[StandardEvents]:{version:"1.0.0",on:__classPrivateFieldGet(this,_SolflareMetaMaskWallet_on,"f")},[SolanaSignAndSendTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:__classPrivateFieldGet(this,_SolflareMetaMaskWallet_signAndSendTransaction,"f")},[SolanaSignTransaction]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:__classPrivateFieldGet(this,_SolflareMetaMaskWallet_signTransaction,"f")},[SolanaSignMessage]:{version:"1.0.0",signMessage:__classPrivateFieldGet(this,_SolflareMetaMaskWallet_signMessage,"f")}}}get accounts(){return __classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f")?__classPrivateFieldGet(this,_SolflareMetaMaskWallet_solflareMetaMask,"f").standardAccounts:[]}}_SolflareMetaMaskWallet_listeners=new WeakMap,_SolflareMetaMaskWallet_version=new WeakMap,_SolflareMetaMaskWallet_name=new WeakMap,_SolflareMetaMaskWallet_icon=new WeakMap,_SolflareMetaMaskWallet_solflareMetaMask=new WeakMap,_SolflareMetaMaskWallet_on=new WeakMap,_SolflareMetaMaskWallet_connect=new WeakMap,_SolflareMetaMaskWallet_disconnect=new WeakMap,_SolflareMetaMaskWallet_signAndSendTransaction=new WeakMap,_SolflareMetaMaskWallet_signTransaction=new WeakMap,_SolflareMetaMaskWallet_signMessage=new WeakMap,_SolflareMetaMaskWallet_instances=new WeakSet,_SolflareMetaMaskWallet_emit=function er(s,...tr){var nr;(nr=__classPrivateFieldGet(this,_SolflareMetaMaskWallet_listeners,"f")[s])==null||nr.forEach(rr=>rr.apply(null,tr))},_SolflareMetaMaskWallet_off=function er(s,tr){var nr;__classPrivateFieldGet(this,_SolflareMetaMaskWallet_listeners,"f")[s]=(nr=__classPrivateFieldGet(this,_SolflareMetaMaskWallet_listeners,"f")[s])==null?void 0:nr.filter(rr=>tr!==rr)};let registered=!1;function register(){registered||(registerWallet(new SolflareMetaMaskWallet),registered=!0)}async function detectAndRegisterSolflareMetaMaskWallet(){const er="solflare-detect-metamask";function s(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:er,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function tr(nr){var ir,sr;const rr=nr.data;(rr==null?void 0:rr.target)==="metamask-inpage"&&((ir=rr.data)==null?void 0:ir.name)==="metamask-provider"&&(((sr=rr.data.data)==null?void 0:sr.id)===er?(window.removeEventListener("message",tr),rr.data.data.error||register()):s())}window.addEventListener("message",tr),window.setTimeout(()=>window.removeEventListener("message",tr),5e3),s()}const SolflareWalletName="Solflare";class SolflareWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(s={}){super(),this.name=SolflareWalletName,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Loadable,this._disconnected=()=>{const tr=this._wallet;tr&&(tr.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._accountChanged=tr=>{if(!tr)return;const nr=this._publicKey;if(nr){try{tr=new PublicKey(tr.toBytes())}catch(rr){this.emit("error",new WalletPublicKeyError(rr==null?void 0:rr.message,rr));return}nr.equals(tr)||(this._publicKey=tr,this.emit("connect",tr))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=s,this._readyState!==WalletReadyState.Unsupported&&(scopePollingDetectionStrategy(()=>{var tr;return(tr=window.solflare)!=null&&tr.isSolflare||window.SolflareApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),detectAndRegisterSolflareMetaMaskWallet())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var s;return!!((s=this._wallet)!=null&&s.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===WalletReadyState.Loadable&&isIosAndRedirectable()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Loadable&&this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;if(this.readyState===WalletReadyState.Loadable&&isIosAndRedirectable()){const rr=encodeURIComponent(window.location.href),ir=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${rr}?ref=${ir}`;return}let s;try{s=(await __vitePreload(async()=>{const{default:rr}=await import("./index-BIh2-v0u.js");return{default:rr}},[])).default}catch(rr){throw new WalletLoadError(rr==null?void 0:rr.message,rr)}let tr;try{tr=new s({network:this._config.network})}catch(rr){throw new WalletConfigError(rr==null?void 0:rr.message,rr)}if(this._connecting=!0,!tr.connected)try{await tr.connect()}catch(rr){throw new WalletConnectionError(rr==null?void 0:rr.message,rr)}if(!tr.publicKey)throw new WalletConnectionError;let nr;try{nr=new PublicKey(tr.publicKey.toBytes())}catch(rr){throw new WalletPublicKeyError(rr==null?void 0:rr.message,rr)}tr.on("disconnect",this._disconnected),tr.on("accountChanged",this._accountChanged),this._wallet=tr,this._publicKey=nr,this.emit("connect",nr)}catch(s){throw this.emit("error",s),s}finally{this._connecting=!1}}async disconnect(){const s=this._wallet;if(s){s.off("disconnect",this._disconnected),s.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await s.disconnect()}catch(tr){this.emit("error",new WalletDisconnectionError(tr==null?void 0:tr.message,tr))}}this.emit("disconnect")}async sendTransaction(s,tr,nr={}){try{const rr=this._wallet;if(!rr)throw new WalletNotConnectedError;try{const{signers:ir,...sr}=nr;return isVersionedTransaction$1(s)?ir!=null&&ir.length&&s.sign(ir):(s=await this.prepareTransaction(s,tr,sr),ir!=null&&ir.length&&s.partialSign(...ir)),sr.preflightCommitment=sr.preflightCommitment||tr.commitment,await rr.signAndSendTransaction(s,sr)}catch(ir){throw ir instanceof WalletError?ir:new WalletSendTransactionError(ir==null?void 0:ir.message,ir)}}catch(rr){throw this.emit("error",rr),rr}}async signTransaction(s){try{const tr=this._wallet;if(!tr)throw new WalletNotConnectedError;try{return await tr.signTransaction(s)||s}catch(nr){throw new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}}async signAllTransactions(s){try{const tr=this._wallet;if(!tr)throw new WalletNotConnectedError;try{return await tr.signAllTransactions(s)||s}catch(nr){throw new WalletSignTransactionError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}}async signMessage(s){try{const tr=this._wallet;if(!tr)throw new WalletNotConnectedError;try{return await tr.signMessage(s,"utf8")}catch(nr){throw new WalletSignMessageError(nr==null?void 0:nr.message,nr)}}catch(tr){throw this.emit("error",tr),tr}}}const AppWithWallet=()=>{const er=WalletAdapterNetwork.Devnet,s=reactExports.useMemo(()=>clusterApiUrl(er),[er]),tr=reactExports.useMemo(()=>[new PhantomWalletAdapter,new SolflareWalletAdapter],[er]);return jsxRuntimeExports.jsx(ConnectionProvider,{endpoint:s,children:jsxRuntimeExports.jsx(WalletProvider,{wallets:tr,autoConnect:!0,children:jsxRuntimeExports.jsx(WalletModalProvider,{children:jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsxs(PersistGate,{loading:null,persistor,children:[jsxRuntimeExports.jsx(Lt$1,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,theme:"dark"}),jsxRuntimeExports.jsx(App,{})]})})})})})};createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(AppWithWallet,{})}));export{PublicKey as P,SolanaSignAndSendTransaction as S,Transaction as T,VersionedTransaction as V,SolanaSignTransaction as a,base58 as b,SolanaSignMessage as c,getDefaultExportFromCjs$2 as g};
